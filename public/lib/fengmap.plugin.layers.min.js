/**Released Version v3.1.7,BUILD 62,Time 1719469149447. Fengmap Javascript SDK , see: https://www.fengmap.com for details**/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("fs")):"function"==typeof define&&define.amd?define(["fs"],t):"object"==typeof exports?exports.fengmap=t(require("fs")):e.fengmap=t(e.fs)}(this,function(n){return r=[function(e,t,n){var r;!function(){"use strict";void 0!==(r="function"==typeof(r=function(){"use strict";var r=function(){},p="undefined",t=typeof window!==p&&typeof window.navigator!==p&&/Trident\/|MSIE /.test(window.navigator.userAgent),f=["trace","debug","info","warn","error"],d={},y=null;function n(t,e){var n=t[e];if(typeof n.bind==="function")return n.bind(t);else try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function i(){if(console.log)if(console.log.apply)console.log.apply(console,arguments);else Function.prototype.apply.apply(console.log,[console,arguments]);if(console.trace)console.trace()}function o(e){if(e==="debug")e="log";if(typeof console===p)return false;else if(e==="trace"&&t)return i;else if(console[e]!==undefined)return n(console,e);else if(console.log!==undefined)return n(console,"log");else return r}function v(){var e=this.getLevel();for(var t=0;t<f.length;t++){var n=f[t];this[n]=t<e?r:this.methodFactory(n,e,this.name)}this.log=this.debug;if(typeof console===p&&e<this.levels.SILENT)return"No console available for logging"}function a(e){return function(){if(typeof console!==p){v.call(this);this[e].apply(this,arguments)}}}function m(e,t,n){return o(e)||a.apply(this,arguments)}function s(e,t){var i=this;var n;var r;var o;var a="loglevel";if(typeof e==="string")a+=":"+e;else if(typeof e==="symbol")a=undefined;function s(e){var t=(f[e]||"silent").toUpperCase();if(typeof window===p||!a)return;try{window.localStorage[a]=t;return}catch(e){}try{window.document.cookie=encodeURIComponent(a)+"="+t+";"}catch(e){}}function u(){var e;if(typeof window===p||!a)return;try{e=window.localStorage[a]}catch(e){}if(typeof e===p)try{var t=window.document.cookie;var n=encodeURIComponent(a);var r=t.indexOf(n+"=");if(r!==-1)e=/^([^;]+)/.exec(t.slice(r+n.length+1))[1]}catch(e){}if(i.levels[e]===undefined)e=undefined;return e}function l(){if(typeof window===p||!a)return;try{window.localStorage.removeItem(a)}catch(e){}try{window.document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}function c(e){var t=e;if(typeof t==="string"&&i.levels[t.toUpperCase()]!==undefined)t=i.levels[t.toUpperCase()];if(typeof t==="number"&&t>=0&&t<=i.levels.SILENT)return t;else throw new TypeError("log.setLevel() called with invalid level: "+e)}i.name=e;i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5};i.methodFactory=t||m;i.getLevel=function(){if(o!=null)return o;else if(r!=null)return r;else return n};i.setLevel=function(e,t){o=c(e);if(t!==false)s(o);return v.call(i)};i.setDefaultLevel=function(e){r=c(e);if(!u())i.setLevel(e,false)};i.resetLevel=function(){o=null;l();v.call(i)};i.enableAll=function(e){i.setLevel(i.levels.TRACE,e)};i.disableAll=function(e){i.setLevel(i.levels.SILENT,e)};i.rebuild=function(){if(y!==i)n=c(y.getLevel());v.call(i);if(y===i)for(var e in d)d[e].rebuild()};n=c(y?y.getLevel():"WARN");var h=u();if(h!=null)o=c(h);v.call(i)}(y=new s).getLogger=function e(t){if(typeof t!=="symbol"&&typeof t!=="string"||t==="")throw new TypeError("You must supply a name when creating a logger.");var n=d[t];if(!n)n=d[t]=new s(t,y.methodFactory);return n};var e=typeof window!==p?window.log:undefined;return y.noConflict=function(){if(typeof window!==p&&window.log===y)window.log=e;return y},y.getLoggers=function e(){return d},y["default"]=y})?r.call(t,n,t,e):r)&&(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(2),r={document:"undefined"!=typeof document?document:{},window:"undefined"!=typeof window?window:{},environment:t.a.BROWSER,XMLHttpRequest:"undefined"!=typeof XMLHttpRequest?XMLHttpRequest:{}}},function(e,t,n){"use strict";var r={BROWSER:0,WX:1};Object.freeze(r),t.a=r},function(e,t){e.exports=n},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";!function(a){var s=n(2),u=n(1);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==i(e)?e:String(e)}(r.key),r)}}var c=null,e=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,r,i;function o(){return i.apply(this,arguments)}return t=e,n=null,r=[{key:"global",value:(i=function(){if("undefined"!=typeof self&&null!==self&&0!==Object.keys(self).length)return self;if("undefined"!=typeof window&&null!==window&&0!==Object.keys(window).length)return window;if(null!=a&&0!==Object.keys(a).length)return a;var e;if("undefined"!=typeof my)return c||(e=my.getAppIdSync(),c={location:{host:e.appId+".hybrid.alipay-eco.com"}}),c;if(u.a.environment==s.a.WX)return{};throw new Error("unable to locate global object")},o.toString=function(){return i.toString()},o)}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.a=e}.call(this,n(4))},function(e,hn,pn){"use strict";!function(j){function N(e){if(null==this)throw TypeError();var t,n=String(this),r=n.length,e=e?Number(e):0;if(!((e=e!=e?0:e)<0||r<=e))return 55296<=(t=n.charCodeAt(e))&&t<=56319&&e+1<r&&56320<=(r=n.charCodeAt(e+1))&&r<=57343?1024*(t-55296)+r-56320+65536:t}String.prototype.codePointAt||((j0=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}())?j0(String.prototype,"codePointAt",{value:N,configurable:!0,writable:!0}):String.prototype.codePointAt=N);var F=0,U=-3;function B(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function z(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new B,this.dtree=new B}var G=new B,H=new B,V=new Uint8Array(30),W=new Uint16Array(30),q=new Uint8Array(30),Y=new Uint16Array(30),X=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Z=new B,g=new Uint8Array(320);function K(e,t,n,r){for(var i,o=0;o<n;++o)e[o]=0;for(o=0;o<30-n;++o)e[o+n]=o/n|0;for(i=r,o=0;o<30;++o)t[o]=i,i+=1<<e[o]}var Q=new Uint16Array(16);function J(e,t,n,r){for(var i,o=0;o<16;++o)e.table[o]=0;for(o=0;o<r;++o)e.table[t[n+o]]++;for(o=i=e.table[0]=0;o<16;++o)Q[o]=i,i+=e.table[o];for(o=0;o<r;++o)t[n+o]&&(e.trans[Q[t[n+o]]++]=o)}function b(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function $(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;for(var n=0,r=0,i=0,o=e.tag;r=2*r+(1&o),o>>>=1,n+=t.table[++i],0<=(r-=t.table[i]););return e.tag=o,e.bitcount-=i,t.trans[n+r]}function ee(e,t,n){for(;;){var r=$(e,t);if(256===r)return F;if(r<256)e.dest[e.destLen++]=r;else for(var i,o=b(e,V[r-=257],W[r]),r=$(e,n),a=i=e.destLen-b(e,q[r],Y[r]);a<i+o;++a)e.dest[e.destLen++]=e.dest[a]}}for(var e=G,te=H,t=0;t<7;++t)e.table[t]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,t=0;t<24;++t)e.trans[t]=256+t;for(t=0;t<144;++t)e.trans[24+t]=t;for(t=0;t<8;++t)e.trans[168+t]=280+t;for(t=0;t<112;++t)e.trans[176+t]=144+t;for(t=0;t<5;++t)te.table[t]=0;for(te.table[5]=32,t=0;t<32;++t)te.trans[t]=t;K(V,W,4,3),K(q,Y,2,1),V[28]=0,W[28]=258;var ne=function(e,t){var n,r,i,o=new z(e,t);do{switch(i=void 0,(r=o).bitcount--||(r.tag=r.source[r.sourceIndex++],r.bitcount=7),i=1&r.tag,r.tag>>>=1,r=i,b(o,2,0)){case 0:n=function(e){for(var t,n;8<e.bitcount;)e.sourceIndex--,e.bitcount-=8;if((t=256*e.source[e.sourceIndex+1]+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return U;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,F}(o);break;case 1:n=ee(o,G,H);break;case 2:v=y=d=m=a=f=p=h=c=l=u=s=void 0;for(var a,s=o,u=o.ltree,l=o.dtree,c=b(s,5,257),h=b(s,5,1),p=b(s,4,4),f=0;f<19;++f)g[f]=0;for(f=0;f<p;++f){var d=b(s,3,0);g[X[f]]=d}for(J(Z,g,0,19),a=0;a<c+h;){var y=$(s,Z);switch(y){case 16:for(var v=g[a-1],m=b(s,2,3);m;--m)g[a++]=v;break;case 17:for(m=b(s,3,3);m;--m)g[a++]=0;break;case 18:for(m=b(s,7,11);m;--m)g[a++]=0;break;default:g[a++]=y}}J(u,g,0,c),J(l,g,c,h),n=ee(o,o.ltree,o.dtree);break;default:n=U}if(n!==F)throw new Error("Data error")}while(!r);return o.destLen<o.dest.length?"function"==typeof o.dest.slice?o.dest.slice(0,o.destLen):o.dest.subarray(0,o.destLen):o.dest};function re(e,t,n,r,i){return Math.pow(1-i,3)*e+3*Math.pow(1-i,2)*i*t+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function s(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function p(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ie(e){throw new Error(e)}function oe(e,t){e||ie(t)}s.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},s.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2)&&(this.x2=e),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2)&&(this.y2=t)},s.prototype.addX=function(e){this.addPoint(e,null)},s.prototype.addY=function(e){this.addPoint(null,e)},s.prototype.addBezier=function(e,t,n,r,i,o,a,s){var u=[e,t],l=[n,r],c=[i,o],h=[a,s];this.addPoint(e,t),this.addPoint(a,s);for(var p=0;p<=1;p++){var f,d=6*u[p]-12*l[p]+6*c[p],y=-3*u[p]+9*l[p]-9*c[p]+3*h[p],v=3*l[p]-3*u[p];0==y?0!=d&&(0<(f=-v/d)&&f<1&&(0===p&&this.addX(re(u[p],l[p],c[p],h[p],f)),1===p))&&this.addY(re(u[p],l[p],c[p],h[p],f)):(f=Math.pow(d,2)-4*v*y)<0||(0<(v=(-d+Math.sqrt(f))/(2*y))&&v<1&&(0===p&&this.addX(re(u[p],l[p],c[p],h[p],v)),1===p)&&this.addY(re(u[p],l[p],c[p],h[p],v)),0<(v=(-d-Math.sqrt(f))/(2*y))&&v<1&&(0===p&&this.addX(re(u[p],l[p],c[p],h[p],v)),1===p)&&this.addY(re(u[p],l[p],c[p],h[p],v)))}},s.prototype.addQuad=function(e,t,n,r,i,o){n=e+2/3*(n-e),r=t+2/3*(r-t);this.addBezier(e,t,n,r,n+1/3*(i-e),r+1/3*(o-t),i,o)},p.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},p.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},p.prototype.curveTo=p.prototype.bezierCurveTo=function(e,t,n,r,i,o){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:r,x:i,y:o})},p.prototype.quadTo=p.prototype.quadraticCurveTo=function(e,t,n,r){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:r})},p.prototype.close=p.prototype.closePath=function(){this.commands.push({type:"Z"})},p.prototype.extend=function(e){var t;if(e.commands)e=e.commands;else if(e instanceof s)return t=e,this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close();Array.prototype.push.apply(this.commands,e)},p.prototype.getBoundingBox=function(){for(var e=new s,t=0,n=0,r=0,i=0,o=0;o<this.commands.length;o++){var a=this.commands[o];switch(a.type){case"M":e.addPoint(a.x,a.y),t=r=a.x,n=i=a.y;break;case"L":e.addPoint(a.x,a.y),r=a.x,i=a.y;break;case"Q":e.addQuad(r,i,a.x1,a.y1,a.x,a.y),r=a.x,i=a.y;break;case"C":e.addBezier(r,i,a.x1,a.y1,a.x2,a.y2,a.x,a.y),r=a.x,i=a.y;break;case"Z":r=t,i=n;break;default:throw new Error("Unexpected path command "+a.type)}}return e.isEmpty()&&e.addPoint(0,0),e},p.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},p.prototype.toPathData=function(i){function e(){for(var e=arguments,t="",n=0;n<arguments.length;n+=1){var r=e[n];0<=r&&0<n&&(t+=" "),t+=(r=r,Math.round(r)===r?""+Math.round(r):r.toFixed(i))}return t}i=void 0!==i?i:2;for(var t="",n=0;n<this.commands.length;n+=1){var r=this.commands[n];"M"===r.type?t+="M"+e(r.x,r.y):"L"===r.type?t+="L"+e(r.x,r.y):"C"===r.type?t+="C"+e(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?t+="Q"+e(r.x1,r.y1,r.x,r.y):"Z"===r.type&&(t+="Z")}return t},p.prototype.toSVG=function(e){var t=(t='<path d="')+this.toPathData(e)+'"';return this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},p.prototype.toDOMElement=function(e){var e=this.toPathData(e),t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",e),t};var L={fail:ie,argument:oe,assert:oe},ae=2147483648,se={},S={},u={};function n(e){return function(){return e}}S.BYTE=function(e){return L.argument(0<=e&&e<=255,"Byte value should be between 0 and 255."),[e]},u.BYTE=n(1),S.CHAR=function(e){return[e.charCodeAt(0)]},u.CHAR=n(1),S.CHARARRAY=function(e){void 0===e&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t},u.CHARARRAY=function(e){return void 0===e?0:e.length},S.USHORT=function(e){return[e>>8&255,255&e]},u.USHORT=n(2),S.SHORT=function(e){return[(e=32768<=e?-(65536-e):e)>>8&255,255&e]},u.SHORT=n(2),S.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},u.UINT24=n(3),S.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},u.ULONG=n(4),S.LONG=function(e){return[(e=ae<=e?-(2*ae-e):e)>>24&255,e>>16&255,e>>8&255,255&e]},u.LONG=n(4),S.FIXED=S.ULONG,u.FIXED=u.ULONG,S.FWORD=S.SHORT,u.FWORD=u.SHORT,S.UFWORD=S.USHORT,u.UFWORD=u.USHORT,S.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},u.LONGDATETIME=n(8),S.TAG=function(e){return L.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},u.TAG=n(4),S.Card8=S.BYTE,u.Card8=u.BYTE,S.Card16=S.USHORT,u.Card16=u.USHORT,S.OffSize=S.BYTE,u.OffSize=u.BYTE,S.SID=S.USHORT,u.SID=u.USHORT,S.NUMBER=function(e){return-107<=e&&e<=107?[e+139]:108<=e&&e<=1131?[247+((e-=108)>>8),255&e]:-1131<=e&&e<=-108?[251+((e=-e-108)>>8),255&e]:-32768<=e&&e<=32767?S.NUMBER16(e):S.NUMBER32(e)},u.NUMBER=function(e){return S.NUMBER(e).length},S.NUMBER16=function(e){return[28,e>>8&255,255&e]},u.NUMBER16=n(3),S.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},u.NUMBER32=n(5),S.REAL=function(e){for(var t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t),r=(n&&(n=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length)),t=(Math.round(e*n)/n).toString()),""),i=0,o=t.length;i<o;i+=1){var a=t[i];r+="e"===a?"-"===t[++i]?"c":"b":"."===a?"a":"-"===a?"e":a}for(var s=[30],u=0,l=(r+=1&r.length?"f":"ff").length;u<l;u+=2)s.push(parseInt(r.substr(u,2),16));return s},u.REAL=function(e){return S.REAL(e).length},S.NAME=S.CHARARRAY,u.NAME=u.CHARARRAY,S.STRING=S.CHARARRAY,u.STRING=u.CHARARRAY,se.UTF8=function(e,t,n){for(var r=[],i=n,o=0;o<i;o++,t+=1)r[o]=e.getUint8(t);return String.fromCharCode.apply(null,r)},se.UTF16=function(e,t,n){for(var r=[],i=n/2,o=0;o<i;o++,t+=2)r[o]=e.getUint16(t);return String.fromCharCode.apply(null,r)},S.UTF16=function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t[t.length]=r>>8&255,t[t.length]=255&r}return t},u.UTF16=function(e){return 2*e.length};var ue,le={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"},ce=(se.MACSTRING=function(e,t,n,r){var i=le[r];if(void 0!==i){for(var o="",a=0;a<n;a++){var s=e.getUint8(t+a);o+=s<=127?String.fromCharCode(s):i[127&s]}return o}},"function"==typeof WeakMap&&new WeakMap);function he(e){return-128<=e&&e<=127}S.MACSTRING=function(e,t){var n=function(e){if(!ue)for(var t in ue={},le)ue[t]=new String(t);var n=ue[e];if(void 0!==n){if(ce){var r=ce.get(n);if(void 0!==r)return r}var i=le[e];if(void 0!==i){for(var o={},a=0;a<i.length;a++)o[i.charCodeAt(a)]=a+128;return ce&&ce.set(n,o),o}}}(t);if(void 0!==n){for(var r=[],i=0;i<e.length;i++){var o=e.charCodeAt(i);if(128<=o&&void 0===(o=n[o]))return;r[i]=o}return r}},u.MACSTRING=function(e,t){e=S.MACSTRING(e,t);return void 0!==e?e.length:0},S.VARDELTAS=function(e){for(var t=0,n=[];t<e.length;)var r=e[t],t=(0===r?function(e,t,n){for(var r=0,i=e.length;t<i&&r<64&&0===e[t];)++t,++r;return n.push(128|r-1),t}:-128<=r&&r<=127?function(e,t,n){for(var r=0,i=e.length,o=t;o<i&&r<64;){var a=e[o];if(!he(a))break;if(0===a&&o+1<i&&0===e[o+1])break;++o,++r}n.push(r-1);for(var s=t;s<o;++s)n.push(e[s]+256&255);return o}:function(e,t,n){for(var r=0,i=e.length,o=t;o<i&&r<64;){var a=e[o];if(0===a)break;if(he(a)&&o+1<i&&he(e[o+1]))break;++o,++r}n.push(64|r-1);for(var s=t;s<o;++s){var u=e[s];n.push(u+65536>>8&255,u+256&255)}return o})(e,t,n);return n},S.INDEX=function(e){for(var t=1,n=[t],r=[],i=0;i<e.length;i+=1){var o=S.OBJECT(e[i]);Array.prototype.push.apply(r,o),t+=o.length,n.push(t)}if(0===r.length)return[0,0];for(var a=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,u=[void 0,S.BYTE,S.USHORT,S.UINT24,S.ULONG][s],l=0;l<n.length;l+=1){var c=u(n[l]);Array.prototype.push.apply(a,c)}return Array.prototype.concat(S.Card16(e.length),S.OffSize(s),a,r)},u.INDEX=function(e){return S.INDEX(e).length},S.DICT=function(e){for(var t=[],n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=parseInt(n[i],0),a=e[o];t=(t=t.concat(S.OPERAND(a.value,a.type))).concat(S.OPERATOR(o))}return t},u.DICT=function(e){return S.DICT(e).length},S.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},S.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)L.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(S.OPERAND(e[r],t[r]));else if("SID"===t)n=n.concat(S.NUMBER(e));else if("offset"===t)n=n.concat(S.NUMBER32(e));else if("number"===t)n=n.concat(S.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);n=n.concat(S.REAL(e))}return n},S.OP=S.BYTE,u.OP=u.BYTE;var pe="function"==typeof WeakMap&&new WeakMap;function i(e,t,n){if(t.length&&("coverageFormat"!==t[0].name||1===t[0].value))for(var r=0;r<t.length;r+=1){var i=t[r];this[i.name]=i.value}if(this.tableName=e,this.fields=t,n)for(var o=Object.keys(n),a=0;a<o.length;a+=1){var s=o[a],u=n[s];void 0!==this[s]&&(this[s]=u)}}function fe(e,t,n){void 0===n&&(n=t.length);var r=new Array(t.length+1);r[0]={name:e+"Count",type:"USHORT",value:n};for(var i=0;i<t.length;i++)r[i+1]={name:e+i,type:"USHORT",value:t[i]};return r}function de(e,t,n){var r=t.length,i=new Array(r+1);i[0]={name:e+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i[o+1]={name:e+o,type:"TABLE",value:n(t[o],o)};return i}function ye(e,t,n){var r=t.length,i=[];i[0]={name:e+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i=i.concat(n(t[o],o));return i}function ve(e){1===e.format?i.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(fe("glyph",e.glyphs))):2===e.format?i.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(ye("rangeRecord",e.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):L.assert(!1,"Coverage format must be 1 or 2.")}function me(e){i.call(this,"scriptListTable",ye("scriptRecord",e,function(e,t){var n=e.script,r=n.defaultLangSys;return L.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new i("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new i("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(fe("featureIndex",r.featureIndexes)))}].concat(ye("langSys",n.langSysRecords,function(e,t){var n=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new i("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(fe("featureIndex",n.featureIndexes)))}]})))}]}))}function ge(e){i.call(this,"featureListTable",ye("featureRecord",e,function(e,t){var n=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new i("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(fe("lookupListIndex",n.lookupListIndexes)))}]}))}function be(e,n){i.call(this,"lookupListTable",de("lookup",e,function(e){var t=n[e.lookupType];return L.assert(!!t,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new i("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(de("subtable",e.subtables,t)))}))}S.CHARSTRING=function(e){if(pe){var t=pe.get(e);if(void 0!==t)return t}for(var n=[],r=e.length,i=0;i<r;i+=1)var o=e[i],n=n.concat(S[o.type](o.value));return pe&&pe.set(e,n),n},u.CHARSTRING=function(e){return S.CHARSTRING(e).length},S.OBJECT=function(e){var t=S[e.type];return L.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},u.OBJECT=function(e){var t=u[e.type];return L.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},S.TABLE=function(e){for(var t=[],n=e.fields.length,r=[],i=[],o=0;o<n;o+=1){var a=e.fields[o],s=S[a.type],u=(L.argument(void 0!==s,"No encoding function for field type "+a.type+" ("+a.name+")"),e[a.name]),s=s(u=void 0===u?a.value:u);"TABLE"===a.type?(i.push(t.length),t=t.concat([0,0]),r.push(s)):t=t.concat(s)}for(var l=0;l<r.length;l+=1){var c=i[l],h=t.length;L.argument(h<65536,"Table "+e.tableName+" too big."),t[c]=h>>8,t[c+1]=255&h,t=t.concat(r[l])}return t},u.TABLE=function(e){for(var t=0,n=e.fields.length,r=0;r<n;r+=1){var i=e.fields[r],o=u[i.type],a=(L.argument(void 0!==o,"No sizeOf function for field type "+i.type+" ("+i.name+")"),e[i.name]);t+=o(a=void 0===a?i.value:a),"TABLE"===i.type&&(t+=2)}return t},S.RECORD=S.TABLE,u.RECORD=u.TABLE,S.LITERAL=function(e){return e},u.LITERAL=function(e){return e.length},i.prototype.encode=function(){return S.TABLE(this)},i.prototype.sizeOf=function(){return u.TABLE(this)};var T={Table:i,Record:i,Coverage:(ve.prototype=Object.create(i.prototype)).constructor=ve,ScriptList:(me.prototype=Object.create(i.prototype)).constructor=me,FeatureList:(ge.prototype=Object.create(i.prototype)).constructor=ge,LookupList:(be.prototype=Object.create(i.prototype)).constructor=be,ushortList:fe,tableList:de,recordList:ye};function xe(e,t){return e.getUint8(t)}function we(e,t){return e.getUint16(t,!1)}function _e(e,t){return e.getUint32(t,!1)}function Se(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var Te={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function l(e,t){this.data=e,this.offset=t,this.relativeOffset=0}l.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},l.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},l.prototype.parseCard8=l.prototype.parseByte,l.prototype.parseCard16=l.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},l.prototype.parseSID=l.prototype.parseUShort,l.prototype.parseOffset16=l.prototype.parseUShort,l.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},l.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},l.prototype.parseOffset32=l.prototype.parseULong=function(){var e=_e(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},l.prototype.parseFixed=function(){var e=Se(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},l.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=e;for(var i=0;i<e;i++)r+=String.fromCharCode(t.getUint8(n+i));return r},l.prototype.parseTag=function(){return this.parseString(4)},l.prototype.parseLongDateTime=function(){var e=_e(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},l.prototype.parseVersion=function(e){var t=we(this.data,this.offset+this.relativeOffset),n=we(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t+n/(e=void 0===e?4096:e)/10},l.prototype.skip=function(e,t){this.relativeOffset+=Te[e]*(t=void 0===t?1:t)},l.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint32(r),r+=4;return this.relativeOffset+=4*e,t},l.prototype.parseOffset16List=l.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint16(r),r+=2;return this.relativeOffset+=2*e,t},l.prototype.parseShortList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getInt16(r),r+=2;return this.relativeOffset+=2*e,t},l.prototype.parseByteList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint8(r++);return this.relativeOffset+=e,t},l.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},l.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},l.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=Object.keys(t),i=0;i<e;i++){for(var o={},a=0;a<r.length;a++){var s=r[a],u=t[s];o[s]=u.call(this)}n[i]=o}return n},l.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=Object.keys(t),i=0;i<e;i++){for(var o={},a=0;a<r.length;a++){var s=r[a],u=t[s];o[s]=u.call(this)}n[i]=o}return n},l.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r],o=e[i];n[i]=o.call(this)}return n},l.prototype.parseValueRecord=function(e){var t;if(0!==(e=void 0===e?this.parseUShort():e))return t={},1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t},l.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),n=new Array(t),r=0;r<t;r++)n[r]=this.parseValueRecord(e);return n},l.prototype.parsePointer=function(e){var t=this.parseOffset16();if(0<t)return new l(this.data,this.offset+t).parseStruct(e)},l.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(0<t)return new l(this.data,this.offset+t).parseStruct(e)},l.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),n=t.length,r=this.relativeOffset,i=new Array(n),o=0;o<n;o++){var a=t[o];if(0===a)i[o]=void 0;else if(this.relativeOffset=a,e){for(var s=this.parseOffset16List(),u=new Array(s.length),l=0;l<s.length;l++)this.relativeOffset=a+s[l],u[l]=e.call(this);i[o]=u}else i[o]=this.parseUShortList()}return this.relativeOffset=r,i},l.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),n=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(n)};if(2!==t)throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.");for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}},l.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:l.uShort,end:l.uShort,classId:l.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},l.list=function(e,t){return function(){return this.parseList(e,t)}},l.list32=function(e,t){return function(){return this.parseList32(e,t)}},l.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},l.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},l.pointer=function(e){return function(){return this.parsePointer(e)}},l.pointer32=function(e){return function(){return this.parsePointer32(e)}},l.tag=l.prototype.parseTag,l.byte=l.prototype.parseByte,l.uShort=l.offset16=l.prototype.parseUShort,l.uShortList=l.prototype.parseUShortList,l.uLong=l.offset32=l.prototype.parseULong,l.uLongList=l.prototype.parseULongList,l.struct=l.prototype.parseStruct,l.coverage=l.prototype.parseCoverage,l.classDef=l.prototype.parseClassDef;var Ee={reserved:l.uShort,reqFeatureIndex:l.uShort,featureIndexes:l.uShortList},I=(l.prototype.parseScriptList=function(){return this.parsePointer(l.recordList({tag:l.tag,script:l.pointer({defaultLangSys:l.pointer(Ee),langSysRecords:l.recordList({tag:l.tag,langSys:l.pointer(Ee)})})}))||[]},l.prototype.parseFeatureList=function(){return this.parsePointer(l.recordList({tag:l.tag,feature:l.pointer({featureParams:l.offset16,lookupListIndexes:l.uShortList})}))||[]},l.prototype.parseLookupList=function(r){return this.parsePointer(l.list(l.pointer(function(){var e=this.parseUShort(),t=(L.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown."),this.parseUShort()),n=16&t;return{lookupType:e,lookupFlag:t,subtables:this.parseList(l.pointer(r[e])),markFilteringSet:n?this.parseUShort():void 0}})))||[]},l.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();return L.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:l.offset32,featureTableSubstitutionOffset:l.offset32})})||[]},{getByte:xe,getCard8:xe,getUShort:we,getCard16:we,getShort:function(e,t){return e.getInt16(t,!1)},getULong:_e,getFixed:Se,getTag:function(e,t){for(var n="",r=t;r<t+4;r+=1)n+=String.fromCharCode(e.getInt8(r));return n},getOffset:function(e,t,n){for(var r=0,i=0;i<n;i+=1)r=(r<<=8)+e.getUint8(t+i);return r},getBytes:function(e,t,n){for(var r=[],i=t;i<n;i+=1)r.push(e.getUint8(i));return r},bytesToString:function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t},Parser:l});var ke={parse:function(e,t){for(var n={},r=(n.version=I.getUShort(e,t),L.argument(0===n.version,"cmap table version should be 0."),n.numTables=I.getUShort(e,t+2),-1),i=n.numTables-1;0<=i;--i){var o=I.getUShort(e,t+4+8*i),a=I.getUShort(e,t+4+8*i+2);if(3===o&&(0===a||1===a||10===a)||0===o&&(0===a||1===a||2===a||3===a||4===a)){r=I.getULong(e,t+4+8*i+4);break}}if(-1===r)throw new Error("No valid cmap sub-tables found.");var s=new I.Parser(e,t+r);if(n.format=s.parseUShort(),12===n.format){var u,l=n,c=s;c.parseUShort(),l.length=c.parseULong(),l.language=c.parseULong(),l.groupCount=u=c.parseULong(),l.glyphIndexMap={};for(var h=0;h<u;h+=1)for(var p=c.parseULong(),f=c.parseULong(),d=c.parseULong(),y=p;y<=f;y+=1)l.glyphIndexMap[y]=d,d++}else{if(4!==n.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");var v=n,m=e,g=t,b=r;v.length=s.parseUShort(),v.language=s.parseUShort(),v.segCount=x=s.parseUShort()>>1,s.skip("uShort",3),v.glyphIndexMap={};for(var x,w=new I.Parser(m,g+b+14),_=new I.Parser(m,g+b+16+2*x),S=new I.Parser(m,g+b+16+4*x),T=new I.Parser(m,g+b+16+6*x),E=g+b+16+8*x,k=0;k<x-1;k+=1)for(var O=void 0,P=w.parseUShort(),M=_.parseUShort(),A=S.parseShort(),R=T.parseUShort(),C=M;C<=P;C+=1)0!==R?(E=(E=T.offset+T.relativeOffset-2)+R+2*(C-M),0!==(O=I.getUShort(m,E))&&(O=O+A&65535)):O=C+A&65535,v.glyphIndexMap[C]=O}return n},make:function(e){for(var t=!0,n=e.length-1;0<n;--n)if(65535<e.get(n).unicode){t=!1;break}var r,i,o=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}],a=(o=(o=t?o:o.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new T.Table("cmap",o));for(a.segments=[],n=0;n<e.length;n+=1){for(var s=e.get(n),u=0;u<s.unicodes.length;u+=1)r=s.unicodes[u],i=n,a.segments.push({end:r,start:r,delta:-(r-i),offset:0,glyphIndex:i});a.segments=a.segments.sort(function(e,t){return e.start-t.start})}a.segments.push({end:65535,start:65535,delta:1,offset:0});var l=a.segments.length,c=0,h=[],p=[],f=[],d=[],y=[],v=[];for(n=0;n<l;n+=1){var m=a.segments[n];m.end<=65535&&m.start<=65535?(h=h.concat({name:"end_"+n,type:"USHORT",value:m.end}),p=p.concat({name:"start_"+n,type:"USHORT",value:m.start}),f=f.concat({name:"idDelta_"+n,type:"SHORT",value:m.delta}),d=d.concat({name:"idRangeOffset_"+n,type:"USHORT",value:m.offset}),void 0!==m.glyphId&&(y=y.concat({name:"glyph_"+n,type:"USHORT",value:m.glyphId}))):c+=1,t||void 0===m.glyphIndex||(v=(v=(v=v.concat({name:"cmap12Start_"+n,type:"ULONG",value:m.start})).concat({name:"cmap12End_"+n,type:"ULONG",value:m.end})).concat({name:"cmap12Glyph_"+n,type:"ULONG",value:m.glyphIndex}))}return a.segCountX2=2*(l-c),a.searchRange=2*Math.pow(2,Math.floor(Math.log(l-c)/Math.log(2))),a.entrySelector=Math.log(a.searchRange/2)/Math.log(2),a.rangeShift=a.segCountX2-a.searchRange,a.fields=a.fields.concat(h),a.fields.push({name:"reservedPad",type:"USHORT",value:0}),a.fields=a.fields.concat(p),a.fields=a.fields.concat(f),a.fields=a.fields.concat(d),a.fields=a.fields.concat(y),a.cmap4Length=14+2*h.length+2+2*p.length+2*f.length+2*d.length+2*y.length,t||(o=16+4*v.length,a.cmap12Offset=20+a.cmap4Length,a.fields=a.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:o},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:v.length/3}]),a.fields=a.fields.concat(v)),a}},Oe=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Pe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Me=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],c=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ae(e){this.font=e}function Re(e){this.cmap=e}function Ce(e,t){this.encoding=e,this.charset=t}function Le(e){switch(e.version){case 1:this.names=c.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<c.length?this.names[t]=c[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-c.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var n=0;n<e.numberOfGlyphs;n++)this.names[n]=c[n+e.glyphNameIndex[n]];break;default:this.names=[]}}function Ie(e,t){if(t.lowMemory){var n=e;n._IndexToUnicodeMap={};for(var r=n.tables.cmap.glyphIndexMap,i=Object.keys(r),o=0;o<i.length;o+=1){var a=i[o],s=r[a];void 0===n._IndexToUnicodeMap[s]?n._IndexToUnicodeMap[s]={unicodes:[parseInt(a)]}:n._IndexToUnicodeMap[s].unicodes.push(parseInt(a))}}else{for(var u=e,l=u.tables.cmap.glyphIndexMap,c=Object.keys(l),h=0;h<c.length;h+=1){var p,f=c[h],d=l[f];(p=u.glyphs.get(d)).addUnicode(parseInt(f))}for(var y=0;y<u.glyphs.length;y+=1)p=u.glyphs.get(y),u.cffEncoding?u.isCIDFont?p.name="gid"+y:p.name=u.cffEncoding.charset[y]:u.glyphNames.names&&(p.name=u.glyphNames.glyphIndexToName(y))}}Ae.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.font.glyphs;if(n)for(var r=0;r<n.length;r+=1)for(var i=n.get(r),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===t)return r;return null},Re.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},Ce.prototype.charToGlyphIndex=function(e){e=e.codePointAt(0),e=this.encoding[e];return this.charset.indexOf(e)},Le.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},Le.prototype.glyphIndexToName=function(e){return this.names[e]};var De={line:function(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke()}};function h(e){this.bindConstructorValues(e)}function je(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(e){t[n]=e},enumerable:!0,configurable:!0})}function Ne(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];r.path.unitsPerEm=e.unitsPerEm,this.glyphs[n]=r}this.length=t&&t.length||0}h.prototype.bindConstructorValues=function(e){var t;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(e=e.path,t=e||new p,{configurable:!0,get:function(){return t="function"==typeof t?t():t},set:function(e){t=e}}))},h.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},h.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},h.prototype.getPath=function(e,t,n,r,i){e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72;for(var o,a,s=(r=r||{}).xScale,u=r.yScale,l=((o=r.hinting&&i&&i.hinting?this.path&&i.hinting.exec(this,n):o)?(a=i.hinting.getCommands(o),e=Math.round(e),t=Math.round(t),s=u=1):(a=this.path.commands,r=1/(this.path.unitsPerEm||1e3)*n,void 0===s&&(s=r),void 0===u&&(u=r)),new p),c=0;c<a.length;c+=1){var h=a[c];"M"===h.type?l.moveTo(e+h.x*s,t+-h.y*u):"L"===h.type?l.lineTo(e+h.x*s,t+-h.y*u):"Q"===h.type?l.quadraticCurveTo(e+h.x1*s,t+-h.y1*u,e+h.x*s,t+-h.y*u):"C"===h.type?l.curveTo(e+h.x1*s,t+-h.y1*u,e+h.x2*s,t+-h.y2*u,e+h.x*s,t+-h.y*u):"Z"===h.type&&l.closePath()}return l},h.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){var r=this.points[n];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return L.argument(0===t.length,"There are still points left in the current contour."),e},h.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];"Z"!==i.type&&(t.push(i.x),n.push(i.y)),"Q"!==i.type&&"C"!==i.type||(t.push(i.x1),n.push(i.y1)),"C"===i.type&&(t.push(i.x2),n.push(i.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},h.prototype.draw=function(e,t,n,r,i){this.getPath(t,n,r,i).draw(e)},h.prototype.drawPoints=function(o,e,t,n){function r(e,t,n,r){o.beginPath();for(var i=0;i<e.length;i+=1)o.moveTo(t+e[i].x*r,n+e[i].y*r),o.arc(t+e[i].x*r,n+e[i].y*r,2,0,2*Math.PI,!1);o.closePath(),o.fill()}e=void 0!==e?e:0,t=void 0!==t?t:0;for(var n=1/this.path.unitsPerEm*(n=void 0!==n?n:24),i=[],a=[],s=this.path,u=0;u<s.commands.length;u+=1){var l=s.commands[u];void 0!==l.x&&i.push({x:l.x,y:-l.y}),void 0!==l.x1&&a.push({x:l.x1,y:-l.y1}),void 0!==l.x2&&a.push({x:l.x2,y:-l.y2})}o.fillStyle="blue",r(i,e,t,n),o.fillStyle="red",r(a,e,t,n)},h.prototype.drawMetrics=function(e,t,n,r){t=void 0!==t?t:0,n=void 0!==n?n:0,r=1/this.path.unitsPerEm*(r=void 0!==r?r:24),e.lineWidth=1,e.strokeStyle="black",De.line(e,t,-1e4,t,1e4),De.line(e,-1e4,n,1e4,n);var i=this.xMin||0,o=this.yMin||0,a=this.xMax||0,s=this.yMax||0,u=this.advanceWidth||0;e.strokeStyle="blue",De.line(e,t+i*r,-1e4,t+i*r,1e4),De.line(e,t+a*r,-1e4,t+a*r,1e4),De.line(e,-1e4,n+-o*r,1e4,n+-o*r),De.line(e,-1e4,n+-s*r,1e4,n+-s*r),e.strokeStyle="green",De.line(e,t+u*r,-1e4,t+u*r,1e4)},Ne.prototype.get=function(e){if(void 0===this.glyphs[e]){this.font._push(e),"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],n=this.font._IndexToUnicodeMap[e];if(n)for(var r=0;r<n.unicodes.length;r++)t.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]},Ne.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var m={GlyphSet:Ne,glyphLoader:function(e,t){return new h({index:t,font:e})},ttfGlyphLoader:function(n,e,r,i,o,a){return function(){var t=new h({index:e,font:n});return t.path=function(){r(t,i,o);var e=a(n.glyphs,t);return e.unitsPerEm=n.unitsPerEm,e},je(t,"xMin","_xMin"),je(t,"xMax","_xMax"),je(t,"yMin","_yMin"),je(t,"yMax","_yMax"),t}},cffGlyphLoader:function(n,e,r,i){return function(){var t=new h({index:e,font:n});return t.path=function(){var e=r(n,t,i);return e.unitsPerEm=n.unitsPerEm,e},t}}};function Fe(e){e=e.length<1240?107:e.length<33900?1131:32768;return e}function f(e,t,n){var r,i=[],o=[],a=I.getCard16(e,t);if(0!==a){for(var s=I.getByte(e,t+2),u=t+(a+1)*s+2,l=t+3,c=0;c<a+1;c+=1)i.push(I.getOffset(e,l,s)),l+=s;r=u+i[a]}else r=t+2;for(var h=0;h<i.length-1;h+=1){var p=I.getBytes(e,u+i[h],u+i[h+1]);n&&(p=n(p)),o.push(p)}return{objects:o,startOffset:t,endOffset:r}}function Ue(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t){for(var n=e,r="",i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var o=n.parseByte(),a=o>>4,o=15&o;if(15==a)break;if(r+=i[a],15==o)break;r+=i[o]}return parseFloat(r)}if(32<=t&&t<=246)return t-139;if(247<=t&&t<=250)return 256*(t-247)+e.parseByte()+108;if(251<=t&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function Be(e,t,n){var r=new I.Parser(e,t=void 0!==t?t:0),i=[],o=[];for(n=void 0!==n?n:e.length;r.relativeOffset<n;){var a=r.parseByte();a<=21?(12===a&&(a=1200+r.parseByte()),i.push([a,o]),o=[]):o.push(Ue(r,a))}for(var s=i,u={},l=0;l<s.length;l+=1){var c=s[l][0],h=s[l][1],p=void 0,p=1===h.length?h[0]:h;if(u.hasOwnProperty(c)&&!isNaN(u[c]))throw new Error("Object "+u+" already has key "+c);u[c]=p}return u}function ze(e,t){return t=t<=390?Oe[t]:e[t-391]}function Ge(e,t,n){for(var r,i={},o=0;o<t.length;o+=1){var a=t[o];if(Array.isArray(a.type)){var s=[];s.length=a.type.length;for(var u=0;u<a.type.length;u++)void 0===(r=void 0!==e[a.op]?e[a.op][u]:void 0)&&(r=void 0!==a.value&&void 0!==a.value[u]?a.value[u]:null),"SID"===a.type[u]&&(r=ze(n,r)),s[u]=r;i[a.name]=s}else void 0===(r=e[a.op])&&(r=void 0!==a.value?a.value:null),"SID"===a.type&&(r=ze(n,r)),i[a.name]=r}return i}var He=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ve=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function We(e,t,n,r){return Ge(Be(e,t,n),Ve,r)}function qe(e,t,n,r){for(var i=[],o=0;o<n.length;o+=1){var a=new DataView(new Uint8Array(n[o]).buffer),a=(s=r,Ge(Be(a,0,a.byteLength),He,s)),s=(a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0,a.private[0]),u=a.private[1];0!==s&&0!==u&&(s=We(e,u+t,s,r),a._defaultWidthX=s.defaultWidthX,a._nominalWidthX=s.nominalWidthX,0!==s.subrs&&(u=f(e,u+s.subrs+t),a._subrs=u.objects,a._subrsBias=Fe(a._subrs)),a._privateDict=s),i.push(a)}return i}function Ye(v,m,e){var g,b,x,w,t,_,S,n,T,E=new p,k=[],O=0,P=!1,M=!1,A=0,R=0,C=(T=(v.isCIDFont?(t=v.tables.cff.topDict._fdSelect[m.index],t=v.tables.cff.topDict._fdArray[t],_=t._subrs,S=t._subrsBias,n=t._defaultWidthX,t):(_=v.tables.cff.topDict._subrs,S=v.tables.cff.topDict._subrsBias,n=v.tables.cff.topDict._defaultWidthX,v.tables.cff.topDict))._nominalWidthX,n);function L(e,t){M&&E.closePath(),E.moveTo(e,t),M=!0}function I(){k.length%2==0||P||(C=k.shift()+T),O+=k.length>>1,k.length=0,P=!0}return function e(t){for(var n,r,i,o,a,s,u,l,c,h,p,f,d=0;d<t.length;){var y=t[d];switch(d+=1,y){case 1:case 3:I();break;case 4:1<k.length&&!P&&(C=k.shift()+T,P=!0),R+=k.pop(),L(A,R);break;case 5:for(;0<k.length;)A+=k.shift(),R+=k.shift(),E.lineTo(A,R);break;case 6:for(;0<k.length&&(A+=k.shift(),E.lineTo(A,R),0!==k.length);)R+=k.shift(),E.lineTo(A,R);break;case 7:for(;0<k.length&&(R+=k.shift(),E.lineTo(A,R),0!==k.length);)A+=k.shift(),E.lineTo(A,R);break;case 8:for(;0<k.length;)g=A+k.shift(),b=R+k.shift(),x=g+k.shift(),w=b+k.shift(),A=x+k.shift(),R=w+k.shift(),E.curveTo(g,b,x,w,A,R);break;case 10:a=k.pop()+S,(s=_[a])&&e(s);break;case 11:return;case 12:switch(y=t[d],d+=1,y){case 35:g=A+k.shift(),b=R+k.shift(),x=g+k.shift(),w=b+k.shift(),u=x+k.shift(),l=w+k.shift(),c=u+k.shift(),h=l+k.shift(),p=c+k.shift(),f=h+k.shift(),A=p+k.shift(),R=f+k.shift(),k.shift(),E.curveTo(g,b,x,w,u,l),E.curveTo(c,h,p,f,A,R);break;case 34:g=A+k.shift(),b=R,x=g+k.shift(),w=b+k.shift(),u=x+k.shift(),l=w,c=u+k.shift(),h=w,p=c+k.shift(),f=R,A=p+k.shift(),E.curveTo(g,b,x,w,u,l),E.curveTo(c,h,p,f,A,R);break;case 36:g=A+k.shift(),b=R+k.shift(),x=g+k.shift(),w=b+k.shift(),u=x+k.shift(),l=w,c=u+k.shift(),h=w,p=c+k.shift(),f=h+k.shift(),A=p+k.shift(),E.curveTo(g,b,x,w,u,l),E.curveTo(c,h,p,f,A,R);break;case 37:g=A+k.shift(),b=R+k.shift(),x=g+k.shift(),w=b+k.shift(),u=x+k.shift(),l=w+k.shift(),c=u+k.shift(),h=l+k.shift(),p=c+k.shift(),f=h+k.shift(),Math.abs(p-A)>Math.abs(f-R)?A=p+k.shift():R=f+k.shift(),E.curveTo(g,b,x,w,u,l),E.curveTo(c,h,p,f,A,R);break;default:m.index,k.length=0}break;case 14:0<k.length&&!P&&(C=k.shift()+T,P=!0),M&&(E.closePath(),M=!1);break;case 18:I();break;case 19:case 20:I(),d+=O+7>>3;break;case 21:2<k.length&&!P&&(C=k.shift()+T,P=!0),R+=k.pop(),L(A+=k.pop(),R);break;case 22:1<k.length&&!P&&(C=k.shift()+T,P=!0),L(A+=k.pop(),R);break;case 23:I();break;case 24:for(;2<k.length;)g=A+k.shift(),b=R+k.shift(),x=g+k.shift(),w=b+k.shift(),A=x+k.shift(),R=w+k.shift(),E.curveTo(g,b,x,w,A,R);A+=k.shift(),R+=k.shift(),E.lineTo(A,R);break;case 25:for(;6<k.length;)A+=k.shift(),R+=k.shift(),E.lineTo(A,R);g=A+k.shift(),b=R+k.shift(),x=g+k.shift(),w=b+k.shift(),A=x+k.shift(),R=w+k.shift(),E.curveTo(g,b,x,w,A,R);break;case 26:for(k.length%2&&(A+=k.shift());0<k.length;)g=A,b=R+k.shift(),x=g+k.shift(),w=b+k.shift(),A=x,R=w+k.shift(),E.curveTo(g,b,x,w,A,R);break;case 27:for(k.length%2&&(R+=k.shift());0<k.length;)g=A+k.shift(),b=R,x=g+k.shift(),w=b+k.shift(),A=x+k.shift(),R=w,E.curveTo(g,b,x,w,A,R);break;case 28:n=t[d],r=t[d+1],k.push((n<<24|r<<16)>>16),d+=2;break;case 29:a=k.pop()+v.gsubrsBias,(s=v.gsubrs[a])&&e(s);break;case 30:for(;0<k.length&&(g=A,b=R+k.shift(),x=g+k.shift(),w=b+k.shift(),A=x+k.shift(),R=w+(1===k.length?k.shift():0),E.curveTo(g,b,x,w,A,R),0!==k.length);)g=A+k.shift(),b=R,x=g+k.shift(),w=b+k.shift(),R=w+k.shift(),A=x+(1===k.length?k.shift():0),E.curveTo(g,b,x,w,A,R);break;case 31:for(;0<k.length&&(g=A+k.shift(),b=R,x=g+k.shift(),w=b+k.shift(),R=w+k.shift(),A=x+(1===k.length?k.shift():0),E.curveTo(g,b,x,w,A,R),0!==k.length);)g=A,b=R+k.shift(),x=g+k.shift(),w=b+k.shift(),A=x+k.shift(),R=w+(1===k.length?k.shift():0),E.curveTo(g,b,x,w,A,R);break;default:y<32?m.index:y<247?k.push(y-139):y<251?(n=t[d],d+=1,k.push(256*(y-247)+n+108)):y<255?(n=t[d],d+=1,k.push(256*-(y-251)-n-108)):(n=t[d],r=t[d+1],i=t[d+2],o=t[d+3],d+=4,k.push((n<<24|r<<16|i<<8|o)/65536))}}}(e),m.advanceWidth=C,E}function Xe(e,t){var n,r=Oe.indexOf(e);return 0<=r&&(n=r),0<=(r=t.indexOf(e))?n=r+Oe.length:(n=Oe.length+t.length,t.push(e)),n}function Ze(e,t,n){for(var r={},i=0;i<e.length;i+=1){var o=e[i],a=t[o.name];void 0===a||function e(t,n){if(t===n)return 1;if(Array.isArray(t)&&Array.isArray(n)&&t.length===n.length){for(var r=0;r<t.length;r+=1)if(!e(t[r],n[r]))return;return 1}}(a,o.value)||("SID"===o.type&&(a=Xe(a,n)),r[o.op]={name:o.name,type:o.type,value:a})}return r}function Ke(e,t){var n=new T.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Ze(He,e,t),n}function Qe(e){var t=new T.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function Je(e){for(var t=new T.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var r=e.get(n),i=function(e){for(var t=[],n=e.path,r=(t.push({name:"width",type:"NUMBER",value:e.advanceWidth}),0),i=0,o=0;o<n.commands.length;o+=1){var a,s,u,l,c=void 0,h=void 0,p=n.commands[o];"Q"===p.type&&(p={type:"C",x:p.x,y:p.y,x1:Math.round(1/3*r+2/3*p.x1),y1:Math.round(1/3*i+2/3*p.y1),x2:Math.round(1/3*p.x+2/3*p.x1),y2:Math.round(1/3*p.y+2/3*p.y1)}),"M"===p.type?(c=Math.round(p.x-r),h=Math.round(p.y-i),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:h}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(p.x),i=Math.round(p.y)):"L"===p.type?(c=Math.round(p.x-r),h=Math.round(p.y-i),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:h}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(p.x),i=Math.round(p.y)):"C"===p.type&&(a=Math.round(p.x1-r),s=Math.round(p.y1-i),u=Math.round(p.x2-p.x1),l=Math.round(p.y2-p.y1),c=Math.round(p.x-p.x2),h=Math.round(p.y-p.y2),t.push({name:"dx1",type:"NUMBER",value:a}),t.push({name:"dy1",type:"NUMBER",value:s}),t.push({name:"dx2",type:"NUMBER",value:u}),t.push({name:"dy2",type:"NUMBER",value:l}),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:h}),t.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(p.x),i=Math.round(p.y))}return t.push({name:"endchar",type:"OP",value:14}),t}(r);t.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return t}var $e={parse:function(u,l,c,e){c.tables.cff={},t=u,n=l,(r={}).formatMajor=I.getCard8(t,n),r.formatMinor=I.getCard8(t,n+1),r.size=I.getCard8(t,n+2),r.offsetSize=I.getCard8(t,n+3),r.startOffset=n,r.endOffset=n+4;var t=f(u,r.endOffset,I.bytesToString),n=f(u,t.endOffset),r=f(u,n.endOffset,I.bytesToString),t=f(u,r.endOffset);if(c.gsubrs=t.objects,c.gsubrsBias=Fe(c.gsubrs),1!==(t=qe(u,l,n.objects,r.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+t.length);var h=t[0];if((c.tables.cff.topDict=h)._privateDict&&(c.defaultWidthX=h._privateDict.defaultWidthX,c.nominalWidthX=h._privateDict.nominalWidthX),void 0!==h.ros[0]&&void 0!==h.ros[1]&&(c.isCIDFont=!0),c.isCIDFont){n=h.fdArray,t=h.fdSelect;if(0===n||0===t)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");n=f(u,n+=l),n=qe(u,l,n.objects,r.objects);h._fdArray=n,h._fdSelect=function(e,t,n,r){var i,o=[],a=new I.Parser(e,t);if(0===(e=a.parseCard8()))for(var s=0;s<n;s++){if(r<=(i=a.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");o.push(i)}else{if(3!==e)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+e);var u,l=a.parseCard16(),c=a.parseCard16();if(0!==c)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var h=0;h<l;h++){if(i=a.parseCard8(),u=a.parseCard16(),r<=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");if(n<u)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+u);for(;c<u;c++)o.push(i);c=u}if(u!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+u)}return o}(u,t+=l,c.numGlyphs,n.length)}var p,t=l+h.private[1],n=We(u,t,h.private[0],r.objects),t=(c.defaultWidthX=n.defaultWidthX,c.nominalWidthX=n.nominalWidthX,0!==n.subrs?(t=t+n.subrs,n=f(u,t),c.subrs=n.objects,c.subrsBias=Fe(c.subrs)):(c.subrs=[],c.subrsBias=0),e.lowMemory?(p=function(e,t){var n=[],r=I.getCard16(e,t);if(0!==r){for(var i=I.getByte(e,t+2),o=t+(r+1)*i+2,a=t+3,s=0;s<r+1;s+=1)n.push(I.getOffset(e,a,i)),a+=i;o=o+n[r]}else o=t+2;return{offsets:n,startOffset:t,endOffset:o}}(u,l+h.charStrings),c.nGlyphs=p.offsets.length):(p=f(u,l+h.charStrings),c.nGlyphs=p.objects.length),function(e,t,n,r){var i=new I.Parser(e,t),o=(--n,[".notdef"]);if(0===(e=i.parseCard8()))for(var a=0;a<n;a+=1)s=i.parseSID(),o.push(ze(r,s));else if(1===e)for(;o.length<=n;)for(var s=i.parseSID(),u=i.parseCard8(),l=0;l<=u;l+=1)o.push(ze(r,s)),s+=1;else{if(2!==e)throw new Error("Unknown charset format "+e);for(;o.length<=n;){s=i.parseSID(),u=i.parseCard16();for(var c=0;c<=u;c+=1)o.push(ze(r,s)),s+=1}}return o}(u,l+h.charset,c.nGlyphs,r.objects));if(0===h.encoding?c.cffEncoding=new Ce(Pe,t):1===h.encoding?c.cffEncoding=new Ce(Me,t):c.cffEncoding=function(e,t,n){var r={},i=new I.Parser(e,t);if(0===(e=i.parseCard8()))for(var o=i.parseCard8(),a=0;a<o;a+=1)r[u=i.parseCard8()]=a;else{if(1!==e)throw new Error("Unknown encoding format "+e);for(var s=i.parseCard8(),u=1,l=0;l<s;l+=1)for(var c=i.parseCard8(),h=i.parseCard8(),p=c;p<=c+h;p+=1)r[p]=u,u+=1}return new Ce(r,n)}(u,l+h.encoding,t),c.encoding=c.encoding||c.cffEncoding,c.glyphs=new m.GlyphSet(c),e.lowMemory)c._push=function(e){t=e,n=p.offsets,r=u,s=l+h.charStrings,o=I.getCard16(r,s),(a=0)!==o&&(a=s+(o+1)*I.getByte(r,s+2)+2),o=I.getBytes(r,a+n[t],a+n[t+1]);var t,n,r,i,o,a,s=o=i?i(o):o;c.glyphs.push(e,m.cffGlyphLoader(c,e,Ye,s))};else for(var i=0;i<c.nGlyphs;i+=1){var o=p.objects[i];c.glyphs.push(i,m.cffGlyphLoader(c,i,Ye,o))}},make:function(e,t){for(var n,r=new T.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/t.unitsPerEm,i={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o=[],a=1;a<e.length;a+=1)n=e.get(a),o.push(n.name);var s,u,l=[],t=(r.header=new T.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),r.nameIndex=function(e){var t=new T.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t}([t.postScriptName]),Ke(i,l)),c=(r.topDictIndex=Qe(t),r.globalSubrIndex=new T.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),r.charsets=function(e,t){for(var n=new T.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var i=Xe(e[r],t);n.fields.push({name:"glyph_"+r,type:"SID",value:i})}return n}(o,l),r.charStringsIndex=Je(e),r.privateDict=(c={},s=l,(u=new T.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Ze(Ve,c,s),u),r.stringIndex=function(e){var t=new T.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t}(l),r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf());return i.charset=c,i.encoding=0,i.charStrings=i.charset+r.charsets.sizeOf(),i.private[1]=i.charStrings+r.charStringsIndex.sizeOf(),t=Ke(i,l),r.topDictIndex=Qe(t),r}};var et={parse:function(e,t){var n={},e=new I.Parser(e,t);return n.version=e.parseVersion(),n.fontRevision=Math.round(1e3*e.parseFixed())/1e3,n.checkSumAdjustment=e.parseULong(),n.magicNumber=e.parseULong(),L.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=e.parseUShort(),n.unitsPerEm=e.parseUShort(),n.created=e.parseLongDateTime(),n.modified=e.parseLongDateTime(),n.xMin=e.parseShort(),n.yMin=e.parseShort(),n.xMax=e.parseShort(),n.yMax=e.parseShort(),n.macStyle=e.parseUShort(),n.lowestRecPPEM=e.parseUShort(),n.fontDirectionHint=e.parseShort(),n.indexToLocFormat=e.parseShort(),n.glyphDataFormat=e.parseShort(),n},make:function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,n=t;return e.createdTimestamp&&(n=e.createdTimestamp+2082844800),new T.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}};var tt={parse:function(e,t){var n={},e=new I.Parser(e,t);return n.version=e.parseVersion(),n.ascender=e.parseShort(),n.descender=e.parseShort(),n.lineGap=e.parseShort(),n.advanceWidthMax=e.parseUShort(),n.minLeftSideBearing=e.parseShort(),n.minRightSideBearing=e.parseShort(),n.xMaxExtent=e.parseShort(),n.caretSlopeRise=e.parseShort(),n.caretSlopeRun=e.parseShort(),n.caretOffset=e.parseShort(),e.relativeOffset+=8,n.metricDataFormat=e.parseShort(),n.numberOfHMetrics=e.parseUShort(),n},make:function(e){return new T.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}};var nt={parse:function(e,t,n,r,i,o,a){if(a.lowMemory){var s=e,a=t,e=n,u=r,l=i;s._hmtxTableData={};for(var c,h,p=new I.Parser(a,e),f=0;f<l;f+=1)f<u&&(c=p.parseUShort(),h=p.parseShort()),s._hmtxTableData[f]={advanceWidth:c,leftSideBearing:h}}else for(var d,y,a=t,e=n,v=r,m=i,g=o,b=new I.Parser(a,e),x=0;x<m;x+=1){x<v&&(d=b.parseUShort(),y=b.parseShort());var w=g.get(x);w.advanceWidth=d,w.leftSideBearing=y}},make:function(e){for(var t=new T.Table("hmtx",[]),n=0;n<e.length;n+=1){var r=e.get(n),i=r.advanceWidth||0,r=r.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:r})}return t}};var rt={make:function(e){for(var t=new T.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",r=12+4*e.length,i=0;i<e.length;++i){var o=n.indexOf(e[i]);o<0&&(o=n.length,n+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:r+o}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),t},parse:function(e,t){for(var n=new I.Parser(e,t),r=n.parseULong(),i=(L.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1),n.parseULong()),o=[],a=0;a<i;a++){for(var s="",u=t+n.parseUShort(),l=n.parseUShort(),c=u;c<u+l;++c)s+=String.fromCharCode(e.getInt8(c));o.push(s)}return o}};var it={parse:function(e,t){var n={},e=new I.Parser(e,t);return n.version=e.parseVersion(),n.numGlyphs=e.parseUShort(),1===n.version&&(n.maxPoints=e.parseUShort(),n.maxContours=e.parseUShort(),n.maxCompositePoints=e.parseUShort(),n.maxCompositeContours=e.parseUShort(),n.maxZones=e.parseUShort(),n.maxTwilightPoints=e.parseUShort(),n.maxStorage=e.parseUShort(),n.maxFunctionDefs=e.parseUShort(),n.maxInstructionDefs=e.parseUShort(),n.maxStackElements=e.parseUShort(),n.maxSizeOfInstructions=e.parseUShort(),n.maxComponentElements=e.parseUShort(),n.maxComponentDepth=e.parseUShort()),n},make:function(e){return new T.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}},ot=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],at={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},st={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ut={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};var lt="utf-16",ct={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ht={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function pt(e,t,n){switch(e){case 0:return lt;case 1:return ht[n]||ct[t];case 3:if(1===t||10===t)return lt}}function ft(e){var t,n={};for(t in e)n[e[t]]=parseInt(t);return n}function dt(e,t,n,r,i,o){return new T.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function yt(e,t){if((n=function(e,t){var n=e.length,r=t.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var o=0;o<n;o++)if(t[i+o]!==e[o])continue e;return i}return-1}(e,t))<0)for(var n=t.length,r=0,i=e.length;r<i;++r)t.push(e[r]);return n}var vt={parse:function(e,t,n){for(var r={},i=new I.Parser(e,t),t=i.parseUShort(),o=i.parseUShort(),a=i.offset+i.parseUShort(),s=0;s<o;s++){var u=i.parseUShort(),l=i.parseUShort(),c=i.parseUShort(),h=i.parseUShort(),h=ot[h]||h,p=i.parseUShort(),f=i.parseUShort(),d=function(e,t,n){switch(e){case 0:if(65535===t)return"und";if(n)return n[t];break;case 1:return at[t];case 3:return ut[t]}}(u,c,n),u=pt(u,l,c);void 0!==u&&void 0!==d&&(l=void 0,l=u===lt?se.UTF16(e,a+f,p):se.MACSTRING(e,a+f,p,u))&&((c=void 0===(c=r[h])?r[h]={}:c)[d]=l)}return 1===t&&i.parseUShort(),r},make:function(e,t){var n,r=[],i={},o=ft(ot);for(n in e){var a=o[n];if(void 0===a&&(a=n),p=parseInt(a),isNaN(p))throw new Error('Name table entry "'+n+'" does not exist, see nameTableNames for complete list.');i[p]=e[n],r.push(p)}for(var s=ft(at),u=ft(ut),l=[],c=[],h=0;h<r.length;h++){var p,f,d=i[p=r[h]];for(f in d){var y=d[f],v=1,m=s[f],g=st[m],b=pt(v,g,m),b=S.MACSTRING(y,b),x=(void 0===b&&(v=0,(m=t.indexOf(f))<0&&(m=t.length,t.push(f)),g=4,b=S.UTF16(y)),yt(b,c)),v=(l.push(dt(v,g,m,p,b.length,x)),u[f]);void 0!==v&&(m=yt(g=S.UTF16(y),c),l.push(dt(3,1,v,p,g.length,m)))}}l.sort(function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID});for(var w=new T.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:l.length},{name:"stringOffset",type:"USHORT",value:6+12*l.length}]),_=0;_<l.length;_++)w.fields.push({name:"record_"+_,type:"RECORD",value:l[_]});return w.fields.push({name:"strings",type:"LITERAL",value:c}),w}},mt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var gt={parse:function(e,t){var n={},r=new I.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),1<=n.version&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),2<=n.version&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n},make:function(e){return new T.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:mt,getUnicodeRange:function(e){for(var t=0;t<mt.length;t+=1){var n=mt[t];if(e>=n.begin&&e<n.end)return t}return-1}};var bt={parse:function(e,t){var n={},r=new I.Parser(e,t);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=c.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var o,a=0;a<n.numberOfGlyphs;a++)n.glyphNameIndex[a]>=c.length&&(o=r.parseChar(),n.names.push(r.parseString(o)));break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var s=0;s<n.numberOfGlyphs;s++)n.offset[s]=r.parseChar()}return n},make:function(){return new T.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},r=new Array(9),xt=(r[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(l.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(l.coverage),substitute:this.parseOffset16List()}:void L.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},r[2]=function(){var e=this.parseUShort();return L.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(l.coverage),sequences:this.parseListOfLists()}},r[3]=function(){var e=this.parseUShort();return L.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(l.coverage),alternateSets:this.parseListOfLists()}},r[4]=function(){var e=this.parseUShort();return L.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(l.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:l.uShort,lookupListIndex:l.uShort});r[5]=function(){var e,t,n=this.offset+this.relativeOffset,r=this.parseUShort();return 1===r?{substFormat:r,coverage:this.parsePointer(l.coverage),ruleSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,xt)}})}:2===r?{substFormat:r,coverage:this.parsePointer(l.coverage),classDef:this.parsePointer(l.classDef),classSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,xt)}})}:3===r?(e=this.parseUShort(),t=this.parseUShort(),{substFormat:r,coverages:this.parseList(e,l.pointer(l.coverage)),lookupRecords:this.parseRecordList(t,xt)}):void L.assert(!1,"0x"+n.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},r[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(l.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(xt)}})}:2===t?{substFormat:2,coverage:this.parsePointer(l.coverage),backtrackClassDef:this.parsePointer(l.classDef),inputClassDef:this.parsePointer(l.classDef),lookaheadClassDef:this.parsePointer(l.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(xt)}})}:3===t?{substFormat:3,backtrackCoverage:this.parseList(l.pointer(l.coverage)),inputCoverage:this.parseList(l.pointer(l.coverage)),lookaheadCoverage:this.parseList(l.pointer(l.coverage)),lookupRecords:this.parseRecordList(xt)}:void L.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},r[7]=function(){var e=this.parseUShort(),e=(L.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),t=new l(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:e,extension:r[e].call(t)}},r[8]=function(){var e=this.parseUShort();return L.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(l.coverage),backtrackCoverage:this.parseList(l.pointer(l.coverage)),lookaheadCoverage:this.parseList(l.pointer(l.coverage)),substitutes:this.parseUShortList()}};var wt=new Array(9);wt[1]=function(e){return 1===e.substFormat?new T.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new T.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new T.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new T.Coverage(e.coverage)}].concat(T.ushortList("substitute",e.substitute)))},wt[2]=function(e){return L.assert(1===e.substFormat,"Lookup type 2 substFormat must be 1."),new T.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new T.Coverage(e.coverage)}].concat(T.tableList("seqSet",e.sequences,function(e){return new T.Table("sequenceSetTable",T.ushortList("sequence",e))})))},wt[3]=function(e){return L.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new T.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new T.Coverage(e.coverage)}].concat(T.tableList("altSet",e.alternateSets,function(e){return new T.Table("alternateSetTable",T.ushortList("alternate",e))})))},wt[4]=function(e){return L.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new T.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new T.Coverage(e.coverage)}].concat(T.tableList("ligSet",e.ligatureSets,function(e){return new T.Table("ligatureSetTable",T.tableList("ligature",e,function(e){return new T.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(T.ushortList("component",e.components,e.components.length+1)))}))})))},wt[6]=function(e){var n;if(1===e.substFormat)return new T.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new T.Coverage(e.coverage)}].concat(T.tableList("chainRuleSet",e.chainRuleSets,function(e){return new T.Table("chainRuleSetTable",T.tableList("chainRule",e,function(e){var n=T.ushortList("backtrackGlyph",e.backtrack,e.backtrack.length).concat(T.ushortList("inputGlyph",e.input,e.input.length+1)).concat(T.ushortList("lookaheadGlyph",e.lookahead,e.lookahead.length)).concat(T.ushortList("substitution",[],e.lookupRecords.length));return e.lookupRecords.forEach(function(e,t){n=n.concat({name:"sequenceIndex"+t,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+t,type:"USHORT",value:e.lookupListIndex})}),new T.Table("chainRuleTable",n)}))})));if(2===e.substFormat)L.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(3===e.substFormat)return(n=[{name:"substFormat",type:"USHORT",value:e.substFormat}]).push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(e,t){n.push({name:"backtrackCoverage"+t,type:"TABLE",value:new T.Coverage(e)})}),n.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(e,t){n.push({name:"inputCoverage"+t,type:"TABLE",value:new T.Coverage(e)})}),n.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(e,t){n.push({name:"lookaheadCoverage"+t,type:"TABLE",value:new T.Coverage(e)})}),n.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(e,t){n=n.concat({name:"sequenceIndex"+t,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+t,type:"USHORT",value:e.lookupListIndex})}),new T.Table("chainContextTable",n);L.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};var _t={parse:function(e,t){return t=(e=new l(e,t=t||0)).parseVersion(1),L.argument(1===t||1.1===t,"Unsupported GSUB table version."),1===t?{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(r)}:{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(r),variations:e.parseFeatureVariationsList()}},make:function(e){return new T.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new T.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new T.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new T.LookupList(e.lookups,wt)}])}};var St={parse:function(e,t){for(var n=new I.Parser(e,t),r=n.parseULong(),i=(L.argument(1===r,"Unsupported META table version."),n.parseULong(),n.parseULong(),n.parseULong()),o={},a=0;a<i;a++){var s=n.parseTag(),u=n.parseULong(),l=n.parseULong(),u=se.UTF8(e,t+u,l);o[s]=u}return o},make:function(e){var t,n=Object.keys(e).length,r="",i=16+12*n,o=new T.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:n}]);for(t in e){var a=r.length;r+=e[t],o.fields.push({name:"tag "+t,type:"TAG",value:t}),o.fields.push({name:"offset "+t,type:"ULONG",value:i+a}),o.fields.push({name:"length "+t,type:"ULONG",value:e[t].length})}return o.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),o}};function Tt(e){return Math.log(e)/Math.log(2)|0}function Et(e){for(;e.length%4!=0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%=Math.pow(2,32)}function kt(e,t,n,r){return new T.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function Ot(e){for(var t=new T.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),n=(t.tables=e,t.numTables=e.length,Math.pow(2,Tt(t.numTables))),r=(t.searchRange=16*n,t.entrySelector=Tt(n),t.rangeShift=16*t.numTables-t.searchRange,[]),i=[],o=t.sizeOf()+kt().sizeOf()*t.numTables;o%4!=0;)o+=1,i.push({name:"padding",type:"BYTE",value:0});for(var a=0;a<e.length;a+=1){var s=e[a],u=(L.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid."),s.sizeOf()),l=kt(s.tableName,Et(s.encode()),o,u);for(r.push({name:l.tag+" Table Record",type:"RECORD",value:l}),i.push({name:s.tableName+" table",type:"RECORD",value:s}),o+=u,L.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!=0;)o+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(r),t.fields=t.fields.concat(i),t}function Pt(e,t,n){for(var r=0;r<t.length;r+=1){var i=e.charToGlyphIndex(t[r]);if(0<i)return e.glyphs.get(i).getMetrics()}return n}var Mt={make:Ot,fontToTable:function(e){for(var t,n=[],r=[],i=[],o=[],a=[],s=[],u=[],l=0,c=0,h=0,p=0,f=0,d=0;d<e.glyphs.length;d+=1){var y=e.glyphs.get(d),v=0|y.unicode;if(isNaN(y.advanceWidth))throw new Error("Glyph "+y.name+" ("+d+"): advanceWidth is not a number.");(v<t||void 0===t)&&0<v&&(t=v),l<v&&(l=v);var v=gt.getUnicodeRange(v);if(v<32)c|=1<<v;else if(v<64)h|=1<<v-32;else if(v<96)p|=1<<v-64;else{if(!(v<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");f|=1<<v-96}".notdef"!==y.name&&(v=y.getMetrics(),n.push(v.xMin),r.push(v.yMin),i.push(v.xMax),o.push(v.yMax),s.push(v.leftSideBearing),u.push(v.rightSideBearing),a.push(y.advanceWidth))}var m,g={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,a),advanceWidthAvg:function(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length}(a),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,u)},b=(g.ascender=e.ascender,g.descender=e.descender,et.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:g.xMin,yMin:g.yMin,xMax:g.xMax,yMax:g.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp})),x=tt.make({ascender:g.ascender,descender:g.descender,advanceWidthMax:g.advanceWidthMax,minLeftSideBearing:g.minLeftSideBearing,minRightSideBearing:g.minRightSideBearing,xMaxExtent:g.maxLeftSideBearing+(g.xMax-g.xMin),numberOfHMetrics:e.glyphs.length}),w=it.make(e.glyphs.length),_=gt.make(Object.assign({xAvgCharWidth:Math.round(g.advanceWidthAvg),usFirstCharIndex:t,usLastCharIndex:l,ulUnicodeRange1:c,ulUnicodeRange2:h,ulUnicodeRange3:p,ulUnicodeRange4:f,sTypoAscender:g.ascender,sTypoDescender:g.descender,sTypoLineGap:0,usWinAscent:g.yMax,usWinDescent:Math.abs(g.yMin),ulCodePageRange1:1,sxHeight:Pt(e,"xyvw",{yMax:Math.round(g.ascender/2)}).yMax,sCapHeight:Pt(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",g).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),S=nt.make(e.glyphs),T=ke.make(e.glyphs),E=e.getEnglishName("fontFamily"),k=e.getEnglishName("fontSubfamily"),O=E+" "+k,P=(P=e.getEnglishName("postScriptName"))||E.replace(/\s/g,"")+"-"+k,M={};for(m in e.names)M[m]=e.names[m];M.uniqueID||(M.uniqueID={en:e.getEnglishName("manufacturer")+":"+O}),M.postScriptName||(M.postScriptName={en:P}),M.preferredFamily||(M.preferredFamily=e.names.fontFamily),M.preferredSubfamily||(M.preferredSubfamily=e.names.fontSubfamily);var A=vt.make(M,R=[]),R=0<R.length?rt.make(R):void 0,C=bt.make(),O=$e.make(e.glyphs,{version:e.getEnglishName("version"),fullName:O,familyName:E,weightName:k,postScriptName:P,unitsPerEm:e.unitsPerEm,fontBBox:[0,g.yMin,g.ascender,g.advanceWidthMax]}),E=e.metas&&0<Object.keys(e.metas).length?St.make(e.metas):void 0,k=[b,x,w,_,A,T,C,O,S];R&&k.push(R),e.tables.gsub&&k.push(_t.make(e.tables.gsub)),E&&k.push(E);for(var j=Et((P=Ot(k)).encode()),L=P.fields,I=!1,D=0;D<L.length;D+=1)if("head table"===L[D].name){L[D].value.checkSumAdjustment=2981146554-j,I=!0;break}if(I)return P;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Et};function At(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,o=e[i].tag;if(o===t)return i;o<t?n=1+i:r=i-1}return-n-1}function Rt(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,o=e[i];if(o===t)return i;o<t?n=1+i:r=i-1}return-n-1}function Ct(e,t){for(var n=0,r=e.length-1;n<=r;){var i,o=n+r>>>1,a=(i=e[o]).start;if(a===t)return i;a<t?n=1+o:r=o-1}if(0<n)return t>(i=e[n-1]).end?0:i}function Lt(e,t){this.font=e,this.tableName=t}function It(e){Lt.call(this,e,"gpos")}function o(e){Lt.call(this,e,"gsub")}function Dt(e,t,n){for(var r=e.subtables,i=0;i<r.length;i++){var o=r[i];if(o.substFormat===t)return o}if(n)return r.push(n),n}function jt(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;++r)n[r]=e[r];return t}function Nt(e,t){if(!e)throw t}function Ft(e,t,n,r,i){var o=0<(t&r)?(o=e.parseByte(),n+(o=0==(t&i)?-o:o)):0<(t&i)?n:n+e.parseShort();return o}function Ut(e,t,n){var r,i=new I.Parser(t,n);if(e.numberOfContours=i.parseShort(),e._xMin=i.parseShort(),e._yMin=i.parseShort(),e._xMax=i.parseShort(),e._yMax=i.parseShort(),0<e.numberOfContours){for(var o=e.endPointIndices=[],a=0;a<e.numberOfContours;a+=1)o.push(i.parseUShort());e.instructionLength=i.parseUShort(),e.instructions=[];for(var s=0;s<e.instructionLength;s+=1)e.instructions.push(i.parseByte());for(var u=o[o.length-1]+1,l=[],c=0;c<u;c+=1)if(r=i.parseByte(),l.push(r),0<(8&r))for(var h=i.parseByte(),p=0;p<h;p+=1)l.push(r),c+=1;if(L.argument(l.length===u,"Bad flags."),0<o.length){var f,d=[];if(0<u){for(var y=0;y<u;y+=1)r=l[y],(f={}).onCurve=!!(1&r),f.lastPointOfContour=0<=o.indexOf(y),d.push(f);for(var v=0,m=0;m<u;m+=1)r=l[m],(f=d[m]).x=Ft(i,r,v,2,16),v=f.x;for(var g=0,b=0;b<u;b+=1)r=l[b],(f=d[b]).y=Ft(i,r,g,4,32),g=f.y}e.points=d}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var x=!0;x;){l=i.parseUShort();var w={glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&l)?0<(2&l)?(w.dx=i.parseShort(),w.dy=i.parseShort()):w.matchedPoints=[i.parseUShort(),i.parseUShort()]:0<(2&l)?(w.dx=i.parseChar(),w.dy=i.parseChar()):w.matchedPoints=[i.parseByte(),i.parseByte()],0<(8&l)?w.xScale=w.yScale=i.parseF2Dot14():0<(64&l)?(w.xScale=i.parseF2Dot14(),w.yScale=i.parseF2Dot14()):0<(128&l)&&(w.xScale=i.parseF2Dot14(),w.scale01=i.parseF2Dot14(),w.scale10=i.parseF2Dot14(),w.yScale=i.parseF2Dot14()),e.components.push(w),x=!!(32&l)}if(256&l){e.instructionLength=i.parseUShort(),e.instructions=[];for(var _=0;_<e.instructionLength;_+=1)e.instructions.push(i.parseByte())}}}function Bt(e,t){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],i={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(i)}return n}function zt(e){var t=new p;if(e)for(var n=function(e){for(var t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];n.push(i),i.lastPointOfContour&&(t.push(n),n=[])}return L.argument(0===n.length,"There are still points left in the current contour."),t}(e),r=0;r<n.length;++r){var i,o=n[r],a=o[o.length-1],s=o[0];a.onCurve?t.moveTo(a.x,a.y):s.onCurve?t.moveTo(s.x,s.y):(i={x:.5*(a.x+s.x),y:.5*(a.y+s.y)},t.moveTo(i.x,i.y));for(var u=0;u<o.length;++u){var l,c=a,a=s,s=o[(u+1)%o.length];a.onCurve?t.lineTo(a.x,a.y):(l=s,c.onCurve||(a.x,c.x,a.y,c.y),s.onCurve||(l={x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),t.quadraticCurveTo(a.x,a.y,l.x,l.y))}t.closePath()}return t}function Gt(e,t){if(t.isComposite)for(var n=0;n<t.components.length;n+=1){var r=t.components[n],i=e.get(r.glyphIndex);if(i.getPath(),i.points){var o=void 0;if(void 0===r.matchedPoints)o=Bt(i.points,r);else{if(r.matchedPoints[0]>t.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+t.name);var a=t.points[r.matchedPoints[0]],s=i.points[r.matchedPoints[1]],r={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0},s=Bt([s],r)[0];r.dx=a.x-s.x,r.dy=a.y-s.y,o=Bt(i.points,r)}t.points=t.points.concat(o)}}return zt(t.points)}(It.prototype=Lt.prototype={searchTag:At,binSearch:Rt,getTable:function(e){var t=this.font.tables[this.tableName];return t=!t&&e?this.font.tables[this.tableName]=this.createDefaultTable():t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,n=0;n<e.scripts.length;n++){var r=e.scripts[n].tag;if("DFLT"===r)return r;"latn"===r&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var n,r=this.getTable(t);if(r)return n=r.scripts,0<=(r=At(r.scripts,e=e||"DFLT"))?n[r].script:t?(n.splice(-1-r,0,t={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),t.script):void 0},getLangSysTable:function(e,t,n){var r,e=this.getScriptTable(e,n);if(e)return t&&"dflt"!==t&&"DFLT"!==t?0<=(r=At(e.langSysRecords,t))?e.langSysRecords[r].langSys:n?(e.langSysRecords.splice(-1-r,0,n={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),n.langSys):void 0:e.defaultLangSys},getFeatureTable:function(e,t,n,r){e=this.getLangSysTable(e,t,r);if(e){for(var i,o=e.featureIndexes,a=this.font.tables[this.tableName].features,s=0;s<o.length;s++)if((i=a[o[s]]).tag===n)return i.feature;if(r)return t=a.length,L.assert(0===t||n>=a[t-1].tag,"Features must be added in alphabetical order."),a.push(i={tag:n,feature:{params:0,lookupListIndexes:[]}}),o.push(t),i.feature}},getLookupTables:function(e,t,n,r,i){var e=this.getFeatureTable(e,t,n,i),o=[];if(e){for(var a,s=e.lookupListIndexes,u=this.font.tables[this.tableName].lookups,l=0;l<s.length;l++)(a=u[s[l]]).lookupType===r&&o.push(a);if(0===o.length&&i)return t=u.length,u.push(a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0}),s.push(t),[a]}return o},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var n=Ct(e.ranges,t);return n?n.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var n=Rt(e.glyphs,t);return 0<=n?n:-1;case 2:n=Ct(e.ranges,t);return n?n.index+t-n.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],n=e.ranges,r=0;r<n.length;r++)for(var i=n[r],o=i.start,a=i.end,s=o;s<=a;s++)t.push(s);return t}}).init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},It.prototype.getKerningValue=function(e,t,n){for(var r=0;r<e.length;r++)for(var i=e[r].subtables,o=0;o<i.length;o++){var a=i[o],s=this.getCoverageIndex(a.coverage,t);if(!(s<0))switch(a.posFormat){case 1:for(var u=a.pairSets[s],l=0;l<u.length;l++){var c=u[l];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var h=this.getGlyphClass(a.classDef1,t),p=this.getGlyphClass(a.classDef2,n),h=a.classRecords[h][p];return h.value1&&h.value1.xAdvance||0}}return 0},It.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},(o.prototype=Lt.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},o.prototype.getSingle=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,1),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++){var u=a[s],l=this.expandCoverage(u.coverage),c=void 0;if(1===u.substFormat)for(var h=u.deltaGlyphId,c=0;c<l.length;c++){var p=l[c];r.push({sub:p,by:p+h})}else{var f=u.substitute;for(c=0;c<l.length;c++)r.push({sub:l[c],by:f[c]})}}return r},o.prototype.getMultiple=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,2),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var u=a[s],l=this.expandCoverage(u.coverage),c=void 0,c=0;c<l.length;c++){var h=l[c],p=u.sequences[c];r.push({sub:h,by:p})}return r},o.prototype.getAlternates=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,3),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var u=a[s],l=this.expandCoverage(u.coverage),c=u.alternateSets,h=0;h<l.length;h++)r.push({sub:l[h],by:c[h]});return r},o.prototype.getLigatures=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,4),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var u=a[s],l=this.expandCoverage(u.coverage),c=u.ligatureSets,h=0;h<l.length;h++)for(var p=l[h],f=c[h],d=0;d<f.length;d++){var y=f[d];r.push({sub:[p].concat(y.components),by:y.ligGlyph})}return r},o.prototype.addSingle=function(e,t,n,r){n=Dt(this.getLookupTables(n,r,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),L.assert(1===n.coverage.format,"Single: unable to modify coverage table format "+n.coverage.format),r=t.sub,e=this.binSearch(n.coverage.glyphs,r);e<0&&(n.coverage.glyphs.splice(e=-1-e,0,r),n.substitute.splice(e,0,0)),n.substitute[e]=t.by},o.prototype.addMultiple=function(e,t,n,r){L.assert(t.by instanceof Array&&1<t.by.length,'Multiple: "by" must be an array of two or more ids');n=Dt(this.getLookupTables(n,r,e,2,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]}),L.assert(1===n.coverage.format,"Multiple: unable to modify coverage table format "+n.coverage.format),r=t.sub,e=this.binSearch(n.coverage.glyphs,r);e<0&&(n.coverage.glyphs.splice(e=-1-e,0,r),n.sequences.splice(e,0,0)),n.sequences[e]=t.by},o.prototype.addAlternate=function(e,t,n,r){n=Dt(this.getLookupTables(n,r,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),L.assert(1===n.coverage.format,"Alternate: unable to modify coverage table format "+n.coverage.format),r=t.sub,e=this.binSearch(n.coverage.glyphs,r);e<0&&(n.coverage.glyphs.splice(e=-1-e,0,r),n.alternateSets.splice(e,0,0)),n.alternateSets[e]=t.by},o.prototype.addLigature=function(e,t,n,r){var n=this.getLookupTables(n,r,e,4,!0)[0],r=n.subtables[0],e=(r||(n.subtables[0]=r={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),L.assert(1===r.coverage.format,"Ligature: unable to modify coverage table format "+r.coverage.format),t.sub[0]),i=t.sub.slice(1),n={ligGlyph:t.by,components:i},t=this.binSearch(r.coverage.glyphs,e);if(0<=t){for(var o=r.ligatureSets[t],a=0;a<o.length;a++)if(function(e,t){var n=e.length;if(n===t.length){for(var r=0;r<n;r++)if(e[r]!==t[r])return;return 1}}(o[a].components,i))return;o.push(n)}else r.coverage.glyphs.splice(t=-1-t,0,e),r.ligatureSets.splice(t,0,[n])},o.prototype.getFeature=function(e,t,n){if(/ss\d\d/.test(e))return this.getSingle(e,t,n);switch(e){case"aalt":case"salt":return this.getSingle(e,t,n).concat(this.getAlternates(e,t,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,n);case"ccmp":return this.getMultiple(e,t,n).concat(this.getLigatures(e,t,n));case"stch":return this.getMultiple(e,t,n)}},o.prototype.add=function(e,t,n,r){if(/ss\d\d/.test(e))return this.addSingle(e,t,n,r);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,n,r):this.addAlternate(e,t,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,n,r);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,n,r):this.addLigature(e,t,n,r)}};var Ht,Vt,Wt,qt,Yt={getPath:zt,parse:function(e,t,n,r,i){if(i.lowMemory)return o=e,a=t,s=n,u=r,l=new m.GlyphSet(u),u._push=function(e){var t=s[e];t!==s[e+1]?l.push(e,m.ttfGlyphLoader(u,e,Ut,o,a+t,Gt)):l.push(e,m.glyphLoader(u,e))},l;for(var o,a,s,u,l,c=e,h=t,p=n,f=r,d=new m.GlyphSet(f),y=0;y<p.length-1;y+=1){var v=p[y];v!==p[y+1]?d.push(y,m.ttfGlyphLoader(f,y,Ut,c,h+v,Gt)):d.push(y,m.glyphLoader(f,y))}return d}};function Xt(e){this.font=e,this.getCommands=function(e){return Yt.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Zt(e){return e}function Kt(e){return Math.sign(e)*Math.round(Math.abs(e))}function Qt(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function Jt(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function $t(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function e0(e){return Math.sign(e)*Math.floor(Math.abs(e))}function t0(e){var t=this.srPeriod,n=this.srPhase,r=1;return e<0&&(e=-e,r=-1),e+=this.srThreshold-n,e=Math.trunc(e/t)*t,(e+=n)<0?n*r:e*r}var d={x:1,y:0,axis:"x",distance:function(e,t,n,r){return(n?e.xo:e.x)-(r?t.xo:t.x)},interpolate:function(e,t,n,r){var i,o,a,s,u,l,c;if(!r||r===this)return i=e.xo-t.xo,o=e.xo-n.xo,u=t.x-t.xo,l=n.x-n.xo,0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?void(e.x=e.xo+(u+l)/2):void(e.x=e.xo+(u*s+l*a)/c);i=r.distance(e,t,!0,!0),o=r.distance(e,n,!0,!0),u=r.distance(t,t,!1,!0),l=r.distance(n,n,!1,!0),0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?d.setRelative(e,e,(u+l)/2,r,!0):d.setRelative(e,e,(u*s+l*a)/c,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,n,r,i){var o,a;r&&r!==this?(o=i?t.xo:t.x,a=i?t.yo:t.y,o+=n*r.x,a+=n*r.y,e.x=o+(e.y-a)/r.normalSlope):e.x=(i?t.xo:t.x)+n},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},y={x:0,y:1,axis:"y",distance:function(e,t,n,r){return(n?e.yo:e.y)-(r?t.yo:t.y)},interpolate:function(e,t,n,r){var i,o,a,s,u,l,c;if(!r||r===this)return i=e.yo-t.yo,o=e.yo-n.yo,u=t.y-t.yo,l=n.y-n.yo,0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?void(e.y=e.yo+(u+l)/2):void(e.y=e.yo+(u*s+l*a)/c);i=r.distance(e,t,!0,!0),o=r.distance(e,n,!0,!0),u=r.distance(t,t,!1,!0),l=r.distance(n,n,!1,!0),0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?y.setRelative(e,e,(u+l)/2,r,!0):y.setRelative(e,e,(u*s+l*a)/c,r,!0)},normalSlope:0,setRelative:function(e,t,n,r,i){var o,a;r&&r!==this?(o=i?t.xo:t.x,a=i?t.yo:t.y,o+=n*r.x,a+=n*r.y,e.y=a+r.normalSlope*(e.x-o)):e.y=(i?t.yo:t.y)+n},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function n0(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function r0(e,t){var n=Math.sqrt(e*e+t*t);return t/=n,1===(e/=n)&&0===t?d:0===e&&1===t?y:new n0(e,t)}function x(e,t,n,r){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(d),Object.freeze(y),n0.prototype.distance=function(e,t,n,r){return this.x*d.distance(e,t,n,r)+this.y*y.distance(e,t,n,r)},n0.prototype.interpolate=function(e,t,n,r){var i=r.distance(e,t,!0,!0),o=r.distance(e,n,!0,!0),t=r.distance(t,t,!1,!0),n=r.distance(n,n,!1,!0),i=Math.abs(i),o=Math.abs(o),a=i+o;0===a?this.setRelative(e,e,(t+n)/2,r,!0):this.setRelative(e,e,(t*o+n*i)/a,r,!0)},n0.prototype.setRelative=function(e,t,n,r,i){var o=i?t.xo:t.x,i=i?t.yo:t.y,t=o+n*(r=r||this).x,o=i+n*r.y,i=r.normalSlope,n=this.slope,r=e.x,a=e.y;e.x=(n*r-i*t+o-a)/(n-i),e.y=n*(e.x-r)+a},n0.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},x.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},x.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var i0=Object.freeze(new x(0,0)),o0={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function w(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=d,this.round=Kt}}function a0(e){for(var t=e.tZone=new Array(e.gZone.length),n=0;n<t.length;n++)t[n]=new x(0,0)}function s0(e,t){var n,r=e.prog,i=e.ip,o=1;do{if(88===(n=r[++i]))o++;else if(89===n)o--;else if(64===n)i+=r[i+1]+1;else if(65===n)i+=2*r[i+1]+1;else if(176<=n&&n<=183)i+=n-176+1;else if(184<=n&&n<=191)i+=2*(n-184+1);else if(t&&1===o&&27===n)break}while(0<o);e.ip=i}function u0(e,t){exports.DEBUG&&(t.step,e.axis),t.fv=t.pv=t.dpv=e}function l0(e,t){exports.DEBUG&&(t.step,e.axis),t.pv=t.dpv=e}function c0(e,t){exports.DEBUG&&(t.step,e.axis),t.fv=e}function h0(e,t){var n,r=t.stack,i=r.pop(),r=r.pop(),i=t.z2[i],r=t.z1[r];exports.DEBUG,e=e?(n=i.y-r.y,r.x-i.x):(n=r.x-i.x,r.y-i.y),t.pv=t.dpv=r0(n,e)}function p0(e,t){var n,r=t.stack,i=r.pop(),r=r.pop(),i=t.z2[i],r=t.z1[r];exports.DEBUG,e=e?(n=i.y-r.y,r.x-i.x):(n=r.x-i.x,r.y-i.y),t.fv=r0(n,e)}function f0(e){exports.DEBUG&&e.step,e.stack.pop()}function d0(e,t){var n=t.stack.pop(),r=t.z0[n],i=t.fv,o=t.pv,a=(exports.DEBUG&&t.step,o.distance(r,i0));e&&(a=t.round(a)),i.setRelative(r,i0,a,o),i.touch(r),t.rp0=t.rp1=n}function y0(e,t){var n,r,i,o=t.z2,a=o.length-2;exports.DEBUG&&(t.step,e.axis);for(var s=0;s<a;s++)n=o[s],e.touched(n)||(r=n.prevTouched(e))!==n&&(r===(i=n.nextTouched(e))&&e.setRelative(n,n,e.distance(r,r,!1,!0),e,!0),e.interpolate(n,r,i,e))}function v0(e,t){for(var n=t.stack,r=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[r],o=t.fv,a=t.pv,s=t.loop,u=t.z2;s--;){var l=n.pop(),l=u[l],c=a.distance(i,i,!1,!0);o.setRelative(l,l,c,a),o.touch(l),exports.DEBUG&&(t.step,1<t.loop)&&t.loop}t.loop=1}function m0(e,t){for(var n=t.stack,r=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[r],o=t.fv,a=t.pv,e=n.pop(),s=t.z2[t.contours[e]],u=s,l=(exports.DEBUG&&t.step,a.distance(i,i,!1,!0));u!==i&&o.setRelative(u,u,l,a),(u=u.nextPointOnContour)!==s;);}function g0(e,t){var n,r,i=t.stack,o=e?t.rp1:t.rp2,e=(e?t.z0:t.z1)[o],a=t.fv,s=t.pv,o=i.pop();switch(exports.DEBUG&&t.step,o){case 0:n=t.tZone;break;case 1:n=t.gZone;break;default:throw new Error("Invalid zone")}for(var u=s.distance(e,e,!1,!0),l=n.length-2,c=0;c<l;c++)r=n[c],a.setRelative(r,r,u,s)}function b0(e,t){var n=t.stack,r=n.pop()/64,n=n.pop(),i=t.z1[n],o=t.z0[t.rp0],a=t.fv,s=t.pv;a.setRelative(i,o,r,s),a.touch(i),exports.DEBUG&&t.step,t.rp1=t.rp0,t.rp2=n,e&&(t.rp0=n)}function x0(e,t){var n=t.stack,r=n.pop(),n=n.pop(),i=t.z0[n],o=t.fv,a=t.pv,r=t.cvt[r],s=(exports.DEBUG&&t.step,a.distance(i,i0));e&&(Math.abs(s-r)<t.cvCutIn&&(s=r),s=t.round(s)),o.setRelative(i,i0,s,a),0===t.zp0&&(i.xo=i.x,i.yo=i.y),o.touch(i),t.rp0=t.rp1=n}function w0(e,t){var n=t.stack,r=n.pop(),r=t.z2[r];exports.DEBUG&&t.step,n.push(64*t.dpv.distance(r,i0,e,!1))}function _0(e,t){var n=t.stack,r=n.pop(),n=n.pop(),r=t.z1[r],n=t.z0[n],n=t.dpv.distance(n,r,e,e);exports.DEBUG&&t.step,t.stack.push(Math.round(64*n))}function S0(e,t){var n=t.stack,r=n.pop(),i=t.fv,o=t.pv,a=t.ppem,s=t.deltaBase+16*(e-1),u=t.deltaShift,l=t.z0;exports.DEBUG&&t.step;for(var c=0;c<r;c++){var h=n.pop(),p=n.pop();s+((240&p)>>4)===a&&(0<=(p=(15&p)-8)&&p++,exports.DEBUG&&t.step,h=l[h],i.setRelative(h,h,p*u,o))}}function T0(e,t){var n=t.stack,r=n.pop();exports.DEBUG&&t.step,n.push(64*t.round(r/64))}function E0(e,t){var n=t.stack,r=n.pop(),i=t.ppem,o=t.deltaBase+16*(e-1),a=t.deltaShift;exports.DEBUG&&t.step;for(var s=0;s<r;s++){var u=n.pop(),l=n.pop();o+((240&l)>>4)===i&&(0<=(l=(15&l)-8)&&l++,l=l*a,exports.DEBUG&&t.step,t.cvt[u]+=l)}}function k0(e,t){var n,r=t.stack,i=r.pop(),r=r.pop(),i=t.z2[i],r=t.z1[r];exports.DEBUG&&t.step,e=e?(n=i.y-r.y,r.x-i.x):(n=r.x-i.x,r.y-i.y),t.dpv=r0(n,e)}function a(e,t){var n=t.stack,r=t.prog,i=t.ip;exports.DEBUG&&t.step;for(var o=0;o<e;o++)n.push(r[++i]);t.ip=i}function v(e,t){var n=t.ip,r=t.prog,i=t.stack;exports.DEBUG&&t.ip;for(var o=0;o<e;o++){var a=r[++n]<<8|r[++n];32768&a&&(a=-(1+(65535^a))),i.push(a)}t.ip=n}function _(e,t,n,r,i,o){var a,s=o.stack,u=e&&s.pop(),s=s.pop(),l=o.rp0,l=o.z0[l],c=o.z1[s],h=o.minDis,p=o.fv,f=o.dpv,d=f.distance(c,l,!0,!0),y=0<=d?1:-1;d=Math.abs(d),e&&(a=o.cvt[u],r)&&Math.abs(d-a)<o.cvCutIn&&(d=a),n&&d<h&&(d=h),r&&(d=o.round(d)),p.setRelative(c,l,y*d,f),p.touch(c),exports.DEBUG&&(o.step,e)&&o.cvt[u],o.rp1=o.rp0,o.rp2=s,t&&(o.rp0=s)}function O0(e){this.char=e,this.state={},this.activeState=null}function P0(e,t,n){this.contextName=n,this.startIndex=e,this.endOffset=t}function M0(e,t,n){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=n}function E(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function A0(e){this.eventId=e,this.subscribers=[]}function k(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],function(n){var r=this,e=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];e.forEach(function(e){Object.defineProperty(r.events,e,{value:new A0(e)})}),n&&e.forEach(function(e){var t=n[e];"function"==typeof t&&r.events[e].subscribe(t)}),["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach(function(e){r.events[e].subscribe(r.updateContextsRanges)})}.call(this,e)}function O(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function R0(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function P(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function C0(e){return/[A-z]/.test(e)}function M(e){this.font=e,this.features={}}function L0(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function I0(e,t){if(e)switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var n=t.ranges,r=0;r<n.length;r++){var i,o=n[r];if(e>=o.start&&e<=o.end)return i=e-o.start,o.index+i}break;default:return-1}return-1}function D0(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t.current,o=I0(Array.isArray(o)?o[0]:o,i);-1!==o&&n.push(o)}return n.length!==e.length?-1:n}Xt.prototype.exec=function(e,t){if("number"!=typeof t)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var n=this.font,r=this._prepState;if(!r||r.ppem!==t){var i=this._fpgmState;if(!i){w.prototype=o0,(i=this._fpgmState=new w("fpgm",n.tables.fpgm)).funcs=[],i.font=n,exports.DEBUG&&(i.step=-1);try{Vt(i)}catch(e){return void(this._errorState=3)}}w.prototype=i,(r=this._prepState=new w("prep",n.tables.prep)).ppem=t;var o=n.tables.cvt;if(o)for(var a=r.cvt=new Array(o.length),s=t/n.unitsPerEm,u=0;u<o.length;u++)a[u]=o[u]*s;else r.cvt=[];exports.DEBUG&&(r.step=-1);try{Vt(r)}catch(e){this._errorState,this._errorState=2}}if(!(1<this._errorState))try{return Wt(e,r)}catch(e){this._errorState,this._errorState=1}}},Wt=function(e,t){var n=t.ppem/t.font.unitsPerEm,r=n,i=e.components;if(w.prototype=t,i){for(var o=t.font,a=[],s=[],u=0;u<i.length;u++){var l=i[u],c=o.glyphs.get(l.glyphIndex),h=new w("glyf",c.instructions);exports.DEBUG&&(h.step=-1),qt(c,h,n,r);for(var p=Math.round(l.dx*n),f=Math.round(l.dy*r),d=h.gZone,y=h.contours,v=0;v<d.length;v++){var m=d[v];m.xTouched=m.yTouched=!1,m.xo=m.x=m.x+p,m.yo=m.y=m.y+f}var g=a.length;a.push.apply(a,d);for(var b=0;b<y.length;b++)s.push(y[b]+g)}e.instructions&&!h.inhibitGridFit&&((h=new w("glyf",e.instructions)).gZone=h.z0=h.z1=h.z2=a,h.contours=s,a.push(new x(0,0),new x(Math.round(e.advanceWidth*n),0)),exports.DEBUG&&(h.step=-1),Vt(h),a.length-=2)}else h=new w("glyf",e.instructions),exports.DEBUG&&(h.step=-1),qt(e,h,n,r),a=h.gZone;return a},qt=function(e,t,n,r){for(var i,o,a,s=e.points||[],u=s.length,l=t.gZone=t.z0=t.z1=t.z2=[],c=t.contours=[],h=0;h<u;h++)i=s[h],l[h]=new x(i.x*n,i.y*r,i.lastPointOfContour,i.onCurve);for(var p=0;p<u;p++)i=l[p],o||(o=i,c.push(p)),i.lastPointOfContour?((i.nextPointOnContour=o).prevPointOnContour=i,o=void 0):(a=l[p+1],(i.nextPointOnContour=a).prevPointOnContour=i);if(!t.inhibitGridFit){if(exports.DEBUG){t.stack;for(var f=0;f<u;f++)l[f].x,l[f].y}if(l.push(new x(0,0),new x(Math.round(e.advanceWidth*n),0)),Vt(t),l.length-=2,exports.DEBUG){t.stack;for(var d=0;d<u;d++)l[d].x,l[d].y}}},Vt=function(e){var t=e.prog;if(t){var n,r=t.length;for(e.ip=0;e.ip<r;e.ip++){if(exports.DEBUG&&e.step++,!(n=Ht[t[e.ip]]))throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));n(e)}}},Ht=[u0.bind(void 0,y),u0.bind(void 0,d),l0.bind(void 0,y),l0.bind(void 0,d),c0.bind(void 0,y),c0.bind(void 0,d),h0.bind(void 0,0),h0.bind(void 0,1),p0.bind(void 0,0),p0.bind(void 0,1),function(e){var t=(n=e.stack).pop(),n=n.pop();exports.DEBUG&&e.step,e.pv=e.dpv=r0(n,t)},function(e){var t=(n=e.stack).pop(),n=n.pop();exports.DEBUG&&e.step,e.fv=r0(n,t)},function(e){var t=e.stack,n=e.pv;exports.DEBUG&&e.step,t.push(16384*n.x),t.push(16384*n.y)},function(e){var t=e.stack,n=e.fv;exports.DEBUG&&e.step,t.push(16384*n.x),t.push(16384*n.y)},function(e){e.fv=e.pv,exports.DEBUG&&e.step},function(e){var t=(o=e.stack).pop(),n=o.pop(),r=o.pop(),i=o.pop(),o=o.pop(),a=e.z0,s=e.z1,t=a[t],a=a[n],n=s[r],r=s[i],s=e.z2[o],i=(exports.DEBUG,t.x),e=t.y,o=a.x,t=a.y,a=n.x,n=n.y,u=r.x,r=r.y,l=(i-o)*(n-r)-(e-t)*(a-u),c=i*t-e*o,h=a*r-n*u;s.x=(c*(a-u)-h*(i-o))/l,s.y=(c*(n-r)-h*(e-t))/l},function(e){e.rp0=e.stack.pop(),exports.DEBUG&&(e.step,e.rp0)},function(e){e.rp1=e.stack.pop(),exports.DEBUG&&(e.step,e.rp1)},function(e){e.rp2=e.stack.pop(),exports.DEBUG&&(e.step,e.rp2)},function(e){var t=e.stack.pop();switch(exports.DEBUG&&e.step,e.zp0=t){case 0:e.tZone||a0(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&e.step,e.zp1=t){case 0:e.tZone||a0(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&e.step,e.zp2=t){case 0:e.tZone||a0(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&e.step,e.zp0=e.zp1=e.zp2=t){case 0:e.tZone||a0(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),exports.DEBUG&&(e.step,e.loop)},function(e){exports.DEBUG&&e.step,e.round=Kt},function(e){exports.DEBUG&&e.step,e.round=Jt},function(e){var t=e.stack.pop();exports.DEBUG&&e.step,e.minDis=t/64},function(e){exports.DEBUG&&e.step,s0(e,!1)},function(e){var t=e.stack.pop();exports.DEBUG&&e.step,e.ip+=t-1},function(e){var t=e.stack.pop();exports.DEBUG&&e.step,e.cvCutIn=t/64},void 0,void 0,function(e){var t=e.stack;exports.DEBUG&&e.step,t.push(t[t.length-1])},f0,function(e){exports.DEBUG&&e.step,e.stack.length=0},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n),t.push(r)},function(e){var t=e.stack;exports.DEBUG&&e.step,t.push(t.length)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(t[t.length-n])},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(t.splice(t.length-n,1)[0])},void 0,void 0,void 0,function(e){var t=(r=e.stack).pop(),n=r.pop(),r=(exports.DEBUG&&e.step,e.ip),i=e.prog;e.prog=e.funcs[t];for(var o=0;o<n;o++)Vt(e),exports.DEBUG&&++e.step;e.ip=r,e.prog=i},function(e){var t=e.stack.pop(),n=(exports.DEBUG&&e.step,e.ip),r=e.prog;e.prog=e.funcs[t],Vt(e),e.ip=n,e.prog=r,exports.DEBUG&&++e.step},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var t=e.stack,n=e.prog,r=e.ip,t=t.pop(),i=r;for(exports.DEBUG&&e.step;45!==n[++r];);e.ip=r,e.funcs[t]=n.slice(i+1,r)},void 0,d0.bind(void 0,0),d0.bind(void 0,1),y0.bind(void 0,y),y0.bind(void 0,d),v0.bind(void 0,0),v0.bind(void 0,1),m0.bind(void 0,0),m0.bind(void 0,1),g0.bind(void 0,0),g0.bind(void 0,1),function(e){for(var t=e.stack,n=e.loop,r=e.fv,i=t.pop()/64,o=e.z2;n--;){var a=t.pop(),a=o[a];exports.DEBUG&&(e.step,1<e.loop)&&e.loop,r.setRelative(a,a,i),r.touch(a)}e.loop=1},function(e){for(var t=e.stack,n=e.rp1,r=e.rp2,i=e.loop,o=e.z0[n],a=e.z1[r],s=e.fv,u=e.dpv,l=e.z2;i--;){var c=t.pop(),c=l[c];exports.DEBUG&&(e.step,1<e.loop)&&e.loop,s.interpolate(c,o,a,u),s.touch(c)}e.loop=1},b0.bind(void 0,0),b0.bind(void 0,1),function(e){for(var t=e.stack,n=e.rp0,r=e.z0[n],i=e.loop,o=e.fv,a=e.pv,s=e.z1;i--;){var u=t.pop(),u=s[u];exports.DEBUG&&(e.step,1<e.loop)&&e.loop,o.setRelative(u,r,0,a),o.touch(u)}e.loop=1},function(e){exports.DEBUG&&e.step,e.round=Qt},x0.bind(void 0,0),x0.bind(void 0,1),function(e){var t=e.prog,n=e.ip,r=e.stack,i=t[++n];exports.DEBUG&&e.step;for(var o=0;o<i;o++)r.push(t[++n]);e.ip=n},function(e){var t=e.ip,n=e.prog,r=e.stack,i=n[++t];exports.DEBUG&&e.step;for(var o=0;o<i;o++){var a=n[++t]<<8|n[++t];32768&a&&(a=-(1+(65535^a))),r.push(a)}e.ip=t},function(e){var t=e.stack,n=(n=e.store)||(e.store=[]),r=t.pop(),t=t.pop();exports.DEBUG&&e.step,n[t]=r},function(e){var t=e.stack,n=e.store,r=t.pop(),e=(exports.DEBUG&&e.step,n&&n[r]||0);t.push(e)},function(e){var t=(n=e.stack).pop(),n=n.pop();exports.DEBUG&&e.step,e.cvt[n]=t/64},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(64*e.cvt[n])},w0.bind(void 0,0),w0.bind(void 0,1),void 0,_0.bind(void 0,0),_0.bind(void 0,1),function(e){exports.DEBUG&&e.step,e.stack.push(e.ppem)},void 0,function(e){exports.DEBUG&&e.step,e.autoFlip=!0},void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(r<n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(r<=n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n<r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n<=r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n===r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n!==r?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(Math.trunc(n)%2?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(Math.trunc(n)%2?0:1)},function(e){var t=e.stack.pop();exports.DEBUG&&e.step,t||(s0(e,!0),exports.DEBUG&&e.step)},function(e){exports.DEBUG&&e.step},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n&&r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n||r?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(n?0:1)},S0.bind(void 0,1),function(e){var t=e.stack.pop();exports.DEBUG&&e.step,e.deltaBase=t},function(e){var t=e.stack.pop();exports.DEBUG&&e.step,e.deltaShift=Math.pow(.5,t)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(r+n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(r-n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(64*r/n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(r*n/64)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(Math.abs(n))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(-n)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(64*Math.floor(n/64))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(64*Math.ceil(n/64))},T0.bind(void 0,0),T0.bind(void 0,1),T0.bind(void 0,2),T0.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var t=(n=e.stack).pop(),n=n.pop();exports.DEBUG&&e.step,e.cvt[n]=t*e.ppem/e.font.unitsPerEm},S0.bind(void 0,2),S0.bind(void 0,3),E0.bind(void 0,1),E0.bind(void 0,2),E0.bind(void 0,3),function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&e.step,e.round=t0,192&n){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}e.srThreshold=0==(n&=15)?0:(n/8-.5)*t},function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&e.step,e.round=t0,192&n){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}e.srThreshold=0==(n&=15)?0:(n/8-.5)*t},void 0,void 0,function(e){exports.DEBUG&&e.step,e.round=Zt},void 0,function(e){exports.DEBUG&&e.step,e.round=$t},function(e){exports.DEBUG&&e.step,e.round=e0},f0,f0,void 0,void 0,void 0,void 0,void 0,function(e){e.stack.pop(),exports.DEBUG&&e.step},k0.bind(void 0,0),k0.bind(void 0,1),function(e){var t=e.stack,n=t.pop(),r=0;exports.DEBUG&&e.step,1&n&&(r=35),32&n&&(r|=4096),t.push(r)},void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop(),i=t.pop();exports.DEBUG&&e.step,t.push(r),t.push(n),t.push(i)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(Math.max(r,n))},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(Math.min(r,n))},function(e){e.stack.pop(),exports.DEBUG&&e.step},function(e){var t=e.stack.pop(),n=e.stack.pop();switch(exports.DEBUG&&e.step,t){case 1:return void(e.inhibitGridFit=!!n);case 2:return void(e.ignoreCvt=!!n);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a.bind(void 0,1),a.bind(void 0,2),a.bind(void 0,3),a.bind(void 0,4),a.bind(void 0,5),a.bind(void 0,6),a.bind(void 0,7),a.bind(void 0,8),v.bind(void 0,1),v.bind(void 0,2),v.bind(void 0,3),v.bind(void 0,4),v.bind(void 0,5),v.bind(void 0,6),v.bind(void 0,7),v.bind(void 0,8),_.bind(void 0,0,0,0,0,0),_.bind(void 0,0,0,0,0,1),_.bind(void 0,0,0,0,0,2),_.bind(void 0,0,0,0,0,3),_.bind(void 0,0,0,0,1,0),_.bind(void 0,0,0,0,1,1),_.bind(void 0,0,0,0,1,2),_.bind(void 0,0,0,0,1,3),_.bind(void 0,0,0,1,0,0),_.bind(void 0,0,0,1,0,1),_.bind(void 0,0,0,1,0,2),_.bind(void 0,0,0,1,0,3),_.bind(void 0,0,0,1,1,0),_.bind(void 0,0,0,1,1,1),_.bind(void 0,0,0,1,1,2),_.bind(void 0,0,0,1,1,3),_.bind(void 0,0,1,0,0,0),_.bind(void 0,0,1,0,0,1),_.bind(void 0,0,1,0,0,2),_.bind(void 0,0,1,0,0,3),_.bind(void 0,0,1,0,1,0),_.bind(void 0,0,1,0,1,1),_.bind(void 0,0,1,0,1,2),_.bind(void 0,0,1,0,1,3),_.bind(void 0,0,1,1,0,0),_.bind(void 0,0,1,1,0,1),_.bind(void 0,0,1,1,0,2),_.bind(void 0,0,1,1,0,3),_.bind(void 0,0,1,1,1,0),_.bind(void 0,0,1,1,1,1),_.bind(void 0,0,1,1,1,2),_.bind(void 0,0,1,1,1,3),_.bind(void 0,1,0,0,0,0),_.bind(void 0,1,0,0,0,1),_.bind(void 0,1,0,0,0,2),_.bind(void 0,1,0,0,0,3),_.bind(void 0,1,0,0,1,0),_.bind(void 0,1,0,0,1,1),_.bind(void 0,1,0,0,1,2),_.bind(void 0,1,0,0,1,3),_.bind(void 0,1,0,1,0,0),_.bind(void 0,1,0,1,0,1),_.bind(void 0,1,0,1,0,2),_.bind(void 0,1,0,1,0,3),_.bind(void 0,1,0,1,1,0),_.bind(void 0,1,0,1,1,1),_.bind(void 0,1,0,1,1,2),_.bind(void 0,1,0,1,1,3),_.bind(void 0,1,1,0,0,0),_.bind(void 0,1,1,0,0,1),_.bind(void 0,1,1,0,0,2),_.bind(void 0,1,1,0,0,3),_.bind(void 0,1,1,0,1,0),_.bind(void 0,1,1,0,1,1),_.bind(void 0,1,1,0,1,2),_.bind(void 0,1,1,0,1,3),_.bind(void 0,1,1,1,0,0),_.bind(void 0,1,1,1,0,1),_.bind(void 0,1,1,1,0,2),_.bind(void 0,1,1,1,0,3),_.bind(void 0,1,1,1,1,0),_.bind(void 0,1,1,1,1,1),_.bind(void 0,1,1,1,1,2),_.bind(void 0,1,1,1,1,3)],O0.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState},O0.prototype.getState=function(e){return this.state[e]||null},k.prototype.inboundIndex=function(e){return 0<=e&&e<this.tokens.length},k.prototype.composeRUD=function(e){function t(e){return"object"==typeof e&&e.hasOwnProperty("FAIL")}var n=this,e=e.map(function(e){return n[e[0]].apply(n,e.slice(1).concat(!0))});if(e.every(t))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:e.filter(t)};this.dispatch("composeRUD",[e.filter(function(e){return!t(e)})])},k.prototype.replaceRange=function(e,t,n,r){t=null!==t?t:this.tokens.length;var i=n.every(function(e){return e instanceof O0});return!isNaN(e)&&this.inboundIndex(e)&&i?(i=this.tokens.splice.apply(this.tokens,[e,t].concat(n)),r||this.dispatch("replaceToken",[e,t,n]),[i,n]):{FAIL:"replaceRange: invalid tokens or startIndex."}},k.prototype.replaceToken=function(e,t,n){var r;return!isNaN(e)&&this.inboundIndex(e)&&t instanceof O0?(r=this.tokens.splice(e,1,t),n||this.dispatch("replaceToken",[e,t]),[r[0],t]):{FAIL:"replaceToken: invalid token or index."}},k.prototype.removeRange=function(e,t,n){t=isNaN(t)?this.tokens.length:t;var r=this.tokens.splice(e,t);return n||this.dispatch("removeRange",[r,e,t]),r},k.prototype.removeToken=function(e,t){var n;return!isNaN(e)&&this.inboundIndex(e)?(n=this.tokens.splice(e,1),t||this.dispatch("removeToken",[n,e]),n):{FAIL:"removeToken: invalid token index."}},k.prototype.insertToken=function(e,t,n){return e.every(function(e){return e instanceof O0})?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),n||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}},k.prototype.registerModifier=function(n,r,i){this.events.newToken.subscribe(function(e,t){null!==r&&!0!==r.apply(this,[e,t])||(t=i.apply(this,[e,t]),e.setState(n,t))}),this.registeredModifiers.push(n)},A0.prototype.subscribe=function(e){return"function"==typeof e?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},A0.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)},E.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)},E.prototype.get=function(e){switch(!0){case 0===e:return this.current;case e<0&&Math.abs(e)<=this.backtrack.length:return this.backtrack.slice(e)[0];case 0<e&&e<=this.lookahead.length:return this.lookahead[e-1];default:return null}},k.prototype.rangeToText=function(e){if(e instanceof P0)return this.getRangeTokens(e).map(function(e){return e.char}).join("")},k.prototype.getText=function(){return this.tokens.map(function(e){return e.char}).join("")},k.prototype.getContext=function(e){e=this.registeredContexts[e];return e||null},k.prototype.on=function(e,t){e=this.events[e];return e?e.subscribe(t):null},k.prototype.dispatch=function(e,t){var n=this,e=this.events[e];e instanceof A0&&e.subscribers.forEach(function(e){e.apply(n,t||[])})},k.prototype.registerContextChecker=function(e,t,n){return this.getContext(e)?{FAIL:"context name '"+e+"' is already registered."}:"function"!=typeof t?{FAIL:"missing context start check."}:"function"!=typeof n?{FAIL:"missing context end check."}:(t=new M0(e,t,n),this.registeredContexts[e]=t,this.contextCheckers.push(t),t)},k.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))},k.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}},k.prototype.resetContextsRanges=function(){var e,t=this.registeredContexts;for(e in t)t.hasOwnProperty(e)&&(t[e].ranges=[])},k.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map(function(e){return e.char}),t=0;t<e.length;t++){var n=new E(e,t);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])},k.prototype.setEndOffset=function(e,t){var e=new P0(this.getContext(t).openRange.startIndex,e,t),n=this.getContext(t).ranges;return e.rangeId=t+"."+n.length,n.push(e),this.getContext(t).openRange=null,e},k.prototype.runContextCheck=function(r){var i=this,o=r.index;this.contextCheckers.forEach(function(e){var t=e.contextName,n=i.getContext(t).openRange;!n&&e.checkStart(r)&&(n=new P0(o,null,t),i.getContext(t).openRange=n,i.dispatch("contextStart",[t,o])),n&&e.checkEnd(r)&&(e=o-n.startIndex+1,n=i.setEndOffset(e,t),i.dispatch("contextEnd",[t,n]))})},k.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var n=0;n<t.length;n++){var r=t[n],i=new E(t,n),r=(this.dispatch("next",[i]),this.runContextCheck(i),new O0(r));this.tokens.push(r),this.dispatch("newToken",[r,i])}return this.dispatch("end",[this.tokens]),this.tokens},M.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var n=e[t];if("DFLT"===n.tag)return n.script.defaultLangSys.featureIndexes}return[]},M.prototype.getScriptFeaturesIndexes=function(e){if(!this.font.tables.gsub)return[];if(e)for(var t=this.font.tables.gsub.scripts,n=0;n<t.length;n++){var r=t[n];if(r.tag===e&&r.script.defaultLangSys)return r.script.defaultLangSys.featureIndexes;var i=r.langSysRecords;if(i)for(var o=0;o<i.length;o++){var a=i[o];if(a.tag===e)return a.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},M.prototype.mapTagsToFeatures=function(e,t){for(var n={},r=0;r<e.length;r++){var i=e[r].tag,o=e[r].feature;n[i]=o}this.features[t].tags=n},M.prototype.getScriptFeatures=function(e){var t=this.features[e];if(!this.features.hasOwnProperty(e)){var n=this.getScriptFeaturesIndexes(e);if(!n)return null;var r=this.font.tables.gsub,t=n.map(function(e){return r.features[e]});this.features[e]=t,this.mapTagsToFeatures(t,e)}return t},M.prototype.getSubstitutionType=function(e,t){return e.lookupType.toString()+t.substFormat.toString()},M.prototype.getLookupMethod=function(e,t){var n=this;switch(this.getSubstitutionType(e,t)){case"11":return function(e){return function(e,t){return-1===I0(e,t.coverage)?null:e+t.deltaGlyphId}.apply(n,[e,t])};case"12":return function(e){return function(e,t){return-1===(e=I0(e,t.coverage))?null:t.substitute[e]}.apply(n,[e,t])};case"63":return function(e){return function(e,t){var n=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<n)return[];var r=D0(t.inputCoverage,e);if(-1===r)return[];if(n=t.inputCoverage.length-1,e.lookahead.length<t.lookaheadCoverage.length)return[];for(var i=e.lookahead.slice(n);i.length&&P(i[0].char);)i.shift();var n=new E(i,0),n=D0(t.lookaheadCoverage,n),o=[].concat(e.backtrack);for(o.reverse();o.length&&P(o[0].char);)o.shift();if(o.length<t.backtrackCoverage.length)return[];var a=new E(o,0),a=D0(t.backtrackCoverage,a),s=[];if(r.length===t.inputCoverage.length&&n.length===t.lookaheadCoverage.length&&a.length===t.backtrackCoverage.length)for(var u=0;u<t.lookupRecords.length;u++)for(var l=t.lookupRecords[u].lookupListIndex,c=this.getLookupByIndex(l),h=0;h<c.subtables.length;h++){var p=c.subtables[h],f=this.getLookupMethod(c,p);if("12"===this.getSubstitutionType(c,p))for(var d=0;d<r.length;d++){var y=f(e.get(d));y&&s.push(y)}}return s}.apply(n,[e,t])};case"41":return function(e){return function(e,t){var n=I0(e.current,t.coverage);if(-1!==n)for(var r=t.ligatureSets[n],i=0;i<r.length;i++)for(var o=r[i],a=0;a<o.components.length;a++){if(e.lookahead[a]!==o.components[a])break;if(a===o.components.length-1)return o}return null}.apply(n,[e,t])};case"21":return function(e){return function(e,t){return-1===(e=I0(e,t.coverage))?null:t.sequences[e]}.apply(n,[e,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}},M.prototype.lookupFeature=function(e){var t=e.contextParams,n=t.index,r=this.getFeature({tag:e.tag,script:e.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var i=this.getFeatureLookups(r),o=[].concat(t.context),a=0;a<i.length;a++)for(var s=i[a],u=this.getLookupSubtables(s),l=0;l<u.length;l++){var c=u[l],h=this.getSubstitutionType(s,c),p=this.getLookupMethod(s,c),f=void 0;switch(h){case"11":(f=p(t.current))&&o.splice(n,1,new L0({id:11,tag:e.tag,substitution:f}));break;case"12":(f=p(t.current))&&o.splice(n,1,new L0({id:12,tag:e.tag,substitution:f}));break;case"63":f=p(t),Array.isArray(f)&&f.length&&o.splice(n,1,new L0({id:63,tag:e.tag,substitution:f}));break;case"41":(f=p(t))&&o.splice(n,1,new L0({id:41,tag:e.tag,substitution:f}));break;case"21":(f=p(t.current))&&o.splice(n,1,new L0({id:21,tag:e.tag,substitution:f}))}t=new E(o,n),Array.isArray(f)&&!f.length||(f=null)}return o.length?o:null},M.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e,n=this.features.hasOwnProperty(t.script);return t.tag?(e=this.features[t.script].some(function(e){return e.tag===t.tag}),n&&e):n},M.prototype.getLookupSubtables=function(e){return e.subtables||null},M.prototype.getLookupByIndex=function(e){return this.font.tables.gsub.lookups[e]||null},M.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))},M.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};var j0={startCheck:function(e){var t=e.current;return null===(e=e.get(-1))&&O(t)||!O(e)&&O(t)},endCheck:function(e){return null===(e=e.get(1))||!O(e)}};var N0={startCheck:function(e){var t=e.current,e=e.get(-1);return(O(t)||P(t))&&!O(e)},endCheck:function(e){var t=e.get(1);switch(!0){case null===t:return!0;case!O(t)&&!P(t):var n=/\s/.test(t);if(!n)return!0;if(n)if(!e.lookahead.some(function(e){return O(e)||P(e)}))return!0;break;default:return!1}}};var F0={11:function(e,t,n){t[n].setState(e.tag,e.substitution)},12:function(e,t,n){t[n].setState(e.tag,e.substitution)},63:function(n,r,i){n.substitution.forEach(function(e,t){r[i+t].setState(n.tag,e)})},41:function(e,t,n){for(var r=t[n],i=(r.setState(e.tag,e.substitution.ligGlyph),e.substitution.components.length),o=0;o<i;o++)(r=t[n+o+1]).setState("deleted",!0)}};function U0(e,t,n){e instanceof L0&&F0[e.id]&&F0[e.id](e,t,n)}function B0(e){var r,i,o=this,a=this.featuresTags.arab,s=this.tokenizer.getRangeTokens(e);1!==s.length&&(r=new E(s.map(function(e){return e.getState("glyphIndex")}),0),i=new E(s.map(function(e){return e.char}),0),s.forEach(function(e,t){if(!P(e.char)){r.setCurrentIndex(t),i.setCurrentIndex(t);var n,e=0;switch(!function(e){for(var t=[].concat(e.backtrack),n=t.length-1;0<=n;n--){var r=t[n],i=R0(r),r=P(r);if(!i&&!r)return 1;if(i)return}}(i)||(e|=1),!function(e){if(!R0(e.current))for(var t=0;t<e.lookahead.length;t++)if(!P(e.lookahead[t]))return 1}(i)||(e|=2),e){case 1:n="fina";break;case 2:n="init";break;case 3:n="medi"}if(-1!==a.indexOf(n))return(t=o.query.lookupFeature({tag:n,script:"arab",contextParams:r}))instanceof Error?console.info(t.message):void t.forEach(function(e,t){e instanceof L0&&(U0(e,s,t),r.context[t]=e.substitution)})}}))}function z0(e,t){return new E(e.map(function(e){return e.activeState.value}),t||0)}var G0={startCheck:function(e){var t=e.current;return null===(e=e.get(-1))&&C0(t)||!C0(e)&&C0(t)},endCheck:function(e){return null===(e=e.get(1))||!C0(e)}};function H0(e,t){return new E(e.map(function(e){return e.activeState.value}),t||0)}function A(e){this.baseDir=e||"ltr",this.tokenizer=new k,this.featuresTags={}}function V0(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function W0(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function q0(){var t=this;this.featuresTags.hasOwnProperty("arab")&&-1!==this.featuresTags.arab.indexOf("rlig")&&(W0.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(function(e){!function(e){var r=this,i=this.tokenizer.getRangeTokens(e),o=z0(i);o.context.forEach(function(e,t){o.setCurrentIndex(t);var n=r.query.lookupFeature({tag:"rlig",script:"arab",contextParams:o});n.length&&(n.forEach(function(e){return U0(e,i,t)}),o=z0(i))})}.call(t,e)}))}function Y0(){var t=this;this.featuresTags.hasOwnProperty("latn")&&-1!==this.featuresTags.latn.indexOf("liga")&&(W0.call(this),this.tokenizer.getContextRanges("latinWord").forEach(function(e){!function(e){var r=this,i=this.tokenizer.getRangeTokens(e),o=H0(i);o.context.forEach(function(e,t){o.setCurrentIndex(t);var n=r.query.lookupFeature({tag:"liga",script:"latn",contextParams:o});n.length&&(n.forEach(function(e){return U0(e,i,t)}),o=H0(i))})}.call(t,e)}))}function R(e){(e=e||{}).tables=e.tables||{},e.empty||(Nt(e.familyName,"When creating a new Font object, familyName is required."),Nt(e.styleName,"When creating a new Font object, styleName is required."),Nt(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Nt(e.ascender,"When creating a new Font object, ascender is required."),Nt(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new m.GlyphSet(this,e.glyphs||[]),this.encoding=new Ae(this),this.position=new It(this),this.substitution=new o(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Xt(this):void 0)}})}function X0(e,t){var n,r=JSON.stringify(e),i=256;for(n in t){var o=parseInt(n);if(o&&!(o<256)){if(JSON.stringify(t[n])===r)return o;i<=o&&(i=o+1)}}return t[i]=e,i}A.prototype.setText=function(e){this.text=e},A.prototype.contextChecks={latinWordCheck:G0,arabicWordCheck:j0,arabicSentenceCheck:N0},A.prototype.registerFeatures=function(t,e){var n=this,e=e.filter(function(e){return n.query.supports({script:t,tag:e})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(e):this.featuresTags[t]=e},A.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new M(e));for(var n=0;n<t.length;n++){var r=t[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}},A.prototype.registerModifier=function(e,t,n){this.tokenizer.registerModifier(e,t,n)},A.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)},A.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(!function(){var t=this;this.featuresTags.hasOwnProperty("arab")&&(W0.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(function(e){B0.call(t,e)}))}.call(this),q0.call(this)),this.checkContextReady("latinWord")&&Y0.call(this),this.checkContextReady("arabicSentence")&&function(){var n=this;this.tokenizer.getContextRanges("arabicSentence").forEach(function(e){var t=n.tokenizer.getRangeTokens(e);n.tokenizer.replaceRange(e.startIndex,e.endOffset,t.reverse())})}.call(this)},A.prototype.processText=function(e){this.text&&this.text===e||(this.setText(e),function(){return V0.call(this,"latinWord"),V0.call(this,"arabicWord"),V0.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}.call(this),this.applyFeaturesToContexts())},A.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()},A.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];r.state.deleted||(r=r.activeState.value,t.push(Array.isArray(r)?r[0]:r))}return t},R.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},R.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},R.prototype.charToGlyph=function(e){e=this.charToGlyphIndex(e);return this.glyphs.get(e)||this.glyphs.get(0)},R.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return"latn"===e.script?{script:"latn",tags:e.tags.filter(function(e){return t[e]})}:e})},R.prototype.stringToGlyphs=function(e,t){for(var n=this,r=new A,t=(r.registerModifier("glyphIndex",null,function(e){return n.charToGlyphIndex(e.char)}),t?this.updateFeatures(t.features):this.defaultRenderOptions.features),i=(r.applyFeatures(this,t),r.getTextGlyphs(e)),o=i.length,a=new Array(o),s=this.glyphs.get(0),u=0;u<o;u+=1)a[u]=this.glyphs.get(i[u])||s;return a},R.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},R.prototype.nameToGlyph=function(e){e=this.nameToGlyphIndex(e);return this.glyphs.get(e)||this.glyphs.get(0)},R.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},R.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,t):this.kerningPairs[e+","+t]||0},R.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},R.prototype.forEachGlyph=function(e,t,n,r,i,o){t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:72,i=Object.assign({},this.defaultRenderOptions,i);var a,s=1/this.unitsPerEm*r,u=this.stringToGlyphs(e,i);i.kerning&&(e=i.script||this.position.getDefaultScriptName(),a=this.position.getKerningTables(e,i.language));for(var l=0;l<u.length;l+=1){var c=u[l];o.call(this,c,t,n,r,i),c.advanceWidth&&(t+=c.advanceWidth*s),i.kerning&&l<u.length-1&&(t+=(a?this.position.getKerningValue(a,c.index,u[l+1].index):this.getKerningValue(c,u[l+1]))*s),i.letterSpacing?t+=i.letterSpacing*r:i.tracking&&(t+=i.tracking/1e3*r)}return t},R.prototype.getPath=function(e,t,n,r,i){var o=new p;return this.forEachGlyph(e,t,n,r,i,function(e,t,n,r){e=e.getPath(t,n,r,i,this);o.extend(e)}),o},R.prototype.getPaths=function(e,t,n,r,i){var o=[];return this.forEachGlyph(e,t,n,r,i,function(e,t,n,r){e=e.getPath(t,n,r,i,this);o.push(e)}),o},R.prototype.getAdvanceWidth=function(e,t,n){return this.forEachGlyph(e,0,0,t,n,function(){})},R.prototype.draw=function(e,t,n,r,i,o){this.getPath(t,n,r,i,o).draw(e)},R.prototype.drawPoints=function(i,e,t,n,r,o){this.forEachGlyph(e,t,n,r,o,function(e,t,n,r){e.drawPoints(i,t,n,r)})},R.prototype.drawMetrics=function(i,e,t,n,r,o){this.forEachGlyph(e,t,n,r,o,function(e,t,n,r){e.drawMetrics(i,t,n,r)})},R.prototype.getEnglishName=function(e){e=this.names[e];if(e)return e.en},R.prototype.validate=function(){var t=this;function e(e){e=t.getEnglishName(e);e&&e.trim().length}e("fontFamily"),e("weightName"),e("manufacturer"),e("copyright"),e("version"),this.unitsPerEm},R.prototype.toTables=function(){return Mt.fontToTable(this)},R.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},R.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e[r];return t},R.prototype.download=function(e){var t,n=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily"),n=(e=e||n.replace(/\s/g,"")+"-"+r+".otf",this.toArrayBuffer());"undefined"!=typeof window?(window.URL=window.URL||window.webkitURL,window.URL?(r=new DataView(n),r=new Blob([r],{type:"font/opentype"}),(t=document.createElement("a")).href=window.URL.createObjectURL(r),t.download=e,(r=document.createEvent("MouseEvents")).initEvent("click",!0,!1),t.dispatchEvent(r)):console.warn("Font file could not be downloaded. Try using a different browser.")):(t=pn(3),r=function(e){for(var t=new j(e.byteLength),n=new Uint8Array(e),r=0;r<t.length;++r)t[r]=n[r];return t}(n),t.writeFileSync(e,r))},R.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},R.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},R.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function Z0(){return{coverage:this.parsePointer(l.coverage),attachPoints:this.parseList(l.pointer(l.uShortList))}}function K0(){var e=this.parseUShort();return L.argument(1===e||2===e||3===e,"Unsupported CaretValue table version."),1===e?{coordinate:this.parseShort()}:2===e?{pointindex:this.parseShort()}:3===e?{coordinate:this.parseShort()}:void 0}function Q0(){return{coverage:this.parsePointer(l.coverage),ligGlyphs:this.parseList(l.pointer(en))}}function J0(){return this.parseUShort(),this.parseList(l.pointer(l.coverage))}var $0={make:function(e,t){var n=new T.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);n.offsetToData=n.sizeOf();for(var r,i,o,a=0;a<e.axes.length;a++)n.fields=n.fields.concat((r=a,i=e.axes[a],o=t,o=X0(i.name,t),[{name:"tag_"+r,type:"TAG",value:i.tag},{name:"minValue_"+r,type:"FIXED",value:i.minValue<<16},{name:"defaultValue_"+r,type:"FIXED",value:i.defaultValue<<16},{name:"maxValue_"+r,type:"FIXED",value:i.maxValue<<16},{name:"flags_"+r,type:"USHORT",value:0},{name:"nameID_"+r,type:"USHORT",value:o}]));for(var s=0;s<e.instances.length;s++)n.fields=n.fields.concat(function(e,t,n,r){for(var i=[{name:"nameID_"+e,type:"USHORT",value:X0(t.name,r)},{name:"flags_"+e,type:"USHORT",value:0}],o=0;o<n.length;++o){var a=n[o].tag;i.push({name:"axis_"+e+" "+a,type:"FIXED",value:t.coordinates[a]<<16})}return i}(s,e.instances[s],e.axes,t));return n},parse:function(e,t,n){for(var r,i,o,a,s=new I.Parser(e,t),u=s.parseULong(),l=(L.argument(65536===u,"Unsupported fvar table version."),s.parseOffset16()),c=(s.skip("uShort",1),s.parseUShort()),h=s.parseUShort(),p=s.parseUShort(),f=s.parseUShort(),d=[],y=0;y<c;y++)d.push((r=e,i=t+l+y*h,o=n,void 0,a={},r=new I.Parser(r,i),a.tag=r.parseTag(),a.minValue=r.parseFixed(),a.defaultValue=r.parseFixed(),a.maxValue=r.parseFixed(),r.skip("uShort",1),a.name=o[r.parseUShort()]||{},a));for(var v=[],m=t+l+c*h,g=0;g<p;g++)v.push(function(e,t,n,r){var i={},o=new I.Parser(e,t);i.name=r[o.parseUShort()]||{},o.skip("uShort",1),i.coordinates={};for(var a=0;a<n.length;++a)i.coordinates[n[a].tag]=o.parseFixed();return i}(e,m+g*f,d,n));return{axes:d,instances:v}}},en=function(){return this.parseList(l.pointer(K0))};var tn={parse:function(e,t){var t=(e=new l(e,t=t||0)).parseVersion(1),n=(L.argument(1===t||1.2===t||1.3===t,"Unsupported GDEF table version."),{version:t,classDef:e.parsePointer(l.classDef),attachList:e.parsePointer(Z0),ligCaretList:e.parsePointer(Q0),markAttachClassDef:e.parsePointer(l.classDef)});return 1.2<=t&&(n.markGlyphSets=e.parsePointer(J0)),n}},C=new Array(10);C[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(l.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(l.coverage),values:this.parseValueRecordList()}:void L.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},C[2]=function(){var e,t,n,r,i=this.offset+this.relativeOffset,o=this.parseUShort(),i=(L.assert(1===o||2===o,"0x"+i.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(l.coverage)),a=this.parseUShort(),s=this.parseUShort();return 1===o?{posFormat:o,coverage:i,valueFormat1:a,valueFormat2:s,pairSets:this.parseList(l.pointer(l.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(a),value2:this.parseValueRecord(s)}})))}:2===o?(e=this.parsePointer(l.classDef),t=this.parsePointer(l.classDef),n=this.parseUShort(),r=this.parseUShort(),{posFormat:o,coverage:i,valueFormat1:a,valueFormat2:s,classDef1:e,classDef2:t,class1Count:n,class2Count:r,classRecords:this.parseList(n,l.list(r,function(){return{value1:this.parseValueRecord(a),value2:this.parseValueRecord(s)}}))}):void 0},C[3]=function(){return{error:"GPOS Lookup 3 not supported"}},C[4]=function(){return{error:"GPOS Lookup 4 not supported"}},C[5]=function(){return{error:"GPOS Lookup 5 not supported"}},C[6]=function(){return{error:"GPOS Lookup 6 not supported"}},C[7]=function(){return{error:"GPOS Lookup 7 not supported"}},C[8]=function(){return{error:"GPOS Lookup 8 not supported"}},C[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var nn=new Array(10);var rn={parse:function(e,t){return t=(e=new l(e,t=t||0)).parseVersion(1),L.argument(1===t||1.1===t,"Unsupported GPOS table version "+t),1===t?{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(C)}:{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(C),variations:e.parseFeatureVariationsList()}},make:function(e){return new T.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new T.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new T.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new T.LookupList(e.lookups,nn)}])}};var on={parse:function(e,t){if(e=new I.Parser(e,t),0===(t=e.parseUShort())){var n=e,r={},i=(n.skip("uShort"),n.parseUShort()),o=(L.argument(0===i,"Unsupported kern sub-table version."),n.skip("uShort",2),n.parseUShort());n.skip("uShort",3);for(var a=0;a<o;a+=1){var s=n.parseUShort(),u=n.parseUShort(),l=n.parseShort();r[s+","+u]=l}return r}if(1!==t)throw new Error("Unsupported kern table version ("+t+").");var c=e,h={},i=(c.skip("uShort"),1<c.parseULong()&&console.warn("Only the first kern subtable is supported."),c.skip("uLong"),255&c.parseUShort());if(c.skip("uShort"),0==i){var p=c.parseUShort();c.skip("uShort",3);for(var f=0;f<p;f+=1){var d=c.parseUShort(),y=c.parseUShort(),v=c.parseShort();h[d+","+y]=v}}return h}};var an={parse:function(e,t,n,r){for(var i=new I.Parser(e,t),o=r?i.parseUShort:i.parseULong,a=[],s=0;s<n+1;s+=1){var u=o.call(i);r&&(u*=2),a.push(u)}return a}};function sn(e,n){pn(3).readFile(e,function(e,t){if(e)return n(e.message);n(null,jt(t))})}function un(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?t(null,n.response):t("Font could not be loaded: "+n.statusText)},n.onerror=function(){t("Font could not be loaded")},n.send()}function ln(e,t){for(var n=[],r=12,i=0;i<t;i+=1){var o=I.getTag(e,r),a=I.getULong(e,r+4),s=I.getULong(e,r+8),u=I.getULong(e,r+12);n.push({tag:o,checksum:a,offset:s,length:u,compression:!1}),r+=16}return n}function D(e,t){if("WOFF"!==t.compression)return{data:e,offset:t.offset};var e=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),n=new Uint8Array(t.length);if(ne(e,n),n.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(n.buffer,0),offset:0}}function cn(e,t){t=null==t?{}:t;var n,r,i,o,a,s,u,l,c,h,p,f,d,y,v,m=new R({empty:!0}),g=new DataView(e,0),b=[],e=I.getTag(g,0);if(e===String.fromCharCode(0,1,0,0)||"true"===e||"typ1"===e)m.outlinesFormat="truetype",b=ln(g,i=I.getUShort(g,4));else if("OTTO"===e)m.outlinesFormat="cff",b=ln(g,i=I.getUShort(g,4));else{if("wOFF"!==e)throw new Error("Unsupported OpenType signature "+e);var x=I.getTag(g,4);if(x===String.fromCharCode(0,1,0,0))m.outlinesFormat="truetype";else{if("OTTO"!==x)throw new Error("Unsupported OpenType flavor "+e);m.outlinesFormat="cff"}b=function(e,t){for(var n=[],r=44,i=0;i<t;i+=1){var o=I.getTag(e,r),a=I.getULong(e,r+4),s=I.getULong(e,r+8),u=I.getULong(e,r+12),l=void 0,l=s<u&&"WOFF";n.push({tag:o,offset:a,compression:l,compressedLength:s,length:u}),r+=20}return n}(g,i=I.getUShort(g,12))}for(var w=0;w<i;w+=1){var _=b[w],S=void 0;switch(_.tag){case"cmap":S=D(g,_),m.tables.cmap=ke.parse(S.data,S.offset),m.encoding=new Re(m.tables.cmap);break;case"cvt ":S=D(g,_),v=new I.Parser(S.data,S.offset),m.tables.cvt=v.parseShortList(_.length/2);break;case"fvar":a=_;break;case"fpgm":S=D(g,_),v=new I.Parser(S.data,S.offset),m.tables.fpgm=v.parseByteList(_.length);break;case"head":S=D(g,_),m.tables.head=et.parse(S.data,S.offset),m.unitsPerEm=m.tables.head.unitsPerEm,n=m.tables.head.indexToLocFormat;break;case"hhea":S=D(g,_),m.tables.hhea=tt.parse(S.data,S.offset),m.ascender=m.tables.hhea.ascender,m.descender=m.tables.hhea.descender,m.numberOfHMetrics=m.tables.hhea.numberOfHMetrics;break;case"hmtx":h=_;break;case"ltag":S=D(g,_),r=rt.parse(S.data,S.offset);break;case"maxp":S=D(g,_),m.tables.maxp=it.parse(S.data,S.offset),m.numGlyphs=m.tables.maxp.numGlyphs;break;case"name":d=_;break;case"OS/2":S=D(g,_),m.tables.os2=gt.parse(S.data,S.offset);break;case"post":S=D(g,_),m.tables.post=bt.parse(S.data,S.offset),m.glyphNames=new Le(m.tables.post);break;case"prep":S=D(g,_),v=new I.Parser(S.data,S.offset),m.tables.prep=v.parseByteList(_.length);break;case"glyf":s=_;break;case"loca":f=_;break;case"CFF ":o=_;break;case"kern":p=_;break;case"GDEF":u=_;break;case"GPOS":l=_;break;case"GSUB":c=_;break;case"meta":y=_}}x=D(g,d);if(m.tables.name=vt.parse(x.data,x.offset,r),m.names=m.tables.name,s&&f){e=0===n,x=D(g,f),x=an.parse(x.data,x.offset,m.numGlyphs,e),e=D(g,s);m.glyphs=Yt.parse(e.data,e.offset,x,m,t)}else{if(!o)throw new Error("Font doesn't contain TrueType or CFF outlines.");e=D(g,o);$e.parse(e.data,e.offset,m,t)}var x=D(g,h);return nt.parse(m,x.data,x.offset,m.numberOfHMetrics,m.numGlyphs,m.glyphs,t),Ie(m,t),p?(e=D(g,p),m.kerningPairs=on.parse(e.data,e.offset)):m.kerningPairs={},u&&(x=D(g,u),m.tables.gdef=tn.parse(x.data,x.offset)),l&&(t=D(g,l),m.tables.gpos=rn.parse(t.data,t.offset),m.position.init()),c&&(e=D(g,c),m.tables.gsub=_t.parse(e.data,e.offset)),a&&(x=D(g,a),m.tables.fvar=$0.parse(x.data,x.offset,m.names)),y&&(t=D(g,y),m.tables.meta=St.parse(t.data,t.offset),m.metas=m.tables.meta),m}G0=Object.freeze({__proto__:null,Font:R,Glyph:h,Path:p,BoundingBox:s,_parse:I,parse:cn,load:function(e,o,a){a=null==a?{}:a;var t="undefined"==typeof window&&!a.isUrl?sn:un;return new Promise(function(r,i){t(e,function(e,t){if(e){if(o)return o(e);i(e)}var n;try{n=cn(t,a)}catch(e){if(o)return o(e,null);i(e)}if(o)return o(null,n);r(n)})})},loadSync:function(e,t){return cn(jt(pn(3).readFileSync(e)),t)}});hn.a=G0}.call(this,pn(7).Buffer)},function(e,C,L){"use strict";!function(e){var T=L(8),o=L(9),s=L(10);function n(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=h.prototype:(e=null===e?new h(t):e).length=t,e}function h(e,t,n){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(e,t,n);if("number"!=typeof e)return r(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return a(this,e)}function r(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var i=e,o=t,a=n;if(o.byteLength,a<0||o.byteLength<a)throw new RangeError("'offset' is out of bounds");if(o.byteLength<a+(r||0))throw new RangeError("'length' is out of bounds");return o=void 0===a&&void 0===r?new Uint8Array(o):void 0===r?new Uint8Array(o,a):new Uint8Array(o,a,r),h.TYPED_ARRAY_SUPPORT?(i=o).__proto__=h.prototype:i=l(i,o),i}if("string"!=typeof t){a=e,r=t;if(h.isBuffer(r))return o=0|c(r.length),0!==(a=u(a,o)).length&&r.copy(a,0,0,o),a;if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||function(e){return e!=e}(r.length)?u(a,0):l(a,r);if("Buffer"===r.type&&s(r.data))return l(a,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}i=e,r=t,e=n;if(h.isEncoding(e="string"==typeof e&&""!==e?e:"utf8"))return t=0|p(r,e),i=(r=(i=u(i,t)).write(r,e))!==t?i.slice(0,r):i;throw new TypeError('"encoding" must be a valid string encoding')}function i(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t){if(i(t),e=u(e,t<0?0:0|c(t)),!h.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t){var n=t.length<0?0:0|c(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function c(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function p(e,t){if(h.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var n=(e="string"!=typeof e?""+e:e).length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return A(e).length;default:if(r)return M(e).length;t=(""+t).toLowerCase(),r=!0}}function t(e,t,n){var r,i=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var o=this,a=t,s=n,u=o.length;(!s||s<0||u<s)&&(s=u);for(var l="",c=a=!a||a<0?0:a;c<s;++c)l+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(o[c]);return l;case"utf8":case"utf-8":return E(this,t,n);case"ascii":var h=this,u=t,p=n,f="";p=Math.min(h.length,p);for(var d=u;d<p;++d)f+=String.fromCharCode(127&h[d]);return f;case"latin1":case"binary":var y=this,a=t,v=n,m="";v=Math.min(y.length,v);for(var g=a;g<v;++g)m+=String.fromCharCode(y[g]);return m;case"base64":return b=this,r=n,0===(x=t)&&r===b.length?T.fromByteArray(b):T.fromByteArray(b.slice(x,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var b=t,x=n,w=this.slice(b,x),_="",S=0;S<w.length;S+=2)_+=String.fromCharCode(w[S]+256*w[S+1]);return _;default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function f(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function d(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?i?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=h.from(t,r)),h.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=o=2,s/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i)for(var l=-1,c=n;c<a;c++)if(u(e,c)===u(t,-1===l?0:c-l)){if(c-(l=-1===l?c:l)+1===s)return l*o}else-1!==l&&(c-=c-l),l=-1;else for(c=n=a<n+s?a-s:n;0<=c;c--){for(var h=!0,p=0;p<s;p++)if(u(e,c+p)!==u(t,p)){h=!1;break}if(h)return c}return-1}function v(e,t,n,r){return R(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return R(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,h=239<l?4:223<l?3:191<l?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&127<(u=(31&l)<<6|63&o)&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(u=(15&l)<<12|(63&o)<<6|63&a)&&(u<55296||57343<u)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)&&u<1114112&&(c=u)}null===c?(c=65533,h=1):65535<c&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}var p=r,f=p.length;if(f<=g)return String.fromCharCode.apply(String,p);for(var d="",y=0;y<f;)d+=String.fromCharCode.apply(String,p.slice(y,y+=g));return d}C.Buffer=h,C.SlowBuffer=function(e){+e!=e&&(e=0);return h.alloc(+e)},C.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),C.kMaxLength=n(),h.poolSize=8192,h._augment=function(e){return e.__proto__=h.prototype,e},h.from=function(e,t,n){return r(null,e,t,n)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0}),h.alloc=function(e,t,n){return r=null,t=t,n=n,i(e=e),!(e<=0)&&void 0!==t?"string"==typeof n?u(r,e).fill(t,n):u(r,e).fill(t):u(r,e);var r},h.allocUnsafe=function(e){return a(null,e)},h.allocUnsafeSlow=function(e){return a(null,e)},h.isBuffer=function(e){return!(null==e||!e._isBuffer)},h.compare=function(e,t){if(!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;for(var n=h.allocUnsafe(t),r=0,i=0;i<e.length;++i){var o=e[i];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},h.byteLength=p,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},h.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?E(this,0,e):t.apply(this,arguments)},h.prototype.equals=function(e){if(h.isBuffer(e))return this===e||0===h.compare(this,e);throw new TypeError("Argument must be a Buffer")},h.prototype.inspect=function(){var e="",t=C.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t)&&(e+=" ... "),"<Buffer "+e+">"},h.prototype.compare=function(e,t,n,r,i){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),(t=void 0===t?0:t)<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),c=0;c<s;++c)if(u[c]!==l[c]){o=u[c],a=l[c];break}return o<a?-1:a<o?1:0},h.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},h.prototype.indexOf=function(e,t,n){return d(this,e,t,n,!0)},h.prototype.lastIndexOf=function(e,t,n){return d(this,e,t,n,!1)},h.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,a,s,u=!1;;)switch(r){case"hex":var l=this,c=e,h=t,p=n,f=(h=Number(h)||0,l.length-h);if((!p||f<(p=Number(p)))&&(p=f),(f=c.length)%2!=0)throw new TypeError("Invalid hex string");f/2<p&&(p=f/2);for(var d=0;d<p;++d){var y=parseInt(c.substr(2*d,2),16);if(isNaN(y))return d;l[h+d]=y}return d;case"utf8":case"utf-8":return f=t,s=n,R(M(e,(a=this).length-f),a,f,s);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return v(this,e,t,n);case"base64":return a=this,s=t,o=n,R(A(e),a,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,e,t,n);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var g=4096;function b(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,n,r,i,o){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function w(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function _(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function S(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function k(e,t,n,r,i){return i||S(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function O(e,t,n,r,i){return i||S(e,0,n,8),o.write(e,t,n,r,52,8),n+8}h.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),h.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=h.prototype;else for(var r=t-e,i=new h(r,void 0),o=0;o<r;++o)i[o]=this[o+e];return i},h.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},h.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},h.prototype.readUInt8=function(e,t){return t||b(e,1,this.length),this[e]},h.prototype.readUInt16LE=function(e,t){return t||b(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUInt16BE=function(e,t){return t||b(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUInt32LE=function(e,t){return t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUInt32BE=function(e,t){return t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},h.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},h.prototype.readInt8=function(e,t){return t||b(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){t||b(e,2,this.length);t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},h.prototype.readInt16BE=function(e,t){t||b(e,2,this.length);t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},h.prototype.readInt32LE=function(e,t){return t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readFloatLE=function(e,t){return t||b(e,4,this.length),o.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return t||b(e,4,this.length),o.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return t||b(e,8,this.length),o.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return t||b(e,8,this.length),o.read(this,e,!1,52,8)},h.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||x(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},h.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||x(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},h.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,1,255,0),h.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},h.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):w(this,e,t,!0),t+2},h.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):w(this,e,t,!1),t+2},h.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):_(this,e,t,!0),t+4},h.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},h.prototype.writeIntLE=function(e,t,n,r){e=+e,t|=0,r||x(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},h.prototype.writeIntBE=function(e,t,n,r){e=+e,t|=0,r||x(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var i=n-1,o=1,a=0;for(this[t+i]=255&e;0<=--i&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},h.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,1,127,-128),h.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},h.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):w(this,e,t,!0),t+2},h.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):w(this,e,t,!1),t+2},h.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):_(this,e,t,!0),t+4},h.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},h.prototype.writeFloatLE=function(e,t,n){return k(this,e,t,!0,n)},h.prototype.writeFloatBE=function(e,t,n){return k(this,e,t,!1,n)},h.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},h.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},h.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),(r=0<r&&r<n?n:r)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var i,o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(this===e&&n<t&&t<r)for(i=o-1;0<=i;--i)e[i+t]=this[i+n];else if(o<1e3||!h.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},h.prototype.fill=function(e,t,n,r){if("string"==typeof e){var i;if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length&&(i=e.charCodeAt(0))<256&&(e=i),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(!(n<=t))if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var o=h.isBuffer(e)?e:M(new h(e,r).toString()),a=o.length,s=0;s<n-t;++s)this[s+t]=o[s%a];return this};var P=/[^+\/0-9A-Za-z-_]/g;function M(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if(--t<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function A(e){return T.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}.call(this,L(4))},function(e,t,n){"use strict";t.byteLength=function(e){var e=c(e),t=e[0],e=e[1];return 3*(t+e)/4-e},t.toByteArray=function(e){var t,n,r=c(e),i=r[0],r=r[1],o=new l(function(e,t){return 3*(e+t)/4-t}(i,r)),a=0,s=0<r?i-4:i;for(n=0;n<s;n+=4)t=u[e.charCodeAt(n)]<<18|u[e.charCodeAt(n+1)]<<12|u[e.charCodeAt(n+2)]<<6|u[e.charCodeAt(n+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;2===r&&(t=u[e.charCodeAt(n)]<<2|u[e.charCodeAt(n+1)]>>4,o[a++]=255&t);1===r&&(t=u[e.charCodeAt(n)]<<10|u[e.charCodeAt(n+1)]<<4|u[e.charCodeAt(n+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t);return o},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(function(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(function(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}(r));return i.join("")}(e,o,a<o+16383?a:o+16383));1==r?(t=e[n-1],i.push(s[t>>2]+s[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],i.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return i.join("")};for(var s=[],u=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)s[i]=r[i],u[r.charCodeAt(i)]=i;function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("="),t=(e=-1===e?t:e)===t?0:4-e%4;return[e,t]}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,p=n?-1:1,i=e[t+h];for(h+=p,o=i&(1<<-c)-1,i>>=-c,c+=s;0<c;o=256*o+e[t+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;0<c;a=256*a+e[t+h],h+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(i?-1:1);a+=Math.pow(2,r),o-=l}return(i?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u=8*o-i-1,l=(1<<u)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,o=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-a))<1&&(a--,r*=2),2<=(t+=1<=a+c?h/r:h*Math.pow(2,1-c))*r&&(a++,r/=2),l<=a+c?(s=0,a=l):1<=a+c?(s=(t*r-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));8<=i;e[n+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;0<u;e[n+p]=255&a,p+=f,a/=256,u-=8);e[n+p-f]|=128*o}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(R,C,e){"use strict";e.r(C);for(var u={},L=(e.r(u),e.d(u,"ShadowMaterial",function(){return d6}),e.d(u,"SpriteMaterial",function(){return y6}),e.d(u,"RawShaderMaterial",function(){return x6}),e.d(u,"ShaderMaterial",function(){return b6}),e.d(u,"PointsMaterial",function(){return w6}),e.d(u,"MeshPhysicalMaterial",function(){return S6}),e.d(u,"MeshStandardMaterial",function(){return _6}),e.d(u,"MeshPhongMaterial",function(){return T6}),e.d(u,"MeshToonMaterial",function(){return E6}),e.d(u,"MeshNormalMaterial",function(){return k6}),e.d(u,"MeshLambertMaterial",function(){return O6}),e.d(u,"MeshDepthMaterial",function(){return P6}),e.d(u,"MeshDistanceMaterial",function(){return M6}),e.d(u,"MeshBasicMaterial",function(){return _t}),e.d(u,"MeshMatcapMaterial",function(){return A6}),e.d(u,"LineDashedMaterial",function(){return C6}),e.d(u,"LineBasicMaterial",function(){return R6}),e.d(u,"Material",function(){return p}),[]),I=0;I<256;I++)L[I]=(I<16?"0":"")+I.toString(16);var x={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(L[255&e]+L[e>>8&255]+L[e>>16&255]+L[e>>24&255]+"-"+L[255&t]+L[t>>8&255]+"-"+L[t>>16&15|64]+L[t>>24&255]+"-"+L[63&n|128]+L[n>>8&255]+"-"+L[n>>16&255]+L[n>>24&255]+L[255&r]+L[r>>8&255]+L[r>>16&255]+L[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*x.DEG2RAD},radToDeg:function(e){return e*x.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var o=Math.cos,a=Math.sin,s=o(n/2),n=a(n/2),u=o((t+r)/2),l=a((t+r)/2),c=o((t-r)/2),h=a((t-r)/2),o=o((r-t)/2),a=a((r-t)/2);"XYX"===i?e.set(s*l,n*c,n*h,s*u):"YZY"===i?e.set(n*h,s*l,n*c,s*u):"ZXZ"===i?e.set(n*c,n*h,s*l,s*u):"XZX"===i?e.set(s*l,n*a,n*o,s*u):"YXY"===i?e.set(n*o,s*l,n*a,s*u):"ZYZ"===i?e.set(n*a,n*o,s*l,s*u):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};function z(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}Object.assign(z,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s,u,l,c=n[r+0],h=n[r+1],p=n[r+2],n=n[r+3],r=i[o+0],f=i[o+1],d=i[o+2],i=i[o+3];n===i&&c===r&&h===f&&p===d||(o=1-a,s=0<=(u=c*r+h*f+p*d+n*i)?1:-1,(l=1-u*u)>Number.EPSILON&&(l=Math.sqrt(l),u=Math.atan2(l,u*s),o=Math.sin(o*u)/l,a=Math.sin(a*u)/l),c=c*o+r*(u=a*s),h=h*o+f*u,p=p*o+d*u,n=n*o+i*u,o===1-a&&(c*=l=1/Math.sqrt(c*c+h*h+p*p+n*n),h*=l,p*=l,n*=l)),e[t]=c,e[t+1]=h,e[t+2]=p,e[t+3]=n}}),Object.defineProperties(z.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(z.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){var n,r,i,o,a,s,u;if(e&&e.isEuler)return a=e._x,s=e._y,n=e._z,e=e.order,o=Math.cos,u=Math.sin,r=o(a/2),i=o(s/2),o=o(n/2),a=u(a/2),s=u(s/2),u=u(n/2),"XYZ"===e?(this._x=a*i*o+r*s*u,this._y=r*s*o-a*i*u,this._z=r*i*u+a*s*o,this._w=r*i*o-a*s*u):"YXZ"===e?(this._x=a*i*o+r*s*u,this._y=r*s*o-a*i*u,this._z=r*i*u-a*s*o,this._w=r*i*o+a*s*u):"ZXY"===e?(this._x=a*i*o-r*s*u,this._y=r*s*o+a*i*u,this._z=r*i*u+a*s*o,this._w=r*i*o-a*s*u):"ZYX"===e?(this._x=a*i*o-r*s*u,this._y=r*s*o+a*i*u,this._z=r*i*u-a*s*o,this._w=r*i*o+a*s*u):"YZX"===e?(this._x=a*i*o+r*s*u,this._y=r*s*o+a*i*u,this._z=r*i*u-a*s*o,this._w=r*i*o-a*s*u):"XZY"===e&&(this._x=a*i*o-r*s*u,this._y=r*s*o-a*i*u,this._z=r*i*u+a*s*o,this._w=r*i*o+a*s*u),!1!==t&&this._onChangeCallback(),this;throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.")},setFromAxisAngle:function(e,t){var t=t/2,n=Math.sin(t);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(t),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,e=e.elements,n=e[0],r=e[4],i=e[8],o=e[1],a=e[5],s=e[9],u=e[2],l=e[6],e=e[10],c=n+a+e;return 0<c?(t=.5/Math.sqrt(c+1),this._w=.25/t,this._x=(l-s)*t,this._y=(i-u)*t,this._z=(o-r)*t):a<n&&e<n?(t=2*Math.sqrt(1+n-a-e),this._w=(l-s)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(i+u)/t):e<a?(t=2*Math.sqrt(1+a-n-e),this._w=(i-u)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(s+l)/t):(t=2*Math.sqrt(1+e-n-a),this._w=(o-r)/t,this._x=(i+u)/t,this._y=(s+l)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),this._w=n,this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(x.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);return 0!==n&&(t=Math.min(1,t/n),this.slerp(e,t)),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(e=1/e),this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,e=e._w,o=t._x,a=t._y,s=t._z,t=t._w;return this._x=n*t+e*o+r*s-i*a,this._y=r*t+e*a+i*o-n*s,this._z=i*t+e*s+n*a-r*o,this._w=e*t-n*o-r*a-i*s,this._onChangeCallback(),this},slerp:function(e,t){if(0!==t){if(1===t)return this.copy(e);var n,r=this._x,i=this._y,o=this._z,a=this._w,s=a*e._w+r*e._x+i*e._y+o*e._z;s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),1<=s?(this._w=a,this._x=r,this._y=i,this._z=o):((e=1-s*s)<=Number.EPSILON?(this._w=(n=1-t)*a+t*this._w,this._x=n*r+t*this._x,this._y=n*i+t*this._y,this._z=n*o+t*this._z,this.normalize()):(n=Math.sqrt(e),e=Math.atan2(n,s),s=Math.sin((1-t)*e)/n,t=Math.sin(t*e)/n,this._w=a*s+this._w*t,this._x=r*s+this._x*t,this._y=i*s+this._y*t,this._z=o*s+this._z*t),this._onChangeCallback())}return this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return this._x=e[t=void 0===t?0:t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return(e=void 0===e?[]:e)[t=void 0===t?0:t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var G=new w,H=new z;function w(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}Object.assign(w.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(H.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(H.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,e=e.elements;return this.x=e[0]*t+e[3]*n+e[6]*r,this.y=e[1]*t+e[4]*n+e[7]*r,this.z=e[2]*t+e[5]*n+e[8]*r,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,e=e.elements,i=1/(e[3]*t+e[7]*n+e[11]*r+e[15]);return this.x=(e[0]*t+e[4]*n+e[8]*r+e[12])*i,this.y=(e[1]*t+e[5]*n+e[9]*r+e[13])*i,this.z=(e[2]*t+e[6]*n+e[10]*r+e[14])*i,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,e=e.w,s=e*t+o*r-a*n,u=e*n+a*t-i*r,l=e*r+i*n-o*t,t=-i*t-o*n-a*r;return this.x=s*e+t*-i+u*-a-l*-o,this.y=u*e+t*-o+l*-i-s*-a,this.z=l*e+t*-a+s*-o-u*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*r,this.y=e[1]*t+e[5]*n+e[9]*r,this.z=e[2]*t+e[6]*n+e[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,e=e.z,i=t.x,o=t.y,t=t.z;return this.x=r*t-e*o,this.y=e*i-n*t,this.z=n*o-r*i,this},projectOnVector:function(e){var t=e.lengthSq();return 0===t?this.set(0,0,0):(t=e.dot(this)/t,this.copy(e).multiplyScalar(t))},projectOnPlane:function(e){return G.copy(this).projectOnVector(e),this.sub(G)},reflect:function(e){return this.sub(G.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:(e=this.dot(e)/t,Math.acos(x.clamp(e,-1,1)))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,e=this.z-e.z;return t*t+n*n+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){e=e.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),e=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=e,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return this.x=e[t=void 0===t?0:t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return(e=void 0===e?[]:e)[t=void 0===t?0:t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var V=new w,W=new m,q=new w(0,0,0),Y=new w(1,1,1),X=new w,Z=new w,K=new w;function m(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Q(){}Object.assign(m.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,u,l,c,h,p,f,d,y){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=u,v[6]=l,v[10]=c,v[14]=h,v[3]=p,v[7]=f,v[11]=d,v[15]=y,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new m).fromArray(this.elements)},copy:function(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this},copyPosition:function(e){var t=this.elements,e=e.elements;return t[12]=e[12],t[13]=e[13],t[14]=e[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,r=1/V.setFromMatrixColumn(e,0).length(),i=1/V.setFromMatrixColumn(e,1).length(),e=1/V.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t,n,r,i,o,a,s,u,l,c,h,p,f=this.elements,d=e.x,y=e.y,v=e.z,m=Math.cos(d),d=Math.sin(d),g=Math.cos(y),y=Math.sin(y),b=Math.cos(v),v=Math.sin(v);return"XYZ"===e.order?(o=m*b,a=m*v,s=d*b,u=d*v,f[0]=g*b,f[4]=-g*v,f[8]=y,f[1]=a+s*y,f[5]=o-u*y,f[9]=-d*g,f[2]=u-o*y,f[6]=s+a*y,f[10]=m*g):"YXZ"===e.order?(n=g*v,r=y*b,f[0]=(t=g*b)+(i=y*v)*d,f[4]=r*d-n,f[8]=m*y,f[1]=m*v,f[5]=m*b,f[9]=-d,f[2]=n*d-r,f[6]=i+t*d,f[10]=m*g):"ZXY"===e.order?(n=g*v,r=y*b,f[0]=(t=g*b)-(i=y*v)*d,f[4]=-m*v,f[8]=r+n*d,f[1]=n+r*d,f[5]=m*b,f[9]=i-t*d,f[2]=-m*y,f[6]=d,f[10]=m*g):"ZYX"===e.order?(o=m*b,a=m*v,s=d*b,u=d*v,f[0]=g*b,f[4]=s*y-a,f[8]=o*y+u,f[1]=g*v,f[5]=u*y+o,f[9]=a*y-s,f[2]=-y,f[6]=d*g,f[10]=m*g):"YZX"===e.order?(l=m*g,c=m*y,h=d*g,p=d*y,f[0]=g*b,f[4]=p-l*v,f[8]=h*v+c,f[1]=v,f[5]=m*b,f[9]=-d*b,f[2]=-y*b,f[6]=c*v+h,f[10]=l-p*v):"XZY"===e.order&&(l=m*g,c=m*y,h=d*g,p=d*y,f[0]=g*b,f[4]=-v,f[8]=y*b,f[1]=l*v+p,f[5]=m*b,f[9]=c*v-h,f[2]=h*v-c,f[6]=d*b,f[10]=p*v+l),f[3]=0,f[7]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(q,e,Y)},lookAt:function(e,t,n){var r=this.elements;return K.subVectors(e,t),0===K.lengthSq()&&(K.z=1),K.normalize(),X.crossVectors(n,K),0===X.lengthSq()&&(1===Math.abs(n.z)?K.x+=1e-4:K.z+=1e-4,K.normalize(),X.crossVectors(n,K)),X.normalize(),Z.crossVectors(K,X),r[0]=X.x,r[4]=Z.x,r[8]=K.x,r[1]=X.y,r[5]=Z.y,r[9]=K.y,r[2]=X.z,r[6]=Z.z,r[10]=K.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var e=e.elements,t=t.elements,n=this.elements,r=e[0],i=e[4],o=e[8],a=e[12],s=e[1],u=e[5],l=e[9],c=e[13],h=e[2],p=e[6],f=e[10],d=e[14],y=e[3],v=e[7],m=e[11],e=e[15],g=t[0],b=t[4],x=t[8],w=t[12],_=t[1],S=t[5],T=t[9],E=t[13],k=t[2],O=t[6],P=t[10],M=t[14],A=t[3],R=t[7],C=t[11],t=t[15];return n[0]=r*g+i*_+o*k+a*A,n[4]=r*b+i*S+o*O+a*R,n[8]=r*x+i*T+o*P+a*C,n[12]=r*w+i*E+o*M+a*t,n[1]=s*g+u*_+l*k+c*A,n[5]=s*b+u*S+l*O+c*R,n[9]=s*x+u*T+l*P+c*C,n[13]=s*w+u*E+l*M+c*t,n[2]=h*g+p*_+f*k+d*A,n[6]=h*b+p*S+f*O+d*R,n[10]=h*x+p*T+f*P+d*C,n[14]=h*w+p*E+f*M+d*t,n[3]=y*g+v*_+m*k+e*A,n[7]=y*b+v*S+m*O+e*R,n[11]=y*x+v*T+m*P+e*C,n[15]=y*w+v*E+m*M+e*t,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],l=e[2],c=e[6],h=e[10],p=e[14];return e[3]*(+i*s*c-r*u*c-i*a*h+n*u*h+r*a*p-n*s*p)+e[7]*(+t*s*p-t*u*h+i*o*h-r*o*p+r*u*l-i*s*l)+e[11]*(+t*u*c-t*a*p-i*o*c+n*o*p+i*a*l-n*u*l)+e[15]*(-r*a*l-t*s*c+t*a*h+r*o*c-n*o*h+n*s*l)},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var t=this.elements,e=e.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],y=e[13],v=e[14],e=e[15],m=h*v*l-y*p*l+y*u*f-s*v*f-h*u*e+s*p*e,g=d*p*l-c*v*l-d*u*f+a*v*f+c*u*e-a*p*e,b=c*y*l-d*h*l+d*s*f-a*y*f-c*s*e+a*h*e,x=d*h*u-c*y*u-d*s*p+a*y*p+c*s*v-a*h*v,w=n*m+r*g+i*b+o*x;return 0==w?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(t[0]=m*(m=1/w),t[1]=(y*p*o-h*v*o-y*i*f+r*v*f+h*i*e-r*p*e)*m,t[2]=(s*v*o-y*u*o+y*i*l-r*v*l-s*i*e+r*u*e)*m,t[3]=(h*u*o-s*p*o-h*i*l+r*p*l+s*i*f-r*u*f)*m,t[4]=g*m,t[5]=(c*v*o-d*p*o+d*i*f-n*v*f-c*i*e+n*p*e)*m,t[6]=(d*u*o-a*v*o-d*i*l+n*v*l+a*i*e-n*u*e)*m,t[7]=(a*p*o-c*u*o+c*i*l-n*p*l-a*i*f+n*u*f)*m,t[8]=b*m,t[9]=(d*h*o-c*y*o-d*r*f+n*y*f+c*r*e-n*h*e)*m,t[10]=(a*y*o-d*s*o+d*r*l-n*y*l-a*r*e+n*s*e)*m,t[11]=(c*s*o-a*h*o-c*r*l+n*h*l+a*r*f-n*s*f)*m,t[12]=x*m,t[13]=(c*y*i-d*h*i+d*r*p-n*y*p-c*r*v+n*h*v)*m,t[14]=(d*s*i-a*y*i-d*r*u+n*y*u+a*r*v-n*s*v)*m,t[15]=(a*h*i-c*s*i+c*r*u-n*h*u-a*r*p+n*s*p)*m,this)},invert:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],p=e[11],f=e[12],d=e[13],y=e[14],v=e[15],m=c*y*u-d*h*u+d*s*p-a*y*p-c*s*v+a*h*v,g=f*h*u-l*y*u-f*s*p+o*y*p+l*s*v-o*h*v,b=l*d*u-f*c*u+f*a*p-o*d*p-l*a*v+o*c*v,x=f*c*s-l*d*s-f*a*h+o*d*h+l*a*y-o*c*y,w=t*m+n*g+r*b+i*x;return 0==w?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(e[0]=m*(m=1/w),e[1]=(d*h*i-c*y*i-d*r*p+n*y*p+c*r*v-n*h*v)*m,e[2]=(a*y*i-d*s*i+d*r*u-n*y*u-a*r*v+n*s*v)*m,e[3]=(c*s*i-a*h*i-c*r*u+n*h*u+a*r*p-n*s*p)*m,e[4]=g*m,e[5]=(l*y*i-f*h*i+f*r*p-t*y*p-l*r*v+t*h*v)*m,e[6]=(f*s*i-o*y*i-f*r*u+t*y*u+o*r*v-t*s*v)*m,e[7]=(o*h*i-l*s*i+l*r*u-t*h*u-o*r*p+t*s*p)*m,e[8]=b*m,e[9]=(f*c*i-l*d*i-f*n*p+t*d*p+l*n*v-t*c*v)*m,e[10]=(o*d*i-f*a*i+f*n*u-t*d*u-o*n*v+t*a*v)*m,e[11]=(l*a*i-o*c*i-l*n*u+t*c*u+o*n*p-t*a*p)*m,e[12]=x*m,e[13]=(l*d*r-f*c*r+f*n*h-t*d*h-l*n*y+t*c*y)*m,e[14]=(f*a*r-o*d*r-f*n*s+t*d*s+o*n*y-t*a*y)*m,e[15]=(o*c*r-l*a*r+l*n*s-t*c*s-o*n*h+t*a*h)*m,this)},scale:function(e){var t=this.elements,n=e.x,r=e.y,e=e.z;return t[0]*=n,t[4]*=r,t[8]*=e,t[1]*=n,t[5]*=r,t[9]*=e,t[2]*=n,t[6]*=r,t[10]*=e,t[3]*=n,t[7]*=r,t[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,e))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),t=Math.sin(t),r=1-n,i=e.x,o=e.y,e=e.z,a=r*i,s=r*o;return this.set(a*i+n,a*o-t*e,a*e+t*o,0,a*o+t*e,s*o+n,s*e-t*i,0,a*e-t*o,s*e+t*i,r*e*e+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,t=t._w,s=i+i,u=o+o,l=a+a,c=i*s,h=i*u,i=i*l,p=o*u,o=o*l,a=a*l,s=t*s,u=t*u,t=t*l,l=n.x,f=n.y,n=n.z;return r[0]=(1-(p+a))*l,r[1]=(h+t)*l,r[2]=(i-u)*l,r[3]=0,r[4]=(h-t)*f,r[5]=(1-(c+a))*f,r[6]=(o+s)*f,r[7]=0,r[8]=(i+u)*n,r[9]=(o-s)*n,r[10]=(1-(c+p))*n,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(e,t,n){var r=this.elements,i=V.set(r[0],r[1],r[2]).length(),o=V.set(r[4],r[5],r[6]).length(),a=V.set(r[8],r[9],r[10]).length(),e=(this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],W.copy(this),1/i),r=1/o,s=1/a;return W.elements[0]*=e,W.elements[1]*=e,W.elements[2]*=e,W.elements[4]*=r,W.elements[5]*=r,W.elements[6]*=r,W.elements[8]*=s,W.elements[9]*=s,W.elements[10]*=s,t.setFromRotationMatrix(W),n.x=i,n.y=o,n.z=a,this},makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(n-r),u=(t+e)/(t-e),n=(n+r)/(n-r),r=-(o+i)/(o-i),o=-2*o*i/(o-i);return a[0]=2*i/(t-e),a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=s,a[9]=n,a[13]=0,a[2]=0,a[6]=0,a[10]=r,a[14]=o,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),u=1/(n-r),l=1/(o-i),t=(t+e)*s,e=(n+r)*u,n=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-t,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-e,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-n,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){var n=this.elements;return(e=void 0===e?[]:e)[t=void 0===t?0:t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(Q.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){var n;return void 0!==this._listeners&&void 0!==(n=this._listeners)[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){var n;void 0!==this._listeners&&void 0!==(e=this._listeners[e])&&-1!==(n=e.indexOf(t))&&e.splice(n,1)},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});var J=new m,$=new z;function ee(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||ee.DefaultOrder}function te(){this.mask=1}function ne(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}ee.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],ee.DefaultOrder="XYZ",Object.defineProperties(ee.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(ee.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=x.clamp,e=e.elements,i=e[0],o=e[4],a=e[8],s=e[1],u=e[5],l=e[9],c=e[2],h=e[6],e=e[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,e),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(h,u),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(a,e),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,i),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,e),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(s,i))):"ZYX"===t?(this._y=Math.asin(-r(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,e),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,u))):"YZX"===t?(this._z=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(a,e))):"XZY"===t?(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-l,e),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return J.makeRotationFromQuaternion(e),this.setFromRotationMatrix(J,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return $.setFromEuler(this),this.setFromQuaternion($,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return(e=void 0===e?[]:e)[t=void 0===t?0:t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new w(this._x,this._y,this._z)},onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(te.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!=(this.mask&e.mask)}}),Object.assign(ne.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this},extractBasis:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){e=e.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var e=e.elements,t=t.elements,n=this.elements,r=e[0],i=e[3],o=e[6],a=e[1],s=e[4],u=e[7],l=e[2],c=e[5],e=e[8],h=t[0],p=t[3],f=t[6],d=t[1],y=t[4],v=t[7],m=t[2],g=t[5],t=t[8];return n[0]=r*h+i*d+o*m,n[3]=r*p+i*y+o*g,n[6]=r*f+i*v+o*t,n[1]=a*h+s*d+u*m,n[4]=a*p+s*y+u*g,n[7]=a*f+s*v+u*t,n[2]=l*h+c*d+e*m,n[5]=l*p+c*y+e*g,n[8]=l*f+c*v+e*t,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],e=e[8];return t*o*e-t*a*u-n*i*e+n*a*s+r*i*u-r*o*s},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var t=e.elements,e=this.elements,n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],t=t[8],c=t*a-s*l,h=s*u-t*o,p=l*o-a*u,f=n*c+r*h+i*p;return 0==f?this.set(0,0,0,0,0,0,0,0,0):(e[0]=c*(c=1/f),e[1]=(i*l-t*r)*c,e[2]=(s*r-i*a)*c,e[3]=h*c,e[4]=(t*n-i*u)*c,e[5]=(i*o-s*n)*c,e[6]=p*c,e[7]=(r*u-l*n)*c,e[8]=(a*n-r*o)*c,this)},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Math.cos(i),i=Math.sin(i);this.set(n*s,n*i,-n*(s*o+i*a)+o+e,-r*i,r*s,-r*(-i*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),e=Math.sin(e),n=this.elements,r=n[0],i=n[3],o=n[6],a=n[1],s=n[4],u=n[7];return n[0]=t*r+e*a,n[3]=t*i+e*s,n[6]=t*o+e*u,n[1]=-e*r+t*a,n[4]=-e*i+t*s,n[7]=-e*o+t*u,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){var n=this.elements;return(e=void 0===e?[]:e)[t=void 0===t?0:t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var re=0,ie=new w,oe=new z,ae=new m,se=new w,ue=new w,le=new w,ce=new z,he=new w(1,0,0),pe=new w(0,1,0),fe=new w(0,0,1),de={type:"added"},ye={type:"removed"};function s(){Object.defineProperty(this,"id",{value:re++}),this.uuid=x.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=s.DefaultUp.clone();var e=new w,t=new ee,n=new z,r=new w(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new m},normalMatrix:{value:new ne}}),this.matrix=new m,this.matrixWorld=new m,this.matrixAutoUpdate=s.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new te,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function ve(){s.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}s.DefaultUp=new w(0,1,0),s.DefaultMatrixAutoUpdate=!0,s.prototype=Object.assign(Object.create(Q.prototype),{constructor:s,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return oe.setFromAxisAngle(e,t),this.quaternion.multiply(oe),this},rotateOnWorldAxis:function(e,t){return oe.setFromAxisAngle(e,t),this.quaternion.premultiply(oe),this},rotateX:function(e){return this.rotateOnAxis(he,e)},rotateY:function(e){return this.rotateOnAxis(pe,e)},rotateZ:function(e){return this.rotateOnAxis(fe,e)},translateOnAxis:function(e,t){return ie.copy(e).applyQuaternion(this.quaternion),this.position.add(ie.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(he,e)},translateY:function(e){return this.translateOnAxis(pe,e)},translateZ:function(e){return this.translateOnAxis(fe,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(ae.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?se.copy(e):se.set(e,t,n);e=this.parent;this.updateWorldMatrix(!0,!1),ue.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ae.lookAt(ue,se,this.up):ae.lookAt(se,ue,this.up),this.quaternion.setFromRotationMatrix(ae),e&&(ae.extractRotation(e.matrixWorld),oe.setFromRotationMatrix(ae),this.quaternion.premultiply(oe.inverse()))},add:function(e){if(1<arguments.length)for(var t=0;t<arguments.length;t++)this.add(arguments[t]);else e===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",e):e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),(e.parent=this).children.push(e),e.dispatchEvent(de)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e);return this},remove:function(e){if(1<arguments.length)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);else{var n=this.children.indexOf(e);-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(ye))}return this},attach:function(e){return this.updateWorldMatrix(!0,!1),ae.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ae.multiply(e.parent.matrixWorld)),e.applyMatrix4(ae),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new w),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new z),this.updateMatrixWorld(!0),this.matrixWorld.decompose(ue,e,le),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new w),this.updateMatrixWorld(!0),this.matrixWorld.decompose(ue,ce,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new w),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e=!(this.matrixWorldNeedsUpdate=!1));for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),ve.prototype=Object.assign(Object.create(s.prototype),{constructor:ve,isScene:!0,copy:function(e,t){return s.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var me={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ge={h:0,s:0,l:0},be={h:0,s:0,l:0};function d(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function xe(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function we(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function _e(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function Se(e,t,n){this.name="",this.color=new d(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}Object.assign(d.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){return e=x.euclideanModulo(e,1),t=x.clamp(t,0,1),n=x.clamp(n,0,1),0===t?this.r=this.g=this.b=n:(this.r=xe(t=2*n-(n=n<=.5?n*(1+t):n+t-n*t),n,e+1/3),this.g=xe(t,n,e),this.b=xe(t,n,e-1/3)),this},setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}if(u=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,r,i,o,a=u[1],s=u[2];switch(a){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return r=parseFloat(n[1])/360,i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,e(n[5]),this.setHSL(r,i,o)}}else if(u=/^\#([A-Fa-f0-9]+)$/.exec(t)){var a=u[1],u=a.length;if(3===u)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,this}return t&&0<t.length?this.setColorName(t):this},setColorName:function(e){var t=me[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){t=0<(t=void 0===t?2:t)?1/t:1;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=we(e.r),this.g=we(e.g),this.b=we(e.b),this},copyLinearToSRGB:function(e){return this.r=_e(e.r),this.g=_e(e.g),this.b=_e(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n=this.r,r=this.g,i=this.b,o=Math.max(n,r,i),a=Math.min(n,r,i),s=(a+o)/2;if(a===o)l=t=0;else{var u=o-a,l=s<=.5?u/(o+a):u/(2-o-a);switch(o){case n:t=(r-i)/u+(r<i?6:0);break;case r:t=(i-n)/u+2;break;case i:t=(n-r)/u+4}t/=6}return e.h=t,e.s=l,e.l=s,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(ge),ge.h+=e,ge.s+=t,ge.l+=n,this.setHSL(ge.h,ge.s,ge.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(ge),e.getHSL(be);var e=x.lerp(ge.h,be.h,t),n=x.lerp(ge.s,be.s,t),t=x.lerp(ge.l,be.l,t);return this.setHSL(e,n,t),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return this.r=e[t=void 0===t?0:t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return(e=void 0===e?[]:e)[t=void 0===t?0:t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}}),d.NAMES=me,Object.assign(Se.prototype,{isFog:!0,clone:function(){return new Se(this.color,this.near,this.far)}});var Te=[new w,new w,new w,new w,new w,new w,new w,new w],Ee=new w,ke=new Ne,Oe=new w,Pe=new w,Me=new w,Ae=new w,Re=new w,Ce=new w,Le=new w,Ie=new w,De=new w,je=new w;function Ne(e,t){this.min=void 0!==e?e:new w(1/0,1/0,1/0),this.max=void 0!==t?t:new w(-1/0,-1/0,-1/0)}function Fe(e,t,n,r,i){for(var o=0,a=e.length-3;o<=a;o+=3){je.fromArray(e,o);var s=i.x*Math.abs(je.x)+i.y*Math.abs(je.y)+i.z*Math.abs(je.z),u=t.dot(je),l=n.dot(je),c=r.dot(je);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}function Ue(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function j(e,t){this.x=e||0,this.y=t||0}Object.assign(Ne.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],h=e[s+2];l<t&&(t=l),c<n&&(n=c),h<r&&(r=h),i<l&&(i=l),o<c&&(o=c),a<h&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),h=e.getZ(s);l<t&&(t=l),c<n&&(n=c),h<r&&(r=h),i<l&&(i=l),o<c&&(o=c),a<h&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){t=Ee.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new w),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new w),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);for(var t=e.geometry,n=(void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),ke.copy(t.boundingBox),ke.applyMatrix4(e.matrixWorld),this.union(ke)),e.children),r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new w),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Ee),Ee.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,n=0<e.normal.x?(t=e.normal.x*this.min.x,e.normal.x*this.max.x):(t=e.normal.x*this.max.x,e.normal.x*this.min.x);return 0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){return!this.isEmpty()&&(this.getCenter(Le),Ie.subVectors(this.max,Le),Oe.subVectors(e.a,Le),Pe.subVectors(e.b,Le),Me.subVectors(e.c,Le),Ae.subVectors(Pe,Oe),Re.subVectors(Me,Pe),Ce.subVectors(Oe,Me),!!Fe([0,-Ae.z,Ae.y,0,-Re.z,Re.y,0,-Ce.z,Ce.y,Ae.z,0,-Ae.x,Re.z,0,-Re.x,Ce.z,0,-Ce.x,-Ae.y,Ae.x,0,-Re.y,Re.x,0,-Ce.y,Ce.x,0],Oe,Pe,Me,Ie))&&!!Fe([1,0,0,0,1,0,0,0,1],Oe,Pe,Me,Ie)&&(De.crossVectors(Ae,Re),Fe([De.x,De.y,De.z],Oe,Pe,Me,Ie))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new w),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Ee.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Ee).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||(Te[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Te[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Te[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Te[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Te[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Te[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Te[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Te[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Te)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.defineProperties(Ue.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(Ue.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*r+e[12]*i,this.y=e[1]*t+e[5]*n+e[9]*r+e[13]*i,this.z=e[2]*t+e[6]*n+e[10]*r+e[14]*i,this.w=e[3]*t+e[7]*n+e[11]*r+e[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o,a,s,u,l,c,e=e.elements,h=e[0],p=e[4],f=e[8],d=e[1],y=e[5],v=e[9],m=e[2],g=e[6],e=e[10];return Math.abs(p-d)<.01&&Math.abs(f-m)<.01&&Math.abs(v-g)<.01?Math.abs(p+d)<.1&&Math.abs(f+m)<.1&&Math.abs(v+g)<.1&&Math.abs(h+y+e-3)<.1?this.set(1,0,0,0):(i=Math.PI,a=(e+1)/2,s=(p+d)/4,u=(f+m)/4,l=(v+g)/4,(o=(y+1)/2)<(c=(h+1)/2)&&a<c?r=c<.01?(t=0,n=.707106781):(n=s/(t=Math.sqrt(c)),u/t):a<o?r=o<.01?(n=0,t=.707106781):(t=s/(n=Math.sqrt(o)),l/n):a<.01?(n=t=.707106781,r=0):(t=u/(r=Math.sqrt(a)),n=l/r),this.set(t,n,r,i)):(c=Math.sqrt((g-v)*(g-v)+(f-m)*(f-m)+(d-p)*(d-p)),Math.abs(c)<.001&&(c=1),this.x=(g-v)/c,this.y=(f-m)/c,this.z=(d-p)/c,this.w=Math.acos((h+y+e-1)/2)),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return this.x=e[t=void 0===t?0:t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return(e=void 0===e?[]:e)[t=void 0===t?0:t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Object.defineProperties(j.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(j.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,e=e.elements;return this.x=e[0]*t+e[3]*n+e[6],this.y=e[1]*t+e[4]*n+e[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,e=this.y-e.y;return t*t+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return this.x=e[t=void 0===t?0:t],this.y=e[t+1],this},toArray:function(e,t){return(e=void 0===e?[]:e)[t=void 0===t?0:t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),t=Math.sin(t),r=this.x-e.x,i=this.y-e.y;return this.x=r*n-i*t+e.x,this.y=r*t+i*n+e.y,this}});var Be=0,ze=1,Ge=2,He=1,Ve=100,We=204,qe=205,Ye=3,Xe=0,Ze=3200,Ke=0,Qe=7680,Je=519,r=new w;function _(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function $e(e,t,n){_.call(this,new Int8Array(e),t,n)}function et(e,t,n){_.call(this,new Uint8Array(e),t,n)}function tt(e,t,n){_.call(this,new Uint8ClampedArray(e),t,n)}function nt(e,t,n){_.call(this,new Int16Array(e),t,n)}function rt(e,t,n){_.call(this,new Uint16Array(e),t,n)}function it(e,t,n){_.call(this,new Int32Array(e),t,n)}function ot(e,t,n){_.call(this,new Uint32Array(e),t,n)}function S(e,t,n){_.call(this,new Float32Array(e),t,n)}function at(e,t,n){_.call(this,new Float64Array(e),t,n)}Object.defineProperty(_.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(_.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new d),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new j),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new w),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Ue),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},applyMatrix3:function(e){for(var t=0,n=this.count;t<n;t++)r.x=this.getX(t),r.y=this.getY(t),r.z=this.getZ(t),r.applyMatrix3(e),this.setXYZ(t,r.x,r.y,r.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)r.x=this.getX(t),r.y=this.getY(t),r.z=this.getZ(t),r.applyMatrix4(e),this.setXYZ(t,r.x,r.y,r.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)r.x=this.getX(t),r.y=this.getY(t),r.z=this.getZ(t),r.applyNormalMatrix(e),this.setXYZ(t,r.x,r.y,r.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)r.x=this.getX(t),r.y=this.getY(t),r.z=this.getZ(t),r.transformDirection(e),this.setXYZ(t,r.x,r.y,r.z);return this},set:function(e,t){return this.array.set(e,t=void 0===t?0:t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),($e.prototype=Object.create(_.prototype)).constructor=$e,(et.prototype=Object.create(_.prototype)).constructor=et,(tt.prototype=Object.create(_.prototype)).constructor=tt,(nt.prototype=Object.create(_.prototype)).constructor=nt,rt.prototype=Object.create(_.prototype),rt.prototype.constructor=rt,(it.prototype=Object.create(_.prototype)).constructor=it,ot.prototype=Object.create(_.prototype),ot.prototype.constructor=ot,(S.prototype=Object.create(_.prototype)).constructor=S,(at.prototype=Object.create(_.prototype)).constructor=at;var st=new Ne;function ut(e,t){this.center=void 0!==e?e:new w,this.radius=void 0!==t?t:0}function lt(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function ct(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Object.assign(ut.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){for(var n=this.center,r=(void 0!==t?n.copy(t):st.setFromPoints(e).getCenter(n),0),i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new w),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Ne),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(lt.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t=e.faces,n=e.vertices,r=e.faceVertexUvs,i=r[0]&&0<r[0].length,o=r[1]&&0<r[1].length,a=e.morphTargets,s=a.length;if(0<s){for(var u=[],l=0;l<s;l++)u[l]={name:a[l].name,data:[]};this.morphTargets.position=u}var c=e.morphNormals,h=c.length;if(0<h){for(var p=[],l=0;l<h;l++)p[l]={name:c[l].name,data:[]};this.morphTargets.normal=p}var f=e.skinIndices,d=e.skinWeights,y=f.length===n.length,v=d.length===n.length;0<n.length&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(l=0;l<t.length;l++){var m,g=t[l],b=(this.vertices.push(n[g.a],n[g.b],n[g.c]),g.vertexNormals),b=(3===b.length?this.normals.push(b[0],b[1],b[2]):(b=g.normal,this.normals.push(b,b,b)),g.vertexColors);3===b.length?this.colors.push(b[0],b[1],b[2]):(b=g.color,this.colors.push(b,b,b)),!0===i&&(void 0!==(m=r[0][l])?this.uvs.push(m[0],m[1],m[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new j,new j,new j))),!0===o&&(void 0!==(m=r[1][l])?this.uvs2.push(m[0],m[1],m[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new j,new j,new j)));for(var x=0;x<s;x++){var w=a[x].vertices;u[x].data.push(w[g.a],w[g.b],w[g.c])}for(x=0;x<h;x++){var _=c[x].vertexNormals[l];p[x].data.push(_.a,_.b,_.c)}y&&this.skinIndices.push(f[g.a],f[g.b],f[g.c]),v&&this.skinWeights.push(d[g.a],d[g.b],d[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var ht=1,pt=new m,ft=new s,dt=new w,yt=new Ne,vt=new Ne,mt=new w;function gt(){Object.defineProperty(this,"id",{value:ht+=2}),this.uuid=x.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function bt(e,t,n,r){gt.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};for(var i=(e=e||1)/2,o=(t=t||1)/2,a=Math.floor(n)||1,s=Math.floor(r)||1,u=a+1,l=s+1,c=e/a,h=t/s,p=[],f=[],d=[],y=[],v=0;v<l;v++)for(var m=v*h-o,g=0;g<u;g++)f.push(g*c-i,-m,0),d.push(0,0,1),y.push(g/a),y.push(1-v/s);for(v=0;v<s;v++)for(g=0;g<a;g++){var b=g+u*(v+1),x=g+1+u*(v+1),w=g+1+u*v;p.push(g+u*v,b,w),p.push(b,x,w)}this.setIndex(p),this.setAttribute("position",new S(f,3)),this.setAttribute("normal",new S(d,3)),this.setAttribute("uv",new S(y,2))}gt.prototype=Object.assign(Object.create(Q.prototype),{constructor:gt,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(65535<ct(e)?ot:rt)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position,t=(void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0),this.attributes.normal),n=(void 0!==t&&(n=(new ne).getNormalMatrix(e),t.applyNormalMatrix(n),t.needsUpdate=!0),this.attributes.tangent);return void 0!==n&&(n.transformDirection(e),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return pt.makeRotationX(e),this.applyMatrix4(pt),this},rotateY:function(e){return pt.makeRotationY(e),this.applyMatrix4(pt),this},rotateZ:function(e){return pt.makeRotationZ(e),this.applyMatrix4(pt),this},translate:function(e,t,n){return pt.makeTranslation(e,t,n),this.applyMatrix4(pt),this},scale:function(e,t,n){return pt.makeScale(e,t,n),this.applyMatrix4(pt),this},lookAt:function(e){return ft.lookAt(e),ft.updateMatrix(),this.applyMatrix4(ft.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(dt).negate(),this.translate(dt.x,dt.y,dt.z),this},setFromObject:function(e){var t,n,r=e.geometry;return e.isPoints||e.isLine?(n=new S(3*r.vertices.length,3),t=new S(3*r.colors.length,3),this.setAttribute("position",n.copyVector3sArray(r.vertices)),this.setAttribute("color",t.copyColorsArray(r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length&&(n=new S(r.lineDistances.length,1),this.setAttribute("lineDistance",n.copyArray(r.lineDistances))),null!==r.boundingSphere&&(this.boundingSphere=r.boundingSphere.clone()),null!==r.boundingBox&&(this.boundingBox=r.boundingBox.clone())):e.isMesh&&r&&r.isGeometry&&this.fromGeometry(r),this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new S(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new lt).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t,n=new Float32Array(3*e.vertices.length);for(t in this.setAttribute("position",new _(n,3).copyVector3sArray(e.vertices)),0<e.normals.length&&(n=new Float32Array(3*e.normals.length),this.setAttribute("normal",new _(n,3).copyVector3sArray(e.normals))),0<e.colors.length&&(n=new Float32Array(3*e.colors.length),this.setAttribute("color",new _(n,3).copyColorsArray(e.colors))),0<e.uvs.length&&(n=new Float32Array(2*e.uvs.length),this.setAttribute("uv",new _(n,2).copyVector2sArray(e.uvs))),0<e.uvs2.length&&(n=new Float32Array(2*e.uvs2.length),this.setAttribute("uv2",new _(n,2).copyVector2sArray(e.uvs2))),this.groups=e.groups,e.morphTargets){for(var r=[],i=e.morphTargets[t],o=0,a=i.length;o<a;o++){var s=i[o],u=new S(3*s.data.length,3);u.name=s.name,r.push(u.copyVector3sArray(s.data))}this.morphAttributes[t]=r}return 0<e.skinIndices.length&&(n=new S(4*e.skinIndices.length,4),this.setAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))),0<e.skinWeights.length&&(n=new S(4*e.skinWeights.length,4),this.setAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ne);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];yt.setFromBufferAttribute(i),this.morphTargetsRelative?(mt.addVectors(this.boundingBox.min,yt.min),this.boundingBox.expandByPoint(mt),mt.addVectors(this.boundingBox.max,yt.max),this.boundingBox.expandByPoint(mt)):(this.boundingBox.expandByPoint(yt.min),this.boundingBox.expandByPoint(yt.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ut);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(yt.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];vt.setFromBufferAttribute(o),this.morphTargetsRelative?(mt.addVectors(yt.min,vt.min),yt.expandByPoint(mt),mt.addVectors(yt.max,vt.max),yt.expandByPoint(mt)):(yt.expandByPoint(vt.min),yt.expandByPoint(vt.max))}yt.getCenter(n);for(var a=0,r=0,i=e.count;r<i;r++)mt.fromBufferAttribute(e,r),a=Math.max(a,n.distanceToSquared(mt));if(t)for(r=0,i=t.length;r<i;r++)for(var o=t[r],s=this.morphTargetsRelative,u=0,l=o.count;u<l;u++)mt.fromBufferAttribute(o,u),s&&(dt.fromBufferAttribute(e,u),mt.add(dt)),a=Math.max(a,n.distanceToSquared(mt));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new _(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var a,s,u,l=t.normal.array,c=new w,h=new w,p=new w,f=new w,d=new w;if(e)for(var y=e.array,i=0,o=e.count;i<o;i+=3)a=3*y[i+0],s=3*y[i+1],u=3*y[i+2],c.fromArray(n,a),h.fromArray(n,s),p.fromArray(n,u),f.subVectors(p,h),d.subVectors(c,h),f.cross(d),l[a]+=f.x,l[1+a]+=f.y,l[2+a]+=f.z,l[s]+=f.x,l[1+s]+=f.y,l[2+s]+=f.z,l[u]+=f.x,l[1+u]+=f.y,l[2+u]+=f.z;else for(i=0,o=n.length;i<o;i+=9)c.fromArray(n,i),h.fromArray(n,i+3),p.fromArray(n,i+6),f.subVectors(p,h),d.subVectors(c,h),f.cross(d),l[i]=f.x,l[i+1]=f.y,l[i+2]=f.z,l[i+3]=f.x,l[i+4]=f.y,l[i+5]=f.z,l[i+6]=f.x,l[i+7]=f.y,l[i+8]=f.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)mt.x=e.getX(t),mt.y=e.getY(t),mt.z=e.getZ(t),mt.normalize(),e.setXYZ(t,mt.x,mt.y,mt.z)},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(bt.prototype=Object.create(gt.prototype)).constructor=bt;var xt={alphaTest:.001},wt=0;function p(){Object.defineProperty(this,"id",{value:wt++}),this.uuid=x.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=He,this.side=Be,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=We,this.blendDst=qe,this.blendEquation=Ve,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ye,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Je,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Qe,this.stencilZFail=Qe,this.stencilZPass=Qe,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=xt.alphaTest,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function _t(e){p.call(this),this.type="MeshBasicMaterial",this.color=new d(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xe,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}p.prototype=Object.assign(Object.create(Q.prototype),{constructor:p,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n,r=e[t];void 0===r?console.warn("THREE.Material: '"+t+"' parameter is undefined."):"shading"===t?(console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r):void 0===(n=this[t])?console.warn("THREE."+this.type+": '"+t+"' is not a property of this material."):n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t)for(var r=t.length,n=new Array(r),i=0;i!==r;++i)n[i]=t[i].clone();return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(p.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),((_t.prototype=Object.create(p.prototype)).constructor=_t).prototype.isMeshBasicMaterial=!0,_t.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var St=0;function Tt(e,t,n,r,i,o,a,s,u,l){Object.defineProperty(this,"id",{value:St++}),this.uuid=x.generateUUID(),this.name="",this.image=void 0!==e?e:Tt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Tt.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:1001,this.wrapT=void 0!==r?r:1001,this.magFilter=void 0!==i?i:1006,this.minFilter=void 0!==o?o:1008,this.anisotropy=void 0!==u?u:1,this.format=void 0!==a?a:1023,this.internalFormat=null,this.type=void 0!==s?s:1009,this.offset=new j(0,0),this.repeat=new j(1,1),this.center=new j(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ne,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:3e3,this.version=0,this.onUpdate=null}function Et(e,t,n,r,i,o,a,s,u){Tt.call(this,e,t,n,r,i,o,a,s,u),this.needsUpdate=!0}Tt.DEFAULT_IMAGE=void 0,Tt.DEFAULT_MAPPING=300,Tt.prototype=Object.assign(Object.create(Q.prototype),{constructor:Tt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300===this.mapping){if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}return e}}),Object.defineProperty(Tt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),((Et.prototype=Object.create(Tt.prototype)).constructor=Et).prototype.isCanvasTexture=!0;var kt=new w,Ot=new w,Pt=new ne;function Mt(e,t){this.normal=void 0!==e?e:new w(1,0,0),this.constant=void 0!==t?t:0}Object.assign(Mt.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){n=kt.subVectors(n,t).cross(Ot.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new w),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new w);var n=e.delta(kt),r=this.normal.dot(n);return 0===r?0===this.distanceToPoint(e.start)?t.copy(e.start):void 0:(r=-(e.start.dot(this.normal)+this.constant)/r)<0||1<r?void 0:t.copy(n).multiplyScalar(r).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),e=this.distanceToPoint(e.end);return t<0&&0<e||e<0&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new w),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){t=t||Pt.getNormalMatrix(e),e=this.coplanarPoint(kt).applyMatrix4(e),t=this.normal.applyMatrix3(t).normalize();return this.constant=-e.dot(t),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var At=new w,Rt=new w,Ct=new w,Lt=new w,It=new w,Dt=new w,jt=new w;function Nt(e,t){this.origin=void 0!==e?e:new w,this.direction=void 0!==t?t:new w(0,0,-1)}Object.assign(Nt.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new w),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,At)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new w),t.subVectors(e,this.origin);e=t.dot(this.direction);return e<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(e).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=At.subVectors(e,this.origin).dot(this.direction);return(t<0?this.origin:(At.copy(this.direction).multiplyScalar(t).add(this.origin),At)).distanceToSquared(e)},distanceSqToSegment:function(e,t,n,r){Rt.copy(e).add(t).multiplyScalar(.5),Ct.copy(t).sub(e).normalize(),Lt.copy(this.origin).sub(Rt);var i,o,a,e=.5*e.distanceTo(t),t=-this.direction.dot(Ct),s=Lt.dot(this.direction),u=-Lt.dot(Ct),l=Lt.lengthSq(),c=Math.abs(1-t*t);return c=0<c?(o=t*s-u,a=e*c,0<=(i=t*u-s)?-a<=o?o<=a?(i*=c=1/c)*(i+t*(o*=c)+2*s)+o*(t*i+o+2*u)+l:(o=e,-(i=Math.max(0,-(t*o+s)))*i+o*(o+2*u)+l):(o=-e,-(i=Math.max(0,-(t*o+s)))*i+o*(o+2*u)+l):o<=-a?-(i=Math.max(0,-(-t*e+s)))*i+(o=0<i?-e:Math.min(Math.max(-e,-u),e))*(o+2*u)+l:o<=a?(i=0,(o=Math.min(Math.max(-e,-u),e))*(o+2*u)+l):-(i=Math.max(0,-(t*e+s)))*i+(o=0<i?e:Math.min(Math.max(-e,-u),e))*(o+2*u)+l):(o=0<t?-e:e,-(i=Math.max(0,-(t*o+s)))*i+o*(o+2*u)+l),n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Ct).multiplyScalar(o).add(Rt),c},intersectSphere:function(e,t){At.subVectors(e.center,this.origin);var n=At.dot(this.direction),r=At.dot(At)-n*n,e=e.radius*e.radius;return e<r||(r=n+(e=Math.sqrt(e-r)),(n=n-e)<0&&r<0)?null:n<0?this.at(r,t):this.at(n,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);return 0===t?0===e.distanceToPoint(this.origin)?0:null:0<=(e=-(this.origin.dot(e.normal)+e.constant)/t)?e:null},intersectPlane:function(e,t){e=this.distanceToPlane(e);return null===e?null:this.at(e,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,o=1/this.direction.x,a=1/this.direction.y,s=1/this.direction.z,u=this.origin,o=0<=o?(n=(e.min.x-u.x)*o,(e.max.x-u.x)*o):(n=(e.max.x-u.x)*o,(e.min.x-u.x)*o),a=0<=a?(i=(e.min.y-u.y)*a,(e.max.y-u.y)*a):(i=(e.max.y-u.y)*a,(e.min.y-u.y)*a);return a<n||o<i||((n<i||n!=n)&&(n=i),(a<o||o!=o)&&(o=a),(i=0<=s?(r=(e.min.z-u.z)*s,(e.max.z-u.z)*s):(r=(e.max.z-u.z)*s,(e.min.z-u.z)*s))<n)||o<r||((n<r||n!=n)&&(n=r),(o=i<o||o!=o?i:o)<0)?null:this.at(0<=n?n:o,t)},intersectsBox:function(e){return null!==this.intersectBox(e,At)},intersectTriangle:function(e,t,n,r,i){It.subVectors(t,e),Dt.subVectors(n,e),jt.crossVectors(It,Dt);var o,t=this.direction.dot(jt);if(0<t){if(r)return null;o=1}else{if(!(t<0))return null;o=-1,t=-t}Lt.subVectors(this.origin,e);n=o*this.direction.dot(Dt.crossVectors(Lt,Dt));return n<0||(r=o*this.direction.dot(It.cross(Lt)))<0||t<n+r||(e=-o*Lt.dot(jt))<0?null:this.at(e/t,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var Ft=new w,Ut=new w,Bt=new w,zt=new w,Gt=new w,Ht=new w,Vt=new w,Wt=new w,qt=new w,Yt=new w;function Xt(e,t,n){this.a=void 0!==e?e:new w,this.b=void 0!==t?t:new w,this.c=void 0!==n?n:new w}function Zt(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new w,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new d,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}Object.assign(Xt,{getNormal:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new w),r.subVectors(n,t),Ft.subVectors(e,t),r.cross(Ft);n=r.lengthSq();return 0<n?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)},getBarycoord:function(e,t,n,r,i){Ft.subVectors(r,t),Ut.subVectors(n,t),Bt.subVectors(e,t);var r=Ft.dot(Ft),n=Ft.dot(Ut),e=Ft.dot(Bt),t=Ut.dot(Ut),o=Ut.dot(Bt),a=r*t-n*n;return void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new w),0==a?i.set(-2,-1,-1):i.set(1-(t=(t*e-n*o)*(i=1/a))-(a=(r*o-n*e)*i),a,t)},containsPoint:function(e,t,n,r){return Xt.getBarycoord(e,t,n,r,zt),0<=zt.x&&0<=zt.y&&zt.x+zt.y<=1},getUV:function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,zt),s.set(0,0),s.addScaledVector(i,zt.x),s.addScaledVector(o,zt.y),s.addScaledVector(a,zt.z),s},isFrontFacing:function(e,t,n,r){return Ft.subVectors(n,t),Ut.subVectors(e,t),Ft.cross(Ut).dot(r)<0}}),Object.assign(Xt.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return Ft.subVectors(this.c,this.b),Ut.subVectors(this.a,this.b),.5*Ft.cross(Ut).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new w),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Xt.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Mt),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Xt.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,r,i){return Xt.getUV(e,this.a,this.b,this.c,t,n,r,i)},containsPoint:function(e){return Xt.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Xt.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new w);var n=this.a,r=this.b,i=this.c,o=(Gt.subVectors(r,n),Ht.subVectors(i,n),Wt.subVectors(e,n),Gt.dot(Wt)),a=Ht.dot(Wt);if(o<=0&&a<=0)return t.copy(n);qt.subVectors(e,r);var s=Gt.dot(qt),u=Ht.dot(qt);if(0<=s&&u<=s)return t.copy(r);var l=o*u-s*a;if(l<=0&&0<=o&&s<=0)return c=o/(o-s),t.copy(n).addScaledVector(Gt,c);Yt.subVectors(e,i);var c,h,e=Gt.dot(Yt),p=Ht.dot(Yt);return 0<=p&&e<=p?t.copy(i):(o=e*a-o*p)<=0&&0<=a&&p<=0?(h=a/(a-p),t.copy(n).addScaledVector(Ht,h)):(a=s*p-e*u)<=0&&0<=u-s&&0<=e-p?(Vt.subVectors(i,r),h=(u-s)/(u-s+(e-p)),t.copy(r).addScaledVector(Vt,h)):(c=o*(i=1/(a+o+l)),h=l*i,t.copy(n).addScaledVector(Gt,c).addScaledVector(Ht,h))},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Object.assign(Zt.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Kt=new m,Qt=new Nt,Jt=new ut,$t=new w,e0=new w,t0=new w,n0=new w,r0=new w,i0=new w,o0=new w,a0=new w,s0=new w,u0=new j,l0=new j,c0=new j,h0=new w,p0=new w;function f0(e,t){s.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new gt,this.material=void 0!==t?t:new _t,this.updateMorphTargets()}function d0(e,t,n,r,i,o,a,s){r=t.side===ze?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==Ge,s);if(null===r)return null;p0.copy(s),p0.applyMatrix4(e.matrixWorld);i=n.ray.origin.distanceTo(p0);return i<n.near||i>n.far?null:{distance:i,point:p0.clone(),object:e}}function y0(e,t,n,r,i,o,a,s,u,l,c,h){$t.fromBufferAttribute(i,l),e0.fromBufferAttribute(i,c),t0.fromBufferAttribute(i,h);var p=e.morphTargetInfluences;if(t.morphTargets&&o&&p){o0.set(0,0,0),a0.set(0,0,0),s0.set(0,0,0);for(var f=0,d=o.length;f<d;f++){var y=p[f],v=o[f];0!==y&&(n0.fromBufferAttribute(v,l),r0.fromBufferAttribute(v,c),i0.fromBufferAttribute(v,h),a?(o0.addScaledVector(n0,y),a0.addScaledVector(r0,y),s0.addScaledVector(i0,y)):(o0.addScaledVector(n0.sub($t),y),a0.addScaledVector(r0.sub(e0),y),s0.addScaledVector(i0.sub(t0),y)))}$t.add(o0),e0.add(a0),t0.add(s0)}i=d0(e,t,n,r,$t,e0,t0,h0);return i&&(s&&(u0.fromBufferAttribute(s,l),l0.fromBufferAttribute(s,c),c0.fromBufferAttribute(s,h),i.uv=Xt.getUV(h0,$t,e0,t0,u0,l0,c0,new j)),u&&(u0.fromBufferAttribute(u,l),l0.fromBufferAttribute(u,c),c0.fromBufferAttribute(u,h),i.uv2=Xt.getUV(h0,$t,e0,t0,u0,l0,c0,new j)),e=new Zt(l,c,h),Xt.getNormal($t,e0,t0,e.normal),i.face=e),i}function v0(e,t,n,r){this.ray=new Nt(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new te,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function m0(e,t){return e.distance-t.distance}function g0(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,o=0,a=i.length;o<a;o++)g0(i[o],t,n,!0)}f0.prototype=Object.assign(Object.create(s.prototype),{constructor:f0,isMesh:!0,copy:function(e){return s.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(0<o.length){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{i=r.morphTargets;void 0!==i&&0<i.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),Jt.copy(n.boundingSphere),Jt.applyMatrix4(i),!1!==e.ray.intersectsSphere(Jt)&&(Kt.getInverse(i),Qt.copy(e.ray).applyMatrix4(Kt),null===n.boundingBox||!1!==Qt.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var o,a,s,u,l,c,h,p,f,d=n.index,y=n.attributes.position,v=n.morphAttributes.position,m=n.morphTargetsRelative,g=n.attributes.uv,b=n.attributes.uv2,x=n.groups,w=n.drawRange;if(null!==d)if(Array.isArray(r))for(u=0,c=x.length;u<c;u++)for(f=r[(p=x[u]).materialIndex],l=Math.max(p.start,w.start),h=Math.min(p.start+p.count,w.start+w.count);l<h;l+=3)o=d.getX(l),a=d.getX(l+1),s=d.getX(l+2),(R=y0(this,f,e,Qt,y,v,m,g,b,o,a,s))&&(R.faceIndex=Math.floor(l/3),R.face.materialIndex=p.materialIndex,t.push(R));else for(u=Math.max(0,w.start),c=Math.min(d.count,w.start+w.count);u<c;u+=3)o=d.getX(u),a=d.getX(u+1),s=d.getX(u+2),(R=y0(this,r,e,Qt,y,v,m,g,b,o,a,s))&&(R.faceIndex=Math.floor(u/3),t.push(R));else if(void 0!==y)if(Array.isArray(r))for(u=0,c=x.length;u<c;u++)for(f=r[(p=x[u]).materialIndex],l=Math.max(p.start,w.start),h=Math.min(p.start+p.count,w.start+w.count);l<h;l+=3)(R=y0(this,f,e,Qt,y,v,m,g,b,o=l,a=l+1,s=l+2))&&(R.faceIndex=Math.floor(l/3),R.face.materialIndex=p.materialIndex,t.push(R));else for(u=Math.max(0,w.start),c=Math.min(y.count,w.start+w.count);u<c;u+=3)(R=y0(this,r,e,Qt,y,v,m,g,b,o=u,a=u+1,s=u+2))&&(R.faceIndex=Math.floor(u/3),t.push(R))}else if(n.isGeometry){var _,S=Array.isArray(r),T=n.vertices,E=n.faces,i=n.faceVertexUvs[0];0<i.length&&(_=i);for(var k=0,O=E.length;k<O;k++){var P,M,A,R,C=E[k],L=S?r[C.materialIndex]:r;void 0!==L&&(P=T[C.a],M=T[C.b],A=T[C.c],R=d0(this,L,e,Qt,P,M,A,h0))&&(_&&_[k]&&(L=_[k],u0.copy(L[0]),l0.copy(L[1]),c0.copy(L[2]),R.uv=Xt.getUV(h0,P,M,A,u0,l0,c0,new j)),R.face=C,R.faceIndex=k,t.push(R))}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(v0.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){n=n||[];return g0(e,this,n,t),n.sort(m0),n},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))console.warn("THREE.Raycaster.intersectObjects: objects is not an Array.");else{for(var i=0,o=e.length;i<o;i++)g0(e[i],this,r,t);r.sort(m0)}return r}});var l={AMAP_SATELLITE:1,AMAP_VECTOR:2,BAIDU_VECTOR:4,BAIDU_SATELLITE:8,TD_VECTOR:16,TD_SATELLITE:32,OSM:64},t={FOV:35,CAMERA_NEAR:1,CAMERA_FAR:1e5,ZOOM_UPPER_BOUND:30,TILT_UPPER_BOUND:90,THOUSAND:1e3,DEG2RAD:.0174532,RAD2DEG:57.2957795,DRAW_TIME:500,EPS:.001},b0=(Object.freeze(t),t),x0={YELLOW:"YELLOW",CELESTE:"CELESTE",GRAY:"GRAY",PEACH:"PEACH",PINK:"PINK",SAPPHIRE:"SAPPHIRE",NONE:"NONE",CUSTOM:"CUSTOM"};function w0(){s.call(this),this.type="Group"}function _0(e){return(_0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=_0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_0(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==_0(e)?e:String(e)}(r.key),r)}}w0.prototype=Object.assign(Object.create(s.prototype),{constructor:w0,isGroup:!0});var T0=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.disposed=!1}var t,n,r;return t=e,(n=[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.disposeInternal())}},{key:"disposeInternal",value:function(){}}])&&S0(t.prototype,n),r&&S0(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E0(e,t){return t<e?1:e<t?-1:0}function k0(e,t,n){var r,i=e.length;if(e[0]<=t)return 0;if(!(t<=e[i-1]))if(0<n){for(r=1;r<i;++r)if(e[r]<t)return r-1}else if(n<0){for(r=1;r<i;++r)if(e[r]<=t)return r}else for(r=1;r<i;++r){if(e[r]==t)return r;if(e[r]<t)return"function"==typeof n?0<n(t,e[r-1],e[r])?r-1:r:e[r-1]-t<t-e[r]?r-1:r}return i-1}function O0(e,t){for(var n=Array.isArray(t)?t:[t],r=n.length,i=0;i<r;i++)e[e.length]=n[i]}function P0(e,t){var n=e.length;if(n===t.length){for(var r=0;r<n;r++)if(e[r]!==t[r])return;return 1}}function M0(){return!0}function A0(){}function o(){throw new Error("Unimplemented abstract method.")}var R0=0;function C0(e){return e.ol_uid||(e.ol_uid=String(++R0))}var t="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",L0=(t.indexOf("firefox"),-1!==t.indexOf("safari")&&t.indexOf("chrom"),-1!==t.indexOf("webkit")&&t.indexOf("edge"),t.indexOf("macintosh"),"undefined"!=typeof devicePixelRatio?devicePixelRatio:1),I0="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,D0="undefined"!=typeof Image&&Image.prototype.decode;!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(e){}}();function j0(e){return(j0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=j0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=j0(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==j0(e)?e:String(e)}(r.key),r)}}function F0(e,t,n){t=G0(t);var r=e,t=B0()?Reflect.construct(t,n||[],G0(e).constructor):t.apply(e,n);if(t&&("object"===j0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function U0(e){var n="function"==typeof Map?new Map:void 0;return function(e){if(null===e||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return function(e,t,n){var r;return B0()?Reflect.construct.apply(null,arguments):((r=[null]).push.apply(r,t),t=new(e.bind.apply(e,r)),n&&z0(t,n.prototype),t)}(e,arguments,G0(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),z0(t,e)}(e)}function B0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(B0=function(){return!!e})()}function z0(e,t){return(z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G0(e){return(G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H0=function(e){var t,n,r=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");function i(e){var t,n;if(this instanceof i)return(n=F0(this,i,[t="Assertion failed. See https://openlayers.org/en/latest/doc/errors/#"+e+" for details."])).code=e,n.name="AssertionError",n.message=t,n;throw new TypeError("Cannot call a class as a function")}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&z0(r,e),r=i,t&&N0(r.prototype,t),n&&N0(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}(U0(Error));function c(e,t){if(!e)throw new H0(t)}new Array(6);function V0(){return[1,0,0,1,0,0]}function W0(e,t){var n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function q0(e,t,n,r,i,o,a,s){var u=Math.sin(o),o=Math.cos(o);return e[0]=r*o,e[1]=i*u,e[2]=-r*u,e[3]=i*o,e[4]=a*r*o-s*r*u+t,e[5]=a*i*u+s*i*o+n,e}function Y0(e,t){var n=t[0]*t[3]-t[1]*t[2],r=(c(0!=n,32),t[0]),i=t[1],o=t[2],a=t[3],s=t[4],t=t[5];return e[0]=a/n,e[1]=-i/n,e[2]=-o/n,e[3]=r/n,e[4]=(o*t-a*s)/n,e[5]=-(r*t-i*s)/n,e}var X0={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Z0={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function K0(e,t,n){t=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,n=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0;return t*t+n*n}function Q0(e,t){return J0(e,t[0],t[1])}function J0(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function $0(e,t){var n=e[0],r=e[1],i=e[2],e=e[3],o=t[0],t=t[1],a=Z0.UNKNOWN;return o<n?a|=Z0.LEFT:i<o&&(a|=Z0.RIGHT),t<r?a|=Z0.BELOW:e<t&&(a|=Z0.ABOVE),a=a===Z0.UNKNOWN?Z0.INTERSECTING:a}function en(){return[1/0,1/0,-1/0,-1/0]}function tn(e,t,n,r,i){return i?(i[0]=e,i[1]=t,i[2]=n,i[3]=r,i):[e,t,n,r]}function nn(e){return tn(1/0,1/0,-1/0,-1/0,e)}function rn(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function on(e,t,n,r,i){for(;n<r;n+=i)o=e,a=t[n],s=t[n+1],o[0]=Math.min(o[0],a),o[1]=Math.min(o[1],s),o[2]=Math.max(o[2],a),o[3]=Math.max(o[3],s);var o,a,s;return e}function an(e){return[e[0],e[1]]}function sn(e){return[e[2],e[1]]}function un(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function ln(e,t,n,r,i){var o=t*r[0]/2,t=t*r[1]/2,r=Math.cos(n),n=Math.sin(n),a=o*r,o=o*n,r=t*r,t=t*n,n=e[0],e=e[1],s=n-a+t,u=n-a-t,l=n+a-t,n=n+a+t,a=e-o-r,t=e-o+r,c=e+o+r,e=e+o-r;return tn(Math.min(s,u,l,n),Math.min(a,t,c,e),Math.max(s,u,l,n),Math.max(a,t,c,e),i)}function cn(e){return e[3]-e[1]}function hn(e,t,n){n=n||en();return yn(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],e[1]>t[1]?n[1]=e[1]:n[1]=t[1],e[2]<t[2]?n[2]=e[2]:n[2]=t[2],e[3]<t[3]?n[3]=e[3]:n[3]=t[3]):nn(n),n}function pn(e){return[e[0],e[3]]}function fn(e){return[e[2],e[3]]}function dn(e){return e[2]-e[0]}function yn(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function vn(e){return e[2]<e[0]||e[3]<e[1]}function mn(e,t,n,r){var i=[];if(1<r)for(var o=e[2]-e[0],a=e[3]-e[1],s=0;s<r;++s)i.push(e[0]+o*s/r,e[1],e[2],e[1]+a*s/r,e[2]-o*s/r,e[3],e[0],e[3]-a*s/r);else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(i,i,2);for(var u,l=[],c=[],h=0,p=i.length;h<p;h+=2)l.push(i[h]),c.push(i[h+1]);return t=l,u=c,n=n,tn(Math.min.apply(null,t),Math.min.apply(null,u),Math.max.apply(null,t),Math.max.apply(null,u),n)}function gn(e,t,n){return Math.min(Math.max(e,t),n)}var bn="cosh"in Math?Math.cosh:function(e){e=Math.exp(e);return(e+1/e)/2};"log2"in Math&&Math.log2;function xn(e,t,n,r){n-=e,e=r-t;return n*n+e*e}function wn(e){return e*Math.PI/180}function _n(e,t){e%=t;return e*t<0?e+t:e}function Sn(e,t){t=Math.pow(10,t);return Math.round(e*t)/t}function Tn(e,t){return Math.floor(Sn(e,t))}function En(e,t){return Math.ceil(Sn(e,t))}var kn=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,On=/^([a-z]*)$|^hsla?\(.*\)$/i;function Pn(e){var t,n,r;return"string"==typeof e?e:((t=(e=e)[0])!=(0|t)&&(t=t+.5|0),(n=e[1])!=(0|n)&&(n=n+.5|0),(r=e[2])!=(0|r)&&(r=r+.5|0),e=void 0===e[3]?1:Math.round(100*e[3])/100,"rgba("+t+","+n+","+r+","+e+")")}function Mn(e){var t=document.createElement("div");return t.style.color=e,""!==t.style.color?(document.body.appendChild(t),e=getComputedStyle(t).color,document.body.removeChild(t),e):""}An={},Rn=0;var An,Rn,Cn=function(e){var t;if(An.hasOwnProperty(e))t=An[e];else{if(1024<=Rn){var n,r=0;for(n in An)0==(3&r++)&&(delete An[n],--Rn)}t=function(e){var t,n,r,i,o;On.exec(e)&&(e=Mn(e));{var a;kn.exec(e)?(a=e.length-1,o=a<=4?1:2,a=4==a||8==a,t=parseInt(e.substr(1+0*o,o),16),n=parseInt(e.substr(+o+1,o),16),r=parseInt(e.substr(1+2*o,o),16),i=a?parseInt(e.substr(1+3*o,o),16):255,1==o&&(t=(t<<4)+t,n=(n<<4)+n,r=(r<<4)+r,a)&&(i=(i<<4)+i),o=[t,n,r,i/255]):0==e.indexOf("rgba(")?In(o=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((o=e.slice(4,-1).split(",").map(Number)).push(1),In(o)):c(!1,14)}return o}(e),An[e]=t,++Rn}return t};function Ln(e){return Array.isArray(e)?e:Cn(e)}function In(e){e[0]=gn(e[0]+.5|0,0,255),e[1]=gn(e[1]+.5|0,0,255),e[2]=gn(e[2]+.5|0,0,255),e[3]=gn(e[3],0,1)}function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Dn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Dn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Dn(e)?e:String(e)}(r.key),r)}}t=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}var t,n,r;return t=e,(n=[{key:"clear",value:function(){this.cache_={},this.cacheSize_=0}},{key:"canExpireCache",value:function(){return this.cacheSize_>this.maxCacheSize_}},{key:"expire",value:function(){if(this.canExpireCache()){var e,t=0;for(e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}}},{key:"get",value:function(e,t,n){e=Nn(e,t,n);return e in this.cache_?this.cache_[e]:null}},{key:"set",value:function(e,t,n,r){e=Nn(e,t,n);this.cache_[e]=r,++this.cacheSize_}},{key:"setSize",value:function(e){this.maxCacheSize_=e,this.expire()}}])&&jn(t.prototype,n),r&&jn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Nn(e,t,n){return t+":"+e+":"+(n?Pn(n):"null")}var Fn=new t;function Un(e){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Un(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Un(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Un(e)?e:String(e)}(r.key),r)}}var zn=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}var e,n,r;return e=t,(n=[{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&Bn(e.prototype,n),r&&Bn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Gn="propertychange",Hn="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function Vn(e){for(var t in e)delete e[t]}"function"==typeof Object.values&&Object.values;function Wn(e){for(var t in e)return;return!t}function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=qn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==qn(e)?e:String(e)}(r.key),r)}}function Xn(e,t,n){t=Kn(t);var r=e,t=Zn()?Reflect.construct(t,n||[],Kn(e).constructor):t.apply(e,n);if(t&&("object"===qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Zn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Zn=function(){return!!e})()}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qn(e,t){return(Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Jn=function(){var e,t=r,n=T0;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(this instanceof r)return(t=Xn(this,r)).eventTarget_=e,t.pendingRemovals_=null,t.dispatching_=null,t.listeners_=null,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Qn(t,n),t=r,(n=[{key:"addEventListener",value:function(e,t){var n;e&&t&&-1===(n=(n=this.listeners_||(this.listeners_={}))[e]||(n[e]=[])).indexOf(t)&&n.push(t)}},{key:"dispatchEvent",value:function(e){var t="string"==typeof e,n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(r){var i,o=t?new zn(e):e,t=(o.target||(o.target=this.eventTarget_||this),this.dispatching_||(this.dispatching_={})),e=this.pendingRemovals_||(this.pendingRemovals_={});n in t||(t[n]=0,e[n]=0),++t[n];for(var a=0,s=r.length;a<s;++a)if(!1===(i="handleEvent"in r[a]?r[a].handleEvent(o):r[a].call(this,o))||o.propagationStopped){i=!1;break}if(0==--t[n]){var u=e[n];for(delete e[n];u--;)this.removeEventListener(n,A0);delete t[n]}return i}}},{key:"disposeInternal",value:function(){this.listeners_&&Vn(this.listeners_)}},{key:"getListeners",value:function(e){return this.listeners_&&this.listeners_[e]||void 0}},{key:"hasListener",value:function(e){return!!this.listeners_&&(e?e in this.listeners_:0<Object.keys(this.listeners_).length)}},{key:"removeEventListener",value:function(e,t){var n=this.listeners_&&this.listeners_[e];n&&-1!==(t=n.indexOf(t))&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[t]=A0,++this.pendingRemovals_[e]):(n.splice(t,1),0===n.length&&delete this.listeners_[e]))}}])&&Yn(t.prototype,n),e&&Yn(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(),$n="change",er="error",tr="load",nr="resize";function rr(e,t,n,r,i){r&&r!==e&&(n=n.bind(r)),i&&(o=n,n=function(){e.removeEventListener(t,n),o.apply(this,arguments)});var o,r={target:e,type:t,listener:n};return e.addEventListener(t,n),r}function ir(e,t,n,r){return rr(e,t,n,r,!0)}function or(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Vn(e))}function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=ar(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ar(e)?e:String(e)}(r.key),r)}}function ur(e,t,n){t=cr(t);var r=e,t=lr()?Reflect.construct(t,n||[],cr(e).constructor):t.apply(e,n);if(t&&("object"===ar(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function lr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lr=function(){return!!e})()}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hr(e,t){return(hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t=function(){var e,t=r,n=Jn;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(){var e;if(this instanceof r)return(e=ur(this,r)).on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&hr(t,n),t=r,(n=[{key:"changed",value:function(){++this.revision_,this.dispatchEvent($n)}},{key:"getRevision",value:function(){return this.revision_}},{key:"onInternal",value:function(e,t){if(Array.isArray(e)){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=rr(this,e[i],t);return r}return rr(this,e,t)}},{key:"onceInternal",value:function(e,t){if(Array.isArray(e))for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=ir(this,e[i],t);else r=ir(this,e,t);return t.ol_key=r}},{key:"unInternal",value:function(e,t){var n=t.ol_key;if(n){var r=n;if(Array.isArray(r))for(var i=0,o=r.length;i<o;++i)or(r[i]);else or(r)}else if(Array.isArray(e))for(var a=0,s=e.length;a<s;++a)this.removeEventListener(e[a],t);else this.removeEventListener(e,t)}}])&&sr(t.prototype,n),e&&sr(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();t.prototype.on,t.prototype.once,t.prototype.un;var pr=t;function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=fr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==fr(e)?e:String(e)}(r.key),r)}}function yr(e,t,n){return t&&dr(e.prototype,t),n&&dr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mr(e,t,n){t=xr(t);var r=e,t=br()?Reflect.construct(t,n||[],xr(e).constructor):t.apply(e,n);if(t&&("object"===fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gr(r)}function gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(br=function(){return!!e})()}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_r(e,t)}function _r(e,t){return(_r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Sr=function(){function r(e,t,n){return vr(this,r),(e=mr(this,r,[e])).key=t,e.oldValue=n,e}return wr(r,zn),yr(r)}(),Tr=function(){function n(e){var t;return vr(this,n),(t=mr(this,n)).on,t.once,t.un,C0(gr(t)),t.values_=null,void 0!==e&&t.setProperties(e),t}return wr(n,pr),yr(n,[{key:"get",value:function(e){var t;return t=this.values_&&this.values_.hasOwnProperty(e)?this.values_[e]:t}},{key:"getKeys",value:function(){return this.values_&&Object.keys(this.values_)||[]}},{key:"getProperties",value:function(){return this.values_&&Hn({},this.values_)||{}}},{key:"hasProperties",value:function(){return!!this.values_}},{key:"notify",value:function(e,t){var n="change:".concat(e);this.hasListener(n)&&this.dispatchEvent(new Sr(n,e,t)),n=Gn,this.hasListener(n)&&this.dispatchEvent(new Sr(n,e,t))}},{key:"addChangeListener",value:function(e,t){this.addEventListener("change:".concat(e),t)}},{key:"removeChangeListener",value:function(e,t){this.removeEventListener("change:".concat(e),t)}},{key:"set",value:function(e,t,n){var r=this.values_||(this.values_={});n?r[e]=t:(n=r[e])!==(r[e]=t)&&this.notify(e,n)}},{key:"setProperties",value:function(e,t){for(var n in e)this.set(n,e[n],t)}},{key:"applyProperties",value:function(e){e.values_&&Hn(this.values_||(this.values_={}),e.values_)}},{key:"unset",value:function(e,t){var n;this.values_&&e in this.values_&&(n=this.values_[e],delete this.values_[e],Wn(this.values_)&&(this.values_=null),t||this.notify(e,n))}}]),n}(),Er="opacity",kr="visible",Or="extent",Pr="zIndex",Mr="maxResolution",Ar="minResolution",Rr="maxZoom",Cr="minZoom",Lr="source",Ir="map";function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Dr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Dr(e)?e:String(e)}(r.key),r)}}function Nr(e,t,n){t=Br(t);var r=e,t=Fr()?Reflect.construct(t,n||[],Br(e).constructor):t.apply(e,n);if(t&&("object"===Dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Fr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Fr=function(){return!!e})()}function Ur(){return(Ur="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Br(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e,t){return(zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Gr=function(){var e,t=r,n=Tr;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");(t=Nr(this,r)).on,t.once,t.un,t.background_=e.background;var n=Hn({},e);return"object"===Dr(e.properties)&&(delete n.properties,Hn(n,e.properties)),n[Er]=void 0!==e.opacity?e.opacity:1,c("number"==typeof n[Er],64),n[kr]=void 0===e.visible||e.visible,n[Pr]=e.zIndex,n[Mr]=void 0!==e.maxResolution?e.maxResolution:1/0,n[Ar]=void 0!==e.minResolution?e.minResolution:0,n[Cr]=void 0!==e.minZoom?e.minZoom:-1/0,n[Rr]=void 0!==e.maxZoom?e.maxZoom:1/0,t.className_=void 0!==n.className?n.className:"ol-layer",delete n.className,t.setProperties(n),t.state_=null,t}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&zr(t,n),t=r,(n=[{key:"getBackground",value:function(){return this.background_}},{key:"getClassName",value:function(){return this.className_}},{key:"getLayerState",value:function(e){var e=this.state_||{layer:this,managed:void 0===e||e},t=this.getZIndex();return e.opacity=gn(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==t||e.managed?t:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e}},{key:"getLayersArray",value:o},{key:"getLayerStatesArray",value:function(e){return o()}},{key:"getExtent",value:function(){return this.get(Or)}},{key:"getMaxResolution",value:function(){return this.get(Mr)}},{key:"getMinResolution",value:function(){return this.get(Ar)}},{key:"getMinZoom",value:function(){return this.get(Cr)}},{key:"getMaxZoom",value:function(){return this.get(Rr)}},{key:"getOpacity",value:function(){return this.get(Er)}},{key:"getSourceState",value:function(){return o()}},{key:"getVisible",value:function(){return this.get(kr)}},{key:"getZIndex",value:function(){return this.get(Pr)}},{key:"setBackground",value:function(e){this.background_=e,this.changed()}},{key:"setExtent",value:function(e){this.set(Or,e)}},{key:"setMaxResolution",value:function(e){this.set(Mr,e)}},{key:"setMinResolution",value:function(e){this.set(Ar,e)}},{key:"setMaxZoom",value:function(e){this.set(Rr,e)}},{key:"setMinZoom",value:function(e){this.set(Cr,e)}},{key:"setOpacity",value:function(e){c("number"==typeof e,64),this.set(Er,e)}},{key:"setVisible",value:function(e){this.set(kr,e)}},{key:"setZIndex",value:function(e){this.set(Pr,e)}},{key:"disposeInternal",value:function(){this.state_&&(this.state_.layer=null,this.state_=null),Ur(Br(r.prototype),"disposeInternal",this).call(this)}}])&&jr(t.prototype,n),e&&jr(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(),Hr="prerender",Vr="postrender",Wr="precompose",qr="rendercomplete",Yr="undefined",Xr="ready";function Zr(e){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Zr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Zr(e)?e:String(e)}(r.key),r)}}function Qr(e,t,n){t=ei(t);var r=e,t=Jr()?Reflect.construct(t,n||[],ei(e).constructor):t.apply(e,n);if(t&&("object"===Zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Jr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jr=function(){return!!e})()}function $r(){return($r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ei(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ti(e,t){return(ti=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ni(e,t){if(e.visible){var n=t.resolution;if(!(n<e.minResolution||n>=e.maxResolution))return(n=t.zoom)>e.minZoom&&n<=e.maxZoom}}var ri=function(){var e,t=r,n=Gr;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(this instanceof r)return delete(t=Hn({},e)).source,(t=Qr(this,r,[t])).on,t.once,t.un,t.mapPrecomposeKey_=null,t.mapRenderKey_=null,t.sourceChangeKey_=null,t.renderer_=null,t.rendered=!1,e.render&&(t.render=e.render),e.map&&t.setMap(e.map),t.addChangeListener(Lr,t.handleSourcePropertyChange_),e=e.source||null,t.setSource(e),t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&ti(t,n),t=r,(n=[{key:"getLayersArray",value:function(e){e=e||[];return e.push(this),e}},{key:"getLayerStatesArray",value:function(e){e=e||[];return e.push(this.getLayerState()),e}},{key:"getSource",value:function(){return this.get(Lr)||null}},{key:"getRenderSource",value:function(){return this.getSource()}},{key:"getSourceState",value:function(){var e=this.getSource();return e?e.getState():Yr}},{key:"handleSourceChange_",value:function(){this.changed()}},{key:"handleSourcePropertyChange_",value:function(){this.sourceChangeKey_&&(or(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=rr(e,$n,this.handleSourceChange_,this)),this.changed()}},{key:"getFeatures",value:function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(function(e){return e([])})}},{key:"getData",value:function(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}},{key:"render",value:function(e,t){var n=this.getRenderer();if(n.prepareFrame(e))return this.rendered=!0,n.renderFrame(e,t)}},{key:"unrender",value:function(){this.rendered=!1}},{key:"setMapInternal",value:function(e){e||this.unrender(),this.set(Ir,e)}},{key:"getMapInternal",value:function(){return this.get(Ir)}},{key:"setMap",value:function(e){this.mapPrecomposeKey_&&(or(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(or(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=rr(e,Wr,function(e){var e=e.frameState.layerStatesArray,t=this.getLayerState(!1);c(!e.some(function(e){return e.layer===t.layer}),67),e.push(t)},this),this.mapRenderKey_=rr(this,$n,e.render,e),this.changed())}},{key:"setSource",value:function(e){this.set(Lr,e)}},{key:"getRenderer",value:function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}},{key:"hasRenderer",value:function(){return!!this.renderer_}},{key:"createRenderer",value:function(){return null}},{key:"disposeInternal",value:function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),$r(ei(r.prototype),"disposeInternal",this).call(this)}}])&&Kr(t.prototype,n),e&&Kr(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function ii(e,t){for(var n=!0,r=e.length-1;0<=r;--r)if(e[r]!=t[r]){n=!1;break}return n}function oi(e,t,n){var r=t.getExtent(),i=0;return t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])&&(t=n||dn(r),i=Math.floor((e[0]-r[0])/t)),i}function ai(e){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=ai(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=ai(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ai(e)?e:String(e)}(r.key),r)}}function ui(e,t,n){t=ci(t);var r=e,t=li()?Reflect.construct(t,n||[],ci(e).constructor):t.apply(e,n);if(t&&("object"===ai(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function li(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(li=function(){return!!e})()}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hi(e,t){return(hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function pi(e,t){Fn.expire()}var fi=function(){var e,t=r,n=T0;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(this instanceof r)return(t=ui(this,r)).map_=e,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&hi(t,n),t=r,(n=[{key:"dispatchRenderEvent",value:function(e,t){o()}},{key:"calculateMatrices2D",value:function(e){var t=e.viewState,n=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;q0(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Y0(r,n)}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,r,i,o,a,s){var u,l=t.viewState;function c(e,t,n,r){return i.call(o,t,e?n:null,r)}for(var h,p,f,d,y=l.projection,v=(h=e.slice(),(f=y).canWrapX()&&(p=dn(f.getExtent()),f=oi(h,f,p))&&(h[0]-=f*p),h),m=[[0,0]],g=(y.canWrapX()&&r&&(f=dn(y.getExtent()),m.push([-f,0],[f,0])),t.layerStatesArray),b=g.length,x=[],w=[],_=0;_<m.length;_++)for(var S=b-1;0<=S;--S){var T=g[S],E=T.layer;if(E.hasRenderer()&&ni(T,l)&&a.call(s,E)){var k=E.getRenderer(),E=E.getSource();if(k&&E&&(E=E.getWrapX()?v:e,T=c.bind(null,T.managed),w[0]=E[0]+m[_][0],w[1]=E[1]+m[_][1],u=k.forEachFeatureAtCoordinate(w,t,n,T,x)),u)return u}}if(0!==x.length)return d=1/x.length,x.forEach(function(e,t){return e.distanceSq+=t*d}),x.sort(function(e,t){return e.distanceSq-t.distanceSq}),x.some(function(e){return u=e.callback(e.feature,e.layer,e.geometry)}),u}},{key:"forEachLayerAtPixel",value:function(e,t,n,r,i){return o()}},{key:"hasFeatureAtCoordinate",value:function(e,t,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,r,M0,this,i,o)}},{key:"getMap",value:function(){return this.map_}},{key:"renderFrame",value:function(e){o()}},{key:"scheduleExpireIconCache",value:function(e){Fn.canExpireCache()&&e.postRenderFunctions.push(pi)}}])&&si(t.prototype,n),e&&si(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=di(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=di(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==di(e)?e:String(e)}(r.key),r)}}function vi(e,t,n){t=bi(t);var r=e,t=mi()?Reflect.construct(t,n||[],bi(e).constructor):t.apply(e,n);if(t&&("object"===di(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function mi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mi=function(){return!!e})()}function gi(){return(gi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bi(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function bi(e){return(bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xi(e,t){return(xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var wi=function(){var e,t=r,n=fi;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){if(this instanceof r)return(e=vi(this,r,[e])).children_=[],e.renderedVisible_=!0,e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&xi(t,n),t=r,(n=[{key:"disposeInternal",value:function(){gi(bi(r.prototype),"disposeInternal",this).call(this)}},{key:"renderFrame",value:function(e){this.calculateMatrices2D(e);for(var t=e.layerStatesArray.sort(function(e,t){return e.zIndex-t.zIndex}),n=e.viewState,r=[],i=null,o=this.children_.length=0,a=t.length;o<a;++o){var s=t[o],u=(e.layerIndex=o,s.layer),l=u.getSourceState();!ni(s,n)||l!=Xr&&l!=Yr?u.unrender():(s=u.render(e,i))&&(s!==i&&(this.children_.push(s),i=s),"getDeclutter"in u)&&r.push(u)}for(var c=r.length-1;0<=c;--c)r[c].renderDeclutter(e);this.scheduleExpireIconCache(e)}}])&&yi(t.prototype,n),e&&yi(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(),_i="add",Si="remove";function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Ti(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Ti(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Ti(e)?e:String(e)}(r.key),r)}}function ki(e,t,n){return t&&Ei(e.prototype,t),n&&Ei(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pi(e,t,n){t=Ai(t);var r=e,t=Mi()?Reflect.construct(t,n||[],Ai(e).constructor):t.apply(e,n);if(t&&("object"===Ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Mi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Mi=function(){return!!e})()}function Ai(e){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ri(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ci(e,t)}function Ci(e,t){return(Ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Li="length",Ii=function(){function r(e,t,n){return Oi(this,r),(e=Pi(this,r,[e])).element=t,e.index=n,e}return Ri(r,zn),ki(r)}(),Di=function(){function o(e,t){Oi(this,o),(n=Pi(this,o)).on,n.once,n.un;var n,t=t||{};if(n.unique_=!!t.unique,n.array_=e||[],n.unique_)for(var r=0,i=n.array_.length;r<i;++r)n.assertUnique_(n.array_[r],r);return n.updateLength_(),n}return Ri(o,Tr),ki(o,[{key:"clear",value:function(){for(;0<this.getLength();)this.pop()}},{key:"extend",value:function(e){for(var t=0,n=e.length;t<n;++t)this.push(e[t]);return this}},{key:"forEach",value:function(e){for(var t=this.array_,n=0,r=t.length;n<r;++n)e(t[n],n,t)}},{key:"getArray",value:function(){return this.array_}},{key:"item",value:function(e){return this.array_[e]}},{key:"getLength",value:function(){return this.get(Li)}},{key:"insertAt",value:function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Ii(_i,t,e))}},{key:"pop",value:function(){return this.removeAt(this.getLength()-1)}},{key:"push",value:function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()}},{key:"remove",value:function(e){for(var t=this.array_,n=0,r=t.length;n<r;++n)if(t[n]===e)return this.removeAt(n)}},{key:"removeAt",value:function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Ii(Si,t,e)),t}},{key:"setAt",value:function(e,t){var n=this.getLength();if(e<n){this.unique_&&this.assertUnique_(t,e);var r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Ii(Si,r,e)),this.dispatchEvent(new Ii(_i,t,e))}else{for(var i=n;i<e;++i)this.insertAt(i,void 0);this.insertAt(e,t)}}},{key:"updateLength_",value:function(){this.set(Li,this.array_.length)}},{key:"assertUnique_",value:function(e,t){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===e&&n!==t)throw new H0(58)}}]),o}();function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=ji(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=ji(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ji(e)?e:String(e)}(r.key),r)}}function Fi(e,t,n){return t&&Ni(e.prototype,t),n&&Ni(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bi(e,t,n){t=Gi(t);var r=e,t=zi()?Reflect.construct(t,n||[],Gi(e).constructor):t.apply(e,n);if(t&&("object"===ji(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function zi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zi=function(){return!!e})()}function Gi(e){return(Gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vi(e,t)}function Vi(e,t){return(Vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Wi=function(){function n(e,t){return Ui(this,n),(e=Bi(this,n,[e])).layer=t,e}return Hi(n,zn),Fi(n)}(),qi="layers",Yi=function(){function n(e){Ui(this,n);var e=e||{},t=Hn({},e),e=(delete t.layers,e.layers),t=Bi(this,n,[t]);return t.on,t.once,t.un,t.layersListenerKeys_=[],t.listenerKeys_={},t.addChangeListener(qi,t.handleLayersChanged_),e?Array.isArray(e)?e=new Di(e.slice(),{unique:!0}):c("function"==typeof e.getArray,43):e=new Di(void 0,{unique:!0}),t.setLayers(e),t}return Hi(n,Gr),Fi(n,[{key:"handleLayerChange_",value:function(){this.changed()}},{key:"handleLayersChanged_",value:function(){this.layersListenerKeys_.forEach(or),this.layersListenerKeys_.length=0;var e,t=this.getLayers();for(e in this.layersListenerKeys_.push(rr(t,_i,this.handleLayersAdd_,this),rr(t,Si,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(or);Vn(this.listenerKeys_);for(var n=t.getArray(),r=0,i=n.length;r<i;r++){var o=n[r];this.registerLayerListeners_(o),this.dispatchEvent(new Wi("addlayer",o))}this.changed()}},{key:"registerLayerListeners_",value:function(e){var t=[rr(e,Gn,this.handleLayerChange_,this),rr(e,$n,this.handleLayerChange_,this)];e instanceof n&&t.push(rr(e,"addlayer",this.handleLayerGroupAdd_,this),rr(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[C0(e)]=t}},{key:"handleLayerGroupAdd_",value:function(e){this.dispatchEvent(new Wi("addlayer",e.layer))}},{key:"handleLayerGroupRemove_",value:function(e){this.dispatchEvent(new Wi("removelayer",e.layer))}},{key:"handleLayersAdd_",value:function(e){e=e.element;this.registerLayerListeners_(e),this.dispatchEvent(new Wi("addlayer",e)),this.changed()}},{key:"handleLayersRemove_",value:function(e){var e=e.element,t=C0(e);this.listenerKeys_[t].forEach(or),delete this.listenerKeys_[t],this.dispatchEvent(new Wi("removelayer",e)),this.changed()}},{key:"getLayers",value:function(){return this.get(qi)}},{key:"setLayers",value:function(e){var t=this.getLayers();if(t)for(var n=t.getArray(),r=0,i=n.length;r<i;++r)this.dispatchEvent(new Wi("removelayer",n[r]));this.set(qi,e)}},{key:"getLayersArray",value:function(e){var t=void 0!==e?e:[];return this.getLayers().forEach(function(e){e.getLayersArray(t)}),t}},{key:"getLayerStatesArray",value:function(e){var t=void 0!==e?e:[],n=t.length,r=(this.getLayers().forEach(function(e){e.getLayerStatesArray(t)}),this.getLayerState()),i=r.zIndex;e||void 0!==r.zIndex||(i=0);for(var o=n,a=t.length;o<a;o++){var s=t[o];s.opacity*=r.opacity,s.visible=s.visible&&r.visible,s.maxResolution=Math.min(s.maxResolution,r.maxResolution),s.minResolution=Math.max(s.minResolution,r.minResolution),s.minZoom=Math.max(s.minZoom,r.minZoom),s.maxZoom=Math.min(s.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==s.extent?s.extent=hn(s.extent,r.extent):s.extent=r.extent),void 0===s.zIndex&&(s.zIndex=i)}return t}},{key:"getSourceState",value:function(){return Xr}}]),n}();function Xi(e){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Xi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Xi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Xi(e)?e:String(e)}(r.key),r)}}function Ki(e,t,n){t=Ji(t);var r=e,t=Qi()?Reflect.construct(t,n||[],Ji(e).constructor):t.apply(e,n);if(t&&("object"===Xi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Qi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Qi=function(){return!!e})()}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $i(e,t){return($i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var e1=function(){var e,t,n=i,r=zn;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");function i(e,t,n){if(this instanceof i)return(e=Ki(this,i,[e])).map=t,e.frameState=void 0!==n?n:null,e;throw new TypeError("Cannot call a class as a function")}return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&$i(n,r),n=i,e&&Zi(n.prototype,e),t&&Zi(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(),t1="postrender",n1="movestart",r1="moveend",i1={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};function o1(e){return(o1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=o1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=o1(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==o1(e)?e:String(e)}(r.key),r)}}var s1=function(){function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}var e,t,r;return e=n,(t=[{key:"clear",value:function(){this.elements_.length=0,this.priorities_.length=0,Vn(this.queuedElements_)}},{key:"dequeue",value:function(){var e=this.elements_,t=this.priorities_,n=e[0],e=(1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0)),this.keyFunction_(n));return delete this.queuedElements_[e],n}},{key:"enqueue",value:function(e){c(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=1/0&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}},{key:"getCount",value:function(){return this.elements_.length}},{key:"getLeftChildIndex_",value:function(e){return 2*e+1}},{key:"getRightChildIndex_",value:function(e){return 2*e+2}},{key:"getParentIndex_",value:function(e){return e-1>>1}},{key:"heapify_",value:function(){for(var e=(this.elements_.length>>1)-1;0<=e;e--)this.siftUp_(e)}},{key:"isEmpty",value:function(){return 0===this.elements_.length}},{key:"isKeyQueued",value:function(e){return e in this.queuedElements_}},{key:"isQueued",value:function(e){return this.isKeyQueued(this.keyFunction_(e))}},{key:"siftUp_",value:function(e){for(var t=this.elements_,n=this.priorities_,r=t.length,i=t[e],o=n[e],a=e;e<r>>1;){var s=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),u=u<r&&n[u]<n[s]?u:s;t[e]=t[u],n[e]=n[u],e=u}t[e]=i,n[e]=o,this.siftDown_(a,e)}},{key:"siftDown_",value:function(e,t){for(var n=this.elements_,r=this.priorities_,i=n[t],o=r[t];e<t;){var a=this.getParentIndex_(t);if(!(r[a]>o))break;n[t]=n[a],r[t]=r[a],t=a}n[t]=i,r[t]=o}},{key:"reprioritize",value:function(){for(var e,t,n=this.priorityFunction_,r=this.elements_,i=this.priorities_,o=0,a=r.length,s=0;s<a;++s)(t=n(e=r[s]))==1/0?delete this.queuedElements_[this.keyFunction_(e)]:(i[o]=t,r[o++]=e);r.length=o,i.length=o,this.heapify_()}}])&&a1(e.prototype,t),r&&a1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),n}(),u1=0,l1=1,c1=2,h1=3,p1=4;function f1(e){return(f1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=f1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=f1(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==f1(e)?e:String(e)}(r.key),r)}}function y1(e,t,n){t=b1(t);var r=e,t=v1()?Reflect.construct(t,n||[],b1(e).constructor):t.apply(e,n);if(t&&("object"===f1(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m1(r)}function v1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v1=function(){return!!e})()}function m1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g1(){return(g1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b1(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function b1(e){return(b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x1(e,t){return(x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var w1=function(){var e,t=r,n=s1;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(t,e){var n;if(this instanceof r)return(n=y1(this,r,[function(e){return t.apply(null,e)},function(e){return e[0].getKey()}])).boundHandleTileChange_=n.handleTileChange.bind(m1(n)),n.tileChangeCallback_=e,n.tilesLoading_=0,n.tilesLoadingKeys_={},n;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&x1(t,n),t=r,(n=[{key:"enqueue",value:function(e){var t=g1(b1(r.prototype),"enqueue",this).call(this,e);return t&&e[0].addEventListener($n,this.boundHandleTileChange_),t}},{key:"getTilesLoading",value:function(){return this.tilesLoading_}},{key:"handleTileChange",value:function(e){var e=e.target,t=e.getState();t!==c1&&t!==h1&&t!==p1||(e.removeEventListener($n,this.boundHandleTileChange_),(t=e.getKey())in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_())}},{key:"loadMoreTiles",value:function(e,t){for(var n,r,i=0;this.tilesLoading_<e&&i<t&&0<this.getCount();)r=(n=this.dequeue()[0]).getKey(),n.getState()!==u1||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,n.load())}}])&&d1(t.prototype,n),e&&d1(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();t={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};var _1={},S1=(_1[t.RADIANS]=6370997/(2*Math.PI),_1[t.DEGREES]=2*Math.PI*6370997/360,_1[t.FEET]=.3048,_1[t.METERS]=1,_1[t.USFEET]=1200/3937,t),T1=0,E1=1,k1={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},O1=42,P1=256;function M1(e){return(M1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=M1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=M1(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==M1(e)?e:String(e)}(r.key),r)}}var R1=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}var e,n,r;return e=t,(n=[{key:"canWrapX",value:function(){return this.canWrapX_}},{key:"getCode",value:function(){return this.code_}},{key:"getExtent",value:function(){return this.extent_}},{key:"getUnits",value:function(){return this.units_}},{key:"getMetersPerUnit",value:function(){return this.metersPerUnit_||_1[this.units_]}},{key:"getWorldExtent",value:function(){return this.worldExtent_}},{key:"getAxisOrientation",value:function(){return this.axisOrientation_}},{key:"isGlobal",value:function(){return this.global_}},{key:"setGlobal",value:function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}},{key:"getDefaultTileGrid",value:function(){return this.defaultTileGrid_}},{key:"setDefaultTileGrid",value:function(e){this.defaultTileGrid_=e}},{key:"setExtent",value:function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}},{key:"setWorldExtent",value:function(e){this.worldExtent_=e}},{key:"setGetPointResolution",value:function(e){this.getPointResolutionFunc_=e}},{key:"getPointResolutionFunc",value:function(){return this.getPointResolutionFunc_}}])&&A1(e.prototype,n),r&&A1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function C1(e){return(C1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=C1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=C1(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==C1(e)?e:String(e)}(r.key),r)}}function I1(e,t,n){t=j1(t);var r=e,t=D1()?Reflect.construct(t,n||[],j1(e).constructor):t.apply(e,n);if(t&&("object"===C1(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function D1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(D1=function(){return!!e})()}function j1(e){return(j1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N1(e,t){return(N1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var F1=6378137,U1=Math.PI*F1,B1=[-U1,-U1,U1,U1],z1=[-180,-85,180,85],G1=F1*Math.log(Math.tan(Math.PI/2)),t=function(){var e,t,n=i,r=R1;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");function i(e){if(this instanceof i)return I1(this,i,[{code:e,units:S1.METERS,extent:B1,global:!0,worldExtent:z1,getPointResolution:function(e,t){return e/bn(t[1]/F1)}}]);throw new TypeError("Cannot call a class as a function")}return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&N1(n,r),n=i,e&&L1(n.prototype,e),t&&L1(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(),t=[new t("EPSG:3857"),new t("EPSG:102100"),new t("EPSG:102113"),new t("EPSG:900913"),new t("http://www.opengis.net/def/crs/EPSG/0/3857"),new t("http://www.opengis.net/gml/srs/epsg.xml#3857")];function H1(e,t,n){var r=e.length,i=1<n?n:2,o=t;void 0===o&&(o=2<i?e.slice():new Array(r));for(var a=0;a<r;a+=i){o[a]=U1*e[a]/180;var s=F1*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));G1<s?s=G1:s<-G1&&(s=-G1),o[a+1]=s}return o}function V1(e,t,n){var r=e.length,i=1<n?n:2,o=t;void 0===o&&(o=2<i?e.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*e[a]/U1,o[a+1]=360*Math.atan(Math.exp(e[a+1]/F1))/Math.PI-90;return o}function W1(e){return(W1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=W1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=W1(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==W1(e)?e:String(e)}(r.key),r)}}function Y1(e,t,n){t=Z1(t);var r=e,t=X1()?Reflect.construct(t,n||[],Z1(e).constructor):t.apply(e,n);if(t&&("object"===W1(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function X1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(X1=function(){return!!e})()}function Z1(e){return(Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K1(e,t){return(K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Q1=[-180,-90,180,90],J1=6378137*Math.PI/180,n=function(){var e,t,n=i,r=R1;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");function i(e,t){if(this instanceof i)return Y1(this,i,[{code:e,units:S1.DEGREES,extent:Q1,axisOrientation:t,global:!0,metersPerUnit:J1,worldExtent:Q1}]);throw new TypeError("Cannot call a class as a function")}return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&K1(n,r),n=i,e&&q1(n.prototype,e),t&&q1(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(),n=[new n("CRS:84"),new n("EPSG:4326","neu"),new n("urn:ogc:def:crs:OGC:1.3:CRS84"),new n("urn:ogc:def:crs:OGC:2:84"),new n("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new n("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new n("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],$1={};var eo={};function to(e,t,n){e=e.getCode(),t=t.getCode();e in eo||(eo[e]={}),eo[e][t]=n}var no="Point",ro="LinearRing",io="Polygon";var oo=!0;function ao(e){oo=!(void 0===e||e)}function so(e,t,n){var r;if(void 0!==t){for(var i=0,o=e.length;i<o;++i)t[i]=e[i];r=t}else r=e.slice();return r}function uo(e,t,n){if(void 0!==t&&e!==t){for(var r=0,i=e.length;r<i;++r)t[r]=e[r];e=t}return e}function lo(e){var t;t=e.getCode(),to($1[t]=e,e,so)}function co(e){return"string"==typeof e?$1[t=e]||$1[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function ho(e){e.forEach(lo),e.forEach(function(t){e.forEach(function(e){t!==e&&to(t,e,so)})})}function po(e,t){return e?"string"==typeof e?co(e):e:co(t)}function fo(e,t){var n;return e===t||(n=e.getUnits()===t.getUnits(),(e.getCode()===t.getCode()||yo(e,t)===so)&&n)}function yo(e,t){var n,e=e.getCode(),t=t.getCode();t=t,n=(e=e)in eo&&t in eo[e]?eo[e][t]:n;return n||uo}function vo(e,t){return yo(co(e),co(t))}function mo(e,t,n){return vo(t,n)(e,void 0,e.length)}function go(e,t,n,r){return mn(e,vo(t,n),void 0,r)}var bo,xo,wo,_o=null;function So(e,t){return _o?mo(e,t,_o):e}function To(e,t){return _o?mo(e,_o,t):(oo&&!ii(e,[0,0])&&-180<=e[0]&&e[0]<=180&&-90<=e[1]&&e[1]<=90&&(oo=!1,console.warn("Call useGeographic() ol/proj once to work with [longitude, latitude] coordinates.")),e)}function Eo(e,t){return _o?go(e,_o,t):e}function ko(l,c,h){return function(e,t,n,r,i){var o,a,s,u;if(e)return t||c?(a=c?0:n[0]*t,n=c?0:n[1]*t,s=i?i[0]:0,i=i?i[1]:0,o=l[0]+a/2+s,a=l[2]-a/2+s,s=l[1]+n/2+i,a<o&&(a=o=(a+o)/2),(n=l[3]-n/2+i)<s&&(n=s=(n+s)/2),i=gn(e[0],o,a),u=gn(e[1],s,n),r&&h&&t&&(i+=-(r=30*t)*Math.log(1+Math.max(0,o-e[0])/r)+r*Math.log(1+Math.max(0,e[0]-a)/r),u+=-r*Math.log(1+Math.max(0,s-e[1])/r)+r*Math.log(1+Math.max(0,e[1]-n)/r)),[i,u]):e}}function Oo(e){return e}function Po(s,u,l,c,h){return function(e,t,n,r){var i,o,a;if(void 0!==e)return n=c?(i=s,a=dn(o=c)/n[0],o=cn(o)/n[1],h?Math.min(i,Math.max(a,o)):Math.min(i,Math.min(a,o))):s,(void 0===l||l)&&r?(i=e,a=n,o=u,r=Math.min(i,a),r*=Math.log(1+50*Math.max(0,i/a-1))/50+1,o&&(r=Math.max(r,o),r/=Math.log(1+50*Math.max(0,o/i-1))/50+1),gn(r,o/2,2*a)):gn(e,u,n)}}function Mo(e){if(void 0!==e)return 0}function Ao(e){if(void 0!==e)return e}function Ro(e){return Math.pow(e,3)}function Co(e){return 1-Ro(1-e)}function Lo(e){return 3*e*e-2*e*e*e}function Io(e){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Io(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Io(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Io(e)?e:String(e)}(r.key),r)}}function jo(e,t,n){t=Fo(t);var r=e,t=No()?Reflect.construct(t,n||[],Fo(e).constructor):t.apply(e,n);if(t&&("object"===Io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function No(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(No=function(){return!!e})()}function Fo(e){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uo(e,t){return(Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}ho(t),ho(n),bo=t,xo=H1,wo=V1,n.forEach(function(t){bo.forEach(function(e){to(t,e,xo),to(e,t,wo)})});function Bo(e,t){setTimeout(function(){e(t)},0)}function zo(e,t,n,r,i){var o=Math.cos(-i),i=Math.sin(-i),a=e[0]*o-e[1]*i,e=e[1]*o+e[0]*i;return[(a+=(t[0]/2-n[0])*r)*o-(e+=(n[1]-t[1]/2)*r)*(i=-i),e*o+a*i]}var Go=function(){var e,t=r,n=Tr;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");(t=jo(this,r)).on,t.once,t.un;e=Hn({},e);return t.hints_=[0,0],t.animations_=[],t.updateAnimationKey_,t.projection_=po(e.projection,"EPSG:3857"),t.viewportSize_=[100,100],t.targetCenter_=null,t.targetResolution_,t.targetRotation_,t.nextCenter_=null,t.nextResolution_,t.nextRotation_,t.cancelAnchor_=void 0,e.center&&(e.center=To(e.center,t.projection_)),e.extent&&(e.extent=Eo(e.extent,t.projection_)),e.projection&&ao(),t.applyOptions_(e),t}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Uo(t,n),t=r,(n=[{key:"applyOptions_",value:function(e){var t,n=Hn({},e);for(t in k1)delete n[t];this.setProperties(n,!0);var r=function(e){var t,n=void 0!==e.minZoom?e.minZoom:0,r=void 0!==e.maxZoom?e.maxZoom:28,i=void 0!==e.zoomFactor?e.zoomFactor:2,o=void 0!==e.multiWorld&&e.multiWorld,a=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,s=void 0!==e.showFullExtent&&e.showFullExtent,u=po(e.projection,"EPSG:3857"),l=u.getExtent(),c=e.constrainOnlyCenter,h=e.extent;o||h||!u.isGlobal()||(c=!1,h=l);o=(l?Math.max(dn(l),cn(l)):360*_1[S1.DEGREES]/u.getMetersPerUnit())/P1/Math.pow(2,0),l=o/Math.pow(2,28);void 0!==(u=e.maxResolution)?n=0:u=o/Math.pow(i,n);void 0===(t=e.minResolution)&&(t=void 0!==e.maxZoom?void 0!==e.maxResolution?u/Math.pow(i,r):o/Math.pow(i,r):l);return r=n+Math.floor(Math.log(u/t)/Math.log(i)),t=u/Math.pow(i,r-n),{constraint:Po(u,t,a,!c&&h,s),maxResolution:u,minResolution:t,minZoom:n,zoomFactor:i}}(e),i=(this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom,function(e){if(void 0!==e.extent)return t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint,ko(e.extent,e.constrainOnlyCenter,t);var t=po(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&t.isGlobal())return(e=t.getExtent().slice())[0]=-1/0,e[2]=1/0,ko(e,!1,!1);return Oo}(e)),r=r.constraint,o=void 0===(o=e).enableRotation||o.enableRotation?void 0===(o=o.constrainRotation)||!0===o?function(e){var n=e||wn(5);return function(e,t){return t?e:void 0!==e?Math.abs(e)<=n?0:e:void 0}}():!1!==o&&"number"==typeof o?function(e){var n=2*Math.PI/e;return function(e,t){return t?e:void 0!==e?Math.floor(e/n+.5)*n:void 0}}(o):Ao:Mo;this.constraints_={center:i,resolution:r,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}},{key:"padding",get:function(){return this.padding_},set:function(e){var t,n,r=this.padding_,i=(this.padding_=e,this.getCenter());i&&(e=e||[0,0,0,0],r=r||[0,0,0,0],t=(n=this.getResolution())/2*(e[3]-r[3]+r[1]-e[1]),n=n/2*(e[0]-r[0]+r[2]-e[2]),this.setCenterInternal([i[0]+t,i[1]-n]))}},{key:"getUpdatedOptions_",value:function(e){var t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Hn({},t,e)}},{key:"animate",value:function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),n=0;n<t.length;++n){var r=arguments[n];r.center&&((r=Hn({},r)).center=To(r.center,this.getProjection())),r.anchor&&((r=Hn({},r)).anchor=To(r.anchor,this.getProjection())),t[n]=r}this.animateInternal.apply(this,t)}},{key:"animateInternal",value:function(e){for(var t,n=arguments.length,r=(1<n&&"function"==typeof arguments[n-1]&&(t=arguments[n-1],--n),0);r<n&&!this.isDef();++r){var i=arguments[r];i.center&&this.setCenterInternal(i.center),void 0!==i.zoom?this.setZoom(i.zoom):i.resolution&&this.setResolution(i.resolution),void 0!==i.rotation&&this.setRotation(i.rotation)}if(r===n)t&&Bo(t,!0);else{for(var o=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,u=this.targetRotation_,l=[];r<n;++r){var c=arguments[r],h={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||Lo,callback:t};c.center&&(h.sourceCenter=a,h.targetCenter=c.center.slice(),a=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=s,h.targetResolution=this.getResolutionForZoom(c.zoom),s=h.targetResolution):c.resolution&&(h.sourceResolution=s,h.targetResolution=c.resolution,s=h.targetResolution),void 0!==c.rotation&&(h.sourceRotation=u,c=_n(c.rotation-u+Math.PI,2*Math.PI)-Math.PI,h.targetRotation=u+c,u=h.targetRotation),!function(e){if(e.sourceCenter&&e.targetCenter&&!ii(e.sourceCenter,e.targetCenter))return;return e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation}(h)?o+=h.duration:h.complete=!0,l.push(h)}this.animations_.push(l),this.setHint(T1,1),this.updateAnimations_()}}},{key:"getAnimating",value:function(){return 0<this.hints_[T1]}},{key:"getInteracting",value:function(){return 0<this.hints_[E1]}},{key:"cancelAnimations",value:function(){var e;this.setHint(T1,-this.hints_[T1]);for(var t=0,n=this.animations_.length;t<n;++t){var r=this.animations_[t];if(r[0].callback&&Bo(r[0].callback,!1),!e)for(var i=0,o=r.length;i<o;++i){var a=r[i];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}},{key:"updateAnimations_",value:function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,n=this.animations_.length-1;0<=n;--n){for(var r,i=this.animations_[n],o=!0,a=0,s=i.length;a<s;++a){var u=i[a];if(!u.complete){var l,c,h,p,f=e-u.start,f=0<u.duration?f/u.duration:1,f=(1<=f?(u.complete=!0,f=1):o=!1,u.easing(f));if(u.sourceCenter&&(c=u.sourceCenter[0],p=u.sourceCenter[1],l=u.targetCenter[0],h=u.targetCenter[1],this.nextCenter_=u.targetCenter,this.targetCenter_=[c+f*(l-c),p+f*(h-p)]),u.sourceResolution&&u.targetResolution&&(l=1===f?u.targetResolution:u.sourceResolution+f*(u.targetResolution-u.sourceResolution),u.anchor&&(c=this.getViewportSize_(this.getRotation()),h=this.constraints_.resolution(l,0,c,!0),this.targetCenter_=this.calculateCenterZoom(h,u.anchor)),this.nextResolution_=u.targetResolution,this.targetResolution_=l,this.applyTargetState_(!0)),void 0!==u.sourceRotation&&void 0!==u.targetRotation&&(p=1===f?_n(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+f*(u.targetRotation-u.sourceRotation),u.anchor&&(f=this.constraints_.rotation(p,!0),this.targetCenter_=this.calculateCenterRotate(f,u.anchor)),this.nextRotation_=u.targetRotation,this.targetRotation_=p),this.applyTargetState_(!0),t=!0,!u.complete)break}}o&&(this.animations_[n]=null,this.setHint(T1,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN,r=i[0].callback)&&Bo(r,!0)}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}},{key:"calculateCenterRotate",value:function(e,t){var n,r,i,o=this.getCenterInternal();return void 0!==o&&(n=[o[0]-t[0],o[1]-t[1]],o=n,e=e-this.getRotation(),r=Math.cos(e),e=Math.sin(e),i=o[0]*r-o[1]*e,r=o[1]*r+o[0]*e,o[0]=i,o[1]=r,e=t,(i=n)[0]+=+e[0],i[1]+=+e[1]),n}},{key:"calculateCenterZoom",value:function(e,t){var n,r=this.getCenterInternal(),i=this.getResolution();return n=void 0!==r&&void 0!==i?[t[0]-e*(t[0]-r[0])/i,t[1]-e*(t[1]-r[1])/i]:n}},{key:"getViewportSize_",value:function(e){var t,n,r=this.viewportSize_;return e?(t=r[0],n=r[1],[Math.abs(t*Math.cos(e))+Math.abs(n*Math.sin(e)),Math.abs(t*Math.sin(e))+Math.abs(n*Math.cos(e))]):r}},{key:"setViewportSize",value:function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}},{key:"getCenter",value:function(){var e=this.getCenterInternal();return e&&So(e,this.getProjection())}},{key:"getCenterInternal",value:function(){return this.get(k1.CENTER)}},{key:"getConstraints",value:function(){return this.constraints_}},{key:"getConstrainResolution",value:function(){return this.get("constrainResolution")}},{key:"getHints",value:function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}},{key:"calculateExtent",value:function(e){var t,e=this.calculateExtentInternal(e);return e=e,t=this.getProjection(),_o?go(e,t,_o):e}},{key:"calculateExtentInternal",value:function(e){var e=e||this.getViewportSizeMinusPadding_(),t=this.getCenterInternal(),n=(c(t,1),this.getResolution()),r=(c(void 0!==n,2),this.getRotation());return c(void 0!==r,3),ln(t,n,r,e)}},{key:"getMaxResolution",value:function(){return this.maxResolution_}},{key:"getMinResolution",value:function(){return this.minResolution_}},{key:"getMaxZoom",value:function(){return this.getZoomForResolution(this.minResolution_)}},{key:"setMaxZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}},{key:"getMinZoom",value:function(){return this.getZoomForResolution(this.maxResolution_)}},{key:"setMinZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}},{key:"setConstrainResolution",value:function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}},{key:"getProjection",value:function(){return this.projection_}},{key:"getResolution",value:function(){return this.get(k1.RESOLUTION)}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getResolutionForExtent",value:function(e,t){return this.getResolutionForExtentInternal(Eo(e,this.getProjection()),t)}},{key:"getResolutionForExtentInternal",value:function(e,t){var t=t||this.getViewportSizeMinusPadding_(),n=dn(e)/t[0],e=cn(e)/t[1];return Math.max(n,e)}},{key:"getResolutionForValueFunction",value:function(e){var t=e||2,n=this.getConstrainedResolution(this.maxResolution_),e=this.minResolution_,r=Math.log(n/e)/Math.log(t);return function(e){return n/Math.pow(t,e*r)}}},{key:"getRotation",value:function(){return this.get(k1.ROTATION)}},{key:"getValueForResolutionFunction",value:function(e){var t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),e=this.minResolution_,r=Math.log(n/e)/t;return function(e){return Math.log(n/e)/t/r}}},{key:"getViewportSizeMinusPadding_",value:function(e){var e=this.getViewportSize_(e),t=this.padding_;return e=t?[e[0]-t[1]-t[3],e[1]-t[0]-t[2]]:e}},{key:"getState",value:function(){var e,t=this.getProjection(),n=this.getResolution(),r=this.getRotation(),i=this.getCenterInternal(),o=this.padding_;return o&&(e=this.getViewportSizeMinusPadding_(),i=zo(i,this.getViewportSize_(),[e[0]/2+o[3],e[1]/2+o[0]],n,r)),{center:i.slice(0),projection:void 0!==t?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}},{key:"getZoom",value:function(){var e,t=this.getResolution();return e=void 0!==t?this.getZoomForResolution(t):e}},{key:"getZoomForResolution",value:function(e){var t,n,r=this.minZoom_||0;return n=this.resolutions_?(n=k0(this.resolutions_,e,1),t=this.resolutions_[r=n],n==this.resolutions_.length-1?2:t/this.resolutions_[n+1]):(t=this.maxResolution_,this.zoomFactor_),r+Math.log(t/e)/Math.log(n)}},{key:"getResolutionForZoom",value:function(e){var t,n;return this.resolutions_?this.resolutions_.length<=1?0:(t=gn(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1],this.resolutions_[t]/Math.pow(n,gn(e-t,0,1))):this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}},{key:"fit",value:function(e,t){this.fitInternal(e,t)}},{key:"rotatedExtentForGeometry",value:function(e){for(var t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),i=e.getFlatCoordinates(),o=e.getStride(),a=1/0,s=1/0,u=-1/0,l=-1/0,c=0,h=i.length;c<h;c+=o)var p=i[c]*n-i[c+1]*r,f=i[c]*r+i[c+1]*n,a=Math.min(a,p),s=Math.min(s,f),u=Math.max(u,p),l=Math.max(l,f);return[a,s,u,l]}},{key:"fitInternal",value:function(e,t){var t=t||{},n=(n=t.size)||this.getViewportSizeMinusPadding_(),r=void 0!==t.padding?t.padding:[0,0,0,0],i=void 0!==t.nearest&&t.nearest,o=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0,e=this.rotatedExtentForGeometry(e),n=this.getResolutionForExtentInternal(e,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n=isNaN(n)?o:Math.max(n,o),o=(n=this.getConstrainedResolution(n,i?0:1),this.getRotation()),i=Math.sin(o),o=Math.cos(o),e=un(e),r=(e[0]+=(r[1]-r[3])/2*n,e[1]+=(r[0]-r[2])/2*n,e[0]*o-e[1]*i),o=e[1]*o+e[0]*i,e=this.getConstrainedCenter([r,o],n),i=t.callback||A0;void 0!==t.duration?this.animateInternal({resolution:n,center:e,duration:t.duration,easing:t.easing},i):(this.targetResolution_=n,this.targetCenter_=e,this.applyTargetState_(!1,!0),Bo(i,!0))}},{key:"centerOn",value:function(e,t,n){this.centerOnInternal(To(e,this.getProjection()),t,n)}},{key:"centerOnInternal",value:function(e,t,n){this.setCenterInternal(zo(e,t,n,this.getResolution(),this.getRotation()))}},{key:"calculateCenterShift",value:function(e,t,n,r){var i,o=this.padding_;return o&&e&&(r=zo(e,r,[(r=this.getViewportSizeMinusPadding_(-n))[0]/2+o[3],r[1]/2+o[0]],t,n),i=[e[0]-r[0],e[1]-r[1]]),i}},{key:"isDef",value:function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}},{key:"adjustCenter",value:function(e){var t=So(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}},{key:"adjustCenterInternal",value:function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}},{key:"adjustResolution",value:function(e,t){t=t&&To(t,this.getProjection());this.adjustResolutionInternal(e,t)}},{key:"adjustResolutionInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(r,t)),this.targetResolution_*=e,this.applyTargetState_()}},{key:"adjustZoom",value:function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}},{key:"adjustRotation",value:function(e,t){t=t&&To(t,this.getProjection()),this.adjustRotationInternal(e,t)}},{key:"adjustRotationInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=e,this.applyTargetState_()}},{key:"setCenter",value:function(e){this.setCenterInternal(e&&To(e,this.getProjection()))}},{key:"setCenterInternal",value:function(e){this.targetCenter_=e,this.applyTargetState_()}},{key:"setHint",value:function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}},{key:"setResolution",value:function(e){this.targetResolution_=e,this.applyTargetState_()}},{key:"setRotation",value:function(e){this.targetRotation_=e,this.applyTargetState_()}},{key:"setZoom",value:function(e){this.setResolution(this.getResolutionForZoom(e))}},{key:"applyTargetState_",value:function(e,t){var t=this.getAnimating()||this.getInteracting()||t,n=this.constraints_.rotation(this.targetRotation_,t),r=this.getViewportSize_(n),i=this.constraints_.resolution(this.targetResolution_,0,r,t),t=this.constraints_.center(this.targetCenter_,i,r,t,this.calculateCenterShift(this.targetCenter_,i,n,r));this.get(k1.ROTATION)!==n&&this.set(k1.ROTATION,n),this.get(k1.RESOLUTION)!==i&&(this.set(k1.RESOLUTION,i),this.set("zoom",this.getZoom(),!0)),t&&this.get(k1.CENTER)&&ii(this.get(k1.CENTER),t)||this.set(k1.CENTER,t),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}},{key:"resolveConstraints",value:function(e,t,n){var e=void 0!==e?e:200,t=t||0,r=this.constraints_.rotation(this.targetRotation_),i=this.getViewportSize_(r),t=this.constraints_.resolution(this.targetResolution_,t,i),i=this.constraints_.center(this.targetCenter_,t,i,!1,this.calculateCenterShift(this.targetCenter_,t,r,i));0!==e||this.cancelAnchor_?(n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===t&&this.getRotation()===r&&this.getCenterInternal()&&ii(this.getCenterInternal(),i)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:i,resolution:t,duration:e,easing:Co,anchor:n}))):(this.targetResolution_=t,this.targetRotation_=r,this.targetCenter_=i,this.applyTargetState_())}},{key:"beginInteraction",value:function(){this.resolveConstraints(0),this.setHint(E1,1)}},{key:"endInteraction",value:function(e,t,n){n=n&&To(n,this.getProjection());this.endInteractionInternal(e,t,n)}},{key:"endInteractionInternal",value:function(e,t,n){this.setHint(E1,-1),this.resolveConstraints(e,t,n)}},{key:"getConstrainedCenter",value:function(e,t){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}},{key:"getConstrainedZoom",value:function(e,t){e=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(e,t))}},{key:"getConstrainedResolution",value:function(e,t){var t=t||0,n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}])&&Do(t.prototype,n),e&&Do(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Ho(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}function Vo(e){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Vo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Vo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Vo(e)?e:String(e)}(r.key),r)}}function qo(e,t,n){t=Ko(t);var r=e,t=Yo()?Reflect.construct(t,n||[],Ko(e).constructor):t.apply(e,n);if(t&&("object"===Vo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xo(r)}function Yo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Yo=function(){return!!e})()}function Xo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zo(){return(Zo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ko(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function Ko(e){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qo(e,t){return(Qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Jo(e){e instanceof ri?e.setMapInternal(null):e instanceof Yi&&e.getLayers().forEach(Jo)}var $o=function(){var e,t=a,n=Tr;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function a(e){var t;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(t=qo(this,a)).on,t.once,t.size_=e.size,void 0===t.size_&&(t.size_=[2e3,2e3]),t.un;r={},i=(n=e).layers&&"function"==typeof n.layers.getLayers?n.layers:new Yi({layers:n.layers}),r[i1.LAYERGROUP]=i,r[i1.TARGET]=n.target,r[i1.VIEW]=n.view instanceof Go?n.view:new Go;var n,r,i={values:r},o=(t.renderComplete_,t.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,t.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:L0,t.postRenderTimeoutHandle_,t.animationDelayKey_,t.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(Xo(t)),t.coordinateToPixelTransform_=V0(),t.pixelToCoordinateTransform_=V0(),t.frameIndex_=0,t.frameState_=null,t.previousExtent_=null,t.viewPropertyListenerKey_=null,t.viewChangeListenerKey_=null,t.layerGroupPropertyListenerKeys_=null,t.moveTolerance_=e.moveTolerance,t.targetChangeHandlerKeys_=null,t.overlayIdIndex_={},t.renderer_=null,t.postRenderFunctions_=[],t.tileQueue_=new w1(t.getTilePriority.bind(Xo(t)),t.handleTileChange_.bind(Xo(t))),t.addChangeListener(i1.VIEW,t.handleViewChanged_),t.addChangeListener(i1.TARGET,t.handleTargetChanged_),t.setProperties(i.values),Xo(t));return!e.view||e.view instanceof Go||e.view.then(function(e){o.setView(new Go(e))}),t}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Qo(t,n),t=a,(n=[{key:"createRenderer",value:function(){throw new Error("Use a map type that has a createRenderer method")}},{key:"addLayer",value:function(e){this.getLayerGroup().getLayers().push(e)}},{key:"handleLayerAdd_",value:function(e){!function e(t,n){if(t instanceof ri)t.setMapInternal(n);else if(t instanceof Yi)for(var r=t.getLayers().getArray(),i=0,o=r.length;i<o;++i)e(r[i],n)}(e.layer,this)}},{key:"addOverlay",value:function(e){this.getOverlays().push(e)}},{key:"addOverlayInternal_",value:function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}},{key:"disposeInternal",value:function(){this.setTarget(null),Zo(Ko(a.prototype),"disposeInternal",this).call(this)}},{key:"getAllLayers",value:function(){var n=[];return function t(e){e.forEach(function(e){e instanceof Yi?t(e.getLayers()):n.push(e)})}(this.getLayers()),n}},{key:"getTarget",value:function(){return this.get(i1.TARGET)}},{key:"getOverlays",value:function(){return this.overlays_}},{key:"getOverlayById",value:function(e){e=this.overlayIdIndex_[e.toString()];return void 0!==e?e:null}},{key:"getLayerGroup",value:function(){return this.get(i1.LAYERGROUP)}},{key:"setLayers",value:function(e){var t=this.getLayerGroup();e instanceof Di?t.setLayers(e):((t=t.getLayers()).clear(),t.extend(e))}},{key:"getLayers",value:function(){return this.getLayerGroup().getLayers()}},{key:"getLoadingOrNotReady",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var r=e[t].layer;if(!r.getRenderer().ready)return!0;r=r.getSource();if(r&&r.loading)return!0}return!1}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"getSize",value:function(){return this.size_}},{key:"getView",value:function(){return this.get(i1.VIEW)}},{key:"getOverlayContainer",value:function(){return this.overlayContainer_}},{key:"getOverlayContainerStopEvent",value:function(){return this.overlayContainerStopEvent_}},{key:"getTilePriority",value:function(e,t,n,r){return i=this.frameState_,e=e,t=t,n=n,r=r,i&&t in i.wantedTiles&&i.wantedTiles[t][e.getKey()]?(t=i.viewState.center,e=n[0]-t[0],i=n[1]-t[1],65536*Math.log(r)+Math.sqrt(e*e+i*i)/r):1/0;var i}},{key:"handlePostRender",value:function(){for(var e,t,n,r=this.frameState_,i=this.tileQueue_,o=(i.isEmpty()||(n=t=this.maxTilesLoading_,r&&((e=r.viewHints)[T1]||e[E1])&&(t=(e=8<Date.now()-r.time)?0:8,n=e?0:2),i.getTilesLoading()<t&&(i.reprioritize(),i.loadMoreTiles(t,n))),r&&this.hasListener(qr)&&!r.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(qr,r),this.postRenderFunctions_),a=0,s=o.length;a<s;++a)o[a](this,r);o.length=0}},{key:"handleTargetChanged_",value:function(){this.renderer_||(this.renderer_=this.createRenderer()),this.targetChangeHandlerKeys_=[rr(document,nr,this.updateSize,this)],this.updateSize()}},{key:"handleTileChange_",value:function(){this.render()}},{key:"handleViewPropertyChanged_",value:function(){this.render()}},{key:"handleViewChanged_",value:function(){this.viewPropertyListenerKey_&&(or(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(or(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=rr(e,Gn,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=rr(e,$n,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}},{key:"isRendered",value:function(){return!!this.frameState_}},{key:"render",value:function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}},{key:"removeLayer",value:function(e){return this.getLayerGroup().getLayers().remove(e)}},{key:"handleLayerRemove_",value:function(e){Jo(e.layer)}},{key:"removeOverlay",value:function(e){return this.getOverlays().remove(e)}},{key:"renderFrame_",value:function(e){var t,n=this,r=this.getSize(),i=this.getView(),o=this.frameState_,a=null;void 0!==r&&0<(t=r)[0]&&0<t[1]&&i&&i.isDef()&&(t=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),i=i.getState(),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:ln(i.center,i.resolution,i.rotation,r),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:i,viewHints:t,wantedTiles:{},mapId:C0(this),renderTargets:{}},i.nextCenter)&&i.nextResolution&&(e=isNaN(i.nextRotation)?i.rotation:i.nextRotation,a.nextExtent=ln(i.nextCenter,i.nextResolution,e,r)),this.frameState_=a,this.renderer_.renderFrame(a),!a||(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),!o||this.previousExtent_&&(vn(this.previousExtent_)||rn(a.extent,this.previousExtent_))||(this.dispatchEvent(new e1(n1,this,o)),this.previousExtent_=nn(this.previousExtent_)),!this.previousExtent_)||a.viewHints[T1]||a.viewHints[E1]||rn(a.extent,this.previousExtent_)||(this.dispatchEvent(new e1(r1,this,a)),t=a.extent,(i=this.previousExtent_)?(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3]):t.slice()),this.dispatchEvent(new e1(t1,this,a)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))}},{key:"setSize",value:function(e){this.set(i1.SIZE,e)}},{key:"setTarget",value:function(e){this.set(i1.TARGET,e)}},{key:"setView",value:function(e){var t;!e||e instanceof Go?this.set(i1.VIEW,e):(this.set(i1.VIEW,new Go),t=this,e.then(function(e){t.setView(new Go(e))}))}},{key:"updateSize",value:function(){var e=this.size_;this.setSize(e),this.updateViewportSize_()}},{key:"updateViewportSize_",value:function(){var e,t=this.getView();t&&(e=this.size_,t.setViewportSize(e))}}])&&Wo(t.prototype,n),e&&Wo(t,e),Object.defineProperty(t,"prototype",{writable:!1}),a}();function e2(e){return(e2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=e2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=e2(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==e2(e)?e:String(e)}(r.key),r)}}function n2(e,t,n){t=i2(t);var r=e,t=r2()?Reflect.construct(t,n||[],i2(e).constructor):t.apply(e,n);if(t&&("object"===e2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function r2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(r2=function(){return!!e})()}function i2(e){return(i2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o2(e,t){return(o2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var a2=function(){var e,t=r,n=$o;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){if(this instanceof r)return n2(this,r,[e=Hn({},e)]);throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&o2(t,n),t=r,(n=[{key:"createRenderer",value:function(){return new wi(this)}}])&&t2(t.prototype,n),e&&t2(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function s2(e){return(s2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=s2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=s2(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==s2(e)?e:String(e)}(r.key),r)}}function l2(e,t,n){t=h2(t);var r=e,t=c2()?Reflect.construct(t,n||[],h2(e).constructor):t.apply(e,n);if(t&&("object"===s2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function c2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c2=function(){return!!e})()}function h2(e){return(h2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p2(e,t){return(p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var f2=function(){var e,t=i,n=Jn;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function i(e,t,n){var r;if(this instanceof i)return n=n||{},(r=l2(this,i)).tileCoord=e,r.state=t,r.interimTile=null,r.key="",r.transition_=void 0===n.transition?250:n.transition,r.transitionStarts_={},r.interpolate=!!n.interpolate,r;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&p2(t,n),t=i,(n=[{key:"changed",value:function(){this.dispatchEvent($n)}},{key:"release",value:function(){}},{key:"getKey",value:function(){return this.key+"/"+this.tileCoord}},{key:"getInterimTile",value:function(){if(this.interimTile){var e=this.interimTile;do{if(e.getState()==c1)return this.transition_=0,e}while(e=e.interimTile)}return this}},{key:"refreshInterimChain",value:function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==c1){e.interimTile=null;break}}while(e.getState()!=l1&&e.getState()==u1?t.interimTile=e.interimTile:t=e,e=t.interimTile)}}},{key:"getTileCoord",value:function(){return this.tileCoord}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){if(this.state!==h1&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}},{key:"load",value:function(){o()}},{key:"getAlpha",value:function(e,t){if(!this.transition_)return 1;var n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else this.transitionStarts_[e]=n=t;e=t-n+1e3/60;return e>=this.transition_?1:Ro(e/this.transition_)}},{key:"inTransition",value:function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}},{key:"endTransition",value:function(e){this.transition_&&(this.transitionStarts_[e]=-1)}}])&&u2(t.prototype,n),e&&u2(t,e),Object.defineProperty(t,"prototype",{writable:!1}),i}();var d2=0,y2=2,v2=3;function m2(e,t,n){var r=!0,i=!1,o=!1,a=[ir(e,tr,function(){o=!0,i||t()})];return e.src&&D0?(i=!0,e.decode().then(function(){r&&t()}).catch(function(e){r&&(o?t:n)()})):a.push(ir(e,er,n)),function(){r=!1,a.forEach(or)}}function g2(e,t,n,r){n=n&&n.length?n.shift():I0?new OffscreenCanvas(e||300,t||300):document.createElement("canvas");return e&&(n.width=e),t&&(n.height=t),n.getContext("2d",r)}function b2(e){return(b2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=b2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=b2(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==b2(e)?e:String(e)}(r.key),r)}}function w2(e,t,n){t=S2(t);var r=e,t=_2()?Reflect.construct(t,n||[],S2(e).constructor):t.apply(e,n);if(t&&("object"===b2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function _2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_2=function(){return!!e})()}function S2(e){return(S2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T2(e,t){return(T2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var E2=function(){var e,t=a,n=f2;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function a(e,t,n,r,i,o){if(this instanceof a)return(e=w2(this,a,[e,t,o])).crossOrigin_=r,e.src_=n,e.key=n,e.image_=new Image,null!==r&&(e.image_.crossOrigin=r),e.unlisten_=null,e.tileLoadFunction_=i,e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&T2(t,n),t=a,(n=[{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(e){this.image_=e,this.state=c1,this.unlistenImage_(),this.changed()}},{key:"handleImageError_",value:function(){var e;this.state=h1,this.unlistenImage_(),this.image_=((e=g2(1,1)).fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas),this.changed()}},{key:"handleImageLoad_",value:function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=c1:this.state=p1,this.unlistenImage_(),this.changed()}},{key:"load",value:function(){this.state==h1&&(this.state=u1,this.image_=new Image,null!==this.crossOrigin_)&&(this.image_.crossOrigin=this.crossOrigin_),this.state==u1&&(this.state=l1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=m2(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}])&&x2(t.prototype,n),e&&x2(t,e),Object.defineProperty(t,"prototype",{writable:!1}),a}();function k2(e){return(k2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=k2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=k2(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==k2(e)?e:String(e)}(r.key),r)}}var P2=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}var e,n,r;return e=t,(n=[{key:"canExpireCache",value:function(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark}},{key:"expireCache",value:function(e){for(;this.canExpireCache();)this.pop()}},{key:"clear",value:function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}},{key:"containsKey",value:function(e){return this.entries_.hasOwnProperty(e)}},{key:"forEach",value:function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer}},{key:"get",value:function(e,t){e=this.entries_[e];return c(void 0!==e,15),e!==this.newest_&&(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_}},{key:"remove",value:function(e){var t=this.entries_[e];return c(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}},{key:"getCount",value:function(){return this.count_}},{key:"getKeys",value:function(){for(var e=new Array(this.count_),t=0,n=this.newest_;n;n=n.older)e[t++]=n.key_;return e}},{key:"getValues",value:function(){for(var e=new Array(this.count_),t=0,n=this.newest_;n;n=n.older)e[t++]=n.value_;return e}},{key:"peekLast",value:function(){return this.oldest_.value_}},{key:"peekLastKey",value:function(){return this.oldest_.key_}},{key:"peekFirstKey",value:function(){return this.newest_.key_}},{key:"pop",value:function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}},{key:"replace",value:function(e,t){this.get(e),this.entries_[e].value_=t}},{key:"set",value:function(e,t){c(!(e in this.entries_),16);t={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=t:this.oldest_=t,this.newest_=t,this.entries_[e]=t,++this.count_}},{key:"setSize",value:function(e){this.highWaterMark=e}}])&&O2(e.prototype,n),r&&O2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function M2(e,t,n,r){return void 0!==r?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function A2(e,t,n){return e+"/"+t+"/"+n}function R2(e){return(R2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=R2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=R2(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==R2(e)?e:String(e)}(r.key),r)}}function L2(e,t,n){t=D2(t);var r=e,t=I2()?Reflect.construct(t,n||[],D2(e).constructor):t.apply(e,n);if(t&&("object"===R2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function I2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(I2=function(){return!!e})()}function D2(e){return(D2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j2(e,t){return(j2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var N2=function(){var e,t=r,n=P2;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(){var e=this,t=r;if(e instanceof t)return L2(this,r,arguments);throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&j2(t,n),t=r,(n=[{key:"expireCache",value:function(e){for(;this.canExpireCache();){if(this.peekLast().getKey()in e)break;this.pop().release()}}},{key:"pruneExceptNewestZ",value:function(){var n;0!==this.getCount()&&(n=this.peekFirstKey().split("/").map(Number)[0],this.forEach(function(e){var t;e.tileCoord[0]!==n&&(this.remove(A2((t=e.tileCoord)[0],t[1],t[2])),e.release())}.bind(this)))}}])&&C2(t.prototype,n),e&&C2(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(),F2="tileloadstart",U2="tileloadend",B2="tileloaderror";function z2(e){return(z2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=z2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=z2(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==z2(e)?e:String(e)}(r.key),r)}}function H2(e,t,n){t=W2(t);var r=e,t=V2()?Reflect.construct(t,n||[],W2(e).constructor):t.apply(e,n);if(t&&("object"===z2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q2(r)}function V2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(V2=function(){return!!e})()}function W2(e){return(W2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q2(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y2(e,t){return(Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function X2(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var Z2=function(){var e,t=r,n=Tr;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");(t=H2(this,r)).projection=co(e.projection),t.attributions_=X2(e.attributions),t.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,t.loading=!1,t.state_=void 0!==e.state?e.state:Xr,t.wrapX_=void 0!==e.wrapX&&e.wrapX,t.interpolate_=!!e.interpolate,t.viewResolver=null,t.viewRejector=null;var n=q2(t);return t.viewPromise_=new Promise(function(e,t){n.viewResolver=e,n.viewRejector=t}),t}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Y2(t,n),t=r,(n=[{key:"getAttributions",value:function(){return this.attributions_}},{key:"getAttributionsCollapsible",value:function(){return this.attributionsCollapsible_}},{key:"getProjection",value:function(){return this.projection}},{key:"getResolutions",value:function(){return o()}},{key:"getView",value:function(){return this.viewPromise_}},{key:"getState",value:function(){return this.state_}},{key:"getWrapX",value:function(){return this.wrapX_}},{key:"getInterpolate",value:function(){return this.interpolate_}},{key:"refresh",value:function(){this.changed()}},{key:"setAttributions",value:function(e){this.attributions_=X2(e),this.changed()}},{key:"setState",value:function(e){this.state_=e,this.changed()}}])&&G2(t.prototype,n),e&&G2(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function K2(e){return(K2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=K2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=K2(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==K2(e)?e:String(e)}(r.key),r)}}var J2=function(){function i(e,t,n,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.minX=e,this.maxX=t,this.minY=n,this.maxY=r}var e,t,n;return e=i,(t=[{key:"contains",value:function(e){return this.containsXY(e[1],e[2])}},{key:"containsTileRange",value:function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}},{key:"containsXY",value:function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}},{key:"equals",value:function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}},{key:"extend",value:function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}},{key:"getHeight",value:function(){return this.maxY-this.minY+1}},{key:"getSize",value:function(){return[this.getWidth(),this.getHeight()]}},{key:"getWidth",value:function(){return this.maxX-this.minX+1}},{key:"intersects",value:function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}])&&Q2(e.prototype,t),n&&Q2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function $2(e,t,n,r,i){return void 0!==i?(i.minX=e,i.maxX=t,i.minY=n,i.maxY=r,i):new J2(e,t,n,r)}var ea=J2;function ta(e){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=ta(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=ta(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ta(e)?e:String(e)}(r.key),r)}}var ra=[0,0,0],ia=function(){function u(e){var n,r,i,t;if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,c((n=this.resolutions_,r=!0,i=function(e,t){return t-e}||E0,n.every(function(e,t){return 0===t||!(0<(t=i(n[t-1],e))||r&&0===t)})),17),!e.origins)for(var o=0,a=this.resolutions_.length-1;o<a;++o)if(t){if(this.resolutions_[o]/this.resolutions_[o+1]!==t){t=void 0;break}}else t=this.resolutions_[o]/this.resolutions_[o+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,c(this.origins_.length==this.resolutions_.length,20));var s=e.extent;void 0===s||this.origin_||this.origins_||(this.origin_=pn(s)),c(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,c(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:P1,c(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(e,t){e=new ea(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));return s&&(t=this.getTileRangeForExtentAndZ(s,t),e.minX=Math.max(t.minX,e.minX),e.maxX=Math.min(t.maxX,e.maxX),e.minY=Math.max(t.minY,e.minY),e.maxY=Math.min(t.maxY,e.maxY)),e},this):s&&this.calculateTileRanges_(s)}var e,t,n;return e=u,(t=[{key:"forEachTileCoord",value:function(e,t,n){for(var r=this.getTileRangeForExtentAndZ(e,t),i=r.minX,o=r.maxX;i<=o;++i)for(var a=r.minY,s=r.maxY;a<=s;++a)n([t,i,a])}},{key:"forEachTileCoordParentTileRange",value:function(e,t,n,r){var i,o,a=null,s=e[0]-1;for(2===this.zoomFactor_?(i=e[1],o=e[2]):a=this.getTileCoordExtent(e,r);s>=this.minZoom;){if(t(s,2===this.zoomFactor_?$2(i=Math.floor(i/2),i,o=Math.floor(o/2),o,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1}},{key:"getExtent",value:function(){return this.extent_}},{key:"getMaxZoom",value:function(){return this.maxZoom}},{key:"getMinZoom",value:function(){return this.minZoom}},{key:"getOrigin",value:function(e){return this.origin_||this.origins_[e]}},{key:"getResolution",value:function(e){return this.resolutions_[e]}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getTileCoordChildTileRange",value:function(e,t,n){var r;return e[0]<this.maxZoom?2===this.zoomFactor_?$2(r=2*e[1],1+r,r=2*e[2],1+r,t):(r=this.getTileCoordExtent(e,n||this.tmpExtent_),this.getTileRangeForExtentAndZ(r,e[0]+1,t)):null}},{key:"getTileRangeForTileCoordAndZ",value:function(e,t,n){var r,i,o,a,s,u;return t>this.maxZoom||t<this.minZoom?null:(u=e[0],r=e[1],i=e[2],t===u?$2(r,i,r,i,n):this.zoomFactor_?(o=Math.pow(this.zoomFactor_,t-u),a=Math.floor(r*o),s=Math.floor(i*o),t<u?$2(a,a,s,s,n):$2(a,Math.floor(o*(r+1))-1,s,Math.floor(o*(i+1))-1,n)):(u=this.getTileCoordExtent(e,this.tmpExtent_),this.getTileRangeForExtentAndZ(u,t,n)))}},{key:"getTileRangeExtent",value:function(e,t,n){var r=this.getOrigin(e),i=this.getResolution(e),e=Ho(this.getTileSize(e),this.tmpSize_),o=r[0]+t.minX*e[0]*i,a=r[0]+(t.maxX+1)*e[0]*i;return tn(o,r[1]+t.minY*e[1]*i,a,r[1]+(t.maxY+1)*e[1]*i,n)}},{key:"getTileRangeForExtentAndZ",value:function(e,t,n){var r=ra,i=(this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,r),r[1]),o=r[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,r),$2(i,r[1],o,r[2],n)}},{key:"getTileCoordCenter",value:function(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),r=Ho(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*n,t[1]-(e[2]+.5)*r[1]*n]}},{key:"getTileCoordExtent",value:function(e,t){var n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=Ho(this.getTileSize(e[0]),this.tmpSize_),o=n[0]+e[1]*i[0]*r,n=n[1]-(e[2]+1)*i[1]*r;return tn(o,n,o+i[0]*r,n+i[1]*r,t)}},{key:"getTileCoordForCoordAndResolution",value:function(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}},{key:"getTileCoordForXYAndResolution_",value:function(e,t,n,r,i){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),u=Ho(this.getTileSize(o),this.tmpSize_),e=a*(e-s[0])/n/u[0],a=a*(s[1]-t)/n/u[1],a=r?(e=En(e,5)-1,En(a,5)-1):(e=Tn(e,5),Tn(a,5));return M2(o,e,a,i)}},{key:"getTileCoordForXYAndZ_",value:function(e,t,n,r,i){var o=this.getOrigin(n),a=this.getResolution(n),s=Ho(this.getTileSize(n),this.tmpSize_),e=(e-o[0])/a/s[0],o=(o[1]-t)/a/s[1],o=r?(e=En(e,5)-1,En(o,5)-1):(e=Tn(e,5),Tn(o,5));return M2(n,e,o,i)}},{key:"getTileCoordForCoordAndZ",value:function(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}},{key:"getTileCoordResolution",value:function(e){return this.resolutions_[e[0]]}},{key:"getTileSize",value:function(e){return this.tileSize_||this.tileSizes_[e]}},{key:"getFullTileRange",value:function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}},{key:"getZForResolution",value:function(e,t){return gn(k0(this.resolutions_,e,t||0),this.minZoom,this.maxZoom)}},{key:"calculateTileRanges_",value:function(e){for(var t=this.resolutions_.length,n=new Array(t),r=this.minZoom;r<t;++r)n[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=n}}])&&na(e.prototype,t),n&&na(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}();function oa(e){var t,n,r,i=e.getDefaultTileGrid();return i||(i=function(e,t,n,r){r=void 0!==r?r:X0.TOP_LEFT,t=aa(e,t,n);return new ia({extent:e,origin:function(e,t){var n;return t===X0.BOTTOM_LEFT?n=an(e):t===X0.BOTTOM_RIGHT?n=sn(e):t===X0.TOP_LEFT?n=pn(e):t===X0.TOP_RIGHT?n=fn(e):c(!1,13),n}(e,r),resolutions:t,tileSize:n})}(sa(e),t,n,r),e.setDefaultTileGrid(i)),i}function aa(e,t,n,r){for(var t=void 0!==t?t:O1,i=cn(e),e=dn(e),n=Ho(void 0!==n?n:P1),o=0<r?r:Math.max(e/n[0],i/n[1]),a=t+1,s=new Array(a),u=0;u<a;++u)s[u]=o/Math.pow(2,u);return s}function sa(e){var t=(e=co(e)).getExtent();return t=t?t:tn(-(e=180*_1[S1.DEGREES]/e.getMetersPerUnit()),-e,e,e)}function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=ua(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=ua(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ua(e)?e:String(e)}(r.key),r)}}function ha(e,t,n){return t&&ca(e.prototype,t),n&&ca(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pa(e,t,n){t=ya(t);var r=e,t=fa()?Reflect.construct(t,n||[],ya(e).constructor):t.apply(e,n);if(t&&("object"===ua(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function fa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fa=function(){return!!e})()}function da(){return(da="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ya(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function va(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ma(e,t)}function ma(e,t){return(ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var t=function(){function n(e){var t;la(this,n),(t=pa(this,n,[{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}])).on,t.once,t.un,t.opaque_=void 0!==e.opaque&&e.opaque,t.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,t.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;return t.tileGrid&&Ho(t.tileGrid.getTileSize(t.tileGrid.getMinZoom()),[256,256]),t.tileCache=new N2(e.cacheSize||0),t.tmpSize=[0,0],t.key_=e.key||"",t.tileOptions={transition:e.transition,interpolate:e.interpolate},t.zDirection=e.zDirection||0,t}return va(n,Z2),ha(n,[{key:"canExpireCache",value:function(){return this.tileCache.canExpireCache()}},{key:"expireCache",value:function(e,t){e=this.getTileCacheForProjection(e);e&&e.expireCache(t)}},{key:"forEachLoadedTile",value:function(e,t,n,r){var i=this.getTileCacheForProjection(e);if(!i)return!1;for(var o,a,s=!0,u=n.minX;u<=n.maxX;++u)for(var l=n.minY;l<=n.maxY;++l)o=A2(t,u,l),a=!1,(a=i.containsKey(o)?(a=(o=i.get(o)).getState()===c1)&&!1!==r(o):a)||(s=!1);return s}},{key:"getGutterForProjection",value:function(e){return 0}},{key:"getKey",value:function(){return this.key_}},{key:"setKey",value:function(e){this.key_!==e&&(this.key_=e,this.changed())}},{key:"getOpaque",value:function(e){return this.opaque_}},{key:"getResolutions",value:function(){return this.tileGrid?this.tileGrid.getResolutions():null}},{key:"getTile",value:function(e,t,n,r,i){return o()}},{key:"getTileGrid",value:function(){return this.tileGrid}},{key:"getTileGridForProjection",value:function(e){return this.tileGrid||oa(e)}},{key:"getTileCacheForProjection",value:function(e){return c(fo(this.getProjection(),e),68),this.tileCache}},{key:"getTilePixelRatio",value:function(e){return this.tilePixelRatio_}},{key:"getTilePixelSize",value:function(e,t,n){var n=this.getTileGridForProjection(n),t=this.getTilePixelRatio(t),n=Ho(n.getTileSize(e),this.tmpSize);return 1==t?n:(e=n,n=t,(t=void 0===(t=this.tmpSize)?[0,0]:t)[0]=e[0]*n+.5|0,t[1]=e[1]*n+.5|0,t)}},{key:"getTileCoordForTileUrlFunction",value:function(e,t){var n,r,i,o,t=void 0!==t?t:this.getProjection(),a=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(n=a,t=t,i=(r=e)[0],o=n.getTileCoordCenter(r),e=Q0(t=sa(t),o)?r:(r=dn(t),t=Math.ceil((t[0]-o[0])/r),o[0]+=r*t,n.getTileCoordForCoordAndZ(o,i))),function(e,t){var n=e[0],r=e[1],e=e[2];if(!(t.getMinZoom()>n||n>t.getMaxZoom()))return!(t=t.getFullTileRange(n))||t.containsXY(r,e)}(e,a)?e:null}},{key:"clear",value:function(){this.tileCache.clear()}},{key:"refresh",value:function(){this.clear(),da(ya(n.prototype),"refresh",this).call(this)}},{key:"updateCacheSize",value:function(e,t){t=this.getTileCacheForProjection(t);e>t.highWaterMark&&(t.highWaterMark=e)}},{key:"useTile",value:function(e,t,n,r){}}]),n}(),ga=function(){function n(e,t){return la(this,n),(e=pa(this,n,[e])).tile=t,e}return va(n,zn),ha(n)}(),ba=t;function xa(e,t){for(var i,n=e.length,r=new Array(n),o=0;o<n;++o)r[o]=function(r,i){var o=/\{z\}/g,a=/\{x\}/g,s=/\{y\}/g,u=/\{-y\}/g;return function(t,e,n){if(t)return r.replace(o,t[0].toString()).replace(a,t[1].toString()).replace(s,t[2].toString()).replace(u,function(){var e=t[0],e=i.getFullTileRange(e);return c(e,55),(e.getHeight()-t[2]-1).toString()})}}(e[o],t);return 1!==(i=r).length?function(e,t,n){var r;if(e)return r=_n((e[1]<<e[0])+e[2],i.length),i[r](e,t,n)}:i[0]}function wa(e){return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=wa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=wa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==wa(e)?e:String(e)}(r.key),r)}}function Sa(e,t,n){t=Ea(t);var r=e,t=Ta()?Reflect.construct(t,n||[],Ea(e).constructor):t.apply(e,n);if(t&&("object"===wa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Ta(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ta=function(){return!!e})()}function Ea(e){return(Ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ka(e,t){return(ka=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Oa=function(){var e,t=r,n=ba;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(this instanceof r)return(t=Sa(this,r,[{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}])).generateTileUrlFunction_=t.tileUrlFunction===r.prototype.tileUrlFunction,t.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(t.tileUrlFunction=e.tileUrlFunction),t.urls=null,e.urls?t.setUrls(e.urls):e.url&&t.setUrl(e.url),t.tileLoadingKeys_={},t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&ka(t,n),t=r,(n=[{key:"getTileLoadFunction",value:function(){return this.tileLoadFunction}},{key:"getTileUrlFunction",value:function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}},{key:"getUrls",value:function(){return this.urls}},{key:"handleTileChange",value:function(e){var t,e=e.target,n=C0(e),r=e.getState();r==l1?(this.tileLoadingKeys_[n]=!0,t=F2):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],t=r==h1?B2:r==c1?U2:void 0),null!=t&&this.dispatchEvent(new ga(t,e))}},{key:"setTileLoadFunction",value:function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}},{key:"setTileUrlFunction",value:function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()}},{key:"setUrl",value:function(e){e=function(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n)for(var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=r;o<=i;++o)t.push(e.replace(n[0],String.fromCharCode(o)));else if(n=/\{(\d+)-(\d+)\}/.exec(e))for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)t.push(e.replace(n[0],s.toString()));else t.push(e);return t}(e);this.urls=e,this.setUrls(e)}},{key:"setUrls",value:function(e){var t=(this.urls=e).join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(xa(e,this.tileGrid),t):this.setKey(t)}},{key:"tileUrlFunction",value:function(e,t,n){}},{key:"useTile",value:function(e,t,n){e=A2(e,t,n);this.tileCache.containsKey(e)&&this.tileCache.get(e)}}])&&_a(t.prototype,n),e&&_a(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Pa(e){return(Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Pa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Pa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Pa(e)?e:String(e)}(r.key),r)}}function Aa(e,t,n){t=La(t);var r=e,t=Ra()?Reflect.construct(t,n||[],La(e).constructor):t.apply(e,n);if(t&&("object"===Pa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Ra(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ra=function(){return!!e})()}function Ca(){return(Ca="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=La(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ia(e,t){return(Ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Da(e,t){e.getImage().src=t}var ja=function(){var e,t=r,n=Oa;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(this instanceof r)return t=void 0===e.imageSmoothing||e.imageSmoothing,void 0!==e.interpolate&&(t=e.interpolate),(t=Aa(this,r,[{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction||Da,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:t,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}])).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,t.tileClass=void 0!==e.tileClass?e.tileClass:E2,t.tileCacheForProjection={},t.tileGridForProjection={},t.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,t.renderReprojectionEdges_=!1,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Ia(t,n),t=r,(n=[{key:"canExpireCache",value:function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}},{key:"expireCache",value:function(e,t){var n,r=this.getTileCacheForProjection(e);for(n in this.tileCache.expireCache(this.tileCache==r?t:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[n];i.expireCache(i==r?t:{})}}},{key:"getGutterForProjection",value:function(e){return this.getProjection()&&e&&!fo(this.getProjection(),e)?0:this.getGutter()}},{key:"getGutter",value:function(){return 0}},{key:"getKey",value:function(){var e=Ca(La(r.prototype),"getKey",this).call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e}},{key:"getOpaque",value:function(e){return!(this.getProjection()&&e&&!fo(this.getProjection(),e))&&Ca(La(r.prototype),"getOpaque",this).call(this,e)}},{key:"getTileGridForProjection",value:function(e){var t=this.getProjection();return!this.tileGrid||t&&!fo(t,e)?((t=C0(e))in this.tileGridForProjection||(this.tileGridForProjection[t]=oa(e)),this.tileGridForProjection[t]):this.tileGrid}},{key:"getTileCacheForProjection",value:function(e){var t=this.getProjection();return!t||fo(t,e)?this.tileCache:((t=C0(e))in this.tileCacheForProjection||(this.tileCacheForProjection[t]=new N2(this.tileCache.highWaterMark)),this.tileCacheForProjection[t])}},{key:"createTile_",value:function(e,t,n,r,i,o){e=[e,t,n],t=this.getTileCoordForTileUrlFunction(e,i),n=t?this.tileUrlFunction(t,r,i):void 0,t=new this.tileClass(e,void 0!==n?u1:p1,void 0!==n?n:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return t.key=o,t.addEventListener($n,this.handleTileChange.bind(this)),t}},{key:"getTile",value:function(e,t,n,r,i){var o=this.getProjection();return this.getTileInternal(e,t,n,r,o||i)}},{key:"getTileInternal",value:function(e,t,n,r,i){var o,a=null,s=A2(e,t,n),u=this.getKey();return this.tileCache.containsKey(s)?(a=this.tileCache.get(s)).key!=u&&(o=a,a=this.createTile_(e,t,n,r,i,u),o.getState()==u1?a.interimTile=o.interimTile:a.interimTile=o,a.refreshInterimChain(),this.tileCache.replace(s,a)):(a=this.createTile_(e,t,n,r,i,u),this.tileCache.set(s,a)),a}},{key:"setRenderReprojectionEdges",value:function(e){if(this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}}])&&Ma(t.prototype,n),e&&Ma(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Na(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Na(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Na(e)?e:String(e)}(r.key),r)}}function Ua(e,t,n){t=za(t);var r=e,t=Ba()?Reflect.construct(t,n||[],za(e).constructor):t.apply(e,n);if(t&&("object"===Na(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Ba(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ba=function(){return!!e})()}function za(e){return(za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ga(e,t){return(Ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ha=function(){var e,t,n=o,r=ja;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");function o(e){var t,n,r,i;if(this instanceof o)return t=void 0===(e=e||{}).imageSmoothing||e.imageSmoothing,void 0!==e.interpolate&&(t=e.interpolate),n=void 0!==e.projection?e.projection:"EPSG:3857",r=void 0!==e.tileGrid?e.tileGrid:(r={extent:sa(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize},i={extent:i=(r=r||{}).extent||co("EPSG:3857").getExtent(),minZoom:r.minZoom,tileSize:r.tileSize,resolutions:aa(i,r.maxZoom,r.tileSize,r.maxResolution)},new ia(i)),Ua(this,o,[{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:t,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}]);throw new TypeError("Cannot call a class as a function")}return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Ga(n,r),n=o,e&&Fa(n.prototype,e),t&&Fa(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function Va(e){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Va(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Va(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Va(e)?e:String(e)}(r.key),r)}}function qa(e,t,n){t=Xa(t);var r=e,t=Ya()?Reflect.construct(t,n||[],Xa(e).constructor):t.apply(e,n);if(t&&("object"===Va(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Ya(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ya=function(){return!!e})()}function Xa(e){return(Xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e,t){return(Za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ka=function(){var e,t,n=o,r=Ha;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");function o(e){var t,n,r,i;if(this instanceof o)return t=void 0===(e=e||{}).imageSmoothing||e.imageSmoothing,void 0!==e.interpolate&&(t=e.interpolate),n=void 0!==e.attributions?e.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],r=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",i=void 0!==e.url?e.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",qa(this,o,[{attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:r,interpolate:t,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,opaque:void 0===e.opaque||e.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection}]);throw new TypeError("Cannot call a class as a function")}return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Za(n,r),n=o,e&&Wa(n.prototype,e),t&&Wa(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(),Qa="preload",Ja="useInterimTilesOnError";function $a(e){return($a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=$a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=$a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==$a(e)?e:String(e)}(r.key),r)}}function ts(e,t,n){t=is(t);var r=e,t=ns()?Reflect.construct(t,n||[],is(e).constructor):t.apply(e,n);if(t&&("object"===$a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function ns(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ns=function(){return!!e})()}function rs(){return(rs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=is(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function is(e){return(is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function os(e,t){return(os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var as=function(){var e,t=r,n=ri;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(this instanceof r)return delete(t=Hn({},e=e||{})).preload,delete t.useInterimTilesOnError,(t=ts(this,r,[t])).on,t.once,t.un,t.setPreload(void 0!==e.preload?e.preload:0),t.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&os(t,n),t=r,(n=[{key:"getPreload",value:function(){return this.get(Qa)}},{key:"setPreload",value:function(e){this.set(Qa,e)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(Ja)}},{key:"setUseInterimTilesOnError",value:function(e){this.set(Ja,e)}},{key:"getData",value:function(e){return rs(is(r.prototype),"getData",this).call(this,e)}}])&&es(t.prototype,n),e&&es(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function ss(e){return(ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=ss(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=ss(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ss(e)?e:String(e)}(r.key),r)}}function ls(e,t,n){t=fs(t);var r=e,t=cs()?Reflect.construct(t,n||[],fs(e).constructor):t.apply(e,n);if(t&&("object"===ss(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hs(r)}function cs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(cs=function(){return!!e})()}function hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ps(){return(ps="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fs(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function fs(e){return(fs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ds(e,t){return(ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ys=function(){var e,t=r,n=pr;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(this instanceof r)return(t=ls(this,r)).ready=!0,t.boundHandleImageChange_=t.handleImageChange_.bind(hs(t)),t.layer_=e,t.declutterExecutorGroup=null,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&ds(t,n),t=r,(n=[{key:"getFeatures",value:function(e){return o()}},{key:"getData",value:function(e){return null}},{key:"prepareFrame",value:function(e){return o()}},{key:"renderFrame",value:function(e,t){return o()}},{key:"loadedTileCallback",value:function(e,t,n){e[t]||(e[t]={}),e[t][n.tileCoord.toString()]=n}},{key:"createLoadedTileFinder",value:function(r,i,o){return function(e,t){var n=this.loadedTileCallback.bind(this,o,e);return r.forEachLoadedTile(i,e,t,n)}.bind(this)}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,r,i){}},{key:"getDataAtPixel",value:function(e,t,n){return null}},{key:"getLayer",value:function(){return this.layer_}},{key:"handleFontsChanged",value:function(){}},{key:"handleImageChange_",value:function(e){e.target.getState()===y2&&this.renderIfReadyAndVisible()}},{key:"loadImage",value:function(e){var t=e.getState();return t!=y2&&t!=v2&&e.addEventListener($n,this.boundHandleImageChange_),t==d2&&(e.load(),t=e.getState()),t==y2}},{key:"renderIfReadyAndVisible",value:function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==Xr&&e.changed()}},{key:"disposeInternal",value:function(){delete this.layer_,ps(fs(r.prototype),"disposeInternal",this).call(this)}}])&&us(t.prototype,n),e&&us(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function vs(e){return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=vs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=vs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==vs(e)?e:String(e)}(r.key),r)}}function gs(e,t,n){t=xs(t);var r=e,t=bs()?Reflect.construct(t,n||[],xs(e).constructor):t.apply(e,n);if(t&&("object"===vs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function bs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(bs=function(){return!!e})()}function xs(e){return(xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ws(e,t){return(ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var _s=function(){var e,t,n=i,r=zn;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");function i(e,t,n,r){if(this instanceof i)return(e=gs(this,i,[e])).inversePixelTransform=t,e.frameState=n,e.context=r,e;throw new TypeError("Cannot call a class as a function")}return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&ws(n,r),n=i,e&&ms(n.prototype,e),t&&ms(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function Ss(e){return(Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Ss(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Ss(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Ss(e)?e:String(e)}(r.key),r)}}function Es(e,t,n){t=Ps(t);var r=e,t=ks()?Reflect.construct(t,n||[],Ps(e).constructor):t.apply(e,n);if(t&&("object"===Ss(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function ks(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ks=function(){return!!e})()}function Os(){return(Os="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ps(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function Ps(e){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ms(e,t){return(Ms=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var As=null;var Rs=function(){var e,t=r,n=ys;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){if(this instanceof r)return(e=Es(this,r,[e])).container=null,e.renderedResolution,e.tempTransform=V0(),e.pixelTransform=V0(),e.inversePixelTransform=V0(),e.context=null,e.containerReused=!1,e.pixelContext_=null,e.frameState=null,e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Ms(t,n),t=r,(n=[{key:"getImageData",value:function(e,t,n){var r,i;As||((r=document.createElement("canvas")).width=1,r.height=1,As=r.getContext("2d")),As.clearRect(0,0,1,1);try{As.drawImage(e,t,n,1,1,0,0,1,1),i=As.getImageData(0,0,1,1).data}catch(e){return null}return i}},{key:"getBackground",value:function(e){var t=this.getLayer().getBackground();return(t="function"==typeof t?t(e.viewState.resolution):t)||void 0}},{key:"useContainer",value:function(e,t,n,r){var i,o=this.getLayer().getClassName();(i=e&&e.className===o&&""===e.style.opacity&&1===n&&(!r||e.style.backgroundColor&&P0(Ln(e.style.backgroundColor),Ln(r)))&&(n=e.firstElementChild)instanceof HTMLCanvasElement?n.getContext("2d"):i)&&i.canvas.style.transform===t?(this.container=e,this.context=i,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),this.container||((n=document.createElement("div")).className=o,(t=n.style).position="absolute",t.width="100%",t.height="100%",r&&(t.backgroundColor=r),e=(i=g2()).canvas,n.appendChild(e),(t=e.style).position="absolute",t.left="0",t.transformOrigin="top left",this.container=n,this.context=i)}},{key:"clipUnrotated",value:function(e,t,n){var r=pn(n),i=fn(n),o=sn(n),n=an(n),t=(W0(t.coordinateToPixelTransform,r),W0(t.coordinateToPixelTransform,i),W0(t.coordinateToPixelTransform,o),W0(t.coordinateToPixelTransform,n),this.inversePixelTransform);W0(t,r),W0(t,i),W0(t,o),W0(t,n),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(n[0]),Math.round(n[1])),e.clip()}},{key:"dispatchRenderEvent_",value:function(e,t,n){var r=this.getLayer();r.hasListener(e)&&(e=new _s(e,this.inversePixelTransform,n,t),r.dispatchEvent(e))}},{key:"preRender",value:function(e,t){this.frameState=t,this.dispatchRenderEvent_(Hr,e,t)}},{key:"postRender",value:function(e,t){this.dispatchRenderEvent_(Vr,e,t)}},{key:"getRenderTransform",value:function(e,t,n,r,i,o,a){r/=t,t=-e[0]+a,a=-e[1];return q0(this.tempTransform,i/2,o/2,r,-r,-n,t,a)}},{key:"getDataAtPixel",value:function(e,t,n){var r=W0(this.inversePixelTransform,e.slice()),i=this.context,o=this.getLayer().getExtent();if(o&&!Q0(o,W0(t.pixelToCoordinateTransform,e.slice())))return null;var a,o=Math.round(r[0]),t=Math.round(r[1]),e=this.pixelContext_;e||((r=document.createElement("canvas")).width=1,r.height=1,e=r.getContext("2d"),this.pixelContext_=e),e.clearRect(0,0,1,1);try{e.drawImage(i.canvas,o,t,1,1,0,0,1,1),a=e.getImageData(0,0,1,1).data}catch(e){return"SecurityError"===e.name?(this.pixelContext_=null,new Uint8Array):a}return 0===a[3]?null:a}},{key:"disposeInternal",value:function(){delete this.frameState,Os(Ps(r.prototype),"disposeInternal",this).call(this)}}])&&Ts(t.prototype,n),e&&Ts(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Cs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Cs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Cs(e)?e:String(e)}(r.key),r)}}function Is(e,t,n){t=Ns(t);var r=e,t=Ds()?Reflect.construct(t,n||[],Ns(e).constructor):t.apply(e,n);if(t&&("object"===Cs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Ds(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ds=function(){return!!e})()}function js(){return(js="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ns(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function Ns(e){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fs(e,t){return(Fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Us=function(){var e,t=r,n=Rs;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(this instanceof r)return(t=Is(this,r,[e])).extentChanged=!0,t.renderedExtent_=null,t.renderedPixelRatio,t.renderedProjection=null,t.renderedRevision,t.renderedTiles=[],t.newTiles_=!1,t.tmpExtent=en(),t.tmpTileRange_=new ea(0,0,0,0),t.thirdMap_=e.thirdMap_,t.layercount_=e.layercount_,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Fs(t,n),t=r,(n=[{key:"isDrawableTile",value:function(e){var t=this.getLayer(),e=e.getState(),t=t.getUseInterimTilesOnError();return e==c1||e==p1||e==h1&&!t}},{key:"getTile",value:function(e,t,n,r){var i=r.pixelRatio,r=r.viewState.projection,o=this.getLayer(),e=o.getSource().getTile(e,t,n,i,r);return e.getState()==h1&&(o.getUseInterimTilesOnError()?0<o.getPreload()&&(this.newTiles_=!0):e.setState(c1)),e=this.isDrawableTile(e)?e:e.getInterimTile()}},{key:"getData",value:function(e){var t=this.frameState;if(t){var n=this.getLayer(),r=W0(t.pixelToCoordinateTransform,e.slice()),e=n.getExtent();if(!e||Q0(e,r))for(var i=t.pixelRatio,o=t.viewState.projection,e=t.viewState,a=n.getRenderSource(),s=a.getTileGridForProjection(e.projection),u=a.getTilePixelRatio(t.pixelRatio),l=s.getZForResolution(e.resolution);l>=s.getMinZoom();--l){var c,h,p,f,d=s.getTileCoordForCoordAndZ(r,l),y=a.getTile(l,d[1],d[2],i,o);if(!(y instanceof E2))return null;if(y.getState()===c1)return f=s.getOrigin(l),c=Ho(s.getTileSize(l)),h=s.getResolution(l),p=Math.floor(u*((r[0]-f[0])/h-d[1]*c[0])),f=Math.floor(u*((f[1]-r[1])/h-d[2]*c[1])),this.getImageData(y.getImage(),p,f)}}return null}},{key:"loadedTileCallback",value:function(e,t,n){return!!this.isDrawableTile(n)&&js(Ns(r.prototype),"loadedTileCallback",this).call(this,e,t,n)}},{key:"prepareFrame",value:function(e){return!!this.getLayer().getSource()}},{key:"renderFrame",value:function(e,j){var t=e.layerStatesArray[e.layerIndex],n=e.viewState,r=n.projection,i=n.resolution,o=n.center,n=n.rotation,a=e.pixelRatio,s=this.getLayer(),u=s.getSource(),N=u.getRevision(),l=u.getTileGridForProjection(r),c=l.getZForResolution(i,u.zDirection),h=l.getResolution(c),p=e.extent,f=(t.extent&&Eo(t.extent,r)&&(p=hn(p,Eo(t.extent,r))),u.getTilePixelRatio(a)),d=Math.round(e.size[0]*f),y=Math.round(e.size[1]*f),F=(n&&(y=d=Math.round(Math.sqrt(d*d+y*y))),h*d/2/f),U=h*y/2/f,v=[o[0]-F,o[1]-U,o[0]+F,o[1]+U],m=l.getTileRangeForExtentAndZ(p,c),g={},B=(g[c]={},this.createLoadedTileFinder(u,r,g)),z=this.tmpExtent,G=this.tmpTileRange_;this.newTiles_=!1;for(var b=m.minX;b<=m.maxX;++b)for(var x=m.minY;x<=m.maxY;++x){var w=this.getTile(c,b,x,e);if(this.isDrawableTile(w)){var _=C0(this);if(w.getState()==c1&&(S=(g[c][w.tileCoord.toString()]=w).inTransition(_),this.newTiles_||!S&&-1!==this.renderedTiles.indexOf(w)||(this.newTiles_=!0)),1===w.getAlpha(_,e.time))continue}var S=l.getTileCoordChildTileRange(w.tileCoord,G,z),_=!1;(_=S?B(c+1,S):_)||l.forEachTileCoordParentTileRange(w.tileCoord,B,G,z)}for(var H,T=h/i,E=(q0(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/f,1/f,n,-d/2,-y/2),Y0(this.inversePixelTransform,this.pixelTransform),q0(this.tempTransform,d/2,y/2,T,T,0,-d/2,-y/2),this.renderedTiles.length=0,Object.keys(g).map(Number)),k=(E.sort(E0),1!==t.opacity||this.containerReused&&!u.getOpaque(e.viewState.projection)?(H=[],0):E=E.reverse(),[]),O=null,P=E.length-1;0<=P;--P){var V,M=E[P],A=((null===O||M<O)&&(O=M),u.getTilePixelSize(M,a,r)),W=l.getResolution(M)/h,q=A[0]*W*T,Y=A[1]*W*T,R=l.getTileCoordForCoordAndZ(pn(v),M),A=l.getTileCoordExtent(R),C=W0(this.tempTransform,[f*(A[0]-v[0])/h,f*(v[3]-A[3])/h]),X=f*u.getGutterForProjection(r),Z=g[M];for(V in Z){var L=Z[V],I=L.tileCoord,D=R[1]-I[1],K=Math.round(C[0]-(D-1)*q),I=R[2]-I[2],Q=Math.round(C[1]-(I-1)*Y),D=Math.round(C[0]-D*q),I=Math.round(C[1]-I*Y),K=K-D,Q=Q-I,J=c===M,$=J&&1!==L.getAlpha(C0(this),e.time);this.drawTileImage(L,e,D,I,K,Q,X,J,k),H&&!$?this.renderedTiles.unshift(L):this.renderedTiles.push(L),this.updateUsedTiles(e.usedTiles,u,L)}}return this.renderedRevision=N,this.renderedResolution=h,this.extentChanged=!this.renderedExtent_||!rn(this.renderedExtent_,v),this.renderedExtent_=v,this.renderedPixelRatio=a,this.renderedProjection=r,this.manageTilePyramid(e,u,l,a,r,p,c,s.getPreload()),this.scheduleExpireCache(e,u),this.thirdMap_&&(1===this.layercount_?this.thirdMap_._updateMesh&&this.thirdMap_._updateMesh(k,O):this.thirdMap_._coverMesh&&this.thirdMap_._coverMesh(k,O)),this.container}},{key:"drawTileImage",value:function(e,t,n,r,i,o,a,s,u){var l,c,h=this.getTileImage(e);h&&(l=C0(this),c=s?e.getAlpha(l,t.time):1,u.push({image:h,x:n,y:r,w:i,h:o,frameState:t}),1!==c?t.animate=!0:s&&e.endTransition(l))}},{key:"getTileImage",value:function(e){return e.getImage()}},{key:"scheduleExpireCache",value:function(e,t){t.canExpireCache()&&(t=function(e,t,n){var r=C0(e);r in n.usedTiles&&e.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,t),e.postRenderFunctions.push(t))}},{key:"updateUsedTiles",value:function(e,t,n){t=C0(t);t in e||(e[t]={}),e[t][n.getKey()]=!0}},{key:"manageTilePyramid",value:function(e,t,n,r,i,o,a,s,u){for(var l,c,h,p,f,d=C0(t),y=(d in e.wantedTiles||(e.wantedTiles[d]={}),e.wantedTiles[d]),v=e.tileQueue,m=0,g=n.getMinZoom();g<=a;++g)for(c=n.getTileRangeForExtentAndZ(o,g,c),h=n.getResolution(g),p=c.minX;p<=c.maxX;++p)for(f=c.minY;f<=c.maxY;++f)a-g<=s?(++m,(l=t.getTile(g,p,f,r,i)).getState()==u1&&(y[l.getKey()]=!0,v.isKeyQueued(l.getKey())||v.enqueue([l,d,n.getTileCoordCenter(l.tileCoord),h])),void 0!==u&&u(l)):t.useTile(g,p,f,i);t.updateCacheSize(m,i)}}])&&Ls(t.prototype,n),e&&Ls(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Bs(e){return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Bs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Bs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Bs(e)?e:String(e)}(r.key),r)}}function Gs(e,t,n){t=Vs(t);var r=e,t=Hs()?Reflect.construct(t,n||[],Vs(e).constructor):t.apply(e,n);if(t&&("object"===Bs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Hs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Hs=function(){return!!e})()}function Vs(e){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ws(e,t){return(Ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var qs=function(){var e,t=r,n=as;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(this instanceof r)return(t=Gs(this,r,[e])).layercount_=e.layercount,t.thirdMap_=e.thirdMap,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Ws(t,n),t=r,(n=[{key:"createRenderer",value:function(){return new Us(this)}}])&&zs(t.prototype,n),e&&zs(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(),Ys="XY",Xs="XYZ",Zs="XYM",Ks="XYZM";function Qs(e,t,n,r,i,o){for(var a=o||[],s=0,u=t;u<n;u+=r){var l=e[u],c=e[u+1];a[s++]=i[0]*l+i[2]*c+i[4],a[s++]=i[1]*l+i[3]*c+i[5]}return o&&a.length!=s&&(a.length=s),a}function Js(e){return(Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Js(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Js(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Js(e)?e:String(e)}(r.key),r)}}function e4(e,t,n){t=n4(t);var r=e,t=t4()?Reflect.construct(t,n||[],n4(e).constructor):t.apply(e,n);if(t&&("object"===Js(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function t4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t4=function(){return!!e})()}function n4(e){return(n4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r4(e,t){return(r4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var i4=V0(),o4=function(){var e,t=a,n=Tr;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function a(){var e,t,n,r,i,o;if(this instanceof a)return(e=e4(this,a)).extent_=en(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=(o=!(t=function(e,t,n){var r;return(n?((r=this.clone()).applyTransform(n),r):this).getSimplifiedGeometry(t)}),function(){var e=Array.prototype.slice.call(arguments);return o&&this===i&&P0(e,r)||(o=!0,i=this,r=e,n=t.apply(this,arguments)),n}),e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&r4(t,n),t=a,(n=[{key:"simplifyTransformed",value:function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}},{key:"clone",value:function(){return o()}},{key:"closestPointXY",value:function(e,t,n,r){return o()}},{key:"containsXY",value:function(e,t){var n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}},{key:"getClosestPoint",value:function(e,t){t=t||[NaN,NaN];return this.closestPointXY(e[0],e[1],t,1/0),t}},{key:"intersectsCoordinate",value:function(e){return this.containsXY(e[0],e[1])}},{key:"computeExtent",value:function(e){return o()}},{key:"getExtent",value:function(e){var t;return this.extentRevision_!=this.getRevision()&&(t=this.computeExtent(this.extent_),(isNaN(t[0])||isNaN(t[1]))&&nn(t),this.extentRevision_=this.getRevision()),t=this.extent_,(e=e)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}},{key:"rotate",value:function(e,t){o()}},{key:"scale",value:function(e,t,n){o()}},{key:"simplify",value:function(e){return this.getSimplifiedGeometry(e*e)}},{key:"getSimplifiedGeometry",value:function(e){return o()}},{key:"getType",value:function(){return o()}},{key:"applyTransform",value:function(e){o()}},{key:"intersectsExtent",value:function(e){return o()}},{key:"translate",value:function(e,t){o()}},{key:"transform",value:function(e,o){var a=co(e),e=a.getUnits()==S1.TILE_PIXELS?function(e,t,n){var r=a.getExtent(),i=a.getWorldExtent(),r=cn(i)/cn(r);return q0(i4,i[0],i[3],r,-r,0,0,0),Qs(e,0,e.length,n,i4,t),vo(a,o)(e,t,n)}:vo(a,o);return this.applyTransform(e),this}}])&&$s(t.prototype,n),e&&$s(t,e),Object.defineProperty(t,"prototype",{writable:!1}),a}();function a4(e){return(a4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=a4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=a4(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==a4(e)?e:String(e)}(r.key),r)}}function u4(e,t,n){t=c4(t);var r=e,t=l4()?Reflect.construct(t,n||[],c4(e).constructor):t.apply(e,n);if(t&&("object"===a4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function l4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l4=function(){return!!e})()}function c4(e){return(c4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h4(e,t){return(h4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p4(e){var t;return e==Ys?t=2:e==Xs||e==Zs?t=3:e==Ks&&(t=4),t}var f4=function(){var e,t=r,n=o4;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(){var e;if(this instanceof r)return(e=u4(this,r)).layout=Ys,e.stride=2,e.flatCoordinates=null,e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&h4(t,n),t=r,(n=[{key:"computeExtent",value:function(e){return t=this.flatCoordinates,n=0,r=this.flatCoordinates.length,i=this.stride,on(nn(e),t,n,r,i);var t,n,r,i}},{key:"getCoordinates",value:function(){return o()}},{key:"getFirstCoordinate",value:function(){return this.flatCoordinates.slice(0,this.stride)}},{key:"getFlatCoordinates",value:function(){return this.flatCoordinates}},{key:"getLastCoordinate",value:function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}},{key:"getLayout",value:function(){return this.layout}},{key:"getSimplifiedGeometry",value:function(e){var t;return this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance?this:(t=this.getSimplifiedGeometryInternal(e)).getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}},{key:"getSimplifiedGeometryInternal",value:function(e){return this}},{key:"getStride",value:function(){return this.stride}},{key:"setFlatCoordinates",value:function(e,t){this.stride=p4(e),this.layout=e,this.flatCoordinates=t}},{key:"setCoordinates",value:function(e,t){o()}},{key:"setLayout",value:function(e,t,n){var r;if(e)r=p4(e);else{for(var i=0;i<n;++i){if(0===t.length)return this.layout=Ys,void(this.stride=2);t=t[0]}e=function(e){var t;2==e?t=Ys:3==e?t=Xs:4==e&&(t=Ks);return t}(r=t.length)}this.layout=e,this.stride=r}},{key:"applyTransform",value:function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}},{key:"rotate",value:function(e,t){var n=this.getFlatCoordinates();if(n){for(var r=this.getStride(),i=n,o=0,a=n.length,s=r,r=e,e=t,t=n,u=t||[],l=Math.cos(r),c=Math.sin(r),h=e[0],p=e[1],f=0,d=o;d<a;d+=s){var y=i[d]-h,v=i[d+1]-p;u[f++]=h+y*l-v*c,u[f++]=p+y*c+v*l;for(var m=d+2;m<d+s;++m)u[f++]=i[m]}t&&u.length!=f&&(u.length=f),this.changed()}}},{key:"scale",value:function(e,t,n){var r=t;void 0===t&&(r=e);t=(t=n)||un(this.getExtent()),n=this.getFlatCoordinates();if(n){for(var i=this.getStride(),o=n,a=0,s=n.length,u=i,l=e,c=r,i=t,e=n,h=e||[],p=i[0],f=i[1],d=0,y=a;y<s;y+=u){var v=o[y]-p,m=o[y+1]-f;h[d++]=p+l*v,h[d++]=f+c*m;for(var g=y+2;g<y+u;++g)h[d++]=o[g]}e&&h.length!=d&&(h.length=d),this.changed()}}},{key:"translate",value:function(e,t){var n=this.getFlatCoordinates();if(n){for(var r=this.getStride(),i=n,o=0,a=n.length,s=r,u=e,l=t,r=n,c=r||[],h=0,p=o;p<a;p+=s){c[h++]=i[p]+u,c[h++]=i[p+1]+l;for(var f=p+2;f<p+s;++f)c[h++]=i[f]}r&&c.length!=h&&(c.length=h),this.changed()}}}])&&s4(t.prototype,n),e&&s4(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function d4(e,t,n,r,i,o,a){var s,u,l,c=e[t],h=e[t+1],p=e[n]-c,f=e[n+1]-h;if(0==p&&0==f)s=t;else{var d=((i-c)*p+(o-h)*f)/(p*p+f*f);if(1<d)s=n;else{if(0<d){for(var y=0;y<r;++y)a[y]=(u=e[t+y],l=e[n+y],u+d*(l-u));return void(a.length=r)}s=t}}for(var v=0;v<r;++v)a[v]=e[s+v];a.length=r}function y4(e,t,n,r,i){var o=e[t],a=e[t+1];for(t+=r;t<n;t+=r){var s=e[t],u=e[t+1],l=xn(o,a,s,u);i<l&&(i=l),o=s,a=u}return i}function v4(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=y4(e,t,s,r,i),t=s}return i}function m4(e,t,n,r,i,o,a,s,u,l,c){var h,p;if(t!=n)if(0===i){if((p=xn(a,s,e[t],e[t+1]))<l){for(h=0;h<r;++h)u[h]=e[t+h];return u.length=r,p}}else{for(var f=c||[NaN,NaN],d=t+r;d<n;)if(d4(e,d-r,d,r,a,s,f),(p=xn(a,s,f[0],f[1]))<l){for(l=p,h=0;h<r;++h)u[h]=f[h];d+=u.length=r}else d+=r*Math.max((Math.sqrt(p)-Math.sqrt(l))/i|0,1);if(o&&(d4(e,n-r,t,r,a,s,f),(p=xn(a,s,f[0],f[1]))<l)){for(l=p,h=0;h<r;++h)u[h]=f[h];u.length=r}}return l}function g4(e,t,n,r,i,o,a,s,u,l,c){for(var h=c||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];l=m4(e,t,d,r,i,o,a,s,u,l,h),t=d}return l}function b4(e,t,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)e[t++]=a[s];return t}function x4(e,t,n,r,i){for(var o=i||[],a=0,s=0,u=n.length;s<u;++s){var l=b4(e,t,n[s],r);t=o[a++]=l}return o.length=a,o}function w4(e,t,n,r,i,o,a){var s=(n-t)/r;if(s<3)for(;t<n;t+=r)o[a++]=e[t],o[a++]=e[t+1];else{for(var u,l,c,h,p,f,d=new Array(s),y=(d[0]=1,d[s-1]=1,[t,n-r]),v=0;0<y.length;){for(var m=y.pop(),g=y.pop(),b=0,x=e[g],w=e[g+1],_=e[m],S=e[m+1],T=g+r;T<m;T+=r){var E=e[T],k=e[T+1],O=(E=E,k=k,f=p=h=void 0,f=(c=S)-(l=w),0==(p=(O=_)-(u=x))&&0==f||(1<(h=((E-u)*p+(k-l)*f)/(p*p+f*f))?(u=O,l=c):0<h&&(u+=p*h,l+=f*h)),xn(E,k,u,l));b<O&&(v=T,b=O)}i<b&&(d[(v-t)/r]=1,g+r<v&&y.push(g,v),v+r<m)&&y.push(v,m)}for(var P=0;P<s;++P)d[P]&&(o[a++]=e[t+P*r],o[a++]=e[t+P*r+1])}return a}function _4(e,t){return t*Math.round(e/t)}function S4(e,t,n,r,i,o,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];a=function(e,t,n,r,i,o,a){if(t!=n){var s,u=_4(e[t],i),l=_4(e[t+1],i);t+=r,o[a++]=u,o[a++]=l;do{if(s=_4(e[t],i),d=_4(e[t+1],i),(t+=r)==n)return o[a++]=s,o[a++]=d,a}while(s==u&&d==l);for(;t<n;){var c,h,p,f,d,y=_4(e[t],i),v=_4(e[t+1],i);t+=r,y==s&&v==d||(s=((c=s-u)*(f=v-l)==(h=d-l)*(p=y-u)&&(c<0&&p<c||c==p||0<c&&c<p)&&(h<0&&f<h||h==f||0<h&&h<f)||(u=o[a++]=s,l=o[a++]=d),y),d=v)}o[a++]=s,o[a++]=d}return a}(e,t,c,r,i,o,a),s.push(a),t=c}return a}function T4(e,t,n,r,i){for(var o=void 0!==i?i:[],a=0,s=t;s<n;s+=r)o[a++]=e.slice(s,s+r);return o.length=a,o}function E4(e,t,n,r,i){for(var o=void 0!==i?i:[],a=0,s=0,u=n.length;s<u;++s){var l=n[s];o[a++]=T4(e,t,l,r,o[a]),t=l}return o.length=a,o}function k4(e,t,n,r){for(var i=0,o=e[n-r],a=e[n-r+1];t<n;t+=r){var s=e[t],u=e[t+1];i+=a*s-o*u,o=s,a=u}return i/2}function O4(e,t,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=k4(e,t,s,r),t=s}return i}function P4(e){return(P4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=P4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=P4(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==P4(e)?e:String(e)}(r.key),r)}}function A4(e,t,n){t=C4(t);var r=e,t=R4()?Reflect.construct(t,n||[],C4(e).constructor):t.apply(e,n);if(t&&("object"===P4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function R4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(R4=function(){return!!e})()}function C4(e){return(C4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L4(e,t){return(L4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var I4=function(){var e,t=r,n=f4;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e,t){var n;if(this instanceof r)return(n=A4(this,r)).maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?n.setCoordinates(e,t):n.setFlatCoordinates(t,e),n;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&L4(t,n),t=r,(n=[{key:"clone",value:function(){return new r(this.flatCoordinates.slice(),this.layout)}},{key:"closestPointXY",value:function(e,t,n,r){return r<K0(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(y4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),m4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,r))}},{key:"getArea",value:function(){return k4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinates",value:function(){return T4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[];return t.length=w4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new r(t,Ys)}},{key:"getType",value:function(){return ro}},{key:"intersectsExtent",value:function(e){return!1}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=b4(this.flatCoordinates,0,e,this.stride),this.changed()}}])&&M4(t.prototype,n),e&&M4(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function D4(e){return(D4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=D4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=D4(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==D4(e)?e:String(e)}(r.key),r)}}function N4(e,t,n){t=U4(t);var r=e,t=F4()?Reflect.construct(t,n||[],U4(e).constructor):t.apply(e,n);if(t&&("object"===D4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function F4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(F4=function(){return!!e})()}function U4(e){return(U4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B4(e,t){return(B4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var z4=function(){var e,t=r,n=f4;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e,t){var n;if(this instanceof r)return(n=N4(this,r)).setCoordinates(e,t),n;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&B4(t,n),t=r,(n=[{key:"clone",value:function(){var e=new r(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,r){var i=this.flatCoordinates,e=xn(e,t,i[0],i[1]);if(e<r){for(var o=this.stride,a=0;a<o;++a)n[a]=i[a];return n.length=o,e}return r}},{key:"getCoordinates",value:function(){return this.flatCoordinates?this.flatCoordinates.slice():[]}},{key:"computeExtent",value:function(e){return t=this.flatCoordinates,n=t[0],t=t[1],tn(n,t,n,t,e);var t,n}},{key:"getType",value:function(){return no}},{key:"intersectsExtent",value:function(e){return J0(e,this.flatCoordinates[0],this.flatCoordinates[1])}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(e,t,n){for(var r=0,i=n.length;r<i;++r)e[t++]=n[r];return t}(this.flatCoordinates,0,e,this.stride),this.changed()}}])&&j4(t.prototype,n),e&&j4(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function G4(t,n,r,i,e){var o;return!((o=function(e){return!H4(t,n,r,i,e[0],e[1])})(an(e=e))||o(sn(e))||o(fn(e))||o(pn(e))||!1)}function H4(e,t,n,r,i,o){for(var a=0,s=e[n-r],u=e[n-r+1];t<n;t+=r){var l=e[t],c=e[t+1];u<=o?o<c&&0<(l-s)*(o-u)-(i-s)*(c-u)&&a++:c<=o&&(l-s)*(o-u)-(i-s)*(c-u)<0&&a--,s=l,u=c}return 0!==a}function V4(e,t,n,r,i,o){if(0===n.length)return!1;if(!H4(e,t,n[0],r,i,o))return!1;for(var a=1,s=n.length;a<s;++a)if(H4(e,n[a-1],n[a],r,i,o))return!1;return!0}function W4(e,t,n,r,i,o,a){for(var s,u,l,c=i[o+1],h=[],p=0,f=n.length;p<f;++p)for(var d=n[p],y=e[d-r],v=e[d-r+1],m=t;m<d;m+=r)x=e[m],l=e[m+1],(c<=v&&l<=c||v<=c&&c<=l)&&h.push(u=(c-v)/(l-v)*(x-y)+y),y=x,v=l;var g=NaN,b=-1/0;for(h.sort(E0),y=h[0],m=1,s=h.length;m<s;++m){var x=h[m],w=Math.abs(x-y);b<w&&V4(e,t,n,r,u=(y+x)/2,c)&&(g=u,b=w),y=x}return isNaN(g)&&(g=i[o]),a?(a.push(g,c,b),a):[g,c,b]}function q4(e,t,n,r,f){var i,o,a=on(en(),e,t,n,r);if(yn(f,a)){if(o=a,(i=f)[0]<=o[0]&&o[2]<=i[2]&&i[1]<=o[1]&&o[3]<=i[3])return 1;if(a[0]>=f[0]&&a[2]<=f[2])return 1;if(a[1]>=f[1]&&a[3]<=f[3])return 1;var s,u=e,l=t,c=n,h=r,p=function(e,t){return t=t,c=!1,h=$0(n=f,e=e),p=$0(n,t),h===Z0.INTERSECTING||p===Z0.INTERSECTING?c=!0:(r=n[0],i=n[1],o=n[2],n=n[3],a=e[0],e=e[1],s=t[0],e=((t=t[1])-e)/(s-a),(c=(c=(c=p&Z0.ABOVE&&!(h&Z0.ABOVE)?r<=(u=s-(t-n)/e)&&u<=o:c)||!(p&Z0.RIGHT)||h&Z0.RIGHT?c:i<=(l=t-(s-o)*e)&&l<=n)||!(p&Z0.BELOW)||h&Z0.BELOW?c:r<=(u=s-(t-i)/e)&&u<=o)||!(p&Z0.LEFT)||h&Z0.LEFT||(c=i<=(l=t-(s-r)*e)&&l<=n)),c;var n,r,i,o,a,s,u,l,c,h,p};for(l+=h;l<c;l+=h)if(s=p(u.slice(l-h,l),u.slice(l,l+h)))return s}}function Y4(e,t,n,r,i){if(o=e,t=t,a=n[0],!(q4(o,t,a,s=r,u=i)||H4(o,t,a,s,u[0],u[1])||H4(o,t,a,s,u[0],u[3])||H4(o,t,a,s,u[2],u[1]))&&!H4(o,t,a,s,u[2],u[3]))return!1;var o,a,s,u;if(1!==n.length)for(var l=1,c=n.length;l<c;++l)if(G4(e,n[l-1],n[l],r,i)&&!q4(e,n[l-1],n[l],r,i))return!1;return!0}function X4(e,t,n,r){for(var i=0,o=e[n-r],a=e[n-r+1];t<n;t+=r){var s=e[t],u=e[t+1];i+=(s-o)*(u+a),o=s,a=u}return 0===i?void 0:0<i}function Z4(e,t,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var u=n[a],l=X4(e,t,u,r);if(0===a){if(o&&l||!o&&!l)return}else if(o&&!l||!o&&l)return;t=u}return 1}function K4(e,t,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var u=n[a],l=X4(e,t,u,r);if(0===a?o&&l||!o&&!l:o&&!l||!o&&l){y=d=f=p=h=c=void 0;for(var c=e,h=t,p=u,f=r;h<p-f;){for(var d=0;d<f;++d){var y=c[h+d];c[h+d]=c[p-f+d],c[p-f+d]=y}h+=f,p-=f}}t=u}return t}function Q4(e){return(Q4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Q4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Q4(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Q4(e)?e:String(e)}(r.key),r)}}function $4(e,t,n){t=t5(t);var r=e,t=e5()?Reflect.construct(t,n||[],t5(e).constructor):t.apply(e,n);if(t&&("object"===Q4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function e5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e5=function(){return!!e})()}function t5(e){return(t5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n5(e,t){return(n5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var r5=function(){var e,t=i,n=f4;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function i(e,t,n){var r;if(this instanceof i)return(r=$4(this,i)).ends_=[],r.flatInteriorPointRevision_=-1,r.flatInteriorPoint_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,void 0!==t&&n?(r.setFlatCoordinates(t,e),r.ends_=n):r.setCoordinates(e,t),r;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&n5(t,n),t=i,(n=[{key:"appendLinearRing",value:function(e){this.flatCoordinates?O0(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var e=new i(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,r){return r<K0(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(v4(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),g4(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,r))}},{key:"containsXY",value:function(e,t){return V4(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}},{key:"getArea",value:function(){return O4(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}},{key:"getCoordinates",value:function(e){var t;return void 0!==e?K4(t=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):t=this.flatCoordinates,E4(t,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getFlatInteriorPoint",value:function(){var e;return this.flatInteriorPointRevision_!=this.getRevision()&&(e=un(this.getExtent()),this.flatInteriorPoint_=W4(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()),this.flatInteriorPoint_}},{key:"getInteriorPoint",value:function(){return new z4(this.getFlatInteriorPoint(),Zs)}},{key:"getLinearRingCount",value:function(){return this.ends_.length}},{key:"getLinearRing",value:function(e){return e<0||this.ends_.length<=e?null:new I4(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}},{key:"getLinearRings",value:function(){for(var e=this.layout,t=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o],u=new I4(t.slice(i,s),e);r.push(u),i=s}return r}},{key:"getOrientedFlatCoordinates",value:function(){var e;return this.orientedRevision_!=this.getRevision()&&(Z4(e=this.flatCoordinates,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=K4(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()),this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[],n=[];return t.length=S4(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new i(t,Ys,n)}},{key:"getType",value:function(){return io}},{key:"intersectsExtent",value:function(e){return Y4(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);t=x4(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===t.length?0:t[t.length-1],this.changed()}}])&&J4(t.prototype,n),e&&J4(t,e),Object.defineProperty(t,"prototype",{writable:!1}),i}();function i5(e){return(i5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=i5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=i5(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==i5(e)?e:String(e)}(r.key),r)}}n=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");e=e||{},this._size=4e3,this._offset=void 0!==e.offset?e.offset:1,this._visible=void 0===e.visible||e.visible,this._mode=void 0!==e.mode?e.mode:l.AMAP_VECTOR,this._mode!==l.TD_VECTOR&&this._mode!==l.TD_SATELLITE||(this._size=5e3),this._replaceColor=e.replaceColor,this._replaceOpacity=e.replaceOpacity,void 0===this._replaceOpacity&&(this._replaceOpacity=1),this._filterObject={YELLOW:"sepia(60%) hue-rotate(3deg) grayscale(5%) saturate(2)",CELESTE:"grayscale(100%) sepia(50%) hue-rotate(170deg) saturate(2)",GRAY:"grayscale(220%) sepia(2%) hue-rotate(-20deg) saturate(2.5) invert(10%) contrast(1.5)",PEACH:"grayscale(90%) sepia(30%) hue-rotate(-44deg) saturate(4) contrast(1.2)",PINK:"grayscale(10%) sepia(10%) hue-rotate(-80deg)",SAPPHIRE:"grayscale(60%) hue-rotate(20deg) sepia(70%) invert(95%) brightness(3)",NONE:"none",CUSTOM:"custom"},this._filter=e.filter,void 0===this._filter&&(this._filter=x0.NONE),this._filterValue=this._filterObject[this._filter],this._filterCustomization=e.filterCustomization,"custom"===this._filterValue&&(this._filterValue=this._filterCustomization,void 0===this._filterValue)&&(this._filterValue="none"),this._replaceZoomMap=new Map,this._replaceZoomMap.set(""+l.AMAP_SATELLITE,20),this._replaceZoomMap.set(""+l.AMAP_VECTOR,20),this._replaceZoomMap.set(""+l.BAIDU_VECTOR,20),this._replaceZoomMap.set(""+l.BAIDU_SATELLITE,20),this._replaceZoomMap.set(""+l.TD_VECTOR,20),this._replaceZoomMap.set(""+l.TD_SATELLITE,20),this._isOffline=!1,this._mapcenter=null,this._offlineUrl=e.offlineUrl,void 0!==this._offlineUrl&&(this._isOffline=!0),this._imageType=e.imageType,void 0===this._imageType&&(this._imageType="png"),this._fog_near=.5*this._size,this._fog_far=.9*this._size,this._container=null,this._scene=new ve,this._scene.background=new d(13426943),this._scene.fog=new Se(13426943,this._fog_near,this._fog_far),this._mapgroup=new w0,this._scene.add(this._mapgroup),this._raycaster=new v0,this._parent=null,this._height=this._offset,this._OLMap=null,this._plane=new Mt(new w(0,1,0),0),this._isInit=!1,this._checkEvent=this._checkEvent.bind(this),this._viewModeChanged=this._viewModeChanged.bind(this),this._meshArray=[],this._isminRangeZoom=!1,this._replaceCanvas=null,this._fogScale=1.2}var e,n,r;return e=t,(n=[{key:"visible",get:function(){return this._visible},set:function(e){this._visible=e,this._scene.visible=this._visible,this._parent.enableUpdateRender()}},{key:"addTo",value:function(e){this._parent=e,this._parent.getRenderManager().setTileLayScene(this._scene),this._height=this._parent.getFloor(this._parent.getVisibleLevels()[0]).height-this._offset,this._init(),e.enableUpdateRender()}},{key:"remove",value:function(){this.dispose(),this._parent.off("resize",this._checkEvent),this._parent.off("viewChanged",this._checkEvent),this._parent.off("viewModeChanged",this._viewModeChanged),this._parent.off("visibleLevelsLoaded",this._checkEvent),this._parent.off("zoom",this._checkEvent),this._parent=null,this._isInit=!1}},{key:"dispose",value:function(){this._OLMap&&this._OLMap.dispose(),this._OLMap=null,this._deleteMesh(),this._mapgroup.parent&&this._mapgroup.parent.remove(this._mapgroup),this._parent.getRenderManager().setTileLayScene(void 0),this._parent.enableUpdateRender()}},{key:"setFilter",value:function(e,t){this._filter=e,void 0===this._filter&&(this._filter=x0.NONE),this._filterValue=this._filterObject[this._filter],this._filterCustomization=t,"custom"===this._filterValue&&(this._filterValue=this._filterCustomization,void 0===this._filterValue)&&(this._filterValue="none"),this._updateFilter(),this._parent.enableUpdateRender()}},{key:"getFilter",value:function(){return{filter:this._filter,value:this._filterValue}}}])&&o5(e.prototype,n),r&&o5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Object.assign(n.prototype,{_init:function(){this._isInit||(this._container=this._parent.getContainer(),this._OLMap=this._initOLMap(),this._updateMapObject(),this._parent.on("resize",this._checkEvent),this._parent.on("viewChanged",this._checkEvent),this._parent.on("viewModeChanged",this._viewModeChanged),this._parent.on("visibleLevelsLoaded",this._checkEvent),this._parent.on("zoom",this._checkEvent),this._isInit=!0)},_updateReplaceColor:function(){if(0!==this._meshArray.length)if(this._isReplace())for(var e=this._createReplaceCanvas(),t=0;t<this._meshArray.length;t++){var n,r=this._meshArray[t];r.oldTexture||(r.oldTexture=r.material.map.clone(),r.material.map.dispose(),(n=new Et(e)).minFilter=1006,r.material.map=n)}else for(var i=0;i<this._meshArray.length;i++){var o=this._meshArray[i];o.oldTexture&&(o.material.map.dispose(),o.material.map=o.oldTexture.clone(),o.oldTexture=null)}},_updateFilter:function(){for(var e=0;e<this._meshArray.length;e++){var t=this._meshArray[e].imageinfo.image,n=this._meshArray[e].imageinfo.coverimage,r=document.createElement("canvas"),i=(r.width=t.width,r.height=t.height,r.getContext("2d"));i.filter=this._filterValue,i.drawImage(t,0,0,r.width,r.height),n&&i.drawImage(n,0,0,r.width,r.height),this._meshArray[e].material.map=new Et(r)}},_checkEvent:function(e){var t;"viewChanged"===e.type?(t=this._parent.getCenter(),this._mapcenter.x===t.x&&this._mapcenter.y===t.y||this._updateMapObject(e)):"visibleLevelsLoaded"===e.type?this._updateHeight():"zoom"===e.type&&(this._updateMapObject(),this._updateReplaceColor())},_updateZoomRange:function(e){var t=4;this._mode===l.AMAP_SATELLITE||this._mode===l.AMAP_VECTOR||this._mode===l.BAIDU_VECTOR||this._mode===l.BAIDU_SATELLITE?t=5:this._mode!==l.TD_VECTOR&&this._mode!==l.TD_SATELLITE||(t=4),e!==t||this._isminRangeZoom||(e=this._parent.getZoomRange(),this._isminRangeZoom=!0,e[0]=this._parent.getZoom(),this._parent.setZoomRange(e))},_createReplaceCanvas:function(){var e;return null===this._replaceCanvas&&(this._replaceCanvas=document.createElement("canvas"),this._replaceCanvas.width=256,this._replaceCanvas.height=256,(e=this._replaceCanvas.getContext("2d")).fillStyle=this._replaceColor,e.globalAlpha=this._replaceOpacity,e.fillRect(0,0,256,256)),this._replaceCanvas},_isReplace:function(){var e=this._replaceZoomMap.get(""+this._mode),t=this._parent.getZoom();return!!(e&&this._replaceColor&&e<=t)},_coverMesh:function(e,t){if(0!==this._meshArray.length&&!this._isReplace()){var i=this;this._updateZoomRange(t);for(var n,r,o,a=0;a<e.length;a++){var s,u=function(e){for(var t=null,n=0;n<i._meshArray.length;n++){var r=i._meshArray[n].imageinfo;if(e.x===r.x&&e.y===r.y&&e.w===r.w&&e.h===r.h&&!i._meshArray[n].isCovered){t=i._meshArray[n];break}}return t}(e[a]);null!==u&&(s=u.imageinfo.image,n=e[a].image,o=r=void 0,(r=document.createElement("canvas")).width=s.width,r.height=s.height,(o=r.getContext("2d")).filter=i._filterValue,o.drawImage(s,0,0,r.width,r.height),o.drawImage(n,0,0,r.width,r.height),(s=new Et(r)).minFilter=1006,u.material.map.dispose(),u.material.map=s,u.imageinfo.coverimage=e[a].image,u.isCovered=!0)}}},_updateMesh:function(e,t){this._parent&&(this._updateZoomRange(t),this._initMeshs(e),t=this._getScale(),"OrthographicCamera"===this._parent.camera.type?(this._scene.fog.near=1e4*this._fog_near,this._scene.fog.far=1e4*this._fog_far):(e=this._fogScale*this._getScale(!0),this._scene.fog.near=this._fog_near*e,this._scene.fog.far=this._fog_far*e),this._mapgroup.scale.set(t,t,t),this._parent.getRenderManager().render())},_initMeshs:function(e){for(var a=this,t=0;t<this._meshArray.length;t++)this._meshArray[t].visible=!1;var s=this._isReplace();if(0===this._meshArray.length)for(var n=0;n<e.length;n++){var r=S(e[n]);this._mapgroup.add(r),this._meshArray.push(r)}else{for(var i=[],o=[],u=0;u<e.length;u++){var l,c=e[u].image.width,h=e[u].image.height,p=function(e,t){for(var n=null,r=0;r<e.length;r++)if(e[r].src===t){n=r;break}return n}(this._meshArray,e[u].image.src);null!==p&&((l=this._meshArray[p]).scale.set(e[u].w/c,e[u].h/h,1),l.imageinfo=e[u],l.position.x=e[u].x+e[u].w/2-this._size/2,l.position.z=e[u].y+e[u].h/2-this._size/2,l.visible=!0,i.push(l),this._meshArray.splice(p,1),o.push(u))}e=w(o,e);for(var f=o.length=0;f<e.length&&0!==this._meshArray.length;f++){var d,y=e[f].image.width,v=e[f].image.height,m=this._meshArray.splice(0,1)[0],g=new Et(_(e[f].image));g.minFilter=1006,m.material.map.dispose(),s?((d=new Et(this._createReplaceCanvas())).minFilter=1006,m.material.map=d):m.material.map=g,m.scale.set(e[f].w/y,e[f].h/v,1),m.position.x=e[f].x+e[f].w/2-this._size/2,m.position.z=e[f].y+e[f].h/2-this._size/2,m.src=e[f].image.src,m.imageinfo=e[f],m.visible=!0,m.oldTexture=s?g:null,i.push(m),o.push(f)}e=w(o,e);for(var b=0;b<e.length;b++){var x=S(e[b]);this._mapgroup.add(x),i.push(x)}this._deleteMesh(),this._meshArray=i}function w(e,t){for(var n=[],r=0;r<t.length;r++)!function(e,t){for(var n=!0,r=0;r<e.length;r++)if(e[r]===t){n=!1;break}return n}(e,r)||n.push(t[r]);return n}function _(e){var t=document.createElement("canvas"),n=(t.width=e.width,t.height=e.height,t.getContext("2d"));return n.filter=a._filterValue,n.drawImage(e,0,0,t.width,t.height),t}function S(e){var t=e.image.width,n=e.image.height,r=new bt(t,n),i=new Et(_(e.image)),o=null,r=((o=new _t(s?{map:new Et(a._createReplaceCanvas()),depthWrite:!1,transparent:!0}:{map:i,depthWrite:!1,transparent:!0})).polygonOffset=!0,o.polygonOffsetFactor=1,o.polygonOffsetUnits=4,new f0(r,o));return r.material.map.minFilter=1006,r.material.needsUpdate=!0,r.src=e.image.src,r.imageinfo=e,r.scale.set(e.w/t,e.h/n,1),r.position.x=e.x+e.w/2-a._size/2,r.position.z=e.y+e.h/2-a._size/2,r.rotation.x=-Math.PI/2,r.renderOrder=-10,r.oldTexture=s?i:null,r}this._mapgroup.position.y=this._height},_deleteMesh:function(){for(var e=0;e<this._meshArray.length;e++)this._meshArray[e].parent&&(this._meshArray[e].parent.remove(this._meshArray[e]),this._meshArray[e].geometry.dispose(),this._meshArray[e].material.map.dispose(),this._meshArray[e].material.dispose());this._meshArray.length=0},_initOLMap:function(){var e,r=this,t=co("EPSG:3857");if(this._mode===l.AMAP_SATELLITE||this._mode===l.AMAP_VECTOR){var n={url:this._getGEURL(),crossOrigin:"anonymous",maxZoom:18,thirdMap:this};this._mode===l.AMAP_SATELLITE&&(n.maxZoom=18),n=new Ha(n)}else if(this._mode===l.BAIDU_VECTOR||this._mode===l.BAIDU_SATELLITE){for(var i=[],o=0;o<19;o++)i[o]=Math.pow(2,18-o);var a=new ia({origin:[0,0],resolutions:i}),n=new ja({projection:t,crossOrigin:"anonymous",tileGrid:a,tileUrlFunction:function(e){var t,n;return e?(t=e[0],n=e[1],e=-e[2]-1,r._getDBURL(n=n<0?"M"+-n:n,e=e<0?"M"+-e:e,t)):""}})}else this._mode===l.OSM?n=new Ka:(n=new Ha({url:this._getTDURL()[0],crossOrigin:"anonymous",tileSize:[512,512],maxZoom:18}),e=new Ha({url:this._getTDURL()[1],crossOrigin:"anonymous",tileSize:[512,512],maxZoom:18}));a=new a2({size:[this._size,this._size],view:new Go({projection:t}),layers:[new qs({layercount:1,source:n,thirdMap:this}),new qs({layercount:2,source:e,thirdMap:this})]});return a.setTarget(this._container),a},_getGEURL:function(){var e=this._isOffline?this._offlineUrl+"/{z}/{x}/{y}."+this._imageType:this._mode===l.AMAP_SATELLITE?"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=6&x={x}&y={y}&z={z}":"https://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=2&style=7&x={x}&y={y}&z={z}";return e},_getDBURL:function(e,t,n){e=this._mode===l.BAIDU_SATELLITE?"https://gss0.bdstatic.com/5bwHcj7lABFY8t_jkk_Z1zRvfdw6buu/it/u=x="+e+";y="+t+";z="+n+";v=009;type=sate&fm=46&udt=20210415&scaler=2":"https://maponline"+parseInt(4*Math.random())+".bdimg.com/tile/?qt=vtile&x="+e+"&y="+t+"&z="+n+"&styles=pl&scaler=2&udt=20210415&from=jsapi2_0&scaler=2";return e},_getTDURL:function(){var e;return this._isOffline?this._mode===l.TD_SATELLITE?((e=[]).push(this._offlineUrl+"?type=img_w&number={0-7}&x={x}&y={y}&z={z}"),e.push(this._offlineUrl+"?type=cia_w&number={0-7}&x={x}&y={y}&z={z}")):((e=[]).push(this._offlineUrl+"?type=vec_w&number={0-7}&x={x}&y={y}&z={z}"),e.push(this._offlineUrl+"?type=cva_w&number={0-7}&x={x}&y={y}&z={z}")):this._mode===l.TD_SATELLITE?((e=[]).push("http://t{0-7}.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&Layer=img&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=9a8b557e9db74e442bd9544001392255"),e.push("https://t{0-7}.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}&tk=9a8b557e9db74e442bd9544001392255")):((e=[]).push("http://t{0-7}.tianditu.gov.cn/vec_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&Layer=vec&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=9a8b557e9db74e442bd9544001392255"),e.push("https://t{0-7}.tianditu.gov.cn/cva_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cva&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}&tk=9a8b557e9db74e442bd9544001392255")),e},_updateSize:function(){this._renderer.setSize(this._parent.getContainer().clientWidth,this._parent.getContainer().clientHeight)},_viewModeChanged:function(){var e;"OrthographicCamera"===this._parent.camera.type?(this._scene.fog.near=1e4*this._fog_near,this._scene.fog.far=1e4*this._fog_far):(e=this._getScale(!0)*this._fogScale,this._scene.fog.near=this._fog_near*e,this._scene.fog.far=this._fog_far*e)},_updateMapObject:function(e){var t,n,r;this._beforeTarget&&e&&e.target&&e.target.target&&e.target.target.x===this._beforeTarget.x&&e.target.target.z===this._beforeTarget.z||(e&&e.target&&e.target.target&&(this._beforeTarget={x:e.target.target.x,y:e.target.target.y,z:e.target.target.z}),e=new w(0,0,.5),n=this._parent.camera,this._raycaster.setFromCamera(e,n),e=new w,this._raycaster.ray.intersectPlane(this._plane,e),n=this._getScale(),r=e.x+this._parent.x,t=-e.z+this._parent.y,n=this._size/2*n,this._mapgroup.position.x=e.x,this._mapgroup.position.z=e.z,r=(e=[r-n,t-n,r+n,t+n])[0],t=e[1],n=e[2],e=e[3],n=new r5(e=[r,t,r,e,n,e,n,t,r,t],Ys,[e.length]),this._OLMap.getView().fit(n),r=this._parent.getCenter(),this._mapcenter={x:r.x,y:r.y})},_getScale:function(e){var t=this._parent.camera,n=3;return this._mode!==l.BAIDU_VECTOR&&this._mode!==l.BAIDU_SATELLITE||(n=6),e&&(n=2.8),this._raycaster.setFromCamera(new w(0,0,.5),t),this._raycaster.ray.distanceToPlane(this._plane)*Math.tan(b0.FOV*b0.DEG2RAD/2)*2*n/this._size},_updateHeight:function(){this._height=this._parent.getFloor(this._parent.getVisibleLevels()[0]).height-this._offset,this._mapgroup.position.y=this._height}}),t=n;function a5(e){try{t=new URL(e,"http://fakehost.com/")}catch(e){return null}var e=t.pathname.split("/").pop(),t=e.lastIndexOf(".");return-1===t||t===e.length-1?null:e.substring(t+1)}function s5(e){return(s5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=s5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=s5(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==s5(e)?e:String(e)}(r.key),r)}}var l5=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.maxSize=800,this.minSize=600,this.unloadPercent=.05,this.itemSet=new Map,this.itemList=[],this.usedSet=new Set,this.callbacks=new Map,this.unloadPriorityCallback=null;var t=this.itemSet;this.defaultPriorityCallback=function(e){return t.get(e)}}var t,n,r;return t=e,(n=[{key:"isFull",value:function(){return this.itemSet.size>=this.maxSize}},{key:"add",value:function(e,t){var n,r,i,o=this.itemSet;return!o.has(e)&&!this.isFull()&&(n=this.usedSet,r=this.itemList,i=this.callbacks,r.push(e),n.add(e),o.set(e,Date.now()),i.set(e,t),!0)}},{key:"remove",value:function(e){var t,n=this.usedSet,r=this.itemSet,i=this.itemList,o=this.callbacks;return!!r.has(e)&&(o.get(e)(e),t=i.indexOf(e),i.splice(t,1),n.delete(e),r.delete(e),o.delete(e),!0)}},{key:"markUsed",value:function(e){var t=this.itemSet,n=this.usedSet;t.has(e)&&!n.has(e)&&(t.set(e,Date.now()),n.add(e))}},{key:"markAllUnused",value:function(){this.usedSet.clear()}},{key:"unloadUnusedContent",value:function(){var e=this.unloadPercent,t=this.minSize,n=this.itemList,r=this.itemSet,i=this.usedSet,o=this.callbacks,a=n.length-i.size,s=n.length-t,u=this.unloadPriorityCallback||this.defaultPriorityCallback;if(0<s&&0<a){n.sort(function(e,t){var n=i.has(e),r=i.has(t);return n&&r?0:n||r?n?1:-1:u(t)-u(e)});for(var s=Math.min(s,a),t=Math.max(t*e,s*e),s=Math.min(t,a),s=Math.ceil(s),l=n.splice(0,s),c=0,h=l.length;c<h;c++){var p=l[c];o.get(p)(p),r.delete(p),o.delete(p)}}}},{key:"scheduleUnload",value:function(){var e=this,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.scheduled||(this.scheduled=!0,Promise.resolve().then(function(){e.scheduled=!1,e.unloadUnusedContent(),t&&e.markAllUnused()}))}}])&&u5(t.prototype,n),r&&u5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c5(e){return(c5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=c5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=c5(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==c5(e)?e:String(e)}(r.key),r)}}var p5=function(){function t(){var e=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.maxJobs=6,this.items=[],this.callbacks=new Map,this.currJobs=0,this.scheduled=!1,this.autoUpdate=!0,this.priorityCallback=function(){throw new Error("PriorityQueue: PriorityCallback function not defined.")},this.schedulingCallback=function(e){requestAnimationFrame(e)},this._runjobs=function(){e.tryRunJobs(),e.scheduled=!1}}var e,n,r;return e=t,(n=[{key:"sort",value:function(){var e=this.priorityCallback;this.items.sort(e)}},{key:"add",value:function(i,o){var a=this;return new Promise(function(e,t){var n=a.items,r=a.callbacks;n.push(i),r.set(i,function(){return o.apply(void 0,arguments).then(e).catch(t)}),a.autoUpdate&&a.scheduleJobRun()})}},{key:"remove",value:function(e){var t=this.items,n=this.callbacks,r=t.indexOf(e);-1!==r&&(t.splice(r,1),n.delete(e))}},{key:"tryRunJobs",value:function(){for(var e=this,t=(this.sort(),this.items),n=this.callbacks,r=this.maxJobs,i=this.currJobs;i<r&&0<t.length;){i++;var o=t.pop(),a=n.get(o);n.delete(o),a(o).then(function(){e.currJobs--,e.autoUpdate&&e.scheduleJobRun()}).catch(function(){e.currJobs--,e.autoUpdate&&e.scheduleJobRun()})}this.currJobs=i}},{key:"scheduleJobRun",value:function(){this.scheduled||(this.schedulingCallback(this._runjobs),this.scheduled=!0)}}])&&h5(e.prototype,n),r&&h5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),f5=3,d5=4,y5=6378137;function v5(e){return e===f5||e===d5}function m5(e,t){return e.__lastFrameVisited===t&&e.__used}function g5(e,t){e.__lastFrameVisited!==t&&(e.__lastFrameVisited=t,e.__used=!1,e.__inFrustum=!1,e.__isLeaf=!1,e.__visible=!1,e.__active=!1,e.__error=1/0,e.__distanceFromCamera=1/0,e.__childrenWereVisible=!1,e.__allChildrenLoaded=!1)}function b5(e,t,n,r,i){var o=1<arguments.length&&void 0!==t?t:null,a=2<arguments.length&&void 0!==n?n:null,t=3<arguments.length&&void 0!==r?r:null,s=4<arguments.length&&void 0!==i?i:0;if(!o||!o(e,t,s))for(var u=e.children,l=0,c=u.length;l<c;l++)b5(u[l],o,a,e,s+1);a&&a(e,t,s)}function x5(e,t){var n=t.stats,r=t.frameCount,i=t.errorTarget,o=t.maxDepth,a=t.loadSiblings,s=t.lruCache,u=t.stopAtEmptyTiles;if(g5(e,r),!1===t.tileInView(e))return!1;if(e.__used=!0,s.markUsed(e),e.__inFrustum=!0,n.inFrustum++,(u||!e.__contentEmpty)&&!e.__externalTileSet){if(t.calculateError(e),e.__error<=i)return!0;if(0<t.maxDepth&&e.__depth+1>=o)return!0}for(var l=!1,c=e.children,h=0,p=c.length;h<p;h++)var f=x5(c[h],t),l=l||f;if(l&&a)for(var d=0,y=c.length;d<y;d++)!function e(t,n,r){if(g5(t,n),t.__used=!0,r.markUsed(t),t.__contentEmpty)for(var i=t.children,o=0,a=i.length;o<a;o++)e(i[o],n,r)}(c[d],r,s);return!0}function w5(e,t){var n=t.stats,r=t.frameCount;if(m5(e,r)){var i=e.parent,i=i?i.__depthFromRenderedParent:-1,o=(e.__depthFromRenderedParent=i,t.lruCache);if(e.__isLeaf)e.__depthFromRenderedParent++,e.__loadingState===f5?(e.__inFrustum&&(e.__visible=!0,n.visible++),e.__active=!0,n.active++):o.isFull()||e.__contentEmpty&&!e.__externalTileSet||t.requestTileContents(e);else{var i=(t.errorTarget+1)*t.errorThreshold,i=e.__error<=i,a=i||"ADD"===e.refine,s=!e.__contentEmpty,u=s||e.__externalTileSet,l=v5(e.__loadingState)&&u,c=e.__childrenWereVisible,h=e.children,p=e.__allChildrenLoaded;if(a&&s&&e.__depthFromRenderedParent++,a&&!l&&!o.isFull()&&u&&t.requestTileContents(e),(i&&!p&&!c&&l||"ADD"===e.refine&&l)&&(e.__inFrustum&&(e.__visible=!0,n.visible++),e.__active=!0,n.active++),"ADD"!==e.refine&&i&&!p&&l)for(var f=0,d=h.length;f<d;f++){var y=h[f];m5(y,r)&&!o.isFull()&&(y.__depthFromRenderedParent=e.__depthFromRenderedParent+1,function e(t,n,r){if(!t.__contentEmpty||t.__externalTileSet&&!v5(t.__loadingState))r.requestTileContents(t);else for(var i=t.children,o=0,a=i.length;o<a;o++){var s=i[o];s.__depthFromRenderedParent=n,e(s,n,r)}}(y,y.__depthFromRenderedParent,t))}else for(var v=0,m=h.length;v<m;v++){var g=h[v];m5(g,r)&&w5(g,t)}}}}function _5(e){return(_5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S5(e,t,n){return(t=function(e){e=function(e,t){if("object"!=_5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_5(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==_5(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T5(a,e){var s=1<arguments.length&&void 0!==e?e:{};return new Promise(function(t,n){var e=s.method||"GET",r=s.responseType||"json",i=s.xhr||new XMLHttpRequest,o=(i.addEventListener("timeout",function(){n({errorType:"timeout_error",xhr:i})}),i.addEventListener("abort",function(){n({errorType:"abort",xhr:i})}),i.addEventListener("error",function(e){n({errorType:"onerror",xhr:i,error:e})}),{arraybuffer:"arrayBuffer",json:"json"});i.addEventListener("load",function(){var e;200===i.status||0===i.status||201===i.status?(e=S5(S5({},o[r],function(){return i.response}),"ok",!0),t(e)):n({errorType:"loadError",xhr:i})}),"POST"===e?(i.open("POST",a,!0),i.responseType=r,i.setRequestHeader("Accept","application/json"),i.send(JSON.parse(s.data))):(i.open("GET",a,!0),i.responseType=r,i.send())})}function E5(e){return(E5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=E5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=E5(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==E5(e)?e:String(e)}(r.key),r)}}function O5(e,t){return e.__depth!==t.__depth?e.__depth>t.__depth?-1:1:e.__inFrustum!==t.__inFrustum?e.__inFrustum?1:-1:e.__used!==t.__used?e.__used?1:-1:e.__error!==t.__error?e.__error>t.__error?1:-1:e.__distanceFromCamera!==t.__distanceFromCamera?e.__distanceFromCamera>t.__distanceFromCamera?-1:1:0}function P5(e){return 1/(e.__depthFromRenderedParent+1)}var M5=function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.tileSets={},this.rootURL=e,this.fetchOptions={},this.preprocessURL=null;var e=new l5,t=(e.unloadPriorityCallback=P5,new p5),n=(t.maxJobs=4,t.priorityCallback=O5,new p5);n.maxJobs=1,n.priorityCallback=O5,this.lruCache=e,this.downloadQueue=t,this.parseQueue=n,this.stats={parsing:0,downloading:0,failed:0,inFrustum:0,used:0,active:0,visible:0},this.frameCount=0,this.errorTarget=6,this.errorThreshold=1/0,this.loadSiblings=!0,this.displayActiveTiles=!1,this.maxDepth=1/0,this.stopAtEmptyTiles=!0}var e,t,n;return e=r,(t=[{key:"rootTileSet",get:function(){var e=this.tileSets[this.rootURL];return!e||e instanceof Promise?null:e}},{key:"root",get:function(){var e=this.rootTileSet;return e?e.root:null}},{key:"traverse",value:function(e,t){var n=this.tileSets[this.rootURL];n&&n.root&&b5(n.root,e,t)}},{key:"update",value:function(){var e=this.stats,t=this.lruCache,n=this.tileSets,r=n[this.rootURL];this.rootURL in n?r&&r.root&&(n=r.root,e.inFrustum=0,e.used=0,e.active=0,e.visible=0,this.frameCount++,x5(n,this),function e(t,n){var r=n.stats,i=n.frameCount;if(m5(t,i)){r.used++;for(var o=t.children,a=!1,s=0,u=o.length;s<u;s++)var l=o[s],a=a||m5(l,i);if(a){for(var c=!1,h=!0,p=0,f=o.length;p<f;p++){var d=o[p];e(d,n),c=c||d.__wasSetVisible||d.__childrenWereVisible,m5(d,i)&&(d=d.__allChildrenLoaded||!d.__contentEmpty&&v5(d.__loadingState)||d.__externalTileSet&&d.__loadingState===d5,h=h&&d)}t.__childrenWereVisible=c,t.__allChildrenLoaded=h}else t.__isLeaf=!0}}(n,this),w5(n,this),function e(t,n){var r=m5(t,n.frameCount);if(r||t.__usedLastFrame)for(var i=!1,o=!1,a=(r&&(i=t.__active,o=n.displayActiveTiles&&t.__active||t.__visible),t.__contentEmpty||t.__loadingState!==f5||(t.__wasSetActive!==i&&n.setTileActive(t,i),t.__wasSetVisible!==o&&n.setTileVisible(t,o)),t.__wasSetActive=i,t.__wasSetVisible=o,t.__usedLastFrame=r,t.children),s=0,u=a.length;s<u;s++)e(a[s],n)}(n,this),t.scheduleUnload()):this.loadRootTileSet(this.rootURL)}},{key:"parseTile",value:function(e,t,n){return null}},{key:"disposeTile",value:function(e){}},{key:"preprocessNode",value:function(e,t,n){e.content&&(!("uri"in e.content)&&"url"in e.content&&(e.content.uri=e.content.url,delete e.content.url),e.content.uri&&(e.content.uri=new URL(e.content.uri,n+"/").toString()),e.content.boundingVolume)&&!("box"in e.content.boundingVolume||"sphere"in e.content.boundingVolume||"region"in e.content.boundingVolume)&&delete e.content.boundingVolume,e.parent=t,e.children=e.children||[],e.content&&e.content.uri?(n=a5(e.content.uri),n=Boolean(n&&"json"===n.toLowerCase()),e.__externalTileSet=n,e.__contentEmpty=n):(e.__externalTileSet=!1,e.__contentEmpty=!0),e.__distanceFromCamera=1/0,e.__error=1/0,e.__inFrustum=!1,e.__isLeaf=!1,e.__usedLastFrame=!1,e.__used=!1,e.__wasSetVisible=!1,e.__visible=!1,e.__childrenWereVisible=!1,e.__allChildrenLoaded=!1,e.__wasSetActive=!1,e.__active=!1,e.__loadingState=0,e.__loadIndex=0,e.__loadAbort=null,e.__depthFromRenderedParent=-1,null===t?(e.__depth=0,e.refine=e.refine||"REPLACE"):(e.__depth=t.__depth+1,e.refine=e.refine||t.refine)}},{key:"setTileActive",value:function(e,t){}},{key:"setTileVisible",value:function(e,t){}},{key:"calculateError",value:function(e){return 0}},{key:"tileInView",value:function(e){return!0}},{key:"resetFailedTiles",value:function(){var e=this.stats;0!==e.failed&&(this.traverse(function(e){e.__loadingState===d5&&(e.__loadingState=0)}),e.failed=0)}},{key:"fetchTileSet",value:function(r,e){var i=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return T5(r,e).then(function(e){if(e.ok)return e.json();throw new Error('TilesRenderer: Failed to load tileset "'.concat(r,'" with status ').concat(e.status," : ").concat(e.statusText))}).then(function(e){var t=e.asset.version,n=(console.assert("1.0"===t||"0.0"===t,'asset.version is expected to be a string of "1.0" or "0.0"'),r.replace(/\/[^\/]*\/?$/,"")),n=new URL(n,window.location.href).toString();return b5(e.root,function(e,t){return i.preprocessNode(e,t,n)},null,o,o?o.__depth:0),e})}},{key:"loadRootTileSet",value:function(t){var e,n=this.tileSets;return t in n?n[t]instanceof Error?Promise.reject(n[t]):Promise.resolve(n[t]):((e=this.fetchTileSet(this.preprocessURL?this.preprocessURL(t):t,this.fetchOptions).then(function(e){n[t]=e})).catch(function(e){console.error(e),n[t]=e}),n[t]=e)}},{key:"requestTileContents",value:function(t){var r,n,i,o,a,s,u,e,l=this;0===t.__loadingState&&(r=this.stats,n=this.lruCache,i=this.downloadQueue,o=this.parseQueue,a=t.__externalTileSet,n.add(t,function(e){1===e.__loadingState?(e.__loadAbort.abort(),e.__loadAbort=null):a?e.children.length=0:l.disposeTile(e),1===e.__loadingState?r.downloading--:2===e.__loadingState&&r.parsing--,e.__loadingState=0,e.__loadIndex++,o.remove(e),i.remove(e)}),t.__loadIndex++,s=t.__loadIndex,u=new XMLHttpRequest,r.downloading++,t.__loadAbort={abort:u.abort.bind(u)},t.__loadingState=1,e=function(e){t.__loadIndex===s&&("AbortError"!==e.name?(o.remove(t),i.remove(t),2===t.__loadingState?r.parsing--:1===t.__loadingState&&r.downloading--,r.failed++,console.error('TilesRenderer : Failed to load tile at url "'.concat(t.content.uri,'".')),console.error(e),t.__loadingState=d5):n.remove(t))},(a?i.add(t,function(e){var t;return e.__loadIndex!==s?Promise.resolve():(t=l.preprocessURL?l.preprocessURL(e.content.uri):e.content.uri,l.fetchTileSet(t,Object.assign({xhr:u,responseType:"json"},l.fetchOptions),e))}).then(function(e){t.__loadIndex===s&&(r.downloading--,t.__loadAbort=null,t.__loadingState=f5,t.children.push(e.root))}):i.add(t,function(e){return e.__loadIndex!==s?Promise.resolve():T5(l.preprocessURL?l.preprocessURL(e.content.uri):e.content.uri,Object.assign({xhr:u,responseType:"arraybuffer"},l.fetchOptions))}).then(function(e){if(t.__loadIndex===s){if(e.ok)return e.arrayBuffer();throw new Error("Failed to load model with error code ".concat(e.status))}}).then(function(n){if(t.__loadIndex===s)return r.downloading--,r.parsing++,t.__loadAbort=null,t.__loadingState=2,o.add(t,function(e){var t;return e.__loadIndex!==s?Promise.resolve():(t=a5(e.content.uri),l.parseTile(n,e,t))})}).then(function(){t.__loadIndex===s&&(r.parsing--,t.__loadingState=f5,t.__wasSetVisible&&l.setTileVisible(t,!0),t.__wasSetActive)&&l.setTileActive(t,!0)})).catch(e))}},{key:"dispose",value:function(){var t=this.lruCache;this.traverse(function(e){t.remove(e)}),this.stats={parsing:0,downloading:0,failed:0,inFrustum:0,used:0,active:0,visible:0},this.frameCount=0}}])&&k5(e.prototype,t),n&&k5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),r}();function A5(e){return(A5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R5(e,t,n){t=I5(t);var r=e,t=C5()?Reflect.construct(t,n||[],I5(e).constructor):t.apply(e,n);if(t&&("object"===A5(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function C5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C5=function(){return!!e})()}function L5(){return(L5="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I5(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function I5(e){return(I5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D5(e,t){return(D5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=A5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=A5(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==A5(e)?e:String(e)}(r.key),r)}}function F5(e,t,n){t&&N5(e.prototype,t),n&&N5(e,n),Object.defineProperty(e,"prototype",{writable:!1})}var U5=function(){function i(e,t,n,r){j5(this,i),this.buffer=e,this.binOffset=t+n,this.binLength=r;r=null;r=0!==n?(e=new Uint8Array(e,t,n),JSON.parse((t=e,(new TextDecoder).decode(t)))):{},this.header=r}return F5(i,[{key:"getKeys",value:function(){return Object.keys(this.header)}},{key:"getData",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,i=this.header;if(!(e in i))return null;i=i[e];if(i instanceof Object){if(Array.isArray(i))return i;var o,a,s=this.buffer,u=this.binOffset,l=this.binLength,c=i.byteOffset||0,h=i.type||r,n=i.componentType||n;if("type"in i&&r&&i.type!==r)throw new Error("FeatureTable: Specified type does not match expected type.");switch(h){case"SCALAR":o=1;break;case"VEC2":o=2;break;case"VEC3":o=3;break;case"VEC4":o=4;break;default:throw new Error('FeatureTable : Feature type not provided for "'.concat(e,'".'))}var p=u+c,f=t*o;switch(n){case"BYTE":a=new Int8Array(s,p,f);break;case"UNSIGNED_BYTE":a=new Uint8Array(s,p,f);break;case"SHORT":a=new Int16Array(s,p,f);break;case"UNSIGNED_SHORT":a=new Uint16Array(s,p,f);break;case"INT":a=new Int32Array(s,p,f);break;case"UNSIGNED_INT":a=new Uint32Array(s,p,f);break;case"FLOAT":a=new Float32Array(s,p,f);break;case"DOUBLE":a=new Float64Array(s,p,f);break;default:throw new Error('FeatureTable : Feature component type not provided for "'.concat(e,'".'))}if(u+l<p+f*a.BYTES_PER_ELEMENT)throw new Error("FeatureTable: Feature data read outside binary body length.");return a}return i}}]),i}(),B5=function(){var e=o,t=U5;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");function o(e,t,n,r,i){return j5(this,o),(e=R5(this,o,[e,n,r,i])).batchSize=t,e}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D5(e,t),F5(o,[{key:"getData",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return L5(I5(o.prototype),"getData",this).call(this,e,this.batchSize,t,n)}}]),o}();function z5(e){return(z5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=z5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=z5(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==z5(e)?e:String(e)}(r.key),r)}}var H5=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.fetchOptions={},this.workingPath=""}var t,n,r;return t=e,(n=[{key:"load",value:function(t){var n=this;return fetch(t,this.fetchOptions).then(function(e){if(e.ok)return e.arrayBuffer();throw new Error('Failed to load file "'.concat(t,'" with status ').concat(e.status," : ").concat(e.statusText))}).then(function(e){return""===n.workingPath&&(n.workingPath=n.workingPathForURL(t)),n.parse(e)})}},{key:"resolveExternalURL",value:function(e){return/^[^\\/]/.test(e)?this.workingPath+"/"+e:e}},{key:"workingPathForURL",value:function(e){e=e.split(/[\\/]/g);return e.pop(),e.join("/")+"/"}},{key:"parse",value:function(e){throw new Error("LoaderBase: Parse not implemented.")}}])&&G5(t.prototype,n),r&&G5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function V5(e){var t=e instanceof DataView?e:new DataView(e);if("{"===String.fromCharCode(t.getUint8(0)))return null;for(var n="",r=0;r<4;r++)n+=String.fromCharCode(t.getUint8(r));return n}function W5(e){return(W5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=W5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=W5(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==W5(e)?e:String(e)}(r.key),r)}}function Y5(e,t,n){t=Z5(t);var r=e,t=X5()?Reflect.construct(t,n||[],Z5(e).constructor):t.apply(e,n);if(t&&("object"===W5(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function X5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(X5=function(){return!!e})()}function Z5(e){return(Z5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K5(e,t){return(K5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Q5=function(){var e,t=r,n=H5;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(){var e=this,t=r;if(e instanceof t)return Y5(this,r,arguments);throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&K5(t,n),t=r,(n=[{key:"parse",value:function(e){var t=new DataView(e),n=V5(t),n=(console.assert("b3dm"===n),t.getUint32(4,!0)),r=(console.assert(1===n),t.getUint32(8,!0)),i=(console.assert(r===e.byteLength),t.getUint32(12,!0)),o=t.getUint32(16,!0),a=t.getUint32(20,!0),t=t.getUint32(24,!0),s=e.slice(28,28+i+o),s=new U5(s,0,i,o),i=28+i+o,o=e.slice(i,i+a+t),o=new B5(o,s.getData("BATCH_LENGTH"),0,a,t),i=i+a+t;return{version:n,featureTable:s,batchTable:o,glbBytes:new Uint8Array(e,i,r-i)}}}])&&q5(t.prototype,n),e&&q5(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function J5(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.record=new Map,this.itemStart=function(e){this.record.has(e)||this.record.set(e,{}),a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){this.record.delete(e),o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad)&&r.onLoad()},this.itemError=function(e){this.record.delete(e),void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){e=u.indexOf(e);return-1!==e&&u.splice(e,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null},this.isLoaded=function(){return 0===this.record.size}}var $5=new J5;function e6(e,t){s.call(this),this.type="Light",this.color=new d(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}e6.prototype=Object.assign(Object.create(s.prototype),{constructor:e6,isLight:!0,copy:function(e){return s.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}});var t6=new ut,n6=new w;function r6(e,t,n,r,i,o){this.planes=[void 0!==e?e:new Mt,void 0!==t?t:new Mt,void 0!==n?n:new Mt,void 0!==r?r:new Mt,void 0!==i?i:new Mt,void 0!==o?o:new Mt]}function i6(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new j(512,512),this.map=null,this.mapPass=null,this.matrix=new m,this._frustum=new r6,this._frameExtents=new j(1,1),this._viewportCount=1,this._viewports=[new Ue(0,0,1,1)]}function o6(){s.call(this),this.type="Camera",this.matrixWorldInverse=new m,this.projectionMatrix=new m,this.projectionMatrixInverse=new m}function a6(e,t,n,r,i,o){o6.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function s6(){i6.call(this,new a6(-5,5,5,-5,.5,500))}function u6(e,t){e6.call(this,e,t),this.type="DirectionalLight",this.position.copy(s.DefaultUp),this.updateMatrix(),this.target=new s,this.shadow=new s6}Object.assign(r6.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromProjectionMatrix:function(e){var t=this.planes,e=e.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],y=e[13],v=e[14],e=e[15];return t[0].setComponents(o-n,l-a,f-c,e-d).normalize(),t[1].setComponents(o+n,l+a,f+c,e+d).normalize(),t[2].setComponents(o+r,l+s,f+h,e+y).normalize(),t[3].setComponents(o-r,l-s,f-h,e-y).normalize(),t[4].setComponents(o-i,l-u,f-p,e-v).normalize(),t[5].setComponents(o+i,l+u,f+p,e+v).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),t6.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t6)},intersectsSprite:function(e){return t6.center.set(0,0,0),t6.radius=.7071067811865476,t6.applyMatrix4(e.matrixWorld),this.intersectsSphere(t6)},intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++)if(t[i].distanceToPoint(n)<r)return!1;return!0},intersectsBox:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(n6.x=(0<r.normal.x?e.max:e.min).x,n6.y=(0<r.normal.y?e.max:e.min).y,n6.z=(0<r.normal.z?e.max:e.min).z,r.distanceToPoint(n6)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}),Object.assign(i6.prototype,{_projScreenMatrix:new m,_lightPositionWorld:new w,_lookTarget:new w,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)}}),o6.prototype=Object.assign(Object.create(s.prototype),{constructor:o6,isCamera:!0,copy:function(e,t){return s.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new w),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){s.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){s.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),a6.prototype=Object.assign(Object.create(o6.prototype),{constructor:a6,isOrthographicCamera:!0,copy:function(e,t){return o6.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e,t=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,o=r-t,r=r+t,t=i+n,i=i-n;null!==this.view&&this.view.enabled&&(n=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom,r=(o+=n*this.view.offsetX)+n*this.view.width,i=(t-=e*this.view.offsetY)-e*this.view.height),this.projectionMatrix.makeOrthographic(o,r,t,i,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}),s6.prototype=Object.assign(Object.create(i6.prototype),{constructor:s6,isDirectionalLightShadow:!0,updateMatrices:function(e){i6.prototype.updateMatrices.call(this,e)}}),u6.prototype=Object.assign(Object.create(e6.prototype),{constructor:u6,isDirectionalLight:!0,copy:function(e){return e6.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});var l6=e(1),c6={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},h6=e(2);function p6(e){F6.call(this,e)}function f6(e){F6.call(this,e)}function d6(e){p.call(this),this.type="ShadowMaterial",this.color=new d(0),this.transparent=!0,this.setValues(e)}function y6(e){p.call(this),this.type="SpriteMaterial",this.color=new d(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}function v6(e){var t,n={};for(t in e)for(var r in n[t]={},e[t]){var i=e[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?n[t][r]=i.clone():Array.isArray(i)?n[t][r]=i.slice():n[t][r]=i}return n}p6.prototype=Object.assign(Object.create(F6.prototype),{constructor:p6,load:function(n,r,e,t){void 0!==this.path&&(n=this.path+n),n=this.manager.resolveURL(n);var i,o,a,s=this,u=c6.get(n);return void 0!==u?(s.manager.itemStart(n),setTimeout(function(){r&&r(u),s.manager.itemEnd(n)},0),u):l6.a.environment===h6.a.WX?(n.includes(wx.env.USER_DATA_PATH)?(o=wx.getFileSystemManager()).readFile({filePath:n,encoding:"base64",success:function(e){var e="data:image/png;base64,".concat(e.data),t=l6.a.textureHelper.createImage({url:e,onload:function(){c6.add(n,t),r&&r(t),s.manager.itemEnd(n),o.unlink({filePath:n,fail:function(e){},success:function(){}})}})},fail:function(e){console.error(e),t&&t(e),s.manager.itemError(n),s.manager.itemEnd(n)}}):i=l6.a.textureHelper.createImage({url:n,onload:function(){c6.add(n,i),r&&r(i),s.manager.itemEnd(n)},onerror:function(e){console.error(e),t&&t(e),s.manager.itemError(n),s.manager.itemEnd(n)}}),i):((a=l6.a.document.createElementNS("http://www.w3.org/1999/xhtml","img")).addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==n.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(n),a.src=n,a);function l(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1),c6.add(n,this),r&&r(this),s.manager.itemEnd(n)}function c(e){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1),t&&t(e),s.manager.itemError(n),s.manager.itemEnd(n)}}}),f6.prototype=Object.assign(Object.create(F6.prototype),{constructor:f6,load:function(t,n,e,r){var i=new Tt,o=new p6(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(e){i.image=e;e=0<t.search(/\.jpe?g($|\?)/i)||0===t.search(/^data\:image\/jpeg/);i.format=e?1022:1023,i.needsUpdate=!0,void 0!==n&&n(i)},e,r),i}}),((d6.prototype=Object.create(p.prototype)).constructor=d6).prototype.isShadowMaterial=!0,d6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.color.copy(e.color),this},((y6.prototype=Object.create(p.prototype)).constructor=y6).prototype.isSpriteMaterial=!0,y6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var m6="\nvoid main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",g6="\nvoid main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}\n";function b6(e){p.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=m6,this.fragmentShader=g6,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function x6(e){b6.call(this,e),this.type="RawShaderMaterial"}function w6(e){p.call(this),this.type="PointsMaterial",this.color=new d(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}function _6(e){p.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new d(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new d(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function S6(e){_6.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new j(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}function T6(e){p.call(this),this.type="MeshPhongMaterial",this.color=new d(16777215),this.specular=new d(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new d(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xe,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function E6(e){p.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new d(16777215),this.specular=new d(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new d(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function k6(e){p.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function O6(e){p.call(this),this.type="MeshLambertMaterial",this.color=new d(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new d(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xe,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function P6(e){p.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ze,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function M6(e){p.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new w,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}function A6(e){p.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new d(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new j(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function R6(e){p.call(this),this.type="LineBasicMaterial",this.color=new d(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}function C6(e){R6.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function L6(e){F6.call(this,e),this.textures={}}((b6.prototype=Object.create(p.prototype)).constructor=b6).prototype.isShaderMaterial=!0,b6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=v6(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},((x6.prototype=Object.create(b6.prototype)).constructor=x6).prototype.isRawShaderMaterial=!0,((w6.prototype=Object.create(p.prototype)).constructor=w6).prototype.isPointsMaterial=!0,w6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},((_6.prototype=Object.create(p.prototype)).constructor=_6).prototype.isMeshStandardMaterial=!0,_6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},((S6.prototype=Object.create(_6.prototype)).constructor=S6).prototype.isMeshPhysicalMaterial=!0,S6.prototype.copy=function(e){return _6.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new d).copy(e.sheen):this.sheen=null,this.transparency=e.transparency,this},((T6.prototype=Object.create(p.prototype)).constructor=T6).prototype.isMeshPhongMaterial=!0,T6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((E6.prototype=Object.create(p.prototype)).constructor=E6).prototype.isMeshToonMaterial=!0,E6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((k6.prototype=Object.create(p.prototype)).constructor=k6).prototype.isMeshNormalMaterial=!0,k6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((O6.prototype=Object.create(p.prototype)).constructor=O6).prototype.isMeshLambertMaterial=!0,O6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((P6.prototype=Object.create(p.prototype)).constructor=P6).prototype.isMeshDepthMaterial=!0,P6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},((M6.prototype=Object.create(p.prototype)).constructor=M6).prototype.isMeshDistanceMaterial=!0,M6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},((A6.prototype=Object.create(p.prototype)).constructor=A6).prototype.isMeshMatcapMaterial=!0,A6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((R6.prototype=Object.create(p.prototype)).constructor=R6).prototype.isLineBasicMaterial=!0,R6.prototype.copy=function(e){return p.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},((C6.prototype=Object.create(R6.prototype)).constructor=C6).prototype.isLineDashedMaterial=!0,C6.prototype.copy=function(e){return R6.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this},L6.prototype=Object.assign(Object.create(F6.prototype),{constructor:L6,load:function(e,t,n,r){var i=this,o=new B6(i.manager);o.setPath(i.path),o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r,i=new u[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=(new d).setHex(e.sheen)),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(i.morphNormals=e.morphNormals),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.vertexTangents&&(i.vertexTangents=e.vertexTangents),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?i.vertexColors=0<e.vertexColors:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var o in e.uniforms){var a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=n(a.value);break;case"c":i.uniforms[o].value=(new d).setHex(a.value);break;case"v2":i.uniforms[o].value=(new j).fromArray(a.value);break;case"v3":i.uniforms[o].value=(new w).fromArray(a.value);break;case"v4":i.uniforms[o].value=(new Ue).fromArray(a.value);break;case"m3":i.uniforms[o].value=(new ne).fromArray(a.value);case"m4":i.uniforms[o].value=(new m).fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var s in e.extensions)i.extensions[s]=e.extensions[s];return void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale&&(r=e.normalScale,!1===Array.isArray(r)&&(r=[r,r]),i.normalScale=(new j).fromArray(r)),void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new j).fromArray(e.clearcoatNormalScale)),i},setTextures:function(e){return this.textures=e,this}});var I6,D6,j6,N6;function F6(e){this.manager=void 0!==e?e:$5,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(F6.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}}),Object.assign(F6.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:(I6={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},D6=new d,j6=new f6,N6=new L6,function(e,a,s){var u={};function t(e,t,n,r,i){var e=a+e,o=(new J5).getHandler(e),o=(null!==o?o:(j6.setCrossOrigin(s),j6)).load(e),e=(void 0!==t&&(o.repeat.fromArray(t),1!==t[0]&&(o.wrapS=1e3),1!==t[1])&&(o.wrapT=1e3),void 0!==n&&o.offset.fromArray(n),void 0!==r&&("repeat"===r[0]&&(o.wrapS=1e3),"mirror"===r[0]&&(o.wrapS=1002),"repeat"===r[1]&&(o.wrapT=1e3),"mirror"===r[1])&&(o.wrapT=1002),void 0!==i&&(o.anisotropy=i),x.generateUUID());return u[e]=o,e}var n,r={uuid:x.generateUUID(),type:"MeshLambertMaterial"};for(n in e){var i=e[n];switch(n){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":r.name=i;break;case"blending":r.blending=I6[i];break;case"colorAmbient":case"mapAmbient":break;case"colorDiffuse":r.color=D6.fromArray(i).getHex();break;case"colorSpecular":r.specular=D6.fromArray(i).getHex();break;case"colorEmissive":r.emissive=D6.fromArray(i).getHex();break;case"specularCoef":r.shininess=i;break;case"shading":"basic"===i.toLowerCase()&&(r.type="MeshBasicMaterial"),"phong"===i.toLowerCase()&&(r.type="MeshPhongMaterial"),"standard"===i.toLowerCase()&&(r.type="MeshStandardMaterial");break;case"mapDiffuse":r.map=t(i,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":r.emissiveMap=t(i,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":r.lightMap=t(i,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":r.aoMap=t(i,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":r.bumpMap=t(i,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":r.bumpScale=i;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":r.normalMap=t(i,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":r.normalScale=i;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":r.specularMap=t(i,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":r.metalnessMap=t(i,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":r.roughnessMap=t(i,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":r.alphaMap=t(i,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":r.side=1;break;case"doubleSided":r.side=2;break;case"transparency":r.opacity=i;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":r[n]=i;break;case"vertexColors":!0===i&&(r.vertexColors=2),"face"===i&&(r.vertexColors=1)}}return"MeshBasicMaterial"===r.type&&delete r.emissive,"MeshPhongMaterial"!==r.type&&delete r.specular,r.opacity<1&&(r.transparent=!0),N6.setTextures(u),N6.parse(r)})});var U6={};function B6(e){F6.call(this,e)}B6.prototype=Object.assign(Object.create(F6.prototype),{constructor:B6,load:function(a,e,t,n){void 0===a&&(a=""),void 0!==this.path&&(a=this.path+a),a=this.manager.resolveURL(a);var s=this,r=c6.get(a);if(void 0!==r)return setTimeout(function(){e&&e(r)},0),r;if(void 0===U6[a]){var i=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(i){var o=i[1],u=!!i[2],l=i[3],l=decodeURIComponent(l);u&&(l=atob(l));try{var c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);f="blob"===c?new Blob([h.buffer],{type:o}):h.buffer;break;case"document":var f=(new DOMParser).parseFromString(l,o);break;case"json":f=JSON.parse(l);break;default:f=l}setTimeout(function(){e&&e(f),s.manager.itemEnd(a)},0)}catch(e){setTimeout(function(){n&&n(e),s.manager.itemError(a),s.manager.itemEnd(a)},0)}}else{U6[a]=[],U6[a].push({onLoad:e,onProgress:t,onError:n});var d,y=new l6.a.XMLHttpRequest;for(d in y.open("GET",a,!0),y.addEventListener("load",function(e){var t=this.response,n=U6[a];if(delete U6[a],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),c6.add(a,t);for(var r=0,i=n.length;r<i;r++)(o=n[r]).onLoad&&o.onLoad(t)}else{for(var o,r=0,i=n.length;r<i;r++)(o=n[r]).onError&&o.onError(e);s.manager.itemError(a)}s.manager.itemEnd(a)},!1),y.addEventListener("progress",function(e){for(var t=U6[a],n=0,r=t.length;n<r;n++){var i=t[n];i.onProgress&&i.onProgress(e)}},!1),y.addEventListener("error",function(e){var t=U6[a];delete U6[a];for(var n=0,r=t.length;n<r;n++){var i=t[n];i.onError&&i.onError(e)}s.manager.itemError(a),s.manager.itemEnd(a)},!1),y.addEventListener("abort",function(e){var t=U6[a];delete U6[a];for(var n=0,r=t.length;n<r;n++){var i=t[n];i.onError&&i.onError(e)}s.manager.itemError(a),s.manager.itemEnd(a)},!1),void 0!==this.responseType&&(y.responseType=this.responseType),void 0!==this.withCredentials&&(y.withCredentials=this.withCredentials),y.overrideMimeType&&y.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)y.setRequestHeader(d,this.requestHeader[d]);y.send(null)}return s.manager.itemStart(a),y}U6[a].push({onLoad:e,onProgress:t,onError:n})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this},dispose:function(){U6={}}});var z6=function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}},G6=function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)};function H6(e,t,n,r){o6.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function V6(){i6.call(this,new H6(90,1,.5,500)),this._frameExtents=new j(4,2),this._viewportCount=6,this._viewports=[new Ue(2,1,1,1),new Ue(0,1,1,1),new Ue(3,1,1,1),new Ue(1,1,1,1),new Ue(3,0,1,1),new Ue(1,0,1,1)],this._cubeDirections=[new w(1,0,0),new w(-1,0,0),new w(0,0,1),new w(0,0,-1),new w(0,1,0),new w(0,-1,0)],this._cubeUps=[new w(0,1,0),new w(0,1,0),new w(0,1,0),new w(0,1,0),new w(0,0,1),new w(0,0,-1)]}function W6(e,t,n,r){e6.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new V6}function q6(){i6.call(this,new H6(50,1,.5,500))}function Y6(e,t,n,r,i,o){e6.call(this,e,t),this.type="SpotLight",this.position.copy(s.DefaultUp),this.updateMatrix(),this.target=new s,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new q6}function X6(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Z6(e){F6.call(this,e)}function K6(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}H6.prototype=Object.assign(Object.create(o6.prototype),{constructor:H6,isPerspectiveCamera:!0,copy:function(e,t){return o6.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){e=.5*this.getFilmHeight()/e;this.fov=2*x.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*x.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*x.RAD2DEG*Math.atan(Math.tan(.5*x.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e,t=this.near,n=t*Math.tan(.5*x.DEG2RAD*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i,a=this.view,s=(null!==this.view&&this.view.enabled&&(s=a.fullWidth,e=a.fullHeight,o+=a.offsetX*i/s,n-=a.offsetY*r/e,i*=a.width/s,r*=a.height/e),this.filmOffset);0!==s&&(o+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}),V6.prototype=Object.assign(Object.create(i6.prototype),{constructor:V6,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var n=this.camera,r=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),o.copy(n.position),o.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}}),W6.prototype=Object.assign(Object.create(e6.prototype),{constructor:W6,isPointLight:!0,copy:function(e){return e6.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),q6.prototype=Object.assign(Object.create(i6.prototype),{constructor:q6,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*x.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),i6.prototype.updateMatrices.call(this,e)}}),Y6.prototype=Object.assign(Object.create(e6.prototype),{constructor:Y6,isSpotLight:!0,copy:function(e){return e6.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Object.assign(X6.prototype,{evaluate:function(e){var t,n=this.parameterPositions,r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{n:{r:if(!(e<i)){for(var a=r+2;;){if(void 0===i){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.afterEnd_(r-1,e,o)}if(r===a)break;if(o=i,e<(i=n[++r]))break t}t=n.length;break n}if(o<=e)break e;var s=n[1];e<s&&(r=2,o=s);for(a=r-2;;){if(void 0===o)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===a)break;if(i=o,(o=n[--r-1])<=e)break t}t=r,r=0}for(;r<t;){var u=r+t>>>1;e<n[u]?t=u:r=1+u}if(i=n[r],void 0===(o=n[r-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return r=n.length,this._cachedIndex=r,this.afterEnd_(r-1,o,e)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(X6.prototype,{beforeStart_:X6.prototype.copySampleValue_,afterEnd_:X6.prototype.copySampleValue_}),Z6.prototype=Object.assign(Object.create(F6.prototype),{constructor:Z6,load:function(e,i,t,n){var o=null,r=new p6(this.manager);return r.setCrossOrigin(this.crossOrigin),r.setPath(this.path),r.load(e,function(e){var t=e.width,n=e.height,r=(512<(t=x.isPowerOfTwo(t)?t:Math.pow(2,Math.floor(Math.log(t)/Math.LN2)))&&(t=512),512<(n=x.isPowerOfTwo(n)?n:Math.pow(2,Math.floor(Math.log(n)/Math.LN2)))&&(n=512),document.createElement("canvas"));r.width=t,r.height=n,r.getContext("2d").drawImage(e,0,0,r.width,r.height),o=new Et(r),void 0!==i&&i(o)},t,n),o}}),Object.defineProperty(K6.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(K6.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return this.array.set(e,t=void 0===t?0:t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}});var Q6=new w;function J6(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function $6(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),f0.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new m,this.bindMatrixInverse=new m}Object.defineProperties(J6.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(J6.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,n=this.data.count;t<n;t++)Q6.x=this.getX(t),Q6.y=this.getY(t),Q6.z=this.getZ(t),Q6.applyMatrix4(e),this.setXYZ(t,Q6.x,Q6.y,Q6.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),$6.prototype=Object.assign(Object.create(f0.prototype),{constructor:$6,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Ue,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!=1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){f0.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var e3=new w,t3=new w,n3=new m,r3=new Nt,i3=new ut;function o3(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),s.call(this),this.type="Line",this.geometry=void 0!==e?e:new gt,this.material=void 0!==t?t:new R6}o3.prototype=Object.assign(Object.create(s.prototype),{constructor:o3,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)e3.fromBufferAttribute(t,r-1),t3.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=e3.distanceTo(t3);e.setAttribute("lineDistance",new S(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;(n=e.lineDistances)[0]=0;for(r=1,i=o.length;r<i;r++)n[r]=n[r-1],n[r]+=o[r-1].distanceTo(o[r])}return this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),i3.copy(n.boundingSphere),i3.applyMatrix4(r),i3.radius+=i,!1!==e.ray.intersectsSphere(i3)){n3.getInverse(r),r3.copy(e.ray).applyMatrix4(n3);var r=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=r*r,a=new w,s=new w,u=new w,l=new w,c=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){var i=n.index,h=n.attributes.position.array;if(null!==i)for(var p=i.array,f=0,d=p.length-1;f<d;f+=c){var y=p[f],v=p[f+1];a.fromArray(h,3*y),s.fromArray(h,3*v),o<r3.distanceSqToSegment(a,s,l,u)||(l.applyMatrix4(this.matrixWorld),(m=e.ray.origin.distanceTo(l))<e.near)||m>e.far||t.push({distance:m,point:u.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this})}else for(f=0,d=h.length/3-1;f<d;f+=c)a.fromArray(h,3*f),s.fromArray(h,3*f+3),o<r3.distanceSqToSegment(a,s,l,u)||(l.applyMatrix4(this.matrixWorld),(m=e.ray.origin.distanceTo(l))<e.near)||m>e.far||t.push({distance:m,point:u.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this})}else if(n.isGeometry)for(var m,g=n.vertices,b=g.length,f=0;f<b-1;f+=c)o<r3.distanceSqToSegment(g[f],g[f+1],l,u)||(l.applyMatrix4(this.matrixWorld),(m=e.ray.origin.distanceTo(l))<e.near)||m>e.far||t.push({distance:m,point:u.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this})}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var a3=new w,s3=new w;function u3(e,t){o3.call(this,e,t),this.type="LineSegments"}function l3(e,t){o3.call(this,e,t),this.type="LineLoop"}u3.prototype=Object.assign(Object.create(o3.prototype),{constructor:u3,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)a3.fromBufferAttribute(t,r),s3.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+a3.distanceTo(s3);e.setAttribute("lineDistance",new S(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var o=e.vertices,n=e.lineDistances,r=0,i=o.length;r<i;r+=2)a3.copy(o[r]),s3.copy(o[r+1]),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+a3.distanceTo(s3);return this}}),l3.prototype=Object.assign(Object.create(o3.prototype),{constructor:l3,isLineLoop:!0});var c3=new m,h3=new Nt,p3=new ut,f3=new w;function d3(e,t){s.call(this),this.type="Points",this.geometry=void 0!==e?e:new gt,this.material=void 0!==t?t:new w6,this.updateMorphTargets()}function y3(e,t,n,r,i,o,a){var s=h3.distanceSqToPoint(e);s<n&&(n=new w,h3.closestPointToPoint(e,n),n.applyMatrix4(r),(e=i.ray.origin.distanceTo(n))<i.near||e>i.far||o.push({distance:e,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:a}))}function v3(e,t,n,r){X6.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function m3(e,t,n,r){X6.call(this,e,t,n,r)}function g3(e,t,n,r){X6.call(this,e,t,n,r)}d3.prototype=Object.assign(Object.create(s.prototype),{constructor:d3,isPoints:!0,raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),p3.copy(n.boundingSphere),p3.applyMatrix4(r),p3.radius+=i,!1!==e.ray.intersectsSphere(p3)){c3.getInverse(r),h3.copy(e.ray).applyMatrix4(c3);var i=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=i*i;if(n.isBufferGeometry){var i=n.index,a=n.attributes.position.array;if(null!==i)for(var s=i.array,u=0,l=s.length;u<l;u++){var c=s[u];f3.fromArray(a,3*c),y3(f3,c,o,r,e,t,this)}else for(var u=0,h=a.length/3;u<h;u++)f3.fromArray(a,3*u),y3(f3,u,o,r,e,t,this)}else for(var p=n.vertices,u=0,h=p.length;u<h;u++)y3(p[u],u,o,r,e,t,this)}},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(0<o.length){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{i=r.morphTargets;void 0!==i&&0<i.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),v3.prototype=Object.assign(Object.create(X6.prototype),{constructor:v3,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=e,a=2*t-n;break;case 2402:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=e,s=2*n-t;break;case 2402:s=n+r[o=1]-r[0];break;default:o=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=o*l},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,l=this._offsetPrev,c=this._offsetNext,e=this._weightPrev,h=this._weightNext,n=(n-t)/(r-t),r=n*n,t=r*n,p=-e*t+2*e*r-e*n,f=(1+e)*t+(-1.5-2*e)*r+(-.5+e)*n+1,d=(-1-h)*t+(1.5+h)*r+.5*n,y=h*t-h*r,v=0;v!==a;++v)i[v]=p*o[l+v]+f*o[u+v]+d*o[s+v]+y*o[c+v];return i}}),m3.prototype=Object.assign(Object.create(X6.prototype),{constructor:m3,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,l=(n-t)/(r-t),c=1-l,h=0;h!==a;++h)i[h]=o[u+h]*c+o[s+h]*l;return i}}),g3.prototype=Object.assign(Object.create(X6.prototype),{constructor:g3,interpolate_:function(e){return this.copySampleValue_(e-1)}});var b3={arraySlice:function(e,t,n){return b3.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(n){for(var e=n.length,t=new Array(e),r=0;r!==e;++r)t[r]=r;return t.sort(function(e,t){return n[e]-n[t]}),t},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))for(;void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),void 0!==(o=e[i++]););else if(void 0!==a.toArray)for(;void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),void 0!==(o=e[i++]););else for(;void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),void 0!==(o=e[i++]););}},subclip:function(e,t,n,r,i){i=i||30;for(var o=e.clone(),a=(o.name=t,[]),s=0;s<o.tracks.length;++s){for(var u=o.tracks[s],l=u.getValueSize(),c=[],h=[],p=0;p<u.times.length;++p){var f=u.times[p]*i;if(!(f<n||r<=f)){c.push(u.times[p]);for(var d=0;d<l;++d)h.push(u.values[p*l+d])}}0!==c.length&&(u.times=b3.convertArray(c,u.times.constructor),u.values=b3.convertArray(h,u.values.constructor),a.push(u))}o.tracks=a;for(var y=1/0,s=0;s<o.tracks.length;++s)y>o.tracks[s].times[0]&&(y=o.tracks[s].times[0]);for(s=0;s<o.tracks.length;++s)o.tracks[s].shift(-1*y);return o.resetDuration(),o}};function x3(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=b3.convertArray(t,this.TimeBufferType),this.values=b3.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function w3(e,t,n,r){x3.call(this,e,t,n,r)}function _3(e,t,n,r){X6.call(this,e,t,n,r)}function S3(e,t,n,r){x3.call(this,e,t,n,r)}function T3(e,t,n,r){x3.call(this,e,t,n,r)}function E3(e,t,n){x3.call(this,e,t,n)}function k3(e,t,n,r){x3.call(this,e,t,n,r)}function O3(e,t,n,r){x3.call(this,e,t,n,r)}function P3(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=x.generateUUID(),this.duration<0&&this.resetDuration()}function M3(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t,n,r=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return w3;case"vector":case"vector2":case"vector3":case"vector4":return T3;case"color":return k3;case"quaternion":return S3;case"bool":case"boolean":return E3;case"string":return O3}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);return void 0===e.times&&(b3.flattenJSON(e.keys,t=[],n=[],"value"),e.times=t,e.values=n),void 0!==r.parse?r.parse(e):new r(e.name,e.times,e.values,e.interpolation)}function A3(){s.call(this),this.type="Bone"}Object.assign(x3.prototype,{constructor:x3,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new g3(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new m3(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new v3(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",n)}else this.createInterpolant=t;return this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n,r=this.times,i=r.length,o=0,a=i-1;o!==i&&r[o]<e;)++o;for(;-1!==a&&r[a]>t;)--a;return++a,0===o&&a===i||(a<=o&&(o=(a=Math.max(a,1))-1),n=this.getValueSize(),this.times=b3.arraySlice(r,o,a),this.values=b3.arraySlice(this.values,o*n,a*n)),this},validate:function(){for(var e=!0,t=this.getValueSize(),n=(t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1),this.times),r=this.values,i=n.length,o=(0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1),null),a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&s<o){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&b3.isTypedArray(r))for(var a=0,u=r.length;a!==u;++a){var l=r[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e},optimize:function(){for(var e=b3.arraySlice(this.times),t=b3.arraySlice(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,o=e.length-1,a=1;a<o;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var l=a*n,c=l-n,h=l+n,p=0;p!==n;++p){var f=t[l+p];if(f!==t[c+p]||f!==t[h+p]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];for(var d=a*n,y=i*n,p=0;p!==n;++p)t[y+p]=t[d+p]}++i}}if(0<o){e[i]=e[o];for(d=o*n,y=i*n,p=0;p!==n;++p)t[y+p]=t[d+p];++i}return i!==e.length?(this.times=b3.arraySlice(e,0,i),this.values=b3.arraySlice(t,0,i*n)):(this.times=e,this.values=t),this},clone:function(){var e=b3.arraySlice(this.times,0),t=b3.arraySlice(this.values,0),e=new this.constructor(this.name,e,t);return e.createInterpolant=this.createInterpolant,e}}),w3.prototype=Object.assign(Object.create(x3.prototype),{constructor:w3,ValueTypeName:"number"}),_3.prototype=Object.assign(Object.create(X6.prototype),{constructor:_3,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=(n-t)/(r-t),l=s+a;s!==l;s+=4)z.slerpFlat(i,0,o,s-a,o,s,u);return i}}),S3.prototype=Object.assign(Object.create(x3.prototype),{constructor:S3,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new _3(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),T3.prototype=Object.assign(Object.create(x3.prototype),{constructor:T3,ValueTypeName:"vector"}),E3.prototype=Object.assign(Object.create(x3.prototype),{constructor:E3,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),k3.prototype=Object.assign(Object.create(x3.prototype),{constructor:k3,ValueTypeName:"color"}),O3.prototype=Object.assign(Object.create(x3.prototype),{constructor:O3,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Object.assign(P3,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(M3(n[i]).scale(r));return new P3(e.name,e.duration,t)},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=((l=[]).push((a+i-1)%i,a,(a+1)%i),s.push(0,1,0),b3.getKeyframeOrder(l)),l=b3.sortedArray(l,1,u),s=b3.sortedArray(s,1,u);r||0!==l[0]||(l.push(i),s.push(s[0])),o.push(new w3(".morphTargetInfluences["+t[a].name+"]",l,s).scale(1/n))}return new P3(e,-1,o)},findByName:function(e,t){var n=e;Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations);for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);u&&1<u.length&&((u=r[l=u[1]])||(r[l]=u=[]),u.push(s))}var l,c=[];for(l in r)c.push(P3.CreateFromMorphTargetSequence(l,r[l],t,n));return c},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){var o;0!==n.length&&(b3.flattenJSON(n,n=[],o=[],r),0!==n.length)&&i.push(new e(t,n,o))},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c,h={},p=0;p<l.length;p++)if(l[p].morphTargets)for(var f=0;f<l[p].morphTargets.length;f++)h[l[p].morphTargets[f]]=-1;for(c in h){for(var d=[],y=[],f=0;f!==l[p].morphTargets.length;++f){var v=l[p];d.push(v.time),y.push(v.morphTarget===c?1:0)}r.push(new w3(".morphTargetInfluence["+c+"]",d,y))}o=h.length*(a||1)}else{var m=".bones["+t[u].name+"]";n(T3,m+".position",l,"pos",r),n(S3,m+".quaternion",l,"rot",r),n(T3,m+".scale",l,"scl",r)}}return 0===r.length?null:new P3(i,o,r)}}),Object.assign(P3.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t)var r=this.tracks[t],e=Math.max(e,r.times[r.times.length-1]);return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new P3(this.name,this.duration,e)}}),A3.prototype=Object.assign(Object.create(s.prototype),{constructor:A3,isBone:!0});var n="\\[\\]\\.:\\/",R3=new RegExp("["+n+"]","g"),C3="[^"+n+"]",n="[^"+n.replace("\\.","")+"]",L3=/((?:WC+[\/:])*)/.source.replace("WC",C3),n=/(WCOD+)?/.source.replace("WCOD",n),I3=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",C3),C3=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",C3),D3=new RegExp("^"+L3+n+I3+C3+"$"),j3=["material","materials","bones"];function N3(e,t,n){n=n||F3.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function F3(e,t,n){this.path=t,this.parsedPath=n||F3.parseTrackName(t),this.node=F3.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(N3.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,n=this._bindings[n];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(F3,{Composite:N3,create:function(e,t,n){return new(e&&e.isAnimationObjectGroup?F3.Composite:F3)(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(R3,"")},parseTrackName:function(e){var t=D3.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n,t={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=t.nodeName&&t.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r&&(n=t.nodeName.substring(r+1),-1!==j3.indexOf(n))&&(t.nodeName=t.nodeName.substring(0,r),t.objectName=n),null===t.propertyName||0===t.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return t},findNode:function(e,i){if(!i||""===i||"."===i||-1===i||i===e.name||i===e.uuid)return e;if(e.skeleton){var t=e.skeleton.getBoneByName(i);if(void 0!==t)return t}if(e.children){t=function e(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.name===i||r.uuid===i)return r;r=e(r.children);if(r)return r}return null}(e.children);if(t)return t}return null}}),Object.assign(F3.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=F3.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);for(var e=e.skeleton.bones,a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0===s)t=t.nodeName,console.error("THREE.PropertyBinding: Trying to update property for track: "+t+"."+r+" but it wasn't found.",e);else{var t=this.Versioning.None,u=(void 0!==(this.targetObject=e).needsUpdate?t=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(t=this.Versioning.MatrixWorldNeedsUpdate),this.BindingType.Direct);if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][t]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(F3.prototype,{_getValue_unbound:F3.prototype.getValue,_setValue_unbound:F3.prototype.setValue});var f,U3,B3,z3,G3,H3,V3,W3,q3,Y3,X3,Z3,K3,Q3,J3,$3,eu,tu,nu,ru,iu,ou,au=new m,su=new m;function uu(e,t){if(this.bones=(e=e||[]).slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new m)}}function lu(e){return(lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cu(e){F6.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function hu(){var n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}function pu(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=f.MSFT_TEXTURE_DDS,this.ddsLoader=e}function fu(e){this.name=f.KHR_LIGHTS_PUNCTUAL;e=e.extensions&&e.extensions[f.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=e.lights||[]}function du(){this.name=f.KHR_MATERIALS_UNLIT}function yu(){this.name=f.KHR_MATERIALS_CLEARCOAT}function vu(e){this.name=f.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,B3);if(this.header={magic:z6(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==U3)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var n=new DataView(e,B3),r=0;r<n.byteLength;){var i,o=n.getUint32(r,!0),a=(r+=4,n.getUint32(r,!0));r+=4,a===z3.JSON?(i=new Uint8Array(e,B3+r,o),this.content=z6(i)):a===z3.BIN&&(this.body=e.slice(i=B3+r,i+o)),r+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function mu(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=f.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function gu(){this.name=f.KHR_TEXTURE_TRANSFORM}function bu(e){_6.call(this),this.isGLTFSpecularGlossinessMaterial=!0;["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n");var n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),a={specular:{value:(new d).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(e){for(var t in a)e.uniforms[t]=a[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",n),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",r),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",i),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(e){a.specular.value=e}},specularMap:{get:function(){return a.specularMap.value},set:function(e){a.specularMap.value=e}},glossiness:{get:function(){return a.glossiness.value},set:function(e){a.glossiness.value=e}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(e){(a.glossinessMap.value=e)?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function xu(){return{name:f.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return bu},extendParams:function(e,t,n){var r,t=t.extensions[this.name],i=(e.color=new d(1,1,1),e.opacity=1,[]);return Array.isArray(t.diffuseFactor)&&(r=t.diffuseFactor,e.color.fromArray(r),e.opacity=r[3]),void 0!==t.diffuseTexture&&i.push(n.assignTexture(e,"map",t.diffuseTexture)),e.emissive=new d(0,0,0),e.glossiness=void 0!==t.glossinessFactor?t.glossinessFactor:1,e.specular=new d(1,1,1),Array.isArray(t.specularFactor)&&e.specular.fromArray(t.specularFactor),void 0!==t.specularGlossinessTexture&&(r=t.specularGlossinessTexture,i.push(n.assignTexture(e,"glossinessMap",r)),i.push(n.assignTexture(e,"specularMap",r))),Promise.all(i)},createMaterial:function(e){var t=new bu(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=Ke,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function wu(){this.name=f.KHR_MESH_QUANTIZATION}function _u(e,t,n,r){X6.call(this,e,t,n,r)}function Su(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function Tu(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Eu(e,t){void 0!==t.extras&&("object"===lu(t.extras)?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function ku(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function Ou(e,t,n){this.json=e||{},this.extensions=t||{},this.options=n||{},this.cache=new hu,this.primitiveCache={},this.textureLoader=new Z6(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new B6(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function Pu(h,p,f){var e,t=p.attributes,n=[];for(e in t){var r=$3[e]||e.toLowerCase();r in h.attributes||n.push(function(e,t){return f.getDependency("accessor",e).then(function(e){h.setAttribute(t,e)})}(t[e],r))}void 0===p.indices||h.index||(i=f.getDependency("accessor",p.indices).then(function(e){h.setIndex(e)}),n.push(i)),Eu(h,p);var i=h,o=p,a=f,s=o.attributes,u=new Ne;if(void 0!==s.POSITION){var l=(b=a.json.accessors[s.POSITION]).min,c=b.max;if(void 0===l||void 0===c)console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");else{u.set(new w(l[0],l[1],l[2]),new w(c[0],c[1],c[2]));var d=o.targets;if(void 0!==d){for(var y=new w,v=new w,m=0,g=d.length;m<g;m++){var b,x=d[m];void 0!==x.POSITION&&(l=(b=a.json.accessors[x.POSITION]).min,c=b.max,void 0!==l&&void 0!==c?(v.setX(Math.max(Math.abs(l[0]),Math.abs(c[0]))),v.setY(Math.max(Math.abs(l[1]),Math.abs(c[1]))),v.setZ(Math.max(Math.abs(l[2]),Math.abs(c[2]))),y.max(v)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION."))}u.expandByVector(y)}i.boundingBox=u;s=new ut;u.getCenter(s.center),s.radius=u.min.distanceTo(u.max)/2,i.boundingSphere=s}}return Promise.all(n).then(function(){if(void 0===p.targets)return h;for(var n=h,e=p.targets,t=f,r=!1,i=!1,o=0,a=e.length;o<a&&(void 0!==(c=e[o]).POSITION&&(r=!0),void 0!==c.NORMAL&&(i=!0),!r||!i);o++);if(!r&&!i)return Promise.resolve(n);for(var s=[],u=[],o=0,a=e.length;o<a;o++){var l,c=e[o];r&&(l=void 0!==c.POSITION?t.getDependency("accessor",c.POSITION):n.attributes.position,s.push(l)),i&&(l=void 0!==c.NORMAL?t.getDependency("accessor",c.NORMAL):n.attributes.normal,u.push(l))}return Promise.all([Promise.all(s),Promise.all(u)]).then(function(e){var t=e[0],e=e[1];return r&&(n.morphAttributes.position=t),i&&(n.morphAttributes.normal=e),n.morphTargetsRelative=!0,n})})}function Mu(e,t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<i.count;o++)r.push(o);e.setIndex(r),n=e.getIndex()}var a=n.count-2,s=[];if(2===t)for(o=1;o<=a;o++)s.push(n.getX(0)),s.push(n.getX(o)),s.push(n.getX(o+1));else for(o=0;o<a;o++)o%2==0?(s.push(n.getX(o)),s.push(n.getX(o+1)),s.push(n.getX(o+2))):(s.push(n.getX(o+2)),s.push(n.getX(o+1)),s.push(n.getX(o)));s.length/3!=a&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");t=e.clone();return t.setIndex(s),t}Object.assign(uu.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new m;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var e,t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:su;au.multiplyMatrices(a,t[i]),au.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new uu(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),cu.prototype=Object.assign(Object.create(F6.prototype),{constructor:cu,load:function(n,r,e,t){function i(e){t?t(e):console.error(e),o.manager.itemError(n),o.manager.itemEnd(n)}var o=this,a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:G6(n),s=(o.manager.itemStart(n),new B6(o.manager));return s.setPath(this.path),s.setResponseType("arraybuffer"),"use-credentials"===o.crossOrigin&&s.setWithCredentials(!0),s.load(n,function(t){try{o.parse(t,a,function(e){r(e,t),o.manager.itemEnd(n)},i)}catch(e){i(e)}},e,i)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,n,r){var i,o={};if("string"==typeof e)i=e;else if(z6(new Uint8Array(e,0,4))===U3){try{o[f.KHR_BINARY_GLTF]=new vu(e)}catch(e){return void(r&&r(e))}i=o[f.KHR_BINARY_GLTF].content}else i=z6(new Uint8Array(e));var a=JSON.parse(i);if(void 0===a.asset||a.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(a.extensionsUsed)for(var s=0;s<a.extensionsUsed.length;++s){var u=a.extensionsUsed[s],l=a.extensionsRequired||[];switch(u){case f.KHR_LIGHTS_PUNCTUAL:o[u]=new fu(a);break;case f.KHR_MATERIALS_CLEARCOAT:o[u]=new yu;break;case f.KHR_MATERIALS_UNLIT:o[u]=new du;break;case f.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[u]=new xu;break;case f.KHR_DRACO_MESH_COMPRESSION:o[u]=new mu(a,this.dracoLoader);break;case f.MSFT_TEXTURE_DDS:o[u]=new pu(this.ddsLoader);break;case f.KHR_TEXTURE_TRANSFORM:o[u]=new gu;break;case f.KHR_MESH_QUANTIZATION:o[u]=new wu;break;default:0<=l.indexOf(u)&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}new Ou(a,o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(n,r)}}}),f={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"},fu.prototype.loadLight=function(e){var t,n=this.lightDefs[e],r=new d(16777215),i=(void 0!==n.color&&r.fromArray(n.color),void 0!==n.range?n.range:0);switch(n.type){case"directional":(t=new u6(r)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new W6(r)).distance=i;break;case"spot":(t=new Y6(r)).distance=i,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,t.angle=n.spot.outerConeAngle,t.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==n.intensity&&(t.intensity=n.intensity),t.name=n.name||"light_"+e,Promise.resolve(t)},du.prototype.getMaterialType=function(){return _t},du.prototype.extendParams=function(e,t,n){var r,i=[],t=(e.color=new d(1,1,1),e.opacity=1,t.pbrMetallicRoughness);return t&&(Array.isArray(t.baseColorFactor)&&(r=t.baseColorFactor,e.color.fromArray(r),e.opacity=r[3]),void 0!==t.baseColorTexture)&&i.push(n.assignTexture(e,"map",t.baseColorTexture)),Promise.all(i)},yu.prototype.getMaterialType=function(){return S6},yu.prototype.extendParams=function(e,t,n){var r=[],t=t.extensions[this.name];return void 0!==t.clearcoatFactor&&(e.clearcoat=t.clearcoatFactor),void 0!==t.clearcoatTexture&&r.push(n.assignTexture(e,"clearcoatMap",t.clearcoatTexture)),void 0!==t.clearcoatRoughnessFactor&&(e.clearcoatRoughness=t.clearcoatRoughnessFactor),void 0!==t.clearcoatRoughnessTexture&&r.push(n.assignTexture(e,"clearcoatRoughnessMap",t.clearcoatRoughnessTexture)),void 0!==t.clearcoatNormalTexture&&(r.push(n.assignTexture(e,"clearcoatNormalMap",t.clearcoatNormalTexture)),void 0!==t.clearcoatNormalTexture.scale)&&(n=t.clearcoatNormalTexture.scale,e.clearcoatNormalScale=new j(n,n)),Promise.all(r)},U3="glTF",B3=12,z3={JSON:1313821514,BIN:5130562},mu.prototype.decodePrimitive=function(e,t){var n,r=this.json,i=this.dracoLoader,o=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,s={},u={},l={};for(n in a){var c=$3[n]||n.toLowerCase();s[c]=a[n]}for(n in e.attributes){var h,p,c=$3[n]||n.toLowerCase();void 0!==a[n]&&(h=r.accessors[e.attributes[n]],p=Z3[h.componentType],l[c]=p,u[c]=!0===h.normalized)}return t.getDependency("bufferView",o).then(function(e){return new Promise(function(r){i.decodeDracoFile(e,function(e){for(var t in e.attributes){var n=e.attributes[t],t=u[t];void 0!==t&&(n.normalized=t)}r(e)},s,l)})})},gu.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},((bu.prototype=Object.create(_6.prototype)).constructor=bu).prototype.copy=function(e){return _6.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},((_u.prototype=Object.create(X6.prototype)).constructor=_u).prototype.beforeStart_=_u.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,o=0;o!==r;o++)t[o]=n[i+o];return t},_u.prototype.afterEnd_=_u.prototype.copySampleValue_,_u.prototype.interpolate_=function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,u=3*a,l=r-t,r=(n-t)/l,n=r*r,t=n*r,c=e*u,h=c-u,p=-2*t+3*n,f=t-n,d=1-p,y=f-n+r,v=0;v!==a;v++){var m=o[h+v+a],g=o[h+v+s]*l,b=o[c+v+a],x=o[c+v]*l;i[v]=d*m+y*g+p*b+f*x}return i},G3=0,H3=1,V3=2,W3=3,q3=4,Y3=5,X3=6,Z3={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},K3={9728:1003,9729:1006,9984:1004,9985:1007,9986:1005,9987:1008},Q3={33071:1001,33648:1002,10497:1e3},J3={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},$3={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},eu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},tu={CUBICSPLINE:void 0,LINEAR:2301,STEP:2300},nu="OPAQUE",ru="MASK",iu="BLEND",ou={"image/png":1023,"image/jpeg":1022},Ou.prototype.parse=function(t,e){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then(function(e){e={scene:e[0][r.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:r.asset,parser:n,userData:{}};Tu(i,e,r),Eu(e,r),t(e)}).catch(e)},Ou.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r={},i={},o=0,a=t.length;o<a;o++)for(var s=t[o].joints,u=0,l=s.length;u<l;u++)e[s[u]].isBone=!0;for(var c=0,h=e.length;c<h;c++){var p=e[c];void 0!==p.mesh&&(void 0===r[p.mesh]&&(r[p.mesh]=i[p.mesh]=0),r[p.mesh]++,void 0!==p.skin)&&(n[p.mesh].isSkinnedMesh=!0)}this.json.meshReferences=r,this.json.meshUses=i},Ou.prototype.getDependency=function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this.loadMesh(t);break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this.loadBufferView(t);break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this.loadMaterial(t);break;case"texture":r=this.loadTexture(t);break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;case"light":r=this.extensions[f.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r},Ou.prototype.getDependencies=function(n){var r,e,t=this.cache.get(n);return t||(e=(r=this).json[n+("mesh"===n?"es":"s")]||[],t=Promise.all(e.map(function(e,t){return r.getDependency(n,t)})),this.cache.add(n,t)),t},Ou.prototype.loadBuffer=function(e){var n,r=this.json.buffers[e],i=this.fileLoader;if(r.type&&"arraybuffer"!==r.type)throw new Error("THREE.GLTFLoader: "+r.type+" buffer type is not supported.");return void 0===r.uri&&0===e?Promise.resolve(this.extensions[f.KHR_BINARY_GLTF].body):(n=this.options,new Promise(function(e,t){i.load(Su(r.uri,n.path),e,void 0,function(){t(new Error('THREE.GLTFLoader: Failed to load buffer "'+r.uri+'".'))})}))},Ou.prototype.loadBufferView=function(e){var r=this.json.bufferViews[e];return this.getDependency("buffer",r.buffer).then(function(e){var t=r.byteLength||0,n=r.byteOffset||0;return e.slice(n,n+t)})},Ou.prototype.loadAccessor=function(e){var m=this,g=this.json,b=this.json.accessors[e];return void 0===b.bufferView&&void 0===b.sparse?Promise.resolve(null):(e=[],void 0!==b.bufferView?e.push(this.getDependency("bufferView",b.bufferView)):e.push(null),void 0!==b.sparse&&(e.push(this.getDependency("bufferView",b.sparse.indices.bufferView)),e.push(this.getDependency("bufferView",b.sparse.values.bufferView))),Promise.all(e).then(function(e){var t=e[0],n=J3[b.type],r=Z3[b.componentType],i=r.BYTES_PER_ELEMENT,o=b.byteOffset||0,a=void 0!==b.bufferView?g.bufferViews[b.bufferView].byteStride:void 0,s=!0===b.normalized,u=a&&a!==i*n?(l=Math.floor(o/a),c="InterleavedBuffer:"+b.bufferView+":"+b.componentType+":"+l+":"+b.count,(h=m.cache.get(c))||(h=new K6(new r(t,l*a,b.count*a/i),a/i),m.cache.add(c,h)),new J6(h,n,o%a/i,s)):new _(null===t?new r(b.count*n):new r(t,o,b.count*n),n,s);if(void 0!==b.sparse){var l=Z3[b.sparse.indices.componentType],c=b.sparse.indices.byteOffset||0,h=b.sparse.values.byteOffset||0,p=new l(e[1],c,b.sparse.count*J3.SCALAR),f=new r(e[2],h,b.sparse.count*n);null!==t&&(u=new _(u.array.slice(),u.itemSize,u.normalized));for(var d=0,y=p.length;d<y;d++){var v=p[d];if(u.setX(v,f[d*n]),2<=n&&u.setY(v,f[d*n+1]),3<=n&&u.setZ(v,f[d*n+2]),4<=n&&u.setW(v,f[d*n+3]),5<=n)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return u}))},Ou.prototype.loadTexture=function(e){var t=this,n=this.json,i=this.options,o=this.textureLoader,r=self.URL||self.webkitURL,a=n.textures[e],s=a.extensions||{},u=s[f.MSFT_TEXTURE_DDS]?n.images[s[f.MSFT_TEXTURE_DDS].source]:n.images[a.source],l=u.uri,c=!1;return void 0!==u.bufferView&&(l=t.getDependency("bufferView",u.bufferView).then(function(e){c=!0;e=new Blob([e],{type:u.mimeType});return l=r.createObjectURL(e)})),Promise.resolve(l).then(function(n){var r=(r=i.manager.getHandler(n))||(s[f.MSFT_TEXTURE_DDS]?t.extensions[f.MSFT_TEXTURE_DDS].ddsLoader:o);return new Promise(function(e,t){r.load(Su(n,i.path),e,void 0,t)})}).then(function(e){!0===c&&r.revokeObjectURL(l),e.flipY=!1,a.name&&(e.name=a.name),u.mimeType in ou&&(e.format=ou[u.mimeType]);var t=(n.samplers||{})[a.sampler]||{};return e.magFilter=K3[t.magFilter]||1006,e.minFilter=K3[t.minFilter]||1008,e.wrapS=Q3[t.wrapS]||1e3,e.wrapT=Q3[t.wrapT]||1e3,e})},Ou.prototype.assignTexture=function(n,r,i){var o=this;return this.getDependency("texture",i.index).then(function(e){if(!e.isCompressedTexture)switch(r){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":e.format=1022}var t;void 0===i.texCoord||0==i.texCoord||"aoMap"===r&&1==i.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+r+" not yet supported."),o.extensions[f.KHR_TEXTURE_TRANSFORM]&&(t=void 0!==i.extensions?i.extensions[f.KHR_TEXTURE_TRANSFORM]:void 0)&&(e=o.extensions[f.KHR_TEXTURE_TRANSFORM].extendTexture(e,t)),n[r]=e})},Ou.prototype.assignFinalMaterial=function(e){var t,n,r=e.geometry,i=e.material,o=void 0!==r.attributes.tangent,a=void 0!==r.attributes.color,s=void 0===r.attributes.normal,u=!0===e.isSkinnedMesh,l=0<Object.keys(r.morphAttributes).length,c=l&&void 0!==r.morphAttributes.normal;e.isPoints?(t="PointsMaterial:"+i.uuid,(n=this.cache.get(t))||(n=new w6,p.prototype.copy.call(n,i),n.color.copy(i.color),n.map=i.map,n.sizeAttenuation=!1,this.cache.add(t,n)),i=n):e.isLine&&(t="LineBasicMaterial:"+i.uuid,(n=this.cache.get(t))||(n=new R6,p.prototype.copy.call(n,i),n.color.copy(i.color),this.cache.add(t,n)),i=n),(o||a||s||u||l)&&(t="ClonedMaterial:"+i.uuid+":",i.isGLTFSpecularGlossinessMaterial&&(t+="specular-glossiness:"),u&&(t+="skinning:"),o&&(t+="vertex-tangents:"),a&&(t+="vertex-colors:"),s&&(t+="flat-shading:"),l&&(t+="morph-targets:"),c&&(t+="morph-normals:"),(n=this.cache.get(t))||(n=i.clone(),u&&(n.skinning=!0),o&&(n.vertexTangents=!0),a&&(n.vertexColors=!0),s&&(n.flatShading=!0),l&&(n.morphTargets=!0),c&&(n.morphNormals=!0),this.cache.add(t,n)),i=n),i.aoMap&&void 0===r.attributes.uv2&&void 0!==r.attributes.uv&&r.setAttribute("uv2",new _(r.attributes.uv.array,2)),i.normalScale&&!o&&(i.normalScale.y=-i.normalScale.y),i.clearcoatNormalScale&&!o&&(i.clearcoatNormalScale.y=-i.clearcoatNormalScale.y),e.material=i},Ou.prototype.loadMaterial=function(e){var t,n,r=this.json,i=this.extensions,o=r.materials[e],a={},r=o.extensions||{},e=[],s=(r[f.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]?(n=i[f.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS],t=n.getMaterialType(),e.push(n.extendParams(a,o,this))):r[f.KHR_MATERIALS_UNLIT]?(n=i[f.KHR_MATERIALS_UNLIT],t=n.getMaterialType(),e.push(n.extendParams(a,o,this))):(t=_6,n=o.pbrMetallicRoughness||{},a.color=new d(1,1,1),a.opacity=1,Array.isArray(n.baseColorFactor)&&(s=n.baseColorFactor,a.color.fromArray(s),a.opacity=s[3]),void 0!==n.baseColorTexture&&e.push(this.assignTexture(a,"map",n.baseColorTexture)),a.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,a.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(e.push(this.assignTexture(a,"metalnessMap",n.metallicRoughnessTexture)),e.push(this.assignTexture(a,"roughnessMap",n.metallicRoughnessTexture)))),!0===o.doubleSided&&(a.side=Ge),o.alphaMode||nu);return s===iu?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,s===ru&&(a.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==_t&&(e.push(this.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new j(1,1),void 0!==o.normalTexture.scale)&&a.normalScale.set(o.normalTexture.scale,o.normalTexture.scale),void 0!==o.occlusionTexture&&t!==_t&&(e.push(this.assignTexture(a,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength)&&(a.aoMapIntensity=o.occlusionTexture.strength),void 0!==o.emissiveFactor&&t!==_t&&(a.emissive=(new d).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==_t&&e.push(this.assignTexture(a,"emissiveMap",o.emissiveTexture)),r[f.KHR_MATERIALS_CLEARCOAT]&&(n=i[f.KHR_MATERIALS_CLEARCOAT],t=n.getMaterialType(),e.push(n.extendParams(a,{extensions:r},this))),Promise.all(e).then(function(){var e=t===bu?i[f.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new t(a);return o.name&&(e.name=o.name),e.map&&(e.map.encoding=3001),e.emissiveMap&&(e.emissiveMap.encoding=3001),Eu(e,o),o.extensions&&Tu(i,e,o),e})},Ou.prototype.loadGeometries=function(e){var n=this,r=this.extensions,t=this.primitiveCache;for(var i=[],o=0,a=e.length;o<a;o++){var s=e[o],u=(l=void 0,l=(l=(u=s).extensions&&u.extensions[f.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+ku(l.attributes):u.indices+":"+ku(u.attributes)+":"+u.mode),l=t[u];l?i.push(l.promise):(l=s.extensions&&s.extensions[f.KHR_DRACO_MESH_COMPRESSION]?function(t){return r[f.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,n).then(function(e){return Pu(e,t,n)})}(s):Pu(new gt,s,n),t[u]={primitive:s,promise:l},i.push(l))}return Promise.all(i)},Ou.prototype.loadMesh=function(v){for(var m=this,g=this.json.meshes[v],b=g.primitives,e=[],t=0,n=b.length;t<n;t++){var r=void 0===b[t].material?(void 0===(r=this.cache).DefaultMaterial&&(r.DefaultMaterial=new _6({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Be})),r.DefaultMaterial):this.getDependency("material",b[t].material);e.push(r)}return e.push(m.loadGeometries(b)),Promise.all(e).then(function(e){for(var t=e.slice(0,e.length-1),n=e[e.length-1],r=[],i=0,o=n.length;i<o;i++){var a,s=n[i],u=b[i],l=t[i];if(u.mode===q3||u.mode===Y3||u.mode===X3||void 0===u.mode)!0!==(a=new(!0===g.isSkinnedMesh?$6:f0)(s,l)).isSkinnedMesh||a.geometry.attributes.skinWeight.normalized||a.normalizeSkinWeights(),u.mode===Y3?a.geometry=Mu(a.geometry,1):u.mode===X3&&(a.geometry=Mu(a.geometry,2));else if(u.mode===H3)a=new u3(s,l);else if(u.mode===W3)a=new o3(s,l);else if(u.mode===V3)a=new l3(s,l);else{if(u.mode!==G3)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+u.mode);a=new d3(s,l)}if(0<Object.keys(a.geometry.morphAttributes).length){d=f=p=h=c=void 0;var c=a,h=g;if(c.updateMorphTargets(),void 0!==h.weights)for(var p=0,f=h.weights.length;p<f;p++)c.morphTargetInfluences[p]=h.weights[p];if(h.extras&&Array.isArray(h.extras.targetNames)){var d=h.extras.targetNames;if(c.morphTargetInfluences.length===d.length){c.morphTargetDictionary={};for(p=0,f=d.length;p<f;p++)c.morphTargetDictionary[d[p]]=p}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}a.name=g.name||"mesh_"+v,1<n.length&&(a.name+="_"+i),Eu(a,g),m.assignFinalMaterial(a),r.push(a)}if(1===r.length)return r[0];for(var y=new w0,i=0,o=r.length;i<o;i++)y.add(r[i]);return y})},Ou.prototype.loadCamera=function(e){var t,e=this.json.cameras[e],n=e[e.type];if(n)return"perspective"===e.type?t=new H6(x.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===e.type&&(t=new a6(n.xmag/-2,n.xmag/2,n.ymag/2,n.ymag/-2,n.znear,n.zfar)),e.name&&(t.name=e.name),Eu(t,e),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},Ou.prototype.loadSkin=function(e){var e=this.json.skins[e],t={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(t):this.getDependency("accessor",e.inverseBindMatrices).then(function(e){return t.inverseBindMatrices=e,t})},Ou.prototype.loadAnimation=function(T){for(var E=this.json.animations[T],e=[],t=[],n=[],r=[],i=[],o=0,a=E.channels.length;o<a;o++){var s=E.channels[o],u=E.samplers[s.sampler],s=s.target,l=void 0!==s.node?s.node:s.id,c=void 0!==E.parameters?E.parameters[u.input]:u.input,h=void 0!==E.parameters?E.parameters[u.output]:u.output;e.push(this.getDependency("node",l)),t.push(this.getDependency("accessor",c)),n.push(this.getDependency("accessor",h)),r.push(u),i.push(s)}return Promise.all([Promise.all(e),Promise.all(t),Promise.all(n),Promise.all(r),Promise.all(i)]).then(function(e){for(var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=[],s=0,u=t.length;s<u;s++){var l,c=t[s],h=n[s],p=r[s],f=i[s],d=o[s];if(void 0!==c){switch(c.updateMatrix(),c.matrixAutoUpdate=!0,eu[d.path]){case eu.weights:l=w3;break;case eu.rotation:l=S3;break;default:l=T3}var y,v=c.name||c.uuid,m=void 0!==f.interpolation?tu[f.interpolation]:2301,g=[],b=(eu[d.path]===eu.weights?c.traverse(function(e){!0===e.isMesh&&e.morphTargetInfluences&&g.push(e.name||e.uuid)}):g.push(v),p.array);if(p.normalized){if(b.constructor===Int8Array)y=1/127;else if(b.constructor===Uint8Array)y=1/255;else if(b.constructor==Int16Array)y=1/32767;else{if(b.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");y=1/65535}for(var x=new Float32Array(b.length),w=0,_=b.length;w<_;w++)x[w]=b[w]*y;b=x}for(w=0,_=g.length;w<_;w++){var S=new l(g[w]+"."+eu[d.path],h.array,b,m);"CUBICSPLINE"===f.interpolation&&(S.createInterpolant=function(e){return new _u(this.times,this.values,this.getValueSize()/3,e)},S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),a.push(S)}}}return new P3(E.name||"animation_"+T,void 0,a)})},Ou.prototype.loadNode=function(e){var t=this.json,o=this.extensions,n=this,r=t.meshReferences,i=t.meshUses,a=t.nodes[e];return t=[],void 0!==a.mesh&&t.push(n.getDependency("mesh",a.mesh).then(function(e){var t,n;return 1<r[a.mesh]?(t=i[a.mesh]++,(n=e.clone()).name+="_instance_"+t):n=e,void 0!==a.weights&&n.traverse(function(e){if(e.isMesh)for(var t=0,n=a.weights.length;t<n;t++)e.morphTargetInfluences[t]=a.weights[t]}),n})),void 0!==a.camera&&t.push(n.getDependency("camera",a.camera)),a.extensions&&a.extensions[f.KHR_LIGHTS_PUNCTUAL]&&void 0!==a.extensions[f.KHR_LIGHTS_PUNCTUAL].light&&t.push(n.getDependency("light",a.extensions[f.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(t).then(function(e){var t,n=!0===a.isBone?new A3:1<e.length?new w0:1===e.length?e[0]:new s;if(n!==e[0])for(var r=0,i=e.length;r<i;r++)n.add(e[r]);return a.name&&(n.userData.name=a.name,n.name=F3.sanitizeNodeName(a.name)),Eu(n,a),a.extensions&&Tu(o,n,a),void 0!==a.matrix?((t=new m).fromArray(a.matrix),n.applyMatrix4(t)):(void 0!==a.translation&&n.position.fromArray(a.translation),void 0!==a.rotation&&n.quaternion.fromArray(a.rotation),void 0!==a.scale&&n.scale.fromArray(a.scale)),n})},Ou.prototype.loadScene=function(e){for(var t=this.json,n=this.extensions,e=this.json.scenes[e],r=new ve,i=(e.name&&(r.name=e.name),Eu(r,e),e.extensions&&Tu(n,r,e),e.nodes||[]),o=[],a=0,s=i.length;a<s;a++)o.push(function a(e,s,u,l){var c=u.nodes[e];return l.getDependency("node",e).then(function(e){var s;return void 0===c.skin?e:l.getDependency("skin",c.skin).then(function(e){for(var t=[],n=0,r=(s=e).joints.length;n<r;n++)t.push(l.getDependency("node",s.joints[n]));return Promise.all(t)}).then(function(a){return e.traverse(function(e){if(e.isMesh){for(var t=[],n=[],r=0,i=a.length;r<i;r++){var o=a[r];o?(t.push(o),o=new m,void 0!==s.inverseBindMatrices&&o.fromArray(s.inverseBindMatrices.array,16*r),n.push(o)):console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',s.joints[r])}e.bind(new uu(t,n),e.matrixWorld)}}),e})}).then(function(e){s.add(e);var t=[];if(c.children)for(var n=c.children,r=0,i=n.length;r<i;r++){var o=n[r];t.push(a(o,e,u,l))}return Promise.all(t)})}(i[a],r,t,this));return Promise.all(o).then(function(){return r})};var Au=cu;function Ru(e){return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Ru(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Ru(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Ru(e)?e:String(e)}(r.key),r)}}function Lu(e,t,n){t=ju(t);var r=e,t=Iu()?Reflect.construct(t,n||[],ju(e).constructor):t.apply(e,n);if(t&&("object"===Ru(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Iu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Iu=function(){return!!e})()}function Du(){return(Du="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ju(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function ju(e){return(ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nu(e,t){return(Nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Fu=function(){var e,t=o,n=Q5;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$5,t=this,n=o;if(t instanceof n)return(t=Lu(this,o)).manager=e,t.adjustmentTransform=new m,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Nu(t,n),t=o,(n=[{key:"parse",value:function(e){var r=this,s=Du(ju(o.prototype),"parse",this).call(this,e),i=s.glbBytes.slice().buffer;return new Promise(function(o,e){var t=r.manager,n=r.fetchOptions,t=t.getHandler("path.gltf")||new Au(t),n=("include"===n.credentials&&"cors"===n.mode&&t.setCrossOrigin("use-credentials"),"credentials"in n&&t.setWithCredentials("include"===n.credentials),n.headers&&t.setRequestHeader(n.headers),r.workingPath),a=(!/[\\/]$/.test(n)&&n.length&&(n+="/"),r.adjustmentTransform);t.parse(i,n,function(e){var t=s.batchTable,n=s.featureTable,r=e.scene,i=n.getData("RTC_CENTER");i&&(r.position.x+=i[0],r.position.y+=i[1],r.position.z+=i[2]),e.scene.updateMatrix(),e.scene.matrix.multiply(a),e.scene.matrix.decompose(e.scene.position,e.scene.quaternion,e.scene.scale),e.batchTable=t,e.featureTable=n,r.batchTable=t,r.featureTable=n,o(e)},e)})}}])&&Cu(t.prototype,n),e&&Cu(t,e),Object.defineProperty(t,"prototype",{writable:!1}),o}();function Uu(e){return(Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Uu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Uu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Uu(e)?e:String(e)}(r.key),r)}}function zu(e,t,n){t=Hu(t);var r=e,t=Gu()?Reflect.construct(t,n||[],Hu(e).constructor):t.apply(e,n);if(t&&("object"===Uu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Gu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Gu=function(){return!!e})()}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vu(e,t){return(Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Wu=new m,qu=function(){var e,t=r,n=w0;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function r(e){var t;if(this instanceof r)return(t=zu(this,r)).name="TilesRenderer.TilesGroup",t.tilesRenderer=e,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Vu(t,n),t=r,(n=[{key:"raycast",value:function(e,t){this.tilesRenderer.optimizeRaycast&&this.tilesRenderer.raycast(e,t)}},{key:"updateMatrixWorld",value:function(e){if(this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldNeedsUpdate||e){null===this.parent?Wu.copy(this.matrix):Wu.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1;for(var t=Wu.elements,n=this.matrixWorld.elements,r=!1,i=0;i<16;i++){var o=t[i],a=n[i];if(Math.abs(o-a)>Number.EPSILON){r=!0;break}}if(r){this.matrixWorld.copy(Wu);for(var s=this.children,u=0,l=s.length;u<l;u++)s[u].updateMatrixWorld()}}}}])&&Bu(t.prototype,n),e&&Bu(t,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function Yu(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Xu(e){return(Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Xu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Xu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Xu(e)?e:String(e)}(r.key),r)}}function Ku(e){var t=e.x,n=e.y,r=e.z;e.x=r,e.y=t,e.z=n}Object.assign(Yu.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(x.clamp(t/this.radius,-1,1))),this}});var Qu=new Yu,Ju=new w,$u=new w,el=function(){function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=this,i=o;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");this.radius=new w(e,t,n)}var e,t,n;return e=o,(t=[{key:"getCartographicToPosition",value:function(e,t,n,r){var i=this.radius,e=(Qu.set(1,-e+Math.PI/2,t),Ju.setFromSpherical(Qu).normalize(),Ku(Ju),$u.copy(Ju),$u.x*=Math.pow(i.x,2),$u.y*=Math.pow(i.y,2),$u.z*=Math.pow(i.z,2),Math.sqrt(Ju.dot($u)));return $u.divideScalar(e),r.copy($u).addScaledVector(Ju,n)}},{key:"getCartographicToNormal",value:function(e,t,n){return Qu.set(1,-e+Math.PI/2,t),n.setFromSpherical(Qu).normalize(),Ku(n),n}},{key:"getPositionToNormal",value:function(e,t){var n=this.radius;return t.copy(e),t.x/=Math.pow(n.x,2),t.y/=Math.pow(n.y,2),t.z/=Math.pow(n.z,2),t.normalize(),t}}])&&Zu(e.prototype,t),n&&Zu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}();function tl(e){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?rl(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rl(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function il(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=tl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=tl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==tl(e)?e:String(e)}(r.key),r)}}function ol(e,t,n){t=sl(t);var r=e,t=al()?Reflect.construct(t,n||[],sl(e).constructor):t.apply(e,n);if(t&&("object"===tl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function al(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(al=function(){return!!e})()}function sl(e){return(sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ul(e,t){return(ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ll=Math.PI,cl=ll/2,hl=new w,pl=new w,fl=new w,dl=new m,yl=0,vl=[];function ml(){yl=0}var gl=function(){var e,t=h,n=el;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function h(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-cl,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:cl,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:2*ll,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0,l=this,c=h;if(l instanceof c)return(l=ol(this,h,[e,t,n])).latStart=r,l.latEnd=i,l.lonStart=o,l.lonEnd=a,l.heightStart=s,l.heightEnd=u,l;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&ul(t,n),t=h,(n=[{key:"_getPoints",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.latStart,n=this.latEnd,r=this.lonStart,i=this.lonEnd,o=this.heightStart,a=this.heightEnd,s=x.mapLinear(.5,0,1,t,n),u=x.mapLinear(.5,0,1,r,i),l=Math.floor(r/cl)*cl,c=[[-ll/2,0],[ll/2,0],[0,l],[0,l+ll/2],[0,l+ll],[0,l+3*ll/2],[t,i],[n,i],[t,r],[n,r],[0,r],[0,i],[s,u],[t,u],[n,u],[s,r],[s,i]],h=[],p=c.length,f=0;f<=1;f++)for(var d=x.mapLinear(f,0,1,o,a),y=0,v=p;y<v;y++){var m,g=nl(c[y],2),b=g[0],g=g[1];t<=b&&b<=n&&r<=g&&g<=i&&(m=function(e){return 0<arguments.length&&void 0!==e&&e?(vl[yl]||(vl[yl]=new w),vl[++yl-1]):new w}(e),h.push(m),this.getCartographicToPosition(b,g,d,m))}return h}},{key:"getBoundingBox",value:function(e,t){ml();for(var n=this.latStart,r=this.latEnd,i=this.lonStart,o=this.lonEnd,a=(r-n<ll/2?(n=x.mapLinear(.5,0,1,n,r),r=x.mapLinear(.5,0,1,i,o),this.getCartographicToNormal(n,r,fl),pl.set(0,0,1),hl.crossVectors(pl,fl),pl.crossVectors(hl,fl)):(hl.set(1,0,0),pl.set(0,1,0),fl.set(0,0,1)),t.makeBasis(hl,pl,fl),dl.copy(t).invert(),this._getPoints(!0)),s=0,u=a.length;s<u;s++)a[s].applyMatrix4(dl);e.makeEmpty(),e.setFromPoints(a)}},{key:"getBoundingSphere",value:function(e,t){ml();var n=this._getPoints(!0);e.makeEmpty(),e.setFromPoints(n,t)}}])&&il(t.prototype,n),e&&il(t,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(),bl=new ut,xl=new m,wl=new w,_l=new w,Sl=new Nt,Tl=[];function El(e,t){return e.distance-t.distance}function kl(e,t,n){e.traverse(function(e){Object.getPrototypeOf(e).raycast.call(e,t,n)})}function Ol(e){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?Ml(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ml(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nl(r.key),r)}}function Rl(e,t,n){t=Ul(t);var r=e,t=Cl()?Reflect.construct(t,n||[],Ul(e).constructor):t.apply(e,n);if(t&&("object"===Ol(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ll(r)}function Cl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Cl=function(){return!!e})()}function Ll(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Il(){return(Il="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Fl(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function Dl(e,t){return(Dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jl(e,t,n,r){return(jl="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var i,e=Fl(e,t);if(e){if((i=Object.getOwnPropertyDescriptor(e,t)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,t)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,t,i)}else e=r,i=n,!((r=Nl(r=t))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i);return!0})(e,t,n,r)}function Nl(e){e=function(e,t){if("object"!=Ol(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Ol(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Ol(e)?e:String(e)}function Fl(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ul(e)););return e}function Ul(e){return(Ul=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bl=Symbol("INITIAL_FRUSTUM_CULLED"),zl=new m,Gl=new m,Hl=new w,Vl=new w,Wl=new w,ql=new w,Yl=new w(1,0,0),Xl=new w(0,1,0);function Zl(e,t){e.traverse(function(e){e.frustumCulled=e[Bl]&&t})}var Kl=function(){var e,t=v,n=M5;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");function v(){var t,e=this,n=v;if(!(e instanceof n))throw new TypeError("Cannot call a class as a function");for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(t=Rl(this,v,[].concat(i))).group=new qu(Ll(t)),t.cameras=[],t.cameraMap=new Map,t.cameraInfo=[],t.activeTiles=new Set,t.visibleTiles=new Set,t._autoDisableRendererCulling=!0,t.optimizeRaycast=!0,t.onLoadTileSet=null,t.onLoadModel=null,t.onDisposeModel=null,t.onTileVisibilityChange=null;var e=new J5,a=(e.setURLModifier(function(e){return t.preprocessURL?t.preprocessURL(e):e}),t.manager=e,Ll(t));return t._overridenRaycast=function(e,t){a.optimizeRaycast||Object.getPrototypeOf(this).raycast.call(this,e,t)},t}return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Dl(t,n),t=v,(n=[{key:"autoDisableRendererCulling",get:function(){return this._autoDisableRendererCulling},set:function(t){if(this._autoDisableRendererCulling!==t){var e=Ul(v.prototype),n=t,r=!0;if(!jl(e,"_autoDisableRendererCulling",n,this||e)&&r)throw new TypeError("failed to set property");this.forEachLoadedModel(function(e){Zl(e,!t)})}}},{key:"getBounds",value:function(e){var t,n;return!!this.root&&(t=(n=this.root.cached).box,n=n.boxTransform,!!t)&&(e.copy(t),e.applyMatrix4(n),!0)}},{key:"getOrientedBounds",value:function(e,t){var n,r;return!!this.root&&(n=(r=this.root.cached).box,r=r.boxTransform,!!n)&&(e.copy(n),t.copy(r),!0)}},{key:"getBoundingSphere",value:function(e){var t;return!!this.root&&!!(t=this.root.cached.sphere)&&(e.copy(t),!0)}},{key:"forEachLoadedModel",value:function(n){this.traverse(function(e){var t=e.cached.scene;t&&n(t,e)})}},{key:"raycast",value:function(e,t){var n;this.root&&(e.firstHitOnly?(n=function e(t,n,r,i){var o;if(r.has(t))return kl(t.cached.scene,i,Tl),0<Tl.length?(1<Tl.length&&Tl.sort(El),o=Tl[0],Tl.length=0,o):null;for(var a=[],s=t.children,u=0,l=s.length;u<l;u++){var c=s[u],h=c.cached,p=n.matrixWorld;xl.copy(p),(p=h.sphere)&&(bl.copy(p),bl.applyMatrix4(xl),!i.ray.intersectsSphere(bl))||(p=h.box,h=h.boxTransform,p&&(xl.multiply(h).invert(),Sl.copy(i.ray),Sl.applyMatrix4(xl),Sl.intersectBox(p,wl))&&(_l.setFromMatrixScale(xl),h=_l.x,1e-6<Math.abs(Math.max(_l.x-_l.y,_l.x-_l.z))&&console.warn("ThreeTilesRenderer : Non uniform scale used for tile which may cause issues when raycasting."),a.push(p={distance:1/0,tile:null}),p.distance=wl.distanceToSquared(Sl.origin)*h*h,p.tile=c))}a.sort(El);for(var f=1/0,d=null,y=0,v=a.length;y<v;y++){var m=a[y];if(f<m.distance)break;var g=(m=m.tile).cached.scene,b=null;r.has(m)?(kl(g,i,Tl),0<Tl.length&&(1<Tl.length&&Tl.sort(El),b=Tl[0])):b=e(m,n,r,i),b&&((g=b.distance*b.distance)<f&&(f=g,d=b),Tl.length=0)}return d}(this.root,this.group,this.activeTiles,e))&&t.push(n):function e(t,n,r,i,o){var a=t.cached,s=n.matrixWorld,s=(xl.copy(s),a.sphere);if(!s||(bl.copy(s),bl.applyMatrix4(xl),i.ray.intersectsSphere(bl))){var s=a.box,u=a.boxTransform;if(!s||(xl.multiply(u).invert(),Sl.copy(i.ray).applyMatrix4(xl),Sl.intersectsBox(s)))if(u=a.scene,r.has(t))kl(u,i,o);else for(var l=t.children,c=0,h=l.length;c<h;c++)e(l[c],n,r,i,o)}}(this.root,this.group,this.activeTiles,e,t))}},{key:"hasCamera",value:function(e){return this.cameraMap.has(e)}},{key:"setCamera",value:function(e){var t=this.cameras,n=this.cameraMap;return!n.has(e)&&(n.set(e,new j),t.push(e),!0)}},{key:"setResolution",value:function(e,t,n){var r=this.cameraMap;return!!r.has(e)&&(t instanceof j?r.get(e).copy(t):r.get(e).set(t,n),!0)}},{key:"setResolutionFromRenderer",value:function(e,t){var n=this.cameraMap;return!!n.has(e)&&(n=n.get(e),t.getSize(n),n.multiplyScalar(t.getPixelRatio()),!0)}},{key:"deleteCamera",value:function(e){var t,n=this.cameras,r=this.cameraMap;return!!r.has(e)&&(t=n.indexOf(e),n.splice(t,1),r.delete(e),!0)}},{key:"fetchTileSet",value:function(t){for(var n=this,e=arguments.length,r=new Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var o=(o=Il(Ul(v.prototype),"fetchTileSet",this)).call.apply(o,[this,t].concat(r));return o.then(function(e){n.onLoadTileSet&&Promise.resolve().then(function(){n.onLoadTileSet(e,t)}).catch(function(e){})}).catch(function(e){}),o}},{key:"update",value:function(){var e=this.group,t=this.cameras,n=this.cameraMap,r=this.cameraInfo;if(0===t.length)console.warn("TilesRenderer: no cameras defined. Cannot update 3d tiles.");else{for(;r.length>t.length;)r.pop();for(;r.length<t.length;)r.push({frustum:new r6,isOrthographic:!1,sseDenominator:-1,position:new w,invScale:-1,pixelSize:0});Gl.copy(e.matrixWorld).invert(),Hl.setFromMatrixScale(Gl);var i=Hl.x;1e-6<Math.abs(Math.max(Hl.x-Hl.y,Hl.x-Hl.z))&&console.warn("ThreeTilesRenderer : Non uniform scale used for tile which may cause issues when calculating screen space error.");for(var o=0,a=r.length;o<a;o++){var s,u,l=t[o],c=r[o],h=c.frustum,p=c.position,f=n.get(l),d=(0!==f.width&&0!==f.height||console.warn("TilesRenderer: resolution for camera error calculation is not set."),l.projectionMatrix.elements);c.isOrthographic=1===d[15],c.isOrthographic?(s=2/d[0],u=2/d[5],c.pixelSize=Math.max(u/f.height,s/f.width)):c.sseDenominator=2/d[5]/f.height,c.invScale=i,zl.copy(e.matrixWorld),zl.premultiply(l.matrixWorldInverse),zl.premultiply(l.projectionMatrix),h.setFromProjectionMatrix(zl),p.set(0,0,0),p.applyMatrix4(l.matrixWorld),p.applyMatrix4(Gl)}Il(Ul(v.prototype),"update",this).call(this)}}},{key:"preprocessNode",value:function(e,t,n){Il(Ul(v.prototype),"preprocessNode",this).call(this,e,t,n);var r=new m;if(e.transform)for(var i=e.transform,o=0;o<16;o++)r.elements[o]=i[o];else r.identity();t&&r.premultiply(t.cached.transform);var a,s,u,l,c,h,n=(new m).copy(r).invert(),t=null,p=null,f=null,d=("box"in e.boundingVolume&&(d=e.boundingVolume.box,t=new Ne,p=new m,f=new m,Vl.set(d[3],d[4],d[5]),Wl.set(d[6],d[7],d[8]),ql.set(d[9],d[10],d[11]),h=Vl.length(),a=Wl.length(),y=ql.length(),Vl.normalize(),Wl.normalize(),ql.normalize(),0===h&&Vl.crossVectors(Wl,ql),0===a&&Wl.crossVectors(Vl,ql),0===y&&ql.crossVectors(Vl,Wl),p.set(Vl.x,Wl.x,ql.x,d[0],Vl.y,Wl.y,ql.y,d[1],Vl.z,Wl.z,ql.z,d[2],0,0,0,1),p.premultiply(r),f.copy(p).invert(),t.min.set(-h,-a,-y),t.max.set(h,a,y)),null),y=("sphere"in e.boundingVolume?(h=e.boundingVolume.sphere,(d=new ut).center.set(h[0],h[1],h[2]),d.radius=h[3],d.applyMatrix4(r)):"box"in e.boundingVolume&&(a=e.boundingVolume.box,d=new ut,t.getBoundingSphere(d),d.center.set(a[0],a[1],a[2]),d.applyMatrix4(r)),null);"region"in e.boundingVolume&&(a=(h=Pl(e.boundingVolume.region,6))[0],s=h[1],u=h[2],l=h[3],c=h[4],h=h[5],y=new gl(y5,y5,6356752.314245179,s,l,a,u,c,h),null===d&&(d=new ut,y.getBoundingSphere(d)),null===t)&&(t=new Ne,p=new m,f=new m,y.getBoundingBox(t,p),f.copy(p).invert()),e.cached={loadIndex:0,transform:r,transformInverse:n,active:!1,inFrustum:[],box:t,boxTransform:p,boxTransformInverse:f,sphere:d,region:y,scene:null,geometry:null,material:null}}},{key:"parseTile",value:function(e,t,n){var r=this;t._loadIndex=t._loadIndex||0,t._loadIndex++;var i=t.content.uri.split(/[\\\/]/g),i=(i.pop(),i.join("/")),o=this.fetchOptions,a=this.manager,s=t._loadIndex,u=this.rootTileSet.asset&&this.rootTileSet.asset.gltfUpAxis||"y",l=t.cached,c=l.transform;switch(u.toLowerCase()){case"x":zl.makeRotationAxis(Xl,-Math.PI/2);break;case"y":zl.makeRotationAxis(Yl,Math.PI/2);break;case"z":zl.identity()}var h=V5(e)||n;return("b3dm"===h?((u=new Fu(a)).workingPath=i,u.fetchOptions=o,u.adjustmentTransform.copy(zl),u.parse(e).then(function(e){return e.scene})):(console.warn('TilesRenderer: Content type "'.concat(h,'" not supported.')),Promise.resolve(null))).then(function(e){var i,o,a;t._loadIndex===s&&(e.updateMatrix(),"glb"!==h&&"gltf"!==h||e.matrix.multiply(zl),e.matrix.premultiply(c),e.matrix.decompose(e.position,e.quaternion,e.scale),e.traverse(function(e){e[Bl]=e.frustumCulled}),Zl(e,!r.autoDisableRendererCulling),(l.scene=e).traverse(function(e){e.raycast=r._overridenRaycast}),i=[],o=[],a=[],e.traverse(function(e){if(e.geometry&&o.push(e.geometry),e.material){var t,n=e.material;for(t in i.push(e.material),n){var r=n[t];r&&r.isTexture&&a.push(r)}}}),l.materials=i,l.geometry=o,l.textures=a,r.onLoadModel)&&r.onLoadModel(e,t)})}},{key:"disposeTile",value:function(e){var t=e.cached;if(t.scene){for(var n=t.materials,r=t.geometry,i=t.textures,o=t.scene.parent,a=0,s=r.length;a<s;a++)r[a].dispose();for(var u=0,l=n.length;u<l;u++)n[u].dispose();for(var c=0,h=i.length;c<h;c++)i[c].dispose();o&&o.remove(t.scene),this.onDisposeModel&&this.onDisposeModel(t.scene,e),t.scene=null,t.materials=null,t.textures=null,t.geometry=null}this.activeTiles.delete(e),this.visibleTiles.delete(e),e._loadIndex++}},{key:"setTileVisible",value:function(e,t){var n=e.cached.scene,r=this.visibleTiles,i=this.group;t?(i.add(n),r.add(e),n.updateMatrixWorld(!0)):(i.remove(n),r.delete(e)),this.onTileVisibilityChange&&this.onTileVisibilityChange(n,e,t)}},{key:"setTileActive",value:function(e,t){var n=this.activeTiles;t?n.add(e):n.delete(e)}},{key:"calculateError",value:function(e){for(var t,n,r,i,o=e.cached,a=o.inFrustum,s=this.cameras,u=this.cameraInfo,l=o.sphere,c=o.box,h=o.boxTransformInverse,p=o.transformInverse,f=c&&h,d=-1/0,y=1/0,v=0,m=s.length;v<m;v++)a[v]&&(i=(t=u[v]).invScale,n=void 0,t.isOrthographic?(r=t.pixelSize,n=e.geometricError/(r*i)):(Hl.copy(t.position),r=(f?(Hl.applyMatrix4(h),c.distanceToPoint(Hl)):(Hl.applyMatrix4(p),Math.max(l.distanceToPoint(Hl),0)))*i,i=t.sseDenominator,n=e.geometricError/(r*i),y=Math.min(y,r)),d=Math.max(d,n));e.__distanceFromCamera=y,e.__error=d}},{key:"tileInView",value:function(e){var e=e.cached,t=e.sphere,n=e.inFrustum;if(t){for(var r=this.cameraInfo,i=!1,o=0,a=r.length;o<a;o++)r[o].frustum.intersectsSphere(t)?n[o]=i=!0:n[o]=!1;return i}return!0}}])&&Al(t.prototype,n),e&&Al(t,e),Object.defineProperty(t,"prototype",{writable:!1}),v}();function Ql(e){return(Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jl(e){F6.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}function $l(e,t){e6.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=ec(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=ec(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ec(e)?e:String(e)}(r.key),r)}}Jl.prototype=Object.assign(Object.create(F6.prototype),{constructor:Jl,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,n,t,r){var i=this,o=new B6(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),"use-credentials"===this.crossOrigin&&o.setWithCredentials(!0),o.load(e,function(e){var t={attributeIDs:i.defaultAttributeIDs,attributeTypes:i.defaultAttributeTypes,useUniqueIDs:!1};i.decodeGeometry(e,t).then(n).catch(r)},t,r)},decodeDracoFile:function(e,t,n,r){r={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,r).then(t)},decodeGeometry:function(n,r){var e,t=this;for(e in r.attributeTypes){var i=r.attributeTypes[e];void 0!==i.BYTES_PER_ELEMENT&&(r.attributeTypes[e]=i.name)}var o,a=JSON.stringify(r);if(Jl.taskCache.has(n)){var s=Jl.taskCache.get(n);if(s.key===a)return s.promise;if(0===n.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var u=this.workerNextTaskID++,s=n.byteLength,s=this._getWorker(u,s).then(function(e){return o=e,new Promise(function(e,t){o._callbacks[u]={resolve:e,reject:t},o.postMessage({type:"decode",id:u,taskConfig:r,buffer:n},[n])})}).then(function(e){return t._createGeometry(e.geometry)});return s.finally(function(){o&&u&&t._releaseTask(o,u)}),Jl.taskCache.set(n,{key:a,promise:s}),s},_createGeometry:function(e){var t=new gt;e.index&&t.setIndex(new _(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name,o=r.array,r=r.itemSize;t.setAttribute(i,new _(o,r))}return t},_loadLibrary:function(n,e){var r=new B6(this.manager);return r.setPath(this.decoderPath),r.setResponseType(e),new Promise(function(e,t){r.load(n,e,void 0,t)})},preload:function(){return this._initDecoder(),this},_initDecoder:function(){var n,e,r=this;return this.decoderPending||(e=[],(n="object"!==("undefined"==typeof WebAssembly?"undefined":Ql(WebAssembly))||"js"===this.decoderConfig.type)?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then(function(e){var t=e[0],e=(n||(r.decoderConfig.wasmBinary=e[1]),Jl.DRACOWorker.toString()),t=["/* draco decoder */",t,"","/* worker */",e.substring(e.indexOf("{")+1,e.lastIndexOf("}"))].join("\n");r.workerSourceURL=URL.createObjectURL(new Blob([t]))})),this.decoderPending},_getWorker:function(e,t){var r=this;return this._initDecoder().then(function(){r.workerPool.length<r.workerLimit?((n=new Worker(r.workerSourceURL))._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:r.decoderConfig}),n.onmessage=function(e){var t=e.data;switch(t.type){case"decode":n._callbacks[t.id].resolve(t);break;case"error":n._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},r.workerPool.push(n)):r.workerPool.sort(function(e,t){return e._taskLoad>t._taskLoad?-1:1});var n=r.workerPool[r.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){this.workerPool.map(function(e){return e._taskLoad})},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),Jl.DRACOWorker=function(){var n,t;onmessage=function(e){var o=e.data;switch(o.type){case"init":n=o.decoderConfig,t=new Promise(function(t){n.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(n)});break;case"decode":var a=o.buffer,s=o.taskConfig;t.then(function(e){var e=e.draco,t=new e.Decoder,n=new e.DecoderBuffer;n.Init(new Int8Array(a),a.byteLength);try{var r=function(e,t,n,r){var i,o,a=r.attributeIDs,s=r.attributeTypes,u=t.GetEncodedGeometryType(n);if(u===e.TRIANGULAR_MESH)i=new e.Mesh,o=t.DecodeBufferToMesh(n,i);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");i=new e.PointCloud,o=t.DecodeBufferToPointCloud(n,i)}if(!o.ok()||0===i.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var l,c,h,p={index:null,attributes:[]};for(l in a){var f=self[s[l]];if(r.useUniqueIDs)h=a[l],c=t.GetAttributeByUniqueId(i,h);else{if(-1===(h=t.GetAttributeId(i,e[a[l]])))continue;c=t.GetAttribute(i,h)}p.attributes.push(function(e,t,n,r,i,o){var a,s,u=o.num_components(),l=n.num_points()*u;switch(i){case Float32Array:a=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(n,o,a),s=new Float32Array(l);break;case Int8Array:a=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(n,o,a),s=new Int8Array(l);break;case Int16Array:a=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(n,o,a),s=new Int16Array(l);break;case Int32Array:a=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(n,o,a),s=new Int32Array(l);break;case Uint8Array:a=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(n,o,a),s=new Uint8Array(l);break;case Uint16Array:a=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(n,o,a),s=new Uint16Array(l);break;case Uint32Array:a=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(n,o,a),s=new Uint32Array(l);break;default:throw new Error("THREE.DRACOLoader: Unexpected attribute type.")}for(var c=0;c<l;c++)s[c]=a.GetValue(c);return e.destroy(a),{name:r,array:s,itemSize:u}}(e,t,i,l,f,c))}if(u===e.TRIANGULAR_MESH){for(var d=i.num_faces(),y=new Uint32Array(3*d),v=new e.DracoInt32Array,m=0;m<d;++m){t.GetFaceFromMesh(i,m,v);for(var g=0;g<3;++g)y[3*m+g]=v.GetValue(g)}p.index={array:y,itemSize:1},e.destroy(v)}return e.destroy(i),p}(e,t,n,s),i=r.attributes.map(function(e){return e.array.buffer});r.index&&i.push(r.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:r},i)}catch(e){console.error(e),self.postMessage({type:"error",id:o.id,error:e.message})}finally{e.destroy(n),e.destroy(t)}})}}},Jl.taskCache=new WeakMap,Jl.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},Jl.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},Jl.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},Jl.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")},$l.prototype=Object.assign(Object.create(e6.prototype),{constructor:$l,isAmbientLight:!0});var nc=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._map=e,this._layer=null,this._layerName=null,this._mainDeltaAngleToCamera=null,this._secondDeltaAngleToCamera=null,this.createLight=this.createLight.bind(this)}var e,n,r;return e=t,(n=[{key:"createLight",value:function(e,t){var n=this._map.getMapOptions(),r=n.lockedLight,n=n.lightConfig[t];return e._ambientLight=new $l(n[1].color,n[1].intensity),e._target=new s,e._mainLight=new u6(n[0].color,n[0].intensity),e._mainLight.position.set(n[0].position.x,n[0].position.y,n[0].position.z),e._mainLight.target=e._target,e._secondLight=new u6(n[2].color,n[2].intensity),e._secondLight.position.set(n[2].position.x,n[2].position.y,n[2].position.z),e._secondLight.target=e._target,this._layer=e,this._layerName=t,r&&(this._updateLightPositionRelativeCamera=this._updateLightPositionRelativeCamera.bind(this),this._map.on("viewChanged",this._updateLightPositionRelativeCamera)),this}},{key:"createLightByTheme",value:function(e,t,n){return e._ambientLight=new $l(new d("rgb("+n[1].color+")"),n[1].intensity),e._mainLight=new u6(new d("rgb("+n[0].color+")"),n[0].intensity),e._mainLight.position.set(n[0].position.x,n[0].position.y,n[0].position.z),e._target=new s,e._target.position.set(n[0].target.x,n[0].target.y,n[0].target.z),e._mainLight.target=e._target,e._secondLight=new u6(new d("rgb("+n[2].color+")"),n[2].intensity),e._secondLight.position.set(n[2].position.x,n[2].position.y,n[2].position.z),e._target2=new s,e._target2.position.set(n[2].target.x,n[2].target.y,n[2].target.z),e._secondLight.target=e._target2,this._layer=e,this._layerName=t,this}}])&&tc(e.prototype,n),r&&tc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),rc=(Object.assign(nc.prototype,{_getThetaByPosition:function(e){var t=new Yu;return t.setFromVector3(e),t.theta},_setPositionByTheta:function(e,t){var n=new Yu,t=(n.setFromVector3(e),n.theta=t,new w);t.setFromSpherical(n),e.copy(t)},_updateLightPositionRelativeCamera:function(){var e,t,n;this._layer&&(e=this._getThetaByPosition(this._map.camera.position),null===this._mainDeltaAngleToCamera&&(t=this._getThetaByPosition(this._layer._mainLight.position),n=this._getThetaByPosition(this._layer._secondLight.position),this._mainDeltaAngleToCamera=t-e,this._secondDeltaAngleToCamera=n-e),t=e+this._mainDeltaAngleToCamera,this._setPositionByTheta(this._layer._mainLight.position,t),n=e+this._secondDeltaAngleToCamera,this._setPositionByTheta(this._layer._secondLight.position,n))},_dispose:function(){this._map.getMapOptions().lockedLight&&this._map.off("viewChanged",this._updateLightPositionRelativeCamera)}}),e(5)),ic={NAME_KEY_ERROR:0,MAP_ID_URL_ERROR:2,THEME_ID_URL_ERROR:4,LICENSE_ERROR:8,PATH_ERROR:404,INFO:32,DEFAULT_LEVEL_ERROR:64};function oc(e){return(oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ac(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function sc(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ac(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=cc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ac(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function uc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cc(r.key),r)}}function lc(e,t,n){return t&&uc(e.prototype,t),n&&uc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cc(e){e=function(e,t){if("object"!=oc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=oc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==oc(e)?e:String(e)}var L3=lc(function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._options=sc({data:null,method:"GET",responseType:"json"},t),this._xhr=null}),hc=(Object.assign(L3.prototype,{_send:function(e,t,n){var r=this._options,i=r.data,o=r.method,a=r.url,s=r.responseType,u=r.header,l=null;if((l=new(l6.a.environment===h6.a.WX?l6.a.XMLHttpRequest:"undefined"!=typeof XMLHttpRequest?XMLHttpRequest:rc.a.global().fengmap.XMLHttpRequest)).responseType=s,l.open(o,a),"object"==oc(u))for(var c in u)l.setRequestHeader(c,u[c]);l.addEventListener("load",function(){200===l.status||0===l.status||201===l.status?e&&e(l.response):t&&(404===l.status?t(ic.PATH_ERROR):2069===l.response.error_code?t(ic.NAME_KEY_ERROR):2063===l.response.error_code?t(ic.MAP_ID_URL_ERROR):400===l.response.error_code?t(ic.THEME_ID_URL_ERROR):t(l.response))}),l.addEventListener("timeout",function(e){n&&n(e)}),l.addEventListener("error",function(e){t&&t(e)}),l.send(JSON.stringify(i)),this._xhr=l},_dispose:function(){this._xhr&&this._xhr.abort&&(this._xhr.abort(),this._xhr=null)}}),L3);var E=function(e){return null!=e};function pc(e){var t;this.name="DeveloperError",this.message=e;try{throw new Error}catch(e){t=e.stack}this.stack=t}E(Object.create)&&((pc.prototype=Object.create(Error.prototype)).constructor=pc),pc.prototype.toString=function(){var e="".concat(this.name,": ").concat(this.message);return E(this.stack)&&(e+="\n".concat(this.stack.toString())),e},pc.throwInstantiationError=function(){throw new pc("This function defines an interface and should not be called directly.")};var k=pc;function fc(e){return(fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dc={};function yc(e,t,n){return"Expected ".concat(n," to be typeof ").concat(t,", actual typeof was ").concat(e)}dc.typeOf={},dc.defined=function(e,t){if(!E(t))throw new k("".concat(e," is required, actual value was undefined"))},dc.typeOf.func=function(e,t){if("function"!=typeof t)throw new k(yc(fc(t),"function",e))},dc.typeOf.string=function(e,t){if("string"!=typeof t)throw new k(yc(fc(t),"string",e))},dc.typeOf.number=function(e,t){if("number"!=typeof t)throw new k(yc(fc(t),"number",e))},dc.typeOf.number.lessThan=function(e,t,n){if(dc.typeOf.number(e,t),n<=t)throw new k("Expected ".concat(e," to be less than ").concat(n,", actual value was ").concat(t))},dc.typeOf.number.lessThanOrEquals=function(e,t,n){if(dc.typeOf.number(e,t),n<t)throw new k("Expected ".concat(e," to be less than or equal to ").concat(n,", actual value was ").concat(t))},dc.typeOf.number.greaterThan=function(e,t,n){if(dc.typeOf.number(e,t),t<=n)throw new k("Expected ".concat(e," to be greater than ").concat(n,", actual value was ").concat(t))},dc.typeOf.number.greaterThanOrEquals=function(e,t,n){if(dc.typeOf.number(e,t),t<n)throw new k("Expected ".concat(e," to be greater than or equal to ").concat(n,", actual value was ").concat(t))},dc.typeOf.object=function(e,t){if("object"!==fc(t))throw new k(yc(fc(t),"object",e))},dc.typeOf.bool=function(e,t){if("boolean"!=typeof t)throw new k(yc(fc(t),"boolean",e))},dc.typeOf.bigint=function(e,t){if("bigint"!=typeof t)throw new k(yc(fc(t),"bigint",e))},dc.typeOf.number.equals=function(e,t,n,r){if(dc.typeOf.number(e,n),dc.typeOf.number(t,r),n!==r)throw new k("".concat(e," must be equal to ").concat(t,", the actual values are ").concat(n," and ").concat(r))};var y=dc;function vc(e,t){return null!=e?e:t}vc.EMPTY_OBJECT=Object.freeze({});var a=vc,v={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,EPSILON21:1e-21,GRAVITATIONALPARAMETER:3986004418e5,SOLAR_RADIUS:6955e5,LUNAR_RADIUS:1737400,SIXTY_FOUR_KILOBYTES:65536,FOUR_GIGABYTES:4294967296},mc=(v.sign=a(Math.sign,function(e){return 0===(e=+e)||e!=e?e:0<e?1:-1}),v.signNotZero=function(e){return e<0?-1:1},v.toSNorm=function(e,t){return t=a(t,255),Math.round((.5*v.clamp(e,-1,1)+.5)*t)},v.fromSNorm=function(e,t){return t=a(t,255),v.clamp(e,0,t)/t*2-1},v.normalize=function(e,t,n){return 0===(n=Math.max(n-t,0))?0:v.clamp((e-t)/n,0,1)},v.sinh=a(Math.sinh,function(e){return(Math.exp(e)-Math.exp(-e))/2}),v.cosh=a(Math.cosh,function(e){return(Math.exp(e)+Math.exp(-e))/2}),v.lerp=function(e,t,n){return(1-n)*e+n*t},v.PI=Math.PI,v.ONE_OVER_PI=1/Math.PI,v.PI_OVER_TWO=Math.PI/2,v.PI_OVER_THREE=Math.PI/3,v.PI_OVER_FOUR=Math.PI/4,v.PI_OVER_SIX=Math.PI/6,v.THREE_PI_OVER_TWO=3*Math.PI/2,v.TWO_PI=2*Math.PI,v.ONE_OVER_TWO_PI=1/(2*Math.PI),v.RADIANS_PER_DEGREE=Math.PI/180,v.DEGREES_PER_RADIAN=180/Math.PI,v.RADIANS_PER_ARCSECOND=v.RADIANS_PER_DEGREE/3600,v.toRadians=function(e){if(E(e))return e*v.RADIANS_PER_DEGREE;throw new k("degrees is required.")},v.toDegrees=function(e){if(E(e))return e*v.DEGREES_PER_RADIAN;throw new k("radians is required.")},v.convertLongitudeRange=function(e){var t;if(E(e))return t=v.TWO_PI,(e=e-Math.floor(e/t)*t)<-Math.PI?e+t:e>=Math.PI?e-t:e;throw new k("angle is required.")},v.clampToLatitudeRange=function(e){if(E(e))return v.clamp(e,-1*v.PI_OVER_TWO,v.PI_OVER_TWO);throw new k("angle is required.")},v.negativePiToPi=function(e){if(E(e))return-v.PI<=e&&e<=v.PI?e:v.zeroToTwoPi(e+v.PI)-v.PI;throw new k("angle is required.")},v.zeroToTwoPi=function(e){var t;if(E(e))return 0<=e&&e<=v.TWO_PI?e:(t=v.mod(e,v.TWO_PI),Math.abs(t)<v.EPSILON14&&Math.abs(e)>v.EPSILON14?v.TWO_PI:t);throw new k("angle is required.")},v.mod=function(e,t){if(!E(e))throw new k("m is required.");if(!E(t))throw new k("n is required.");if(0===t)throw new k("divisor cannot be 0.");return v.sign(e)===v.sign(t)&&Math.abs(e)<Math.abs(t)?e:(e%t+t)%t},v.equalsEpsilon=function(e,t,n,r){if(!E(e))throw new k("left is required.");if(!E(t))throw new k("right is required.");n=a(n,0),r=a(r,n);var i=Math.abs(e-t);return i<=r||i<=n*Math.max(Math.abs(e),Math.abs(t))},v.lessThan=function(e,t,n){if(!E(e))throw new k("first is required.");if(!E(t))throw new k("second is required.");if(E(n))return e-t<-n;throw new k("absoluteEpsilon is required.")},v.lessThanOrEquals=function(e,t,n){if(!E(e))throw new k("first is required.");if(!E(t))throw new k("second is required.");if(E(n))return e-t<n;throw new k("absoluteEpsilon is required.")},v.greaterThan=function(e,t,n){if(!E(e))throw new k("first is required.");if(!E(t))throw new k("second is required.");if(E(n))return n<e-t;throw new k("absoluteEpsilon is required.")},v.greaterThanOrEquals=function(e,t,n){if(!E(e))throw new k("first is required.");if(!E(t))throw new k("second is required.");if(E(n))return-n<e-t;throw new k("absoluteEpsilon is required.")},[1]),gc=(v.factorial=function(e){if("number"!=typeof e||e<0)throw new k("A number greater than or equal to 0 is required.");var t=mc.length;if(t<=e)for(var n=mc[t-1],r=t;r<=e;r++){var i=n*r;mc.push(i),n=i}return mc[e]},v.incrementWrap=function(e,t,n){if(n=a(n,0),!E(e))throw new k("n is required.");if(t<=n)throw new k("maximumValue must be greater than minimumValue.");return e=t<++e?n:e},v.isPowerOfTwo=function(e){if("number"!=typeof e||e<0||4294967295<e)throw new k("A number between 0 and (2^32)-1 is required.");return 0!==e&&0==(e&e-1)},v.nextPowerOfTwo=function(e){if("number"!=typeof e||e<0||2147483648<e)throw new k("A number between 0 and 2^31 is required.");return--e,e=(e=(e=(e=(e|=e>>1)|e>>2)|e>>4)|e>>8)|e>>16,++e},v.previousPowerOfTwo=function(e){if("number"!=typeof e||e<0||4294967295<e)throw new k("A number between 0 and (2^32)-1 is required.");return e=((e=(e=(e=(e=(e=(e|=e>>1)|e>>2)|e>>4)|e>>8)|e>>16)|e>>32)>>>0)-(e>>>1)},v.clamp=function(e,t,n){return y.typeOf.number("value",e),y.typeOf.number("min",t),y.typeOf.number("max",n),e<t?t:n<e?n:e},v.nextRandomNumber=function(){return randomNumberGenerator.random()},v.randomBetween=function(e,t){return v.nextRandomNumber()*(t-e)+e},v.acosClamped=function(e){if(E(e))return Math.acos(v.clamp(e,-1,1));throw new k("value is required.")},v.asinClamped=function(e){if(E(e))return Math.asin(v.clamp(e,-1,1));throw new k("value is required.")},v.chordLength=function(e,t){if(!E(e))throw new k("angle is required.");if(E(t))return 2*t*Math.sin(.5*e);throw new k("radius is required.")},v.logBase=function(e,t){if(!E(e))throw new k("number is required.");if(E(t))return Math.log(e)/Math.log(t);throw new k("base is required.")},v.cbrt=a(Math.cbrt,function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}),v.log2=a(Math.log2,function(e){return Math.log(e)*Math.LOG2E}),v.fog=function(e,t){e*=t;return 1-Math.exp(-e*e)},v.fastApproximateAtan=function(e){return y.typeOf.number("x",e),e*(-.1784*Math.abs(e)-.0663*e*e+1.0301)},v.fastApproximateAtan2=function(e,t){y.typeOf.number("x",e),y.typeOf.number("y",t);var n=Math.abs(e),r=Math.abs(t),i=Math.max(n,r),r=Math.min(n,r)/i;if(isNaN(r))throw new k("either x or y must be nonzero");return n=v.fastApproximateAtan(r),n=Math.abs(t)>Math.abs(e)?v.PI_OVER_TWO-n:n,n=e<0?v.PI-n:n,t<0?-n:n},v);function g(e,t,n){this.x=a(e,0),this.y=a(t,0),this.z=a(n,0)}g.fromSpherical=function(e,t){y.typeOf.object("spherical",e),E(t)||(t=new g);var n=e.clock,r=e.cone,e=a(e.magnitude,1),i=e*Math.sin(r);return t.x=i*Math.cos(n),t.y=i*Math.sin(n),t.z=e*Math.cos(r),t},g.fromElements=function(e,t,n,r){return E(r)?(r.x=e,r.y=t,r.z=n,r):new g(e,t,n)},g.fromCartesian4=g.clone=function(e,t){if(E(e))return E(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new g(e.x,e.y,e.z)},g.packedLength=3,g.pack=function(e,t,n){return y.typeOf.object("value",e),y.defined("array",t),n=a(n,0),t[n++]=e.x,t[n++]=e.y,t[n]=e.z,t},g.unpack=function(e,t,n){return y.defined("array",e),t=a(t,0),(n=E(n)?n:new g).x=e[t++],n.y=e[t++],n.z=e[t],n},g.packArray=function(e,t){y.defined("array",e);var n=e.length,r=3*n;if(E(t)){if(!Array.isArray(t)&&t.length!==r)throw new k("If result is a typed array, it must have exactly array.length * 3 elements");t.length!==r&&(t.length=r)}else t=new Array(r);for(var i=0;i<n;++i)g.pack(e[i],t,3*i);return t},g.unpackArray=function(e,t){if(y.defined("array",e),y.typeOf.number.greaterThanOrEquals("array.length",e.length,3),e.length%3!=0)throw new k("array length must be a multiple of 3.");var n=e.length;E(t)?t.length=n/3:t=new Array(n/3);for(var r=0;r<n;r+=3){var i=r/3;t[i]=g.unpack(e,r,t[i])}return t},g.fromArray=g.unpack,g.maximumComponent=function(e){return y.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z)},g.minimumComponent=function(e){return y.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z)},g.minimumByComponent=function(e,t,n){return y.typeOf.object("first",e),y.typeOf.object("second",t),y.typeOf.object("result",n),n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n},g.maximumByComponent=function(e,t,n){return y.typeOf.object("first",e),y.typeOf.object("second",t),y.typeOf.object("result",n),n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n},g.clamp=function(e,t,n,r){y.typeOf.object("value",e),y.typeOf.object("min",t),y.typeOf.object("max",n),y.typeOf.object("result",r);var i=gc.clamp(e.x,t.x,n.x),o=gc.clamp(e.y,t.y,n.y),e=gc.clamp(e.z,t.z,n.z);return r.x=i,r.y=o,r.z=e,r},g.magnitudeSquared=function(e){return y.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z},g.magnitude=function(e){return Math.sqrt(g.magnitudeSquared(e))};var bc=new g,xc=(g.distance=function(e,t){return y.typeOf.object("left",e),y.typeOf.object("right",t),g.subtract(e,t,bc),g.magnitude(bc)},g.distanceSquared=function(e,t){return y.typeOf.object("left",e),y.typeOf.object("right",t),g.subtract(e,t,bc),g.magnitudeSquared(bc)},g.normalize=function(e,t){y.typeOf.object("cartesian",e),y.typeOf.object("result",t);var n=g.magnitude(e);if(t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,isNaN(t.x)||isNaN(t.y)||isNaN(t.z))throw new k("normalized result is not a number");return t},g.dot=function(e,t){return y.typeOf.object("left",e),y.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z},g.multiplyComponents=function(e,t,n){return y.typeOf.object("left",e),y.typeOf.object("right",t),y.typeOf.object("result",n),n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n},g.divideComponents=function(e,t,n){return y.typeOf.object("left",e),y.typeOf.object("right",t),y.typeOf.object("result",n),n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n},g.add=function(e,t,n){return y.typeOf.object("left",e),y.typeOf.object("right",t),y.typeOf.object("result",n),n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n},g.subtract=function(e,t,n){return y.typeOf.object("left",e),y.typeOf.object("right",t),y.typeOf.object("result",n),n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n},g.multiplyByScalar=function(e,t,n){return y.typeOf.object("cartesian",e),y.typeOf.number("scalar",t),y.typeOf.object("result",n),n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n},g.divideByScalar=function(e,t,n){return y.typeOf.object("cartesian",e),y.typeOf.number("scalar",t),y.typeOf.object("result",n),n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n},g.negate=function(e,t){return y.typeOf.object("cartesian",e),y.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t},g.abs=function(e,t){return y.typeOf.object("cartesian",e),y.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t},new g),wc=(g.lerp=function(e,t,n,r){return y.typeOf.object("start",e),y.typeOf.object("end",t),y.typeOf.number("t",n),y.typeOf.object("result",r),g.multiplyByScalar(t,n,xc),r=g.multiplyByScalar(e,1-n,r),g.add(xc,r,r)},new g),_c=new g,Sc=(g.angleBetween=function(e,t){y.typeOf.object("left",e),y.typeOf.object("right",t),g.normalize(e,wc),g.normalize(t,_c);e=g.dot(wc,_c),t=g.magnitude(g.cross(wc,_c,wc));return Math.atan2(t,e)},new g),Tc=(g.mostOrthogonalAxis=function(e,t){y.typeOf.object("cartesian",e),y.typeOf.object("result",t);e=g.normalize(e,Sc);return g.abs(e,e),t=e.x<=e.y?e.x<=e.z?g.clone(g.UNIT_X,t):g.clone(g.UNIT_Z,t):e.y<=e.z?g.clone(g.UNIT_Y,t):g.clone(g.UNIT_Z,t)},g.projectVector=function(e,t,n){y.defined("a",e),y.defined("b",t),y.defined("result",n);e=g.dot(e,t)/g.dot(t,t);return g.multiplyByScalar(t,e,n)},g.equals=function(e,t){return e===t||E(e)&&E(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},g.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]},g.equalsEpsilon=function(e,t,n,r){return e===t||E(e)&&E(t)&&gc.equalsEpsilon(e.x,t.x,n,r)&&gc.equalsEpsilon(e.y,t.y,n,r)&&gc.equalsEpsilon(e.z,t.z,n,r)},g.cross=function(e,t,n){y.typeOf.object("left",e),y.typeOf.object("right",t),y.typeOf.object("result",n);var r=e.x,i=e.y,e=e.z,o=t.x,a=t.y,t=t.z,s=e*o-r*t,r=r*a-i*o;return n.x=i*t-e*a,n.y=s,n.z=r,n},g.midpoint=function(e,t,n){return y.typeOf.object("left",e),y.typeOf.object("right",t),y.typeOf.object("result",n),n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y),n.z=.5*(e.z+t.z),n},g.fromDegrees=function(e,t,n,r,i){return y.typeOf.number("longitude",e),y.typeOf.number("latitude",t),e=gc.toRadians(e),t=gc.toRadians(t),g.fromRadians(e,t,n,r,i)},new g),Ec=new g,kc=new g(40680631590769,40680631590769,40408299984661.445),Oc=(g.fromRadians=function(e,t,n,r,i){y.typeOf.number("longitude",e),y.typeOf.number("latitude",t),n=a(n,0);var r=E(r)?r.radiiSquared:kc,o=Math.cos(t),o=(Tc.x=o*Math.cos(e),Tc.y=o*Math.sin(e),Tc.z=Math.sin(t),Tc=g.normalize(Tc,Tc),g.multiplyComponents(r,Tc,Ec),Math.sqrt(g.dot(Tc,Ec)));return Ec=g.divideByScalar(Ec,o,Ec),Tc=g.multiplyByScalar(Tc,n,Tc),E(i)||(i=new g),g.add(Ec,Tc,i)},g.fromDegreesArray=function(e,t,n){if(y.defined("coordinates",e),e.length<2||e.length%2!=0)throw new k("the number of coordinates must be a multiple of 2 and at least 2");var r=e.length;E(n)?n.length=r/2:n=new Array(r/2);for(var i=0;i<r;i+=2){var o=e[i],a=e[i+1],s=i/2;n[s]=g.fromDegrees(o,a,0,t,n[s])}return n},g.fromRadiansArray=function(e,t,n){if(y.defined("coordinates",e),e.length<2||e.length%2!=0)throw new k("the number of coordinates must be a multiple of 2 and at least 2");var r=e.length;E(n)?n.length=r/2:n=new Array(r/2);for(var i=0;i<r;i+=2){var o=e[i],a=e[i+1],s=i/2;n[s]=g.fromRadians(o,a,0,t,n[s])}return n},g.fromDegreesArrayHeights=function(e,t,n){if(y.defined("coordinates",e),e.length<3||e.length%3!=0)throw new k("the number of coordinates must be a multiple of 3 and at least 3");var r=e.length;E(n)?n.length=r/3:n=new Array(r/3);for(var i=0;i<r;i+=3){var o=e[i],a=e[i+1],s=e[i+2],u=i/3;n[u]=g.fromDegrees(o,a,s,t,n[u])}return n},g.fromRadiansArrayHeights=function(e,t,n){if(y.defined("coordinates",e),e.length<3||e.length%3!=0)throw new k("the number of coordinates must be a multiple of 3 and at least 3");var r=e.length;E(n)?n.length=r/3:n=new Array(r/3);for(var i=0;i<r;i+=3){var o=e[i],a=e[i+1],s=e[i+2],u=i/3;n[u]=g.fromRadians(o,a,s,t,n[u])}return n},g.ZERO=Object.freeze(new g(0,0,0)),g.ONE=Object.freeze(new g(1,1,1)),g.UNIT_X=Object.freeze(new g(1,0,0)),g.UNIT_Y=Object.freeze(new g(0,1,0)),g.UNIT_Z=Object.freeze(new g(0,0,1)),g.prototype.clone=function(e){return g.clone(this,e)},g.prototype.equals=function(e){return g.equals(this,e)},g.prototype.equalsEpsilon=function(e,t,n){return g.equalsEpsilon(this,e,t,n)},g.prototype.toString=function(){return"(".concat(this.x,", ").concat(this.y,", ").concat(this.z,")")},g),Pc=new Oc,Mc=new Oc;var Ac=function(e,t,n,r,i){if(!E(e))throw new k("cartesian is required.");if(!E(t))throw new k("oneOverRadii is required.");if(!E(n))throw new k("oneOverRadiiSquared is required.");if(!E(r))throw new k("centerToleranceSquared is required.");var o=e.x,a=e.y,s=e.z,u=t.x,l=t.y,t=t.z,c=o*o*u*u,h=a*a*l*l,p=s*s*t*t,u=c+h+p,l=Math.sqrt(1/u),t=Oc.multiplyByScalar(e,l,Pc);if(u<r)return isFinite(l)?Oc.clone(t,i):void 0;var f=n.x,d=n.y,y=n.z,v=((u=Mc).x=t.x*f*2,u.y=t.y*d*2,u.z=t.z*y*2,(1-l)*Oc.magnitude(e)/(.5*Oc.magnitude(u))),m=0;do{var g,b,x,w,_,S,T,m=(T=c*(w=(g=1/(1+(v-=m)*f))*g)+h*(_=(b=1/(1+v*d))*b)+p*(S=(x=1/(1+v*y))*x)-1)/(-2*(c*(w*g)*f+h*(_*b)*d+p*(S*x)*y))}while(Math.abs(T)>gc.EPSILON12);return E(i)?(i.x=o*g,i.y=a*b,i.z=s*x,i):new Oc(o*g,a*b,s*x)};function b(e,t,n){this.longitude=a(e,0),this.latitude=a(t,0),this.height=a(n,0)}b.fromRadians=function(e,t,n,r){return y.typeOf.number("longitude",e),y.typeOf.number("latitude",t),n=a(n,0),E(r)?(r.longitude=e,r.latitude=t,r.height=n,r):new b(e,t,n)},b.fromDegrees=function(e,t,n,r){return y.typeOf.number("longitude",e),y.typeOf.number("latitude",t),e=gc.toRadians(e),t=gc.toRadians(t),b.fromRadians(e,t,n,r)};var Rc=new Oc,Cc=new Oc,Lc=new Oc,Ic=new Oc(1/6378137,1/6378137,1/6356752.314245179),Dc=new Oc(1/40680631590769,1/40680631590769,1/40408299984661.445),jc=gc.EPSILON1,Nc=(b.fromCartesian=function(e,t,n){var r=E(t)?t.oneOverRadii:Ic,i=E(t)?t.oneOverRadiiSquared:Dc,t=E(t)?t._centerToleranceSquared:jc,r=Ac(e,r,i,t,Cc);if(E(r))return t=Oc.multiplyComponents(r,i,Rc),t=Oc.normalize(t,t),i=Oc.subtract(e,r,Lc),r=Math.atan2(t.y,t.x),t=Math.asin(t.z),e=gc.sign(Oc.dot(i,e))*Oc.magnitude(i),E(n)?(n.longitude=r,n.latitude=t,n.height=e,n):new b(r,t,e)},b.toCartesian=function(e,t,n){return y.defined("cartographic",e),Oc.fromRadians(e.longitude,e.latitude,e.height,t,n)},b.clone=function(e,t){if(E(e))return E(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new b(e.longitude,e.latitude,e.height)},b.equals=function(e,t){return e===t||E(e)&&E(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},b.equalsEpsilon=function(e,t,n){return n=a(n,0),e===t||E(e)&&E(t)&&Math.abs(e.longitude-t.longitude)<=n&&Math.abs(e.latitude-t.latitude)<=n&&Math.abs(e.height-t.height)<=n},b.ZERO=Object.freeze(new b(0,0,0)),b.prototype.clone=function(e){return b.clone(this,e)},b.prototype.equals=function(e){return b.equals(this,e)},b.prototype.equalsEpsilon=function(e,t){return b.equalsEpsilon(this,e,t)},b.prototype.toString=function(){return"(".concat(this.longitude,", ").concat(this.latitude,", ").concat(this.height,")")},b);function Fc(e){this._semimajorAxis=6378137,this._oneOverSemimajorAxis=1/this._semimajorAxis}Object.defineProperties(Fc.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),Fc.mercatorAngleToGeodeticLatitude=function(e){return gc.PI_OVER_TWO-2*Math.atan(Math.exp(-e))},Fc.geodeticLatitudeToMercatorAngle=function(e){Fc.MaximumLatitude<e?e=Fc.MaximumLatitude:e<-Fc.MaximumLatitude&&(e=-Fc.MaximumLatitude);e=Math.sin(e);return.5*Math.log((1+e)/(1-e))},Fc.MaximumLatitude=Fc.mercatorAngleToGeodeticLatitude(Math.PI),Fc.prototype.project=function(e,t){var n=this._semimajorAxis,r=e.longitude*n,n=Fc.geodeticLatitudeToMercatorAngle(e.latitude)*n,e=e.height;return E(t)?(t.x=r,t.y=n,t.z=e,t):new Oc(r,n,e)},Fc.prototype.unproject=function(e,t){var n,r;if(E(e))return r=this._oneOverSemimajorAxis,n=e.x*r,r=Fc.mercatorAngleToGeodeticLatitude(e.y*r),e=e.z,E(t)?(t.longitude=n,t.latitude=r,t.height=e,t):new Nc(n,r,e);throw new k("cartesian is required")};var Uc=Fc;function Bc(e){return(Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Bc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Bc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Bc(e)?e:String(e)}(r.key),r)}}n=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._url=void 0!==(e=e||{}).url?e.url:"",this._offset=null!=e.offset?parseFloat(e.offset):1,this._height=this._offset,this._isClamp=null==e.isClamp||e.isClamp,this._decoderURL=e.decoderURL,this._container=null,this._map=null,this._camera=null,this._renderer=null,this._scene=new ve,this._lightManager=null,this._update=this._update.bind(this),this._checkEvent=this._checkEvent.bind(this),this._isInit=!1,this._tilesParent=null,this._targetTiles=null,this._transform=null,this._pos=null,this._transM=null,this._rotationM=null,this._mvpM=null,this._tiles=null,this._needsRerender=!0,this._sizeMesh=null}var e,n,r;return e=t,(n=[{key:"visible",get:function(){return this._visible},set:function(e){this._visible=e,this._scene.visible=this._visible,this._map.enableUpdateRender()}},{key:"addTo",value:function(e){this._map=e,this._height=this._map.getFloor(this._map.getVisibleLevels()[0]).height-this._offset,this._map.getRenderManager().set3DTilesLayerSceneArr(this._scene),this._init(),this._putLight(),this._needsRerender=!0}},{key:"remove",value:function(){for(var e=this._map.getRenderManager().get3DTilesLayerSceneArr(),t=e.length-1;0<=t;t--)e[t]===this._scene&&e.splice(t,1);0==e.length&&(this._map.off("update",this._update),this._map.off("viewModeChanged",this._checkEvent),this._map.off("visibleLevelsLoaded",this._checkEvent),this._isInit=!1),this._map.enableUpdateRender(),0==e.length&&(this._map=null),this._targetTiles&&(this._targetTiles.dispose(),this._targetTiles=null),this._sizeMesh&&(this._scene.remove(this._sizeMesh),this._sizeMesh.geometry.dispose(),this._sizeMesh.material.dispose(),this._sizeMesh=void 0)}}])&&zc(e.prototype,n),r&&zc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Object.assign(n.prototype,{_init:function(){this._isInit||(this._lightManager=new nc(this._map).createLight(this,"FMExternalModelLayer"),this._container=this._map.getContainer(),this._map.on("update",this._update),this._map.on("viewModeChanged",this._checkEvent),this._map.on("visibleLevelsLoaded",this._checkEvent),this._getData(this._url),this._isInit=!0)},_putLight:function(){this._scene.add(this._mainLight),this._scene.add(this._ambientLight),this._scene.add(this._secondLight)},_getData:function(e){var t=this;new hc({method:"GET",responseType:"json",url:e})._send(function(e){e&&(t._transform=e.root.transform,t._mvpM=new m,t._pos=t._computePos(),t._transM=new m,t._transM.makeTranslation(t._pos.offsetX,t._pos.offsetY,t._height),t._camera=t._map.camera,t._renderer=t._map.getRenderManager().renderer,t._addTilesParent(),t._addTargetTiles())},function(e){})},_addTilesParent:function(){this._tilesParent=new w0,this._tilesParent.rotation.set(0,0,0),this._scene.add(this._tilesParent)},_addTargetTiles:function(){var o=this,a=this,e=(this._targetTiles=new Kl(this._url),new Au(this._targetTiles.manager)),t=(this._decoderURL&&((t=new Jl).setDecoderPath(this._decoderURL),e.setDRACOLoader(t)),this._targetTiles.fetchOptions.mode="cors",this._targetTiles.manager.addHandler(/\.gltf$/,e),this._targetTiles.manager.addHandler(/\.glb$/,e),this._targetTiles.onLoadModel=function(e){e.traverse(function(e){e.isMesh&&(e.renderOrder=-8,e.material.map.encoding=3e3,e.material.map.wrapS=1001,e.material.map.wrapT=1001,e.material.map.minFilter=1006)}),a._needsRerender=!0},this._targetTiles.onDisposeModel=function(e){e.traverse(function(e){e.isMesh&&e.material.dispose()}),a._needsRerender=!0},this._targetTiles.onLoadTileSet=function(){var e,t,n=new Ne,r=new m,i=new m,n=(i.fromArray(a._transform),o._targetTiles.getOrientedBounds(n,r)&&(t=(e=(new w).setFromMatrixPosition(i)).length()),e.normalize()),r=new w(0,1,0),i=o.rotationBetweenDirections(n,r);o._targetTiles.group.quaternion.x=i.x,o._targetTiles.group.quaternion.y=i.y,o._targetTiles.group.quaternion.z=i.z,o._targetTiles.group.quaternion.w=i.w,o._targetTiles.group.position.y=-t,a._needsRerender=!0},this._tilesParent.add(this._targetTiles.group),this._tilesParent.position.x=a._pos.offsetX,this._tilesParent.position.z=a._pos.offsetY,this._tilesParent.position.y=a._height,this._tilesParent.rotation.y=gc.PI-gc.PI/20,this._targetTiles.lruCache.maxSize);this._sizeMesh=new f0(new bt(t,t),new _t({visible:!1})),this._sizeMesh.position.x=a._pos.offsetX,this._sizeMesh.position.z=a._pos.offsetY,this._sizeMesh.position.y=a._height,this._sizeMesh.rotation.x=-gc.PI/2,this._scene.add(this._sizeMesh)},rotationBetweenDirections:function(e,t){var n=new z,r=(new w).crossVectors(e,t);return n.x=r.x,n.y=r.y,n.z=r.z,n.w=1+e.clone().dot(t),n.normalize(),n},_computePos:function(){var e=this._map.getBuilding(this._map.getMapOptions().mapID),t=e.x,e=e.y,n=this._transform[12],r=this._transform[13],i=this._transform[14],n=new Oc(n,r,i),r=Nc.fromCartesian(n),i=(new Uc).project(r);return{offsetX:i.x-t,offsetY:e-i.y}},_update:function(){this._targetTiles&&(this._targetTiles.setCamera(this._camera),this._targetTiles.setResolutionFromRenderer(this._camera,this._renderer),this._targetTiles.update(),this._needsRerender)&&(null!=this._map&&this._map.enableUpdateRender(),this._needsRerender=!1)},_checkEvent:function(e){"viewModeChanged"==e.type&&(this._targetTiles.deleteCamera(this._camera),this._camera=this._map.camera,this._targetTiles.setCamera(this._camera),this._targetTiles.setResolutionFromRenderer(this._camera,this._renderer),this._targetTiles.update()),this._height=this._map.getFloor(this._map.getVisibleLevels()[0]).height-this._offset,this._isClamp&&(this._tilesParent.position.y=this._height)}}),I3=n;function Gc(e,t,n,r){e=e||10,t=t||10,n=new d(void 0!==n?n:4473924),r=new d(void 0!==r?r:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],u=[],l=0,c=0,h=-a;l<=t;l++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var p=l===i?n:r;p.toArray(u,c),c+=3,p.toArray(u,c),c+=3,p.toArray(u,c),c+=3,p.toArray(u,c),c+=3}var e=new gt,f=(e.setAttribute("position",new S(s,3)),e.setAttribute("color",new S(u,3)),new R6({vertexColors:!0,toneMapped:!1}));u3.call(this,e,f)}function Hc(e){return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Hc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Hc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Hc(e)?e:String(e)}(r.key),r)}}Gc.prototype=Object.assign(Object.create(u3.prototype),{constructor:Gc,copy:function(e){return u3.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}});C3=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._offset=e.offset,void 0===this._offset&&(this._offset=1),this._color=e.color,void 0===this._color&&(this._color="#6E6A62"),this._opacity=e.opacity,void 0===this._opacity&&(this._opacity=1),this._gridColor=e.gridColor,void 0===this._gridColor&&(this._gridColor="#000000"),this._gridOpacity=e.gridOpacity,void 0===this._gridOpacity&&(this._gridOpacity=.1),this._size=1e3,this._scene=new ve,this._plane=new Mt(new w(0,1,0),0),this._raycaster=new v0,this._bound=null,this._ground=null,this._grid=null,this._map=null,this._visible=!0,this._updateHeight=this._updateHeight.bind(this)}var e,n,r;return e=t,(n=[{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._ground.material.color=new d(e),this._mapUpdate()}},{key:"opacity",get:function(){return this._opacity},set:function(e){this._opacity=e,this._ground.material.opacity=e,this._mapUpdate()}},{key:"gridColor",get:function(){return this._gridColor},set:function(e){this._gridColor=e,this._grid.material.color=new d(e),this._mapUpdate()}},{key:"gridOpacity",get:function(){return this._gridOpacity},set:function(e){this._gridOpacity=e,this._grid.material.opacity=e,this._mapUpdate()}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible=e,this._ground.visible=e,this._grid.visible=e,this._mapUpdate()}},{key:"addTo",value:function(e){this._map=e,this._bound=this._map.getBuilding(this._map.getMapOptions().mapID).bound,this._size=20*Math.ceil(Math.max(this._bound.size.x,this._bound.size.y)),this._map.getRenderManager().setGroundLayerScene(this._scene),this._initGround(),this._mapUpdate()}},{key:"remove",value:function(){this._scene.remove(this._ground),this._scene.remove(this._grid),this._ground.geometry.dispose(),this._ground=void 0,this._grid.material.dispose(),this._grid=void 0,this._map.off("levelChanged",this._updateHeight),this._map.getRenderManager().setGroundLayerScene(void 0),this._map.enableUpdateRender()}}])&&Vc(e.prototype,n),r&&Vc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Object.assign(C3.prototype,{_initGround:function(){this._ground=new f0(new bt(this._size,this._size),new _t({color:new d(this._color),opacity:this._opacity,transparent:!0,depthWrite:!1})),this._ground.renderOrder=-9,this._ground.material.polygonOffset=!0,this._ground.material.polygonOffsetFactor=1,this._ground.material.polygonOffsetUnits=4;var e=this._map.getFloor(this._map.getVisibleLevels()[0]).height-this._offset;this._ground.position.x=this._bound.center.x-this._map.x,this._ground.position.y=e,this._ground.position.z=this._map.y-this._bound.center.y,this._ground.rotation.x=-Math.PI/2,this._scene.add(this._ground),this._grid=new Gc(this._size,40,this._gridColor,this._gridColor),this._grid.material.opacity=this._gridOpacity,this._grid.material.depthWrite=!1,this._grid.material.transparent=!0,this._grid.material.polygonOffset=!0,this._grid.material.polygonOffsetFactor=1,this._grid.material.polygonOffsetUnits=4,this._grid.position.x=this._bound.center.x-this._map.x,this._grid.position.y=e,this._grid.position.z=this._map.y-this._bound.center.y,this._grid.renderOrder=-9,this._scene.add(this._grid),this._map.on("levelChanged",this._updateHeight)},_updateHeight:function(){var e=this._map.getFloor(this._map.getVisibleLevels()[0]).height-this._offset;this._ground.position.y=e,this._grid.position.y=e},_mapUpdate:function(){this._map.enableUpdateRender()}}),L3=C3;function Wc(e,t,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),_.call(this,e,t,n),this.meshPerAttribute=r||1}function qc(e,t,n){K6.call(this,e,t),this.meshPerAttribute=n||1}Wc.prototype=Object.assign(Object.create(_.prototype),{constructor:Wc,isInstancedBufferAttribute:!0,copy:function(e){return _.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),qc.prototype=Object.assign(Object.create(K6.prototype),{constructor:qc,isInstancedInterleavedBuffer:!0,copy:function(e){return K6.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}});var Yc=1,Xc=new m,Zc=new s,Kc=new w,Qc=new Ne,Jc=new Ne,$c=new w;function e8(){Object.defineProperty(this,"id",{value:Yc+=2}),this.uuid=x.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function t8(){e8.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function n8(e){return(n8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=n8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=n8(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==n8(e)?e:String(e)}(r.key),r)}}e8.prototype=Object.assign(Object.create(Q.prototype),{constructor:e8,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(65535<ct(e)?ot:rt)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position,t=(void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0),this.attributes.normal),n=(void 0!==t&&(n=(new ne).getNormalMatrix(e),t.applyNormalMatrix(n),t.needsUpdate=!0),this.attributes.tangent);return void 0!==n&&(n.transformDirection(e),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Xc.makeRotationX(e),this.applyMatrix4(Xc),this},rotateY:function(e){return Xc.makeRotationY(e),this.applyMatrix4(Xc),this},rotateZ:function(e){return Xc.makeRotationZ(e),this.applyMatrix4(Xc),this},translate:function(e,t,n){return Xc.makeTranslation(e,t,n),this.applyMatrix4(Xc),this},scale:function(e,t,n){return Xc.makeScale(e,t,n),this.applyMatrix4(Xc),this},lookAt:function(e){return Zc.lookAt(e),Zc.updateMatrix(),this.applyMatrix4(Zc.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kc).negate(),this.translate(Kc.x,Kc.y,Kc.z),this},setFromObject:function(e){var t,n,r=e.geometry;return e.isPoints||e.isLine?(n=new S(3*r.vertices.length,3),t=new S(3*r.colors.length,3),this.setAttribute("position",n.copyVector3sArray(r.vertices)),this.setAttribute("color",t.copyColorsArray(r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length&&(n=new S(r.lineDistances.length,1),this.setAttribute("lineDistance",n.copyArray(r.lineDistances))),null!==r.boundingSphere&&(this.boundingSphere=r.boundingSphere.clone()),null!==r.boundingBox&&(this.boundingBox=r.boundingBox.clone())):e.isMesh&&r&&r.isGeometry&&this.fromGeometry(r),this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new S(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new lt).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t,n=new Float32Array(3*e.vertices.length);for(t in this.setAttribute("position",new _(n,3).copyVector3sArray(e.vertices)),0<e.normals.length&&(n=new Float32Array(3*e.normals.length),this.setAttribute("normal",new _(n,3).copyVector3sArray(e.normals))),0<e.colors.length&&(n=new Float32Array(3*e.colors.length),this.setAttribute("color",new _(n,3).copyColorsArray(e.colors))),0<e.uvs.length&&(n=new Float32Array(2*e.uvs.length),this.setAttribute("uv",new _(n,2).copyVector2sArray(e.uvs))),0<e.uvs2.length&&(n=new Float32Array(2*e.uvs2.length),this.setAttribute("uv2",new _(n,2).copyVector2sArray(e.uvs2))),this.groups=e.groups,e.morphTargets){for(var r=[],i=e.morphTargets[t],o=0,a=i.length;o<a;o++){var s=i[o],u=new S(3*s.data.length,3);u.name=s.name,r.push(u.copyVector3sArray(s.data))}this.morphAttributes[t]=r}return 0<e.skinIndices.length&&(n=new S(4*e.skinIndices.length,4),this.setAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))),0<e.skinWeights.length&&(n=new S(4*e.skinWeights.length,4),this.setAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ne);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Qc.setFromBufferAttribute(i),this.morphTargetsRelative?($c.addVectors(this.boundingBox.min,Qc.min),this.boundingBox.expandByPoint($c),$c.addVectors(this.boundingBox.max,Qc.max),this.boundingBox.expandByPoint($c)):(this.boundingBox.expandByPoint(Qc.min),this.boundingBox.expandByPoint(Qc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ut);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(Qc.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];Jc.setFromBufferAttribute(o),this.morphTargetsRelative?($c.addVectors(Qc.min,Jc.min),Qc.expandByPoint($c),$c.addVectors(Qc.max,Jc.max),Qc.expandByPoint($c)):(Qc.expandByPoint(Jc.min),Qc.expandByPoint(Jc.max))}Qc.getCenter(n);for(var a=0,r=0,i=e.count;r<i;r++)$c.fromBufferAttribute(e,r),a=Math.max(a,n.distanceToSquared($c));if(t)for(r=0,i=t.length;r<i;r++)for(var o=t[r],s=this.morphTargetsRelative,u=0,l=o.count;u<l;u++)$c.fromBufferAttribute(o,u),s&&(Kc.fromBufferAttribute(e,u),$c.add(Kc)),a=Math.max(a,n.distanceToSquared($c));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new _(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var a,s,u,l=t.normal.array,c=new w,h=new w,p=new w,f=new w,d=new w;if(e)for(var y=e.array,i=0,o=e.count;i<o;i+=3)a=3*y[i+0],s=3*y[i+1],u=3*y[i+2],c.fromArray(n,a),h.fromArray(n,s),p.fromArray(n,u),f.subVectors(p,h),d.subVectors(c,h),f.cross(d),l[a]+=f.x,l[1+a]+=f.y,l[2+a]+=f.z,l[s]+=f.x,l[1+s]+=f.y,l[2+s]+=f.z,l[u]+=f.x,l[1+u]+=f.y,l[2+u]+=f.z;else for(i=0,o=n.length;i<o;i+=9)c.fromArray(n,i),h.fromArray(n,i+3),p.fromArray(n,i+6),f.subVectors(p,h),d.subVectors(c,h),f.cross(d),l[i]=f.x,l[i+1]=f.y,l[i+2]=f.z,l[i+3]=f.x,l[i+4]=f.y,l[i+5]=f.z,l[i+6]=f.x,l[i+7]=f.y,l[i+8]=f.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)$c.x=e.getX(t),$c.y=e.getY(t),$c.z=e.getZ(t),$c.normalize(),e.setXYZ(t,$c.x,$c.y,$c.z)},dispose:function(){this.dispatchEvent({type:"dispose"})}}),t8.prototype=Object.assign(Object.create(e8.prototype),{constructor:t8,isInstancedBufferGeometry:!0,copy:function(e){return e8.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}});var T=function(){function o(e,t,n,r,i){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.layerName=null!=e?e:null,this.blockName=null!=t?t:null,this.geometryType=null!=n?n:null,this.color=r,this.lineType=null!=i?i:null}var e,t,n;return e=o,(t=[{key:"Compare",value:function(e){var t=i8(this.layerName,e.layerName);return 0!==t||0!==(t=i8(this.blockName,e.blockName))||0!==(t=i8(this.geometryType,e.geometryType))||0!==(t=i8(this.color,e.color))?t:i8(this.lineType,e.lineType)}},{key:"IsIndexed",value:function(){return this.geometryType===o.GeometryType.INDEXED_LINES||this.geometryType===o.GeometryType.INDEXED_TRIANGLES}},{key:"IsInstanced",value:function(){return this.geometryType===o.GeometryType.BLOCK_INSTANCE||this.geometryType===o.GeometryType.POINT_INSTANCE}}])&&r8(e.prototype,t),n&&r8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}();function i8(e,t){return null===e?null===t?0:-1:null===t?1:e<t?-1:t<e?1:0}function o8(e){this._pointer=0,this._data=e,this._eof=!1}function a8(e,t){if(e<=9)return t;if(10<=e&&e<=59)return parseFloat(t.trim());if(60<=e&&e<=99)return parseInt(t.trim());if(100<=e&&e<=109)return t;if(110<=e&&e<=149)return parseFloat(t.trim());if(160<=e&&e<=179)return parseInt(t.trim());if(210<=e&&e<=239)return parseFloat(t.trim());if(270<=e&&e<=289)return parseInt(t.trim());if(290<=e&&e<=299){var n=t.trim();if("0"===n)return!1;if("1"===n)return!0;throw TypeError("String '"+n+"' cannot be cast to Boolean type")}return 300<=e&&e<=369?t:370<=e&&e<=389?parseInt(t.trim()):390<=e&&e<=399?t:400<=e&&e<=409?parseInt(t.trim()):410<=e&&e<=419?t:420<=e&&e<=429?parseInt(t.trim()):430<=e&&e<=439?t:440<=e&&e<=459?parseInt(t.trim()):460<=e&&e<=469?parseFloat(t.trim()):470<=e&&e<=481||999===e||1e3<=e&&e<=1009?t:1010<=e&&e<=1059?parseFloat(t.trim()):1060<=e&&e<=1071?parseInt(t.trim()):t}T.GeometryType=Object.freeze({POINTS:0,LINES:1,INDEXED_LINES:2,TRIANGLES:3,INDEXED_TRIANGLES:4,BLOCK_INSTANCE:5,POINT_INSTANCE:6}),o8.prototype.next=function(){var e;if(this.hasNext())return e={code:parseInt(this._data[this._pointer])},this._pointer++,e.value=a8(e.code,this._data[this._pointer]),this._pointer++,0===e.code&&"EOF"===e.value&&(this._eof=!0),this.lastReadGroup=e;throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer])},o8.prototype.peek=function(){var e;if(this.hasNext())return(e={code:parseInt(this._data[this._pointer])}).value=a8(e.code,this._data[this._pointer+1]),e;throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer])},o8.prototype.rewind=function(e){this._pointer=this._pointer-2*(e=e||1)},o8.prototype.hasNext=function(){return!(this._eof||this._pointer>this._data.length-2)},o8.prototype.isEOF=function(){return this._eof};var s8=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215],n=e(0),O=e.n(n);function u8(e){return(u8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=u8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=u8(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==u8(e)?e:String(e)}(r.key),r)}}var c8=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.appName=null,this.appNameWarningShown=!1,this.lastString=null,this.sectionStack=[this._CreateSection()],this.failure=!1}var t,n,r;return t=e,(n=[{key:"Feed",value:function(e){if(this.appName){if(1001==e.code)return!0;if(!this.failure)if(1e3==e.code)this.lastString&&O.a.warn("XDATA section unused string: "+this.lastString),this.lastString=e.value;else{var t,n=this._currentSection;if(1002==e.code)return"{"==e.value?this.lastString?(t=this._CreateSection(),n[this.lastString]=t,this.lastString=null,this.sectionStack.push(t),!1):(O.a.warn("Unnamed XDATA section encountered"),!(this.failure=!0)):"}"==e.value?this.sectionStack.length<2?(O.a.warn("Unmatched XDATA section closing"),!(this.failure=!0)):(this.sectionStack.length=this.sectionStack.length-1,!1):(O.a.warn("Bad XDATA section control string encountered: "+e.value),!(this.failure=!0));null!==this.lastString&&(n.values.push(this._CreateValue(1e3,this.lastString)),this.lastString=null),n.values.push(this._CreateValue(e.code,e.value))}}else 1001==e.code?this.appName=e.value:this.appNameWarningShown||(this.appNameWarningShown=!0,O.a.warn("XDATA section does not start with application name"));return!1}},{key:"Finish",value:function(e){var t;this.failure||this.appName&&(e.hasOwnProperty("xdata")?t=e.xdata:e.xdata=t={},t[this.appName]=this.sectionStack[0])}},{key:"_currentSection",get:function(){return this.sectionStack[this.sectionStack.length-1]}},{key:"_CreateSection",value:function(){return{values:[]}}},{key:"_CreateValue",value:function(e,t){return{code:e,value:t}}}])&&l8(t.prototype,n),r&&l8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e){var t={},n=(e.rewind(),e.next()),r=n.code;if(t.x=n.value,r+=10,(n=e.next()).code!==r)throw new Error("Expected code for point value to be "+r+" but got "+n.code+".");return t.y=n.value,r+=10,(n=e.next()).code!==r?e.rewind():t.z=n.value,t}function h8(e){if(e.rewind(),101!==e.next().code)throw new Error("Bad call for skipEmbeddedObject()");for(;0!==e.next().code;);e.rewind()}function p8(e,t,n){for(var r,i=null;1e3<=t.code;)(i=null==i?new c8:i).Feed(t)?(i.Finish(e),i=null):t=n.next();if(i)i.Finish(e),n.rewind();else switch(t.code){case 0:e.type=t.value;break;case 5:e.handle=t.value;break;case 6:e.lineType=t.value;break;case 8:e.layer=t.value;break;case 48:e.lineTypeScale=t.value;break;case 60:e.visible=0===t.value;break;case 62:e.colorIndex=t.value,e.color=(r=Math.abs(t.value),s8[r]);break;case 67:e.inPaperSpace=0!==t.value;break;case 100:break;case 330:e.ownerHandle=t.value;break;case 347:e.materialObjectHandle=t.value;break;case 370:e.lineweight=t.value;break;case 420:e.color=t.value;break;default:return}}function f8(){}function d8(){}function y8(){}function v8(){}function m8(){}function g8(){}function b8(){}function x8(){}function w8(){}function _8(){}function S8(){}function T8(){}function E8(){}function k8(){}function O8(){}function P8(){}function M8(){}function A8(){}f8.ForEntityName="3DFACE",f8.prototype.parseEntity=function(e,t){var n={type:t.value,vertices:[]};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 70:n.shape=1==(1&t.value),n.hasContinuousLinetypePattern=128==(128&t.value);break;case 10:n.vertices=function(e,t){var n,r=[],i=!1,o=!1;for(n=0;n<=4;n++){for(var a={};"EOF"!==t&&0!==t.code&&!o;){switch(t.code){case 10:case 11:case 12:case 13:if(i){o=!0;continue}a.x=t.value,i=!0;break;case 20:case 21:case 22:case 23:a.y=t.value;break;case 30:case 31:case 32:case 33:a.z=t.value;break;default:return r}t=e.next()}r.push(a),o=i=!1}return e.rewind(),r}(e,t),t=e.lastReadGroup;break;default:p8(n,t,e)}t=e.next()}return n},d8.ForEntityName="ARC",d8.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.center=P(e);break;case 40:n.radius=t.value;break;case 50:n.startAngle=Math.PI/180*t.value;break;case 51:n.endAngle=Math.PI/180*t.value;break;case 210:n.extrusionDirection=P(e);break;default:p8(n,t,e)}t=e.next()}return n},y8.ForEntityName="ATTDEF",y8.prototype.parseEntity=function(e,t){var n={type:t.value,scale:1,textStyle:"STANDARD"};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 1:n.text=t.value;break;case 2:n.tag=t.value;break;case 3:n.prompt=t.value;break;case 7:n.textStyle=t.value;break;case 10:n.startPoint=P(e);break;case 11:n.endPoint=P(e);break;case 39:n.thickness=t.value;break;case 40:n.textHeight=t.value;break;case 41:n.scale=t.value;break;case 50:n.rotation=t.value;break;case 51:n.obliqueAngle=t.value;break;case 70:n.invisible=!!(1&t.value),n.constant=!!(2&t.value),n.verificationRequired=!!(4&t.value),n.preset=!!(8&t.value);break;case 71:n.backwards=!!(2&t.value),n.mirrored=!!(4&t.value);break;case 72:n.horizontalJustification=t.value;break;case 73:n.fieldLength=t.value;break;case 74:n.verticalJustification=t.value;break;case 100:break;case 101:h8(e);break;case 210:n.extrusionDirection=P(e);break;default:p8(n,t,e)}t=e.next()}return n},v8.ForEntityName="ATTRIB",v8.prototype.parseEntity=function(e,t){var n={type:t.value,scale:1,textStyle:"STANDARD"};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 1:n.text=t.value;break;case 2:n.tag=t.value;break;case 3:n.prompt=t.value;break;case 7:n.textStyle=t.value;break;case 10:n.startPoint=P(e);break;case 11:n.endPoint=P(e);break;case 39:n.thickness=t.value;break;case 40:n.textHeight=t.value;break;case 41:n.scale=t.value;break;case 44:n.lineSpacingFactor=t.value;break;case 45:n.fillBoxScale=t.value;break;case 46:n.annotationHeight=t.value;break;case 50:n.rotation=t.value;break;case 51:n.obliqueAngle=t.value;break;case 63:n.backgroundFillColor=t.value;break;case 70:n.invisible=!!(1&t.value),n.constant=!!(2&t.value),n.verificationRequired=!!(4&t.value),n.preset=!!(8&t.value);break;case 71:n.attachmentPoint=t.value;break;case 72:n.horizontalJustification=t.value;break;case 73:n.lineSpacing=t.value;break;case 74:n.verticalJustification=t.value;break;case 90:n.backgroundFillSetting=t.value;break;case 100:break;case 210:n.extrusionDirection=P(e);break;case 280:n.lockPositionFlag=t.value;break;case 340:n.hardPointerId=t.value;break;default:p8(n,t,e)}t=e.next()}return n},m8.ForEntityName="CIRCLE",m8.prototype.parseEntity=function(e,t){var n,r={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:r.center=P(e);break;case 40:r.radius=t.value;break;case 50:r.startAngle=Math.PI/180*t.value;break;case 51:n=Math.PI/180*t.value,r.angleLength=n<r.startAngle?n+2*Math.PI-r.startAngle:n-r.startAngle,r.endAngle=n;break;case 210:r.extrusionDirection=P(e);break;default:p8(r,t,e)}t=e.next()}return r},g8.ForEntityName="DIMENSION",g8.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 2:n.block=t.value;break;case 3:n.styleName=t.value;break;case 10:n.anchorPoint=P(e);break;case 11:n.middleOfText=P(e);break;case 12:n.insertionPoint=P(e);break;case 13:n.linearOrAngularPoint1=P(e);break;case 14:n.linearOrAngularPoint2=P(e);break;case 15:n.diameterOrRadiusPoint=P(e);break;case 16:n.arcPoint=P(e);break;case 70:n.dimensionType=t.value;break;case 71:n.attachmentPoint=t.value;break;case 42:n.actualMeasurement=t.value;break;case 1:n.text=t.value;break;case 50:n.angle=t.value;break;case 53:n.textRotation=t.value;break;default:p8(n,t,e)}t=e.next()}return n},b8.ForEntityName="ELLIPSE",b8.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.center=P(e);break;case 11:n.majorAxisEndPoint=P(e);break;case 40:n.axisRatio=t.value;break;case 41:n.startAngle=t.value;break;case 42:n.endAngle=t.value;break;case 2:n.name=t.value;break;case 210:n.extrusionDirection=P(e);break;default:p8(n,t,e)}t=e.next()}return n},x8.ForEntityName="INSERT",x8.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 2:n.name=t.value;break;case 41:n.xScale=t.value;break;case 42:n.yScale=t.value;break;case 43:n.zScale=t.value;break;case 10:n.position=P(e);break;case 50:n.rotation=t.value;break;case 70:n.columnCount=t.value;break;case 71:n.rowCount=t.value;break;case 44:n.columnSpacing=t.value;break;case 45:n.rowSpacing=t.value;break;case 210:n.extrusionDirection=P(e);break;default:p8(n,t,e)}t=e.next()}return n},w8.ForEntityName="LINE",w8.prototype.parseEntity=function(e,t){var n={type:t.value,vertices:[]};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.vertices.unshift(P(e));break;case 11:n.vertices.push(P(e));break;case 210:n.extrusionDirection=P(e);break;case 100:break;default:p8(n,t,e)}t=e.next()}return n},_8.ForEntityName="LWPOLYLINE",_8.prototype.parseEntity=function(e,t){var n={type:t.value,vertices:[]},r=0;for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 38:n.elevation=t.value;break;case 39:n.depth=t.value;break;case 70:n.shape=1==(1&t.value),n.hasContinuousLinetypePattern=128==(128&t.value);break;case 90:r=t.value;break;case 10:n.vertices=function(e,t){if(!e||e<=0)throw Error("n must be greater than 0 vertices");var n,r=[],i=!1,o=!1,a=t.lastReadGroup;for(n=0;n<e;n++){for(var s={};"EOF"!==a&&0!==a.code&&!o;){switch(a.code){case 10:if(i){o=!0;continue}s.x=a.value,i=!0;break;case 20:s.y=a.value;break;case 30:s.z=a.value;break;case 40:s.startWidth=a.value;break;case 41:s.endWidth=a.value;break;case 42:0!=a.value&&(s.bulge=a.value);break;case 91:s.id=a.value;break;default:return i&&r.push(s),t.rewind(),r}a=t.next()}r.push(s),o=i=!1}return t.rewind(),r}(r,e);break;case 43:0!==t.value&&(n.width=t.value);break;case 210:n.extrusionDirection=P(e);break;default:p8(n,t,e)}t=e.next()}return n},S8.ForEntityName="MTEXT",S8.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 3:case 1:n.text?n.text+=t.value:n.text=t.value;break;case 10:n.position=P(e);break;case 11:n.direction=P(e);break;case 40:n.height=t.value;break;case 41:n.width=t.value;break;case 44:n.lineSpacing=t.value;break;case 50:n.rotation=t.value;break;case 71:n.attachmentPoint=t.value;break;case 72:n.drawingDirection=t.value;break;case 101:h8(e);break;default:p8(n,t,e)}t=e.next()}return n},T8.ForEntityName="POINT",T8.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.position=P(e);break;case 39:n.thickness=t.value;break;case 210:n.extrusionDirection=P(e);break;case 100:break;default:p8(n,t,e)}t=e.next()}return n},E8.ForEntityName="VERTEX",E8.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.x=t.value;break;case 20:n.y=t.value;break;case 30:n.z=t.value;break;case 40:case 41:break;case 42:0!=t.value&&(n.bulge=t.value);break;case 70:n.curveFittingVertex=0!=(1&t.value),n.curveFitTangent=0!=(2&t.value),n.splineVertex=0!=(8&t.value),n.splineControlPoint=0!=(16&t.value),n.threeDPolylineVertex=0!=(32&t.value),n.threeDPolylineMesh=0!=(64&t.value),n.polyfaceMeshVertex=0!=(128&t.value);break;case 50:break;case 71:n.faces=[t.value];break;case 72:n.faces[1]=t.value;break;case 73:n.faces[2]=t.value;break;case 74:n.faces[3]=t.value;break;default:p8(n,t,e)}t=e.next()}return n},k8.ForEntityName="POLYLINE",k8.prototype.parseEntity=function(e,t){var n={type:t.value,vertices:[]};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:case 20:case 30:break;case 39:n.thickness=t.value;break;case 40:case 41:break;case 70:n.shape=0!=(1&t.value),n.includesCurveFitVertices=0!=(2&t.value),n.includesSplineFitVertices=0!=(4&t.value),n.is3dPolyline=0!=(8&t.value),n.is3dPolygonMesh=0!=(16&t.value),n.is3dPolygonMeshClosed=0!=(32&t.value),n.isPolyfaceMesh=0!=(64&t.value),n.hasContinuousLinetypePattern=0!=(128&t.value);break;case 71:case 72:case 73:case 74:case 75:break;case 210:n.extrusionDirection=P(e);break;default:p8(n,t,e)}t=e.next()}return n.vertices=function(e,t){var n=new E8,r=[];for(;!e.isEOF();)if(0===t.code)if("VERTEX"===t.value)r.push(n.parseEntity(e,t)),t=e.lastReadGroup;else if("SEQEND"===t.value){!function(e,t){var n={type:t.value};t=e.next();for(;"EOF"!=t&&0!=t.code;)p8(n,t,e),t=e.next()}(e,t);break}return r}(e,t),n},O8.ForEntityName="SOLID",O8.prototype.parseEntity=function(e,t){var n={type:t.value,points:[]};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.points[0]=P(e);break;case 11:n.points[1]=P(e);break;case 12:n.points[2]=P(e);break;case 13:n.points[3]=P(e);break;case 210:n.extrusionDirection=P(e);break;default:p8(n,t,e)}t=e.next()}return n},P8.ForEntityName="SPLINE",P8.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.controlPoints||(n.controlPoints=[]),n.controlPoints.push(P(e));break;case 11:n.fitPoints||(n.fitPoints=[]),n.fitPoints.push(P(e));break;case 12:n.startTangent=P(e);break;case 13:n.endTangent=P(e);break;case 40:n.knotValues||(n.knotValues=[]),n.knotValues.push(t.value);break;case 70:0!=(1&t.value)&&(n.closed=!0),0!=(2&t.value)&&(n.periodic=!0),0!=(4&t.value)&&(n.rational=!0),0!=(8&t.value)&&(n.planar=!0),0!=(16&t.value)&&(n.planar=!0,n.linear=!0);break;case 71:n.degreeOfSplineCurve=t.value;break;case 72:n.numberOfKnots=t.value;break;case 73:n.numberOfControlPoints=t.value;break;case 74:n.numberOfFitPoints=t.value;break;case 210:n.extrusionDirection=P(e);break;default:p8(n,t,e)}t=e.next()}return n},M8.ForEntityName="TEXT",M8.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.startPoint=P(e);break;case 11:n.endPoint=P(e);break;case 40:n.textHeight=t.value;break;case 41:n.xScale=t.value;break;case 50:n.rotation=t.value;break;case 1:n.text=t.value;break;case 72:n.halign=t.value;break;case 73:n.valign=t.value;break;default:p8(n,t,e)}t=e.next()}return n},A8.ForEntityName="HATCH",A8.prototype.parseEntity=function(e,t){var n={type:t.value},r=0,i=0,o=0;for(t=e.next();"EOF"!==t&&0!==t.code;){for(;0<r;){var a=function(i,o){var e=null,t=!1,n=0,r=0;for(;;){if(!e){if(92!=i.code)return null;e={type:i.value},i=o.next()}for(2&e.type&&!t&&(e.polyline=function(){for(var e={vertices:[],isClosed:!1},t=0;;){if(0<t){for(var n=0;n<t&&10==i.code;n++){var r=P(o);42==(i=o.next()).code&&(r.bulge=i.value,i=o.next()),e.vertices.push(r)}return e}switch(i.code){case 72:i.value;break;case 73:e.isClosed=i.value;break;case 93:t=i.value;break;default:return e}i=o.next()}}(),t=!0);n;){var a=function(){if(72!=i.code)return null;for(var e={type:i.value},t=(i=o.next(),4==e.type);;){switch(i.code){case 10:t?(e.controlPoints||(e.controlPoints=[]),e.controlPoints.push(P(o))):e.start=P(o);break;case 11:t?(e.fitPoints||(e.fitPoints=[]),e.fitPoints.push(P(o))):e.end=P(o);break;case 40:t?(e.knotValues||(e.knotValues=[]),e.knotValues.push(i.value)):e.radius=i.value;break;case 50:e.startAngle=i.value*Math.PI/180;break;case 51:e.endAngle=i.value*Math.PI/180;break;case 73:t?e.rational=i.value:e.isCcw=i.value;break;case 74:e.periodic=i.value;break;case 94:e.degreeOfSplineCurve=i.value;break;case 95:case 96:case 40:case 42:case 97:break;default:return e}i=o.next()}}();a?(e.edges.push(a),n--):n=0}for(;r;)330==i.code?(e.sourceRefs.push(i.value),r--,i=o.next()):r=0;switch(i.code){case 93:0<(n=i.value)&&(e.edges=[]);break;case 97:0<(r=i.value)&&(e.sourceRefs=[]);break;default:return o.rewind(),e}i=o.next()}}(t,e);a?(n.boundaryLoops.push(a),r--,t=e.next()):r=0}for(;0<i;){var s=function(e,t){if(53!=e.code)return null;var n={angle:e.value*Math.PI/180,base:{x:0,y:0},offset:{x:0,y:0}},r=(e=t.next(),0);for(;;){switch(e.code){case 43:n.base.x=e.value;break;case 44:n.base.y=e.value;break;case 45:n.offset.x=e.value;break;case 46:n.offset.y=e.value;break;case 49:0<r&&(n.dashes.push(e.value),r--);break;case 79:r=e.value,e.value&&(n.dashes=[]);break;default:return t.rewind(),n}e=t.next()}}(t,e);s?(n.definitionLines.push(s),i--,t=e.next()):i=0}for(;0<o;){u=e;var u=10==t.code?P(u):null;u?(n.seedPoints.push(u),o--,t=e.next()):o=0}if(0===t.code)break;switch(t.code){case 2:n.patternName=t.value;break;case 70:n.isSolid=0!=t.value;break;case 91:0<(r=t.value)&&(n.boundaryLoops=[]);break;case 75:n.hatchStyle=t.value;break;case 76:n.patternType=t.value;break;case 52:n.patternAngle=t.value*Math.PI/180;break;case 41:n.patternScale=t.value;break;case 78:0<(i=t.value)&&(n.definitionLines=[]);break;case 98:0<(o=t.value)&&(n.seedPoints=[]);break;default:p8(n,t,e)}t=e.next()}return n};var R8=new Map([[140,"DIMTXT"],[142,"DIMTSZ"],[144,"DIMLFAC"],[147,"DIMGAP"],[173,"DIMSAH"],[175,"DIMSOXD"],[176,"DIMCLRD"],[177,"DIMCLRE"],[178,"DIMCLRT"],[271,"DIMDEC"],[278,"DIMDSEP"],[281,"DIMSD1"],[282,"DIMSD2"],[3,"DIMPOST"],[40,"DIMSCALE"],[41,"DIMASZ"],[42,"DIMEXO"],[44,"DIMEXE"],[45,"DIMRND"],[46,"DIMDLE"],[5,"DIMBLK"],[6,"DIMBLK1"],[7,"DIMBLK2"],[75,"DIMSE1"],[76,"DIMSE2"],[78,"DIMZIN"]]);function C8(e){return(C8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L8(){var e;this._entityHandlers={},(e=this).registerEntityHandler(f8),e.registerEntityHandler(d8),e.registerEntityHandler(y8),e.registerEntityHandler(v8),e.registerEntityHandler(m8),e.registerEntityHandler(g8),e.registerEntityHandler(b8),e.registerEntityHandler(x8),e.registerEntityHandler(w8),e.registerEntityHandler(_8),e.registerEntityHandler(S8),e.registerEntityHandler(T8),e.registerEntityHandler(k8),e.registerEntityHandler(O8),e.registerEntityHandler(P8),e.registerEntityHandler(M8),e.registerEntityHandler(A8)}function I8(e){O.a.debug("unhandled group "+D8(e))}function D8(e){return e.code+":"+e.value}O.a.setLevel("error"),L8.prototype.parse=function(e,t){throw new Error("read() not implemented. Use readSync()")},L8.prototype.registerEntityHandler=function(e){var t=new e;this._entityHandlers[e.ForEntityName]=t},L8.prototype.parseSync=function(e){return"string"==typeof e?this._parse(e):(console.error("Cannot read DXF source of type `"+C8(e)),null)},L8.prototype.parseStream=function(e,t){var n="",r=this;e.on("data",function(e){n+=e}),e.on("end",function(){try{var e=r._parse(n)}catch(e){return t(e)}t(null,e)}),e.on("error",function(e){t(e)})},L8.prototype._parse=function(e){var o,t={},n=0,a=new o8(e.split(/\r\n|\r|\n/g));if(!a.hasNext())throw Error("Empty file");var i=this,s=function(e,t){return o.code===e&&o.value===t},r=function(){var e=null,t=null,n={};for(o=a.next();;){if(s(0,"ENDSEC")){e&&(n[e]=t);break}9===o.code?(e&&(n[e]=t),e=o.value):10===o.code?t={x:o.value}:20===o.code?t.y=o.value:30===o.code?t.z=o.value:t=o.value,o=a.next()}return o=a.next(),n},u=function(){var e,t={};for(o=a.next();"EOF"!==o.value&&!s(0,"ENDSEC");)s(0,"BLOCK")?(O.a.debug("block {"),e=l(),O.a.debug("}"),v(e),e.name?t[e.name]=e:O.a.error('block with handle "'+e.handle+'" is missing a name.')):(I8(o),o=a.next());return t},l=function(){var e={};for(o=a.next();"EOF"!==o.value;){switch(o.code){case 1:e.xrefPath=o.value,o=a.next();break;case 2:e.name=o.value,o=a.next();break;case 3:e.name2=o.value,o=a.next();break;case 5:e.handle=o.value,o=a.next();break;case 8:e.layer=o.value,o=a.next();break;case 10:e.position=y(),o=a.next();break;case 67:e.paperSpace=!(!o.value||1!=o.value),o=a.next();break;case 70:0!=o.value&&(e.type=o.value),o=a.next();break;case 100:o=a.next();break;case 330:e.ownerHandle=o.value,o=a.next();break;case 0:"ENDBLK"!=o.value&&(e.entities=d(!0));break;default:I8(o),o=a.next()}if(s(0,"ENDBLK")){o=a.next();break}}return e},c=function(){var e={};for(o=a.next();"EOF"!==o.value&&!s(0,"ENDSEC");)s(0,"TABLE")?(o=a.next(),f[o.value]?(O.a.debug(o.value+" Table {"),e[f[o.value].tableName]=p(),O.a.debug("}")):O.a.debug("Unhandled Table "+o.value)):o=a.next();return o=a.next(),e},h="ENDTAB",p=function(){var e,t=f[o.value],n={},r=0;for(o=a.next();!s(0,h);)switch(o.code){case 5:n.handle=o.value,o=a.next();break;case 330:n.ownerHandle=o.value,o=a.next();break;case 100:o=("AcDbSymbolTable"===o.value||I8(o),a.next());break;case 70:r=o.value,o=a.next();break;case 0:o.value===t.dxfSymbolName?n[t.tableRecordsProperty]=t.parseTableRecords():(I8(o),o=a.next());break;default:I8(o),o=a.next()}var i=n[t.tableRecordsProperty];return i?(i.constructor===Array?e=i.length:"object"===C8(i)&&(e=Object.keys(i).length),r!==e&&O.a.warn("Parsed ".concat(e," ").concat(t.dxfSymbolName,"'s but expected ").concat(r))):n[t.tableRecordsProperty]=[],o=a.next(),n},f={VPORT:{tableRecordsProperty:"viewPorts",tableName:"viewPort",dxfSymbolName:"VPORT",parseTableRecords:function(){var e=[],t={};for(O.a.debug("ViewPort {"),o=a.next();!s(0,h);)switch(o.code){case 2:t.name=o.value,o=a.next();break;case 10:t.lowerLeftCorner=y(),o=a.next();break;case 11:t.upperRightCorner=y(),o=a.next();break;case 12:t.center=y(),o=a.next();break;case 13:t.snapBasePoint=y(),o=a.next();break;case 14:t.snapSpacing=y(),o=a.next();break;case 15:t.gridSpacing=y(),o=a.next();break;case 16:t.viewDirectionFromTarget=y(),o=a.next();break;case 17:t.viewTarget=y(),o=a.next();break;case 42:t.lensLength=o.value,o=a.next();break;case 43:t.frontClippingPlane=o.value,o=a.next();break;case 44:t.backClippingPlane=o.value,o=a.next();break;case 45:t.viewHeight=o.value,o=a.next();break;case 50:t.snapRotationAngle=o.value,o=a.next();break;case 51:t.viewTwistAngle=o.value,o=a.next();break;case 79:t.orthographicType=o.value,o=a.next();break;case 110:t.ucsOrigin=y(),o=a.next();break;case 111:t.ucsXAxis=y(),o=a.next();break;case 112:t.ucsYAxis=y(),o=a.next();break;case 110:t.ucsOrigin=y(),o=a.next();break;case 281:t.renderMode=o.value,o=a.next();break;case 281:t.defaultLightingType=o.value,o=a.next();break;case 292:t.defaultLightingOn=o.value,o=a.next();break;case 330:t.ownerHandle=o.value,o=a.next();break;case 63:case 421:case 431:t.ambientColor=o.value,o=a.next();break;case 0:"VPORT"===o.value&&(O.a.debug("}"),e.push(t),O.a.debug("ViewPort {"),t={},o=a.next());break;default:I8(o),o=a.next()}return O.a.debug("}"),e.push(t),e}},LTYPE:{tableRecordsProperty:"lineTypes",tableName:"lineType",dxfSymbolName:"LTYPE",parseTableRecords:function(){var e,t,n={},r={};for(O.a.debug("LType {"),o=a.next();!s(0,"ENDTAB");)switch(o.code){case 2:r.name=o.value,e=o.value,o=a.next();break;case 3:r.description=o.value,o=a.next();break;case 73:0<(t=o.value)&&(r.pattern=[]),o=a.next();break;case 40:r.patternLength=o.value,o=a.next();break;case 49:r.pattern.push(o.value),o=a.next();break;case 0:O.a.debug("}"),0<t&&t!==r.pattern.length&&O.a.warn("lengths do not match on LTYPE pattern"),n[e]=r,r={},O.a.debug("LType {"),o=a.next();break;default:o=a.next()}return O.a.debug("}"),n[e]=r,n}},LAYER:{tableRecordsProperty:"layers",tableName:"layer",dxfSymbolName:"LAYER",parseTableRecords:function(){var e,t,n={},r={};for(O.a.debug("Layer {"),o=a.next();!s(0,"ENDTAB");)switch(o.code){case 2:r.name=o.value,e=o.value,o=a.next();break;case 62:r.visible=0<=o.value,r.colorIndex=Math.abs(o.value),r.color=(t=r.colorIndex,s8[t]),o=a.next();break;case 70:r.frozen=0!=(1&o.value)||0!=(2&o.value),o=a.next();break;case 420:r.color=o.value,o=a.next();break;case 0:"LAYER"===o.value&&(O.a.debug("}"),n[e]=r,O.a.debug("Layer {"),r={},e=void 0,o=a.next());break;default:I8(o),o=a.next()}return O.a.debug("}"),n[e]=r,n}},DIMSTYLE:{tableRecordsProperty:"dimStyles",tableName:"dimstyle",dxfSymbolName:"DIMSTYLE",parseTableRecords:function(){var e,t={},n={};for(O.a.debug("DimStyle {"),o=a.next();!s(0,"ENDTAB");)if(R8.has(o.code))n[R8.get(o.code)]=o.value,o=a.next();else switch(o.code){case 2:n.name=o.value,e=o.value,o=a.next();break;case 0:"DIMSTYLE"===o.value&&(O.a.debug("}"),t[e]=n,O.a.debug("DimStyle {"),n={},e=void 0,o=a.next());break;default:I8(o),o=a.next()}return O.a.debug("}"),t[e]=n,t}},STYLE:{tableRecordsProperty:"styles",tableName:"style",dxfSymbolName:"STYLE",parseTableRecords:function(){var e,t={},n={};for(O.a.debug("Style {"),o=a.next();!s(0,h);)switch(o.code){case 100:n.subClassMarker=o.value,o=a.next();break;case 2:n.styleName=o.value,e=o.value,o=a.next();break;case 70:n.standardFlag=o.value,o=a.next();break;case 40:n.fixedTextHeight=o.value,o=a.next();break;case 41:n.widthFactor=o.value,o=a.next();break;case 50:n.obliqueAngle=o.value,o=a.next();break;case 71:n.textGenerationFlag=o.value,o=a.next();break;case 42:n.lastHeight=o.value,o=a.next();break;case 3:n.font=o.value,o=a.next();break;case 4:n.bigFont=o.value,o=a.next();break;case 1071:n.extendedFont=o.value,o=a.next();break;case 0:"STYLE"===o.value&&(O.a.debug("}"),t[e]=n,O.a.debug("Style {"),n={},e=void 0,o=a.next());break;default:I8(o),o=a.next()}return O.a.debug("}"),t[e]=n,t}}},d=function(e){var t=[],n=e?"ENDBLK":"ENDSEC";for(e||(o=a.next());;)if(0===o.code){if(o.value===n)break;var r=i._entityHandlers[o.value];null==r?(O.a.warn("Unhandled entity "+o.value),o=a.next()):(O.a.debug(o.value+" {"),r=r.parseEntity(a,o),o=a.lastReadGroup,O.a.debug("}"),v(r),t.push(r))}else o=a.next();return"ENDSEC"==n&&(o=a.next()),t},y=function(){var e={},t=o.code;if(e.x=o.value,t+=10,(o=a.next()).code!=t)throw new Error("Expected code for point value to be "+t+" but got "+o.code+".");return e.y=o.value,t+=10,(o=a.next()).code!=t?a.rewind():e.z=o.value,e},v=function(e){if(!e)throw new TypeError("entity cannot be undefined or null");e.handle||(e.handle=n++)};for(o=a.next();!a.isEOF();)0===o.code&&"SECTION"===o.value?2!==(o=a.next()).code?(console.error("Unexpected code %s after 0:SECTION",D8(o)),o=a.next()):"HEADER"===o.value?(O.a.debug("> HEADER"),t.header=r(),O.a.debug("<")):"BLOCKS"===o.value?(O.a.debug("> BLOCKS"),t.blocks=u(),O.a.debug("<")):"ENTITIES"===o.value?(O.a.debug("> ENTITIES"),t.entities=d(!1),O.a.debug("<")):"TABLES"===o.value?(O.a.debug("> TABLES"),t.tables=c(),O.a.debug("<")):"EOF"===o.value?O.a.debug("EOF"):O.a.warn("Skipping section '%s'",o.value):o=a.next();return t};function j8(e){return(j8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N8(){N8=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new k(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=p,function(e,t){if(s===d)throw new Error("Generator is already running");if(s===y){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===p)throw s=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=d;n=h(i,o,a);if("normal"===n.type){if(s=a.done?y:f,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=y,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var p="suspendedStart",f="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var t={},x=(o(t,r,function(){return this}),Object.getPrototypeOf),x=x&&x(x(O([]))),w=(x&&x!==e&&l.call(x,r)&&(t=x),b.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==j8(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(j8(t)+" is not iterable")}return c(w,"constructor",{value:g.prototype=b,configurable:!0}),c(b,"constructor",{value:g,configurable:!0}),g.displayName=o(b,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,o(e,i,"GeneratorFunction")),e.prototype=Object.create(w),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(w),o(w,i,"Generator"),o(w,r,function(){return this}),o(w,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,E(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function F8(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function U8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=j8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=j8(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==j8(e)?e:String(e)}(r.key),r)}}var B8=function(){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"utf-8",n=this,r=i;if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");this.url=e,this.encoding=t}var e,t,n,s,r;return e=i,(t=[{key:"Fetch",value:(s=N8().mark(function e(){var t,n,r,i,o,a,s,u,l=arguments;return N8().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<l.length&&void 0!==l[0]?l[0]:null,e.next=3,fetch(this.url);case 3:r=e.sent,n=+r.headers.get("Content-Length"),r=r.body.getReader(),i=0,o="",a=new TextDecoder(this.encoding);case 9:return e.next=12,r.read();case 12:if(s=e.sent,u=s.done,s=s.value,u)return o+=a.decode(new ArrayBuffer(0),{stream:!1}),e.abrupt("break",23);e.next=18;break;case 18:o+=a.decode(s,{stream:!0}),i+=s.length,null!==t&&t("fetch",i,n),e.next=9;break;case 23:return null!==t&&t("parse",0,null),u=new L8,e.abrupt("return",u.parseSync(o));case 26:case"end":return e.stop()}},e,this)}),r=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){F8(r,t,n,i,o,"next",e)}function o(e){F8(r,t,n,i,o,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})}])&&U8(e.prototype,t),n&&U8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function z8(e){return(z8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=z8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=z8(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==z8(e)?e:String(e)}(r.key),r)}}var H8=function(){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16,n=this,r=i;if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");this.type=e,this.capacity=t,this.size=0,this.buffer=new(W8(e))(t)}var e,t,n;return e=i,(t=[{key:"GetSize",value:function(){return this.size}},{key:"Push",value:function(e){this._CheckGrow();var t=this.size;return this.buffer[t]=e,this.size++,t}},{key:"Get",value:function(e){if(e>=this.size)throw new Error("Index out of range: ".concat(e,"/").concat(this.size));return this.buffer[e]}},{key:"CopyTo",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,n=(-1===r&&(r=this.size-n),new(W8(this.type))(this.buffer.buffer,n,r));e.set(n,t)}},{key:"_CheckGrow",value:function(){var e;this.size<this.capacity||(this.capacity*=2,(e=new(W8(this.type))(this.capacity)).set(this.buffer),this.buffer=e)}}])&&G8(e.prototype,t),n&&G8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(),V8={INT8:0,UINT8:1,UINT8_CLAMPED:2,INT16:3,UINT16:4,INT32:5,UINT32:6,INT64:7,UINT64:8,FLOAT32:9,FLOAT64:10};function W8(e){switch(e){case V8.INT8:return Int8Array;case V8.UINT8:return Uint8Array;case V8.UINT8_CLAMPED:return Uint8ClampedArray;case V8.INT16:return Int16Array;case V8.UINT16:return Uint16Array;case V8.INT32:return Int32Array;case V8.UINT32:return Uint32Array;case V8.FLOAT32:return Float32Array;case V8.FLOAT64:return Float64Array;default:throw new Error("Unrecognized native type: "+e)}}function q8(e){return(q8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=q8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=q8(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==q8(e)?e:String(e)}(r.key),r)}}var X8=function(){function l(e,t,n,r,i,o,a,s,u){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");l.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,u)}var e,t,n;return e=l,(t=[{key:"set",value:function(e,t,n,r,i,o,a,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){e=e.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var e=e.elements,t=t.elements,n=this.elements,r=e[0],i=e[3],o=e[6],a=e[1],s=e[4],u=e[7],l=e[2],c=e[5],e=e[8],h=t[0],p=t[3],f=t[6],d=t[1],y=t[4],v=t[7],m=t[2],g=t[5],t=t[8];return n[0]=r*h+i*d+o*m,n[3]=r*p+i*y+o*g,n[6]=r*f+i*v+o*t,n[1]=a*h+s*d+u*m,n[4]=a*p+s*y+u*g,n[7]=a*f+s*v+u*t,n[2]=l*h+c*d+e*m,n[5]=l*p+c*y+e*g,n[8]=l*f+c*v+e*t,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],e=e[8];return t*o*e-t*a*u-n*i*e+n*a*s+r*i*u-r*o*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=l*o-a*u,h=a*s-l*i,p=u*i-o*s,f=t*c+n*h+r*p;return 0==f?this.set(0,0,0,0,0,0,0,0,0):(e[0]=c*(c=1/f),e[1]=(r*u-l*n)*c,e[2]=(a*n-r*o)*c,e[3]=h*c,e[4]=(l*t-r*s)*c,e[5]=(r*i-a*t)*c,e[6]=p*c,e[7]=(n*s-u*t)*c,e[8]=(o*t-n*i)*c,this)}},{key:"transpose",value:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,o,a){var s=Math.cos(i),i=Math.sin(i);return this.set(n*s,n*i,-n*(s*o+i*a)+o+e,-r*i,r*s,-r*(-i*o+s*a)+a+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(Z8.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(Z8.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(Z8.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,-e,0,e,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}])&&Y8(e.prototype,t),n&&Y8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(),Z8=new X8;function M(){this.type="Curve",this.arcLengthDivisions=200}function K8(e,t,n,r,i,o,a,s){M.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Q8(e,t,n,r,i,o){K8.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function J8(){var i=0,o=0,a=0,s=0;function u(e,t,n,r){a=-3*(i=e)+3*t-2*(o=n)-r,s=2*e-2*t+n+r}return{initCatmullRom:function(e,t,n,r,i){u(t,n,i*(n-e),i*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,i,o,a){e=(t-e)/i-(n-e)/(i+o)+(n-t)/o,i=(n-t)/o-(r-t)/(o+a)+(r-n)/a;u(t,n,e*=o,i*=o)},calc:function(e){var t=e*e;return i+o*e+a*t+s*(t*e)}}}Object.assign(M.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){e=this.getUtoTmapping(e);return this.getPoint(e,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)o+=(t=this.getPoint(n/e)).distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){for(var n,r=this.getLengths(),i=0,o=r.length,a=t||e*r[o-1],s=0,u=o-1;s<=u;)if((n=r[i=Math.floor(s+(u-s)/2)]-a)<0)s=i+1;else{if(!(0<n)){u=i;break}u=i-1}return r[i=u]===a?i/(o-1):(i+(a-(t=r[i]))/(r[i+1]-t))/(o-1)},getTangent:function(e){var t=e-1e-4,e=e+1e-4,t=(1<e&&(e=1),this.getPoint(t=t<0?0:t));return this.getPoint(e).clone().sub(t).normalize()},getTangentAt:function(e){e=this.getUtoTmapping(e);return this.getTangent(e)},computeFrenetFrames:function(e,t){for(var n,r=new w,i=[],o=[],a=[],s=new w,u=new m,l=0;l<=e;l++)i[l]=this.getTangentAt(l/e),i[l].normalize();o[0]=new w,a[0]=new w;var c=Number.MAX_VALUE,h=Math.abs(i[0].x),p=Math.abs(i[0].y),f=Math.abs(i[0].z);for(h<=c&&(c=h,r.set(1,0,0)),p<=c&&(c=p,r.set(0,1,0)),f<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]),l=1;l<=e;l++)o[l]=o[l-1].clone(),a[l]=a[l-1].clone(),s.crossVectors(i[l-1],i[l]),s.length()>Number.EPSILON&&(s.normalize(),n=Math.acos(x.clamp(i[l-1].dot(i[l]),-1,1)),o[l].applyMatrix4(u.makeRotationAxis(s,n))),a[l].crossVectors(i[l],o[l]);if(!0===t)for(n=Math.acos(x.clamp(o[0].dot(o[e]),-1,1)),n/=e,0<i[0].dot(s.crossVectors(o[0],o[e]))&&(n=-n),l=1;l<=e;l++)o[l].applyMatrix4(u.makeRotationAxis(i[l],n*l)),a[l].crossVectors(i[l],o[l]);return{tangents:i,normals:o,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),((K8.prototype=Object.create(M.prototype)).constructor=K8).prototype.isEllipseCurve=!0,K8.prototype.getPoint=function(e,t){for(var t=t||new j,n=2*Math.PI,r=this.aEndAngle-this.aStartAngle,i=Math.abs(r)<Number.EPSILON;r<0;)r+=n;for(;n<r;)r-=n;r<Number.EPSILON&&(r=i?0:n),!0!==this.aClockwise||i||(r===n?r=-n:r-=n);var o,a,s,u,i=this.aStartAngle+e*r,e=this.aX+this.xRadius*Math.cos(i),i=this.aY+this.yRadius*Math.sin(i);return 0!==this.aRotation&&(o=Math.cos(this.aRotation),a=Math.sin(this.aRotation),e=(s=e-this.aX)*o-(u=i-this.aY)*a+this.aX,i=s*a+u*o+this.aY),t.set(e,i)},K8.prototype.copy=function(e){return M.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},((Q8.prototype=Object.create(K8.prototype)).constructor=Q8).prototype.isArcCurve=!0;var $8=new w,e7=new J8,t7=new J8,n7=new J8;function r7(e,t,n,r){M.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function i7(e,t,n,r,i){var t=.5*(r-t),i=.5*(i-n),o=e*e;return(2*n-2*r+t+i)*(e*o)+(-3*n+3*r-2*t-i)*o+t*e+n}function o7(e,t,n,r){return(i=1-(i=e))*i*t+2*(1-e)*e*n+e*e*r;var i}function a7(e,t,n,r,i){return(o=1-(o=e))*o*o*t+3*(o=1-e)*o*e*n+3*(1-e)*e*e*r+e*e*e*i;var o}function s7(e,t,n,r){M.call(this),this.type="CubicBezierCurve",this.v0=e||new j,this.v1=t||new j,this.v2=n||new j,this.v3=r||new j}function u7(e,t,n,r){M.call(this),this.type="CubicBezierCurve3",this.v0=e||new w,this.v1=t||new w,this.v2=n||new w,this.v3=r||new w}function l7(e,t){M.call(this),this.type="LineCurve",this.v1=e||new j,this.v2=t||new j}function c7(e,t){M.call(this),this.type="LineCurve3",this.v1=e||new w,this.v2=t||new w}function h7(e,t,n){M.call(this),this.type="QuadraticBezierCurve",this.v0=e||new j,this.v1=t||new j,this.v2=n||new j}function p7(e){M.call(this),this.type="SplineCurve",this.points=e||[]}function f7(){M.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function d7(e){f7.call(this),this.type="Path",this.currentPoint=new j,e&&this.setFromPoints(e)}function y7(e){d7.call(this,e),this.uuid=x.generateUUID(),this.type="Shape",this.holes=[]}((r7.prototype=Object.create(M.prototype)).constructor=r7).prototype.isCatmullRomCurve3=!0,r7.prototype.getPoint=function(e,t){var n,r,i,o,t=t||new w,a=this.points,s=a.length,e=(s-(this.closed?0:1))*e,u=Math.floor(e),e=e-u;return this.closed?u+=0<u?0:(Math.floor(Math.abs(u)/s)+1)*s:0===e&&u===s-1&&(u=s-2,e=1),n=this.closed||0<u?a[(u-1)%s]:($8.subVectors(a[0],a[1]).add(a[0]),$8),r=a[u%s],i=a[(u+1)%s],u=this.closed||u+2<s?a[(u+2)%s]:($8.subVectors(a[s-1],a[s-2]).add(a[s-1]),$8),"centripetal"===this.curveType||"chordal"===this.curveType?(a="chordal"===this.curveType?.5:.25,s=Math.pow(n.distanceToSquared(r),a),(o=Math.pow(r.distanceToSquared(i),a))<1e-4&&(o=1),s<1e-4&&(s=o),(a=Math.pow(i.distanceToSquared(u),a))<1e-4&&(a=o),e7.initNonuniformCatmullRom(n.x,r.x,i.x,u.x,s,o,a),t7.initNonuniformCatmullRom(n.y,r.y,i.y,u.y,s,o,a),n7.initNonuniformCatmullRom(n.z,r.z,i.z,u.z,s,o,a)):"catmullrom"===this.curveType&&(e7.initCatmullRom(n.x,r.x,i.x,u.x,this.tension),t7.initCatmullRom(n.y,r.y,i.y,u.y,this.tension),n7.initCatmullRom(n.z,r.z,i.z,u.z,this.tension)),t.set(e7.calc(e),t7.calc(e),n7.calc(e)),t},r7.prototype.copy=function(e){M.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},((s7.prototype=Object.create(M.prototype)).constructor=s7).prototype.isCubicBezierCurve=!0,s7.prototype.getPoint=function(e,t){var t=t||new j,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(a7(e,n.x,r.x,i.x,o.x),a7(e,n.y,r.y,i.y,o.y)),t},s7.prototype.copy=function(e){return M.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},((u7.prototype=Object.create(M.prototype)).constructor=u7).prototype.isCubicBezierCurve3=!0,u7.prototype.getPoint=function(e,t){var t=t||new w,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(a7(e,n.x,r.x,i.x,o.x),a7(e,n.y,r.y,i.y,o.y),a7(e,n.z,r.z,i.z,o.z)),t},u7.prototype.copy=function(e){return M.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},((l7.prototype=Object.create(M.prototype)).constructor=l7).prototype.isLineCurve=!0,l7.prototype.getPoint=function(e,t){t=t||new j;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},l7.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},l7.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},l7.prototype.copy=function(e){return M.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},((c7.prototype=Object.create(M.prototype)).constructor=c7).prototype.isLineCurve3=!0,c7.prototype.getPoint=function(e,t){t=t||new w;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},c7.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},c7.prototype.copy=function(e){return M.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},((h7.prototype=Object.create(M.prototype)).constructor=h7).prototype.isQuadraticBezierCurve=!0,h7.prototype.getPoint=function(e,t){var t=t||new j,n=this.v0,r=this.v1,i=this.v2;return t.set(o7(e,n.x,r.x,i.x),o7(e,n.y,r.y,i.y)),t},h7.prototype.copy=function(e){return M.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},((p7.prototype=Object.create(M.prototype)).constructor=p7).prototype.isSplineCurve=!0,p7.prototype.getPoint=function(e,t){var t=t||new j,n=this.points,e=(n.length-1)*e,r=Math.floor(e),e=e-r,i=n[0===r?r:r-1],o=n[r],a=n[r>n.length-2?n.length-1:r+1],n=n[r>n.length-3?n.length-1:r+2];return t.set(i7(e,i.x,o.x,a.x,n.x),i7(e,i.y,o.y,a.y,n.y)),t},p7.prototype.copy=function(e){M.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},f7.prototype=Object.assign(Object.create(M.prototype),{constructor:f7,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new l7(t,e))},getPoint:function(e){for(var t,n,r,i=e*this.getLength(),o=this.getCurveLengths(),a=0;a<o.length;){if(o[a]>=i)return t=o[a]-i,r=(n=this.curves[a]).getLength(),n.getPointAt(0===r?0:1-t/r);a++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),u=0;u<s.length;u++){var l=s[u];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){M.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}}),d7.prototype=Object.assign(Object.create(f7.prototype),{constructor:d7,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new l7(this.currentPoint.clone(),new j(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){e=new h7(this.currentPoint.clone(),new j(e,t),new j(n,r));return this.curves.push(e),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,i,o){e=new s7(this.currentPoint.clone(),new j(e,t),new j(n,r),new j(i,o));return this.curves.push(e),this.currentPoint.set(i,o),this},splineThru:function(e){var t=new p7([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this},absarc:function(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this},ellipse:function(e,t,n,r,i,o,a,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,n,r,i,o,a,s),this},absellipse:function(e,t,n,r,i,o,a,s){e=new K8(e,t,n,r,i,o,a,s),0<this.curves.length&&((t=e.getPoint(0)).equals(this.currentPoint)||this.lineTo(t.x,t.y)),this.curves.push(e),n=e.getPoint(1);return this.currentPoint.copy(n),this},copy:function(e){return f7.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this}}),y7.prototype=Object.assign(Object.create(d7.prototype),{constructor:y7,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){d7.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this}});var v7=function(e,t,n){n=n||2;var r,i,o,a,s,u=t&&t.length,l=u?t[0]*n:e.length,c=m7(e,0,l,n,!0),h=[];if(c&&c.next!==c.prev){if(u&&(c=function(e,t,n,r){var i,o,a,s,u=[];for(i=0,o=t.length;i<o;i++)s=t[i]*r,a=i<o-1?t[i+1]*r:e.length,(s=m7(e,s,a,r,!1))===s.next&&(s.steiner=!0),u.push(function(e){var t=e,n=e;for(;(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next,t!==e;);return n}(s));for(u.sort(x7),i=0;i<u.length;i++)!function(e,t){(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&a<s){if((a=s)===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}}while(r=r.next,r!==t);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,h=n.y,p=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&_7(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<p||u===p&&r.x>n.x)&&k7(r,e)&&(n=r,p=u),r=r.next;return n}(e,t))&&g7(t=O7(t,e),t.next)}(u[i],n),n=g7(n,n.next);return n}(e,t,c,n)),e.length>80*n){for(var p=r=e[0],f=i=e[1],d=n;d<l;d+=n)(o=e[d])<p&&(p=o),(a=e[d+1])<f&&(f=a),r<o&&(r=o),i<a&&(i=a);s=0!==(s=Math.max(r-p,i-f))?1/s:0}b7(c,h,n,p,f,s)}return h};function m7(e,t,n,r,i){var o,a;if(i===0<function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r))for(o=t;o<n;o+=r)a=P7(o,e[o],e[o+1],a);else for(o=n-r;t<=o;o-=r)a=P7(o,e[o],e[o+1],a);return a&&T7(a,a.next)&&(M7(a),a=a.next),a}function g7(e,t){if(!e)return e;t=t||e;var n,r=e;do{if(n=!1,r.steiner||!T7(r,r.next)&&0!==S7(r.prev,r,r.next))r=r.next;else{if(M7(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function b7(e,t,n,r,i,o,a){if(e){if(!a&&o){for(var s=e,u=r,l=i,c=o,h=s;null===h.z&&(h.z=w7(h.x,h.y,u,l,c)),h.prevZ=h.prev,h.nextZ=h.next,(h=h.next)!==s;);h.prevZ.nextZ=null,h.prevZ=null;var p,f,d,y,v,m,g,b,x=h,w=1;do{for(f=x,v=x=null,m=0;f;){for(m++,d=f,p=g=0;p<w&&(g++,d=d.nextZ);p++);for(b=w;0<g||0<b&&d;)0!==g&&(0===b||!d||f.z<=d.z)?(f=(y=f).nextZ,g--):(d=(y=d).nextZ,b--),v?v.nextZ=y:x=y,y.prevZ=v,v=y;f=d}}while(v.nextZ=null,w*=2,1<m)}for(var _,S,T=e;e.prev!==e.next;)if(_=e.prev,S=e.next,o?function(e,t,n,r){var i=e.prev,o=e,a=e.next;if(0<=S7(i,o,a))return;var s=(i.x<o.x?i.x<a.x?i:a:o.x<a.x?o:a).x,u=(i.y<o.y?i.y<a.y?i:a:o.y<a.y?o:a).y,l=(i.x>o.x?i.x>a.x?i:a:o.x>a.x?o:a).x,c=(i.y>o.y?i.y>a.y?i:a:o.y>a.y?o:a).y,h=w7(s,u,t,n,r),p=w7(l,c,t,n,r),f=e.prevZ,d=e.nextZ;for(;f&&f.z>=h&&d&&d.z<=p;){if(f!==e.prev&&f!==e.next&&_7(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&0<=S7(f.prev,f,f.next))return;if(f=f.prevZ,d!==e.prev&&d!==e.next&&_7(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&0<=S7(d.prev,d,d.next))return;d=d.nextZ}for(;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&_7(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&0<=S7(f.prev,f,f.next))return;f=f.prevZ}for(;d&&d.z<=p;){if(d!==e.prev&&d!==e.next&&_7(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&0<=S7(d.prev,d,d.next))return;d=d.nextZ}return 1}(e,r,i,o):function(e){var t=e.prev,n=e,r=e.next;if(0<=S7(t,n,r))return;var i=e.next.next;for(;i!==e.prev;){if(_7(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&0<=S7(i.prev,i,i.next))return;i=i.next}return 1}(e))t.push(_.i/n),t.push(e.i/n),t.push(S.i/n),M7(e),e=S.next,T=S.next;else if((e=S)===T){a?1===a?b7(e=function(e,t,n){var r=e;do{var i=r.prev,o=r.next.next}while(!T7(i,o)&&E7(i,r,r.next,o)&&k7(i,o)&&k7(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),M7(r),M7(r.next),r=e=o),r=r.next,r!==e);return r}(e,t,n),t,n,r,i,o,2):2===a&&function(e,t,n,r,i,o){var a=e;do{for(var s,u=a.next.next;u!==a.prev;){if(a.i!==u.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&E7(n,n.next,e,t))return 1}while(n=n.next,n!==e);return}(e,t)&&k7(e,t)&&k7(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;for(;n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next,n!==e;);return r}(e,t)}(a,u))return s=O7(a,u),a=g7(a,a.next),s=g7(s,s.next),b7(a,t,n,r,i,o),b7(s,t,n,r,i,o);u=u.next}}while(a=a.next,a!==e)}(e,t,n,r,i,o):b7(g7(e),t,n,r,i,o,1);break}}}function x7(e,t){return e.x-t.x}function w7(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function _7(e,t,n,r,i,o,a,s){return 0<=(i-a)*(t-s)-(e-a)*(o-s)&&0<=(e-a)*(r-s)-(n-a)*(t-s)&&0<=(n-a)*(o-s)-(i-a)*(r-s)}function S7(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function T7(e,t){return e.x===t.x&&e.y===t.y}function E7(e,t,n,r){return T7(e,n)&&T7(t,r)||T7(e,r)&&T7(n,t)||0<S7(e,t,n)!=0<S7(e,t,r)&&0<S7(n,r,e)!=0<S7(n,r,t)}function k7(e,t){return S7(e.prev,e,e.next)<0?0<=S7(e,t,e.next)&&0<=S7(e,e.prev,t):S7(e,t,e.prev)<0||S7(e,e.next,t)<0}function O7(e,t){var n=new A7(e.i,e.x,e.y),r=new A7(t.i,t.x,t.y),i=e.next,o=t.prev;return(e.next=t).prev=e,(n.next=i).prev=n,(r.next=n).prev=r,(o.next=r).prev=o,r}function P7(e,t,n,r){e=new A7(e,t,n);return r?(e.next=r.next,(e.prev=r).next.prev=e,r.next=e):(e.prev=e).next=e,e}function M7(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function A7(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var R7={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return R7.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[],o=(C7(e),L7(n,e),e.length);t.forEach(C7);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,L7(n,t[a]);for(var s=v7(n,r),a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function C7(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function L7(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function I7(){this.type="ShapePath",this.color=new d,this.subPaths=[],this.currentPath=null}function D7(e){return(D7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j7(){j7=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new k(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=p,function(e,t){if(s===d)throw new Error("Generator is already running");if(s===y){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===p)throw s=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=d;n=h(i,o,a);if("normal"===n.type){if(s=a.done?y:f,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=y,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var p="suspendedStart",f="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var t={},x=(o(t,r,function(){return this}),Object.getPrototypeOf),x=x&&x(x(O([]))),w=(x&&x!==e&&l.call(x,r)&&(t=x),b.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==D7(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(D7(t)+" is not iterable")}return c(w,"constructor",{value:g.prototype=b,configurable:!0}),c(b,"constructor",{value:g,configurable:!0}),g.displayName=o(b,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,o(e,i,"GeneratorFunction")),e.prototype=Object.create(w),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(w),o(w,i,"Generator"),o(w,r,function(){return this}),o(w,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,E(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function N7(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,i=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw i}}};if(Array.isArray(e)||(a=function(e,t){var n;if(e)return"string"==typeof e?F7(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F7(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=D7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=D7(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==D7(e)?e:String(e)}(r.key),r)}}Object.assign(I7.prototype,{moveTo:function(e,t){return this.currentPath=new d7,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new y7;o.curves=i.curves,t.push(o)}return t}var r=R7.isClockWise,i=this.subPaths;if(0===i.length)return[];if(!0===t)return n(i);var o,a,s,u=[];if(1===i.length)a=i[0],(s=new y7).curves=a.curves,u.push(s);else{var l,c=!r(i[0].getPoints()),c=e?!c:c,h=[],p=[],f=[],d=0;p[d]=void 0,f[d]=[];for(var y=0,v=i.length;y<v;y++)o=r(l=(a=i[y]).getPoints()),(e?!o:o)?(!c&&p[d]&&d++,p[d]={s:new y7,p:l},p[d].s.curves=a.curves,c&&d++,f[d]=[]):f[d].push({h:a,p:l[0]});if(!p[0])return n(i);if(1<p.length){for(var m=!1,g=[],b=0,x=p.length;b<x;b++)h[b]=[];for(b=0,x=p.length;b<x;b++)for(var w=f[b],_=0;_<w.length;_++){for(var S=w[_],T=!0,E=0;E<p.length;E++)!function(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],u=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=t[o],u=-u,s=t[i],l=-l),!(e.y<a.y||e.y>s.y))if(e.y===a.y){if(e.x===a.x)return 1}else{l=l*(e.x-a.x)-u*(e.y-a.y);if(0==l)return 1;l<0||(r=!r)}}else if(e.y===a.y&&(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x))return 1}return r}(S.p,p[E].p)||(b!==E&&g.push({froms:b,tos:E,hole:_}),T?(T=!1,h[E].push(S)):m=!0);T&&h[b].push(S)}0<g.length&&(m||(f=h))}for(var y=0,k=p.length;y<k;y++){s=p[y].s,u.push(s);for(var O,P=0,M=(O=f[y]).length;P<M;P++)s.holes.push(O[P].h)}}return u}});var B7=Object.freeze({TEXT:0,ESCAPE:1,SKIP_FORMAT:2,PARAGRAPH1:3,PARAGRAPH2:4,PARAGRAPH3:5}),z7=Object.freeze({TEXT:0,SCOPE:1,PARAGRAPH:2,NON_BREAKING_SPACE:3,PARAGRAPH_ALIGNMENT:4}),G7=new Set(["L","l","O","o","K","k","P","X","~"]),H7=new Set(["f","F","p","Q","H","W","S","A","C","T"]),V7=new Set(["\\","{","}"]),W7=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.entities=[]}var t,n,r;return t=e,(n=[{key:"Parse",value:function(e){var t,n=e.length,r=0,i=B7.TEXT,o=[],a=this.entities,s=0,u=this;function l(){i===B7.TEXT&&r!==s&&(a.push({type:z7.TEXT,content:e.slice(r,s)}),r=s)}function c(e){a.push({type:e})}for(;s<n;s++){var h=e.charAt(s);switch(i){case B7.TEXT:if("{"===h){l(),t=void 0,t={type:z7.SCOPE,content:[]},a.push(t),a=t.content,o.push(t),r=s+1;continue}if("}"===h){l(),0!==o.length&&(o.pop(),a=0===o.length?u.entities:o[o.length-1].content),r=s+1;continue}if("\\"!==h)continue;l(),i=B7.ESCAPE;continue;case B7.ESCAPE:if(G7.has(h)){switch(h){case"P":c(z7.PARAGRAPH);break;case"~":c(z7.NON_BREAKING_SPACE)}i=B7.TEXT,r=s+1;continue}if(H7.has(h)){if("p"===h){i=B7.PARAGRAPH1;continue}i=B7.SKIP_FORMAT;continue}r=V7.has(h)?s:s-1,i=B7.TEXT;continue;case B7.PARAGRAPH1:i="x"===h?B7.PARAGRAPH2:B7.SKIP_FORMAT;continue;case B7.PARAGRAPH2:i="q"===h?B7.PARAGRAPH3:B7.SKIP_FORMAT;continue;case B7.PARAGRAPH3:a.push({type:z7.PARAGRAPH_ALIGNMENT,alignment:h}),i=B7.SKIP_FORMAT;continue;case B7.SKIP_FORMAT:";"===h&&(r=s+1,i=B7.TEXT);continue;default:throw new Error("Unhandled state")}}l()}},{key:"GetContent",value:function(){return this.entities}},{key:"GetText",value:j7().mark(function e(){var o,a;return j7().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(t){var n,r,i;return j7().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=N7(t),e.prev=1,n.s();case 3:if((r=n.n()).done)e.next=14;else{if((i=r.value).type===z7.TEXT)return e.next=8,i.content;e.next=10}break;case 8:e.next=12;break;case 10:if(i.type===z7.SCOPE)return e.delegateYield(a(i.content),"t0",12);e.next=12;break;case 12:e.next=3;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),n.e(e.t1);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}},o,null,[[1,16,19,22]])},o=j7().mark(a),e.delegateYield(a(this.GetContent()),"t0",3);case 3:case"end":return e.stop()}},e,this)})}])&&U7(t.prototype,n),r&&U7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q7(e){return(q7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y7(){Y7=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new k(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=p,function(e,t){if(s===d)throw new Error("Generator is already running");if(s===y){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===p)throw s=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=d;n=h(i,o,a);if("normal"===n.type){if(s=a.done?y:f,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=y,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var p="suspendedStart",f="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var t={},x=(o(t,r,function(){return this}),Object.getPrototypeOf),x=x&&x(x(O([]))),w=(x&&x!==e&&l.call(x,r)&&(t=x),b.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==q7(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(q7(t)+" is not iterable")}return c(w,"constructor",{value:g.prototype=b,configurable:!0}),c(b,"constructor",{value:g,configurable:!0}),g.displayName=o(b,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,o(e,i,"GeneratorFunction")),e.prototype=Object.create(w),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(w),o(w,i,"Generator"),o(w,r,function(){return this}),o(w,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,E(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function D(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,i=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw i}}};if(Array.isArray(e)||(a=function(e,t){var n;if(e)return"string"==typeof e?X7(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X7(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function X7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z7(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function K7(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){Z7(r,t,n,i,o,"next",e)}function o(e){Z7(r,t,n,i,o,"throw",e)}i(void 0)})}}function Q7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=q7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=q7(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==q7(e)?e:String(e)}(r.key),r)}}function $7(e,t,n){t&&J7(e.prototype,t),n&&J7(e,n),Object.defineProperty(e,"prototype",{writable:!1})}W7.EntityType=z7;var e9=/(?:%%([dpcou%]))|(?:\\U\+([0-9a-fA-F]{4}))/g;function t9(e){return e.replaceAll(e9,function(e,t,n){if(void 0!==t)switch(t){case"d":return"°";case"p":return"±";case"c":return"∅";case"o":case"u":return"";case"%":return"%"}else if(void 0!==n)return t=parseInt(n,16),isNaN(t)?e:String.fromCharCode(t);return e})}var n9=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Q7(this,n),this.fontFetchers=e,this.fonts=[],this.options=Object.create(n.DefaultOptions),t&&Object.assign(this.options,t),this.shapes=new Map,this.stubShapeLoaded=!1,this.stubShape=null}var t,r;return $7(n,[{key:"FetchFonts",value:(r=K7(Y7().mark(function e(t){var n,r,i,o,a,s,u,l,c,h;return Y7().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stubShapeLoaded){e.next=13;break}this.stubShapeLoaded=!0,n=0,r=Array.from(this.options.fallbackChar);case 3:if(n<r.length)return i=r[n],e.next=7,this.FetchFonts(i);e.next=13;break;case 7:if(e.sent)return this.stubShape=this._CreateCharShape(i),e.abrupt("break",13);e.next=10;break;case 10:n++,e.next=3;break;case 13:o=!1,a=D(t),e.prev=15,a.s();case 17:if((c=a.n()).done)e.next=58;else{if((s=c.value).codePointAt(0)<32)return e.abrupt("continue",56);e.next=21}break;case 21:u=!1,l=D(this.fonts),e.prev=23,l.s();case 25:if((c=l.n()).done)e.next=32;else{if(c.value.HasChar(s))return u=!0,e.abrupt("break",32);e.next=30}break;case 30:e.next=25;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(23),l.e(e.t0);case 37:return e.prev=37,l.f(),e.finish(37);case 40:if(u)return e.abrupt("continue",56);e.next=42;break;case 42:if(this.fontFetchers){e.next=44;break}return e.abrupt("return",!1);case 44:if(0<this.fontFetchers.length)return h=this.fontFetchers.shift(),e.next=48,this._FetchFont(h);e.next=55;break;case 48:if(h=e.sent,this.fonts.push(h),h.HasChar(s))return u=!0,e.abrupt("break",55);e.next=53;break;case 53:e.next=44;break;case 55:u||(o=!0);case 56:e.next=17;break;case 58:e.next=63;break;case 60:e.prev=60,e.t1=e.catch(15),a.e(e.t1);case 63:return e.prev=63,a.f(),e.finish(63);case 66:return e.abrupt("return",!o);case 67:case"end":return e.stop()}},e,this,[[15,60,63,66],[23,34,37,40]])})),function(e){return r.apply(this,arguments)})},{key:"canRender",get:function(){return null!==this.fonts&&0<this.fonts.length}},{key:"GetLineWidth",value:function(e,t){var n,r=new l9(t),i=D(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=this._GetCharShape(o);a&&r.PushChar(o,a)}}catch(e){i.e(e)}finally{i.f()}return r.GetCurrentPosition()}},{key:"Render",value:function(e){var o=this,a=e.text,s=e.startPos,u=e.endPos,t=e.rotation,l=void 0===t?0:t,t=e.widthFactor,c=void 0===t?1:t,t=e.hAlign,h=void 0===t?0:t,t=e.vAlign,p=void 0===t?0:t,f=e.color,t=e.layer,d=void 0===t?null:t,y=e.fontSize;return Y7().mark(function e(){var t,n,r,i;return Y7().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=new l9(y),n=D(a),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=12;break}if(r=r.value,i=o._GetCharShape(r)){e.next=9;break}return e.abrupt("continue",10);case 9:t.PushChar(r,i);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:return e.delegateYield(t.Render(s,u,l,c,h,p,f,d),"t1",21);case 21:case"end":return e.stop()}},e,null,[[2,14,17,20]])})()}},{key:"RenderMText",value:function(e){var n=this,r=e.formattedText,i=e.position,o=e.fontSize,t=e.width,a=void 0===t?null:t,t=e.rotation,s=void 0===t?0:t,t=e.direction,u=void 0===t?null:t,l=e.attachment,t=e.lineSpacing,c=void 0===t?1:t,h=e.color,t=e.layer,p=void 0===t?null:t;return Y7().mark(function e(){var t;return Y7().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new u9(o,n._GetCharShape.bind(n))).FeedText(r),e.delegateYield(t.Render(i,a,s,u,l,c,h,p),"t0",3);case 3:case"end":return e.stop()}},e)})()}},{key:"_GetCharShape",value:function(e){var t=this.shapes.get(e);return t||(t=this._CreateCharShape(e),this.shapes.set(e,t)),t}},{key:"_CreateCharShape",value:function(e){var t,n=D(this.fonts);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.GetCharPath(e);if(i)return new r9(r,i,this.options)}}catch(e){n.e(e)}finally{n.f()}return this.stubShape}},{key:"_FetchFont",value:(t=K7(Y7().mark(function e(t){return Y7().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i9,e.next=3,t();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),n}(),r9=(n9.DefaultOptions={curveSubdivision:2,fallbackChar:"�?"},function(){function r(e,t,v){var m=this;if(Q7(this,r),this.font=e,this.advance=t.advance,this.bounds=t.bounds,t.path){var g,e=t.path.toShapes(!1),n=(this.vertices=[],this.indices=[],D(e));try{for(n.s();!(g=n.n()).done;)!function(){var e=g.value.extractPoints(v.curveSubdivision);if(!R7.isClockWise(e.shape)){e.shape=e.shape.reverse();var t,n=D(e.holes);try{for(n.s();!(t=n.n()).done;){var r=t.value;R7.isClockWise(r)&&(e.holes[h]=r.reverse())}}catch(e){n.e(e)}finally{n.f()}}var i=R7.triangulateShape(e.shape,e.holes),o=m,a=m.vertices.length;function s(e){var t,n=D(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;o.vertices.push(r)}}catch(e){n.e(e)}finally{n.f()}}s(e.shape);var u,l=D(e.holes);try{for(l.s();!(u=l.n()).done;)s(u.value)}catch(e){l.e(e)}finally{l.f()}var c,p=D(i);try{for(p.s();!(c=p.n()).done;){var f,d=D(c.value);try{for(d.s();!(f=d.n()).done;){var y=f.value;m.indices.push(a+y)}}catch(e){d.e(e)}finally{d.f()}}}catch(e){p.e(e)}finally{p.f()}}()}catch(e){n.e(e)}finally{n.f()}}else this.vertices=null}return $7(r,[{key:"GetVertices",value:function(t,n){return this.vertices.map(function(e){return e.clone().multiplyScalar(n).add(t)})}}]),r}()),i9=function(){function i(e){Q7(this,i),this.data=e,this.charMap=new Map;for(var t=0,n=Object.values(e.glyphs.glyphs);t<n.length;t++){var r=n[t];void 0!==r.unicode&&this.charMap.set(String.fromCodePoint(r.unicode),r)}this.scale=100/(72*(this.data.unitsPerEm||2048))}return $7(i,[{key:"HasChar",value:function(e){return this.charMap.has(e)}},{key:"GetCharPath",value:function(e){e=this.charMap.get(e);if(!e)return null;var t,n=this.scale,r=new I7,i=D(e.path.commands);try{for(i.s();!(t=i.n()).done;){var o=t.value;switch(o.type){case"M":r.moveTo(o.x*n,o.y*n);break;case"L":r.lineTo(o.x*n,o.y*n);break;case"Q":r.quadraticCurveTo(o.x1*n,o.y1*n,o.x*n,o.y*n);break;case"C":r.bezierCurveTo(o.x1*n,o.y1*n,o.x2*n,o.y2*n,o.x*n,o.y*n)}}}catch(e){i.e(e)}finally{i.f()}return{advance:e.advanceWidth*n,path:r,bounds:{xMin:e.xMin*n,xMax:e.xMax*n,yMin:e.yMin*n,yMax:e.yMax*n}}}},{key:"GetKerning",value:function(e,t){var n=this.data.charToGlyphIndex(e);return 0===n||0===(e=this.data.charToGlyphIndex(e))?0:this.data.getKerningValue(n,e)*this.scale}}]),i}(),o9=Object.freeze({LEFT:0,CENTER:1,RIGHT:2,ALIGNED:3,MIDDLE:4,FIT:5}),a9=Object.freeze({BASELINE:0,BOTTOM:1,MIDDLE:2,TOP:3}),s9=Object.freeze({TOP_LEFT:1,TOP_CENTER:2,TOP_RIGHT:3,MIDDLE_LEFT:4,MIDDLE_CENTER:5,MIDDLE_RIGHT:6,BOTTOM_LEFT:7,BOTTOM_CENTER:8,BOTTOM_RIGHT:9}),u9=function(){function I(e,t){Q7(this,I),this.fontSize=e,this.charShapeProvider=t,this.curParagraph=new I.Paragraph(this),this.paragraphs=[this.curParagraph],this.spaceShape=t(" ")}return $7(I,[{key:"FeedText",value:function(e){var o=Y7().mark(a);function a(t){var n,r,i;return Y7().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=D(t),e.prev=1,n.s();case 3:if((r=n.n()).done)e.next=13;else{if((i=r.value).type===W7.EntityType.SCOPE)return e.delegateYield(a(i.content),"t0",7);e.next=9}break;case 7:e.next=11;break;case 9:return e.next=11,i;case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(1),n.e(e.t1);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}},o,null,[[1,15,18,21]])}var t,n=null,r=D(a(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(i.type){case W7.EntityType.TEXT:var s,u=D(i.content);try{for(u.s();!(s=u.n()).done;){var l=s.value;" "===l?this.curParagraph.FeedSpace():this.curParagraph.FeedChar(l)}}catch(e){u.e(e)}finally{u.f()}break;case W7.EntityType.PARAGRAPH:this.curParagraph=new I.Paragraph(this),this.curParagraph.SetAlignment(n),this.paragraphs.push(this.curParagraph);break;case W7.EntityType.NON_BREAKING_SPACE:this.curParagraph.FeedChar(" ");break;case W7.EntityType.PARAGRAPH_ALIGNMENT:var c=null;switch(i.alignment){case"l":c=I.Paragraph.Alignment.LEFT;break;case"c":c=I.Paragraph.Alignment.CENTER;break;case"r":c=I.Paragraph.Alignment.RIGHT;break;case"d":c=I.Paragraph.Alignment.JUSTIFY;break;case"j":c=null}this.curParagraph.SetAlignment(c),n=c}}}catch(e){r.e(e)}finally{r.f()}}},{key:"Render",value:Y7().mark(function e(t,n,r,i,o,a,s,u){var l,c,h,p,f,d,y,v,m,g,b,x,w,_,S,T,E,k,O,P,M,A,R,C,L;return Y7().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=D(this.paragraphs);try{for(l.s();!(c=l.n()).done;)c.value.BuildLines(n)}catch(e){l.e(e)}finally{l.f()}if(null===n||0===n){n=0,h=D(this.paragraphs);try{for(h.s();!(p=h.n()).done;)f=p.value,d=f.GetMaxLineWidth(),n<d&&(n=d)}catch(e){h.e(e)}finally{h.f()}}y=I.Paragraph.Alignment.LEFT,e.t0=o,e.next=e.t0===s9.TOP_CENTER||e.t0===s9.MIDDLE_CENTER||e.t0===s9.BOTTOM_CENTER?7:e.t0===s9.TOP_RIGHT||e.t0===s9.MIDDLE_RIGHT||e.t0===s9.BOTTOM_RIGHT?9:11;break;case 7:return y=I.Paragraph.Alignment.CENTER,e.abrupt("break",11);case 9:return y=I.Paragraph.Alignment.RIGHT,e.abrupt("break",11);case 11:v=D(this.paragraphs);try{for(v.s();!(m=v.n()).done;)m.value.ApplyAlignment(n,y)}catch(e){v.e(e)}finally{v.f()}null!==i&&(r=180*Math.atan2(i.y,i.x)/Math.PI),g=5*a*this.fontSize/3,b=0,x=D(this.paragraphs);try{for(x.s();!(w=x.n()).done;)null===(_=w.value).lines?b++:b+=_.lines.length}catch(e){x.e(e)}finally{x.f()}b*=g,S=new j,e.t1=o,e.next=e.t1===s9.TOP_LEFT?23:e.t1===s9.TOP_CENTER?24:e.t1===s9.TOP_RIGHT?26:e.t1===s9.MIDDLE_LEFT?28:e.t1===s9.MIDDLE_CENTER?30:e.t1===s9.MIDDLE_RIGHT?33:e.t1===s9.BOTTOM_LEFT?36:e.t1===s9.BOTTOM_CENTER?38:e.t1===s9.BOTTOM_RIGHT?41:44;break;case 23:return e.abrupt("break",45);case 24:return S.x=n/2,e.abrupt("break",45);case 26:return S.x=n,e.abrupt("break",45);case 28:return S.y=-b/2,e.abrupt("break",45);case 30:return S.x=n/2,S.y=-b/2,e.abrupt("break",45);case 33:return S.x=n,S.y=-b/2,e.abrupt("break",45);case 36:return S.y=-b,e.abrupt("break",45);case 38:return S.x=n/2,S.y=-b,e.abrupt("break",45);case 41:return S.x=n,S.y=-b,e.abrupt("break",45);case 44:throw new Error("Unhandled alignment");case 45:T=(new X8).translate(-S.x,-S.y).rotate(-r*Math.PI/180).translate(t.x,t.y),E=-this.fontSize,k=D(this.paragraphs),e.prev=48,k.s();case 50:if((M=k.n()).done)e.next=85;else{if(null===(O=M.value).lines)return E-=g,e.abrupt("continue",83);e.next=55}break;case 55:P=D(O.lines),e.prev=56,P.s();case 58:if((M=P.n()).done){e.next=75;break}A=M.value,R=A.startChunkIdx;case 61:if(R<A.startChunkIdx+A.numChunks){if(C=O.chunks[R],L=C.position,0!==R&&R===A.startChunkIdx||(L+=C.GetSpacingWidth()),(L=new j(L,E)).applyMatrix3(T),C.block)return e.delegateYield(C.block.Render(L,null,r,null,o9.LEFT,a9.BASELINE,s,u),"t2",69);e.next=69}else e.next=72;break;case 69:R++,e.next=61;break;case 72:E-=g;case 73:e.next=58;break;case 75:e.next=80;break;case 77:e.prev=77,e.t3=e.catch(56),P.e(e.t3);case 80:return e.prev=80,P.f(),e.finish(80);case 83:e.next=50;break;case 85:e.next=90;break;case 87:e.prev=87,e.t4=e.catch(48),k.e(e.t4);case 90:return e.prev=90,k.f(),e.finish(90);case 93:case"end":return e.stop()}},e,this,[[48,87,90,93],[56,77,80,83]])})}]),I}(),l9=(u9.Paragraph=function(){function t(e){Q7(this,t),this.textBox=e,this.chunks=[],this.curChunk=null,this.alignment=null,this.lines=null}return $7(t,[{key:"FeedChar",value:function(e){var t=this.textBox.charShapeProvider(e);null!==t&&(null===this.curChunk&&this._AddChunk(),this.curChunk.PushChar(e,t))}},{key:"FeedSpace",value:function(){null!==this.curChunk&&null===this.curChunk.lastChar||this._AddChunk(),this.curChunk.PushSpace()}},{key:"SetAlignment",value:function(e){this.alignment=e}},{key:"BuildLines",value:function(e){var t=this;if(null!==this.curChunk){this.lines=[];for(var n=0,r=0,i=0,o=function(){t.lines.push(new u9.Paragraph.Line(t,n,r-n,i)),n=r,i=0};r<this.chunks.length;r++){var a=this.chunks[r],s=a.GetWidth(0===n||r!==n);null!==e&&0!==e&&0!==i&&e<i+s&&o(),a.position=i,i+=s}n!==r&&0!==i&&o()}}},{key:"GetMaxLineWidth",value:function(){if(null===this.lines)return 0;var e,t=0,n=D(this.lines);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.width>t&&(t=r.width)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"ApplyAlignment",value:function(e,t){if(this.lines){var n,r=D(this.lines);try{for(r.s();!(n=r.n()).done;)n.value.ApplyAlignment(e,t)}catch(e){r.e(e)}finally{r.f()}}}},{key:"_AddChunk",value:function(){this.curChunk=new u9.Paragraph.Chunk(this,this.textBox.fontSize,this.curChunk),this.chunks.push(this.curChunk)}}]),t}(),u9.Paragraph.Alignment=Object.freeze({LEFT:0,CENTER:1,RIGHT:2,JUSTIFY:3}),u9.Paragraph.Chunk=function(){function r(e,t,n){Q7(this,r),this.paragraph=e,this.fontSize=t,this.prevChunk=n,this.lastChar=null,this.lastShape=null,this.leadingSpaces=0,this.spaceStartKerning=null,this.spaceEndKerning=null,this.block=null,this.position=null}return $7(r,[{key:"PushSpace",value:function(){if(this.block)throw new Error("Illegal operation");this.leadingSpaces++}},{key:"PushChar",value:function(e,t){null===this.spaceStartKerning&&(0===this.leadingSpaces?(this.spaceStartKerning=0,this.spaceEndKerning=0):(this.prevChunk&&this.prevChunk.lastShape&&this.prevChunk.fontSize===this.fontSize&&this.prevChunk.lastShape.font===this.paragraph.textBox.spaceShape.font?this.spaceStartKerning=this.prevChunk.lastShape.font.GetKerning(this.prevChunk.lastChar," "):this.spaceStartKerning=0,t.font===this.paragraph.textBox.spaceShape.font?this.spaceEndKerning=t.font.GetKerning(" ",e):this.spaceEndKerning=0)),null===this.block&&(this.block=new l9(this.fontSize)),this.block.PushChar(e,t),this.lastChar=e,this.lastShape=t}},{key:"GetSpacingWidth",value:function(){return(this.leadingSpaces*this.paragraph.textBox.spaceShape.advance+this.spaceStartKerning+this.spaceEndKerning)*this.fontSize}},{key:"GetWidth",value:function(e){var t;return null===this.block?0:(t=this.block.GetCurrentPosition(),e&&(t+=this.GetSpacingWidth()),t)}}]),r}(),u9.Paragraph.Line=function(){function i(e,t,n,r){Q7(this,i),this.paragraph=e,this.startChunkIdx=t,this.numChunks=n,this.width=r}return $7(i,[{key:"ApplyAlignment",value:function(e,t){var n;switch(null!=(n=this.paragraph.alignment)?n:t){case u9.Paragraph.Alignment.LEFT:break;case u9.Paragraph.Alignment.CENTER:var r=(e-this.width)/2;this.ForEachChunk(function(e){return e.position+=r});break;case u9.Paragraph.Alignment.RIGHT:var i=e-this.width;this.ForEachChunk(function(e){return e.position+=i});break;case u9.Paragraph.Alignment.JUSTIFY:var o,a,s=e-this.width;s<=0||1===this.numChunks||(o=s/(this.numChunks-1),a=0,this.ForEachChunk(function(e){e.position+=a,a+=o}));break;default:throw new Error("Unhandled alignment: "+this.paragraph.alignment)}}},{key:"ForEachChunk",value:function(e){for(var t=0;t<this.numChunks;t++)e(this.paragraph.chunks[this.startChunkIdx+t])}}]),i}(),function(){function t(e){Q7(this,t),this.fontSize=e,this.glyphs=[],this.bounds=null,this.curX=0,this.prevChar=null,this.prevFont=null}return $7(t,[{key:"PushChar",value:function(e,t){var n,r,i,o,a,s=null!==this.prevChar&&this.prevFont===t.font?this.prevFont.GetKerning(this.prevChar,e):0,s=this.curX+s*this.fontSize;t.vertices?(n=t.GetVertices({x:s,y:0},this.fontSize),r=s+t.bounds.xMin*this.fontSize,i=s+t.bounds.xMax*this.fontSize,o=t.bounds.yMin*this.fontSize,a=t.bounds.yMax*this.fontSize,null===this.bounds?this.bounds={xMin:r,xMax:i,yMin:o,yMax:a}:(r<this.bounds.xMin&&(this.bounds.xMin=r),o<this.bounds.yMin&&(this.bounds.yMin=o),i>this.bounds.xMax&&(this.bounds.xMax=i),a>this.bounds.yMax&&(this.bounds.yMax=a))):n=null,this.curX=s+t.advance*this.fontSize,this.glyphs.push({shape:t,vertices:n}),this.prevChar=e,this.prevFont=t.font}},{key:"GetCurrentPosition",value:function(){return this.curX}},{key:"Render",value:Y7().mark(function e(t,n,r,i,o,a,s,u){var l,c,h,p,f,d,y,v,m,g,b,x=this;return Y7().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this.bounds)return e.abrupt("return");e.next=2;break;case 2:n=null!=(l=n)?l:t,r?r*=-Math.PI/180:r=0,i=null!=(l=i)?l:1,o=null!=(l=o)?l:o9.LEFT,a=null!=(l=a)?l:a9.BASELINE,l=new j,c=new j(i,1),h=o===o9.LEFT&&a===a9.BASELINE||o===o9.FIT||o===o9.ALIGNED?new j(t.x,t.y):new j(n.x,n.y),p=function(){var e=n.x-t.x;return e<2*Number.MIN_VALUE?i:e/(x.bounds.xMax-x.bounds.xMin)},f=function(){return-Math.atan2(n.y-t.y,n.x-t.x)},e.t0=o,e.next=e.t0===o9.LEFT?15:e.t0===o9.CENTER?17:e.t0===o9.RIGHT?19:e.t0===o9.MIDDLE?21:e.t0===o9.ALIGNED?24:e.t0===o9.FIT?29:32;break;case 15:return l.x=this.bounds.xMin,e.abrupt("break",33);case 17:return l.x=(this.bounds.xMax-this.bounds.xMin)/2,e.abrupt("break",33);case 19:return l.x=this.bounds.xMax,e.abrupt("break",33);case 21:return l.x=(this.bounds.xMax-this.bounds.xMin)/2,l.y=(this.bounds.yMax-this.bounds.yMin)/2,e.abrupt("break",33);case 24:return v=p(),c.x=v,c.y=v,r=f(),e.abrupt("break",33);case 29:return c.x=p(),r=f(),e.abrupt("break",33);case 32:console.warn("Unrecognized hAlign value: "+o);case 33:e.t1=a,e.next=e.t1===a9.BASELINE?36:e.t1===a9.BOTTOM?37:e.t1===a9.MIDDLE?39:e.t1===a9.TOP?41:43;break;case 36:return e.abrupt("break",44);case 37:return l.y=this.bounds.yMin,e.abrupt("break",44);case 39:return l.y=(this.bounds.yMax-this.bounds.yMin)/2,e.abrupt("break",44);case 41:return l.y=this.bounds.yMax,e.abrupt("break",44);case 43:console.warn("Unrecognized vAlign value: "+a);case 44:d=(new X8).translate(-l.x,-l.y).scale(c.x,c.y).rotate(r).translate(h.x,h.y),y=D(this.glyphs),e.prev=46,y.s();case 48:if((v=y.n()).done){e.next=57;break}if(!(m=v.value).vertices){e.next=55;break}g=D(m.vertices);try{for(g.s();!(b=g.n()).done;)b.value.applyMatrix3(d)}catch(e){g.e(e)}finally{g.f()}return e.next=55,new B({type:B.Type.TRIANGLES,vertices:m.vertices,indices:m.shape.indices,layer:u,color:s});case 55:e.next=48;break;case 57:e.next=62;break;case 59:e.prev=59,e.t2=e.catch(46),y.e(e.t2);case 62:return e.prev=62,y.f(),e.finish(62);case 65:case"end":return e.stop()}},e,this,[[46,59,62,65]])})}]),t}());function c9(){}function h9(e){this._tree=e,this._ancestors=[],this._cursor=null}function p9(e){this.data=e,this.left=null,this.right=null,this.red=!0}function f9(e){this._root=null,this._comparator=e,this.size=0}function d9(e){return null!==e&&e.red}function y9(e,t){var n=e.get_child(!t);return e.set_child(!t,n.get_child(t)),n.set_child(t,e),e.red=!0,n.red=!1,n}function v9(e,t){return e.set_child(!t,y9(e.get_child(!t),!t)),y9(e,t)}function m9(e){return(m9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g9(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,i=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw i}}};if(Array.isArray(e)||(a=function(e,t){var n;if(e)return"string"==typeof e?b9(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b9(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=m9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=m9(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==m9(e)?e:String(e)}(r.key),r)}}function _9(e,t,n){t&&w9(e.prototype,t),n&&w9(e,n),Object.defineProperty(e,"prototype",{writable:!1})}c9.prototype.clear=function(){this._root=null,this.size=0},c9.prototype.find=function(e){for(var t=this._root;null!==t;){var n=this._comparator(e,t.data);if(0===n)return t.data;t=t.get_child(0<n)}return null},c9.prototype.findIter=function(e){for(var t=this._root,n=this.iterator();null!==t;){var r=this._comparator(e,t.data);if(0===r)return n._cursor=t,n;n._ancestors.push(t),t=t.get_child(0<r)}return null},c9.prototype.lowerBound=function(e){for(var t=this._root,n=this.iterator(),r=this._comparator;null!==t;){var i=r(e,t.data);if(0===i)return n._cursor=t,n;n._ancestors.push(t),t=t.get_child(0<i)}for(var o=n._ancestors.length-1;0<=o;--o)if(r(e,(t=n._ancestors[o]).data)<0)return n._cursor=t,n._ancestors.length=o,n;return n._ancestors.length=0,n},c9.prototype.upperBound=function(e){for(var t=this.lowerBound(e),n=this._comparator;null!==t.data()&&0===n(t.data(),e);)t.next();return t},c9.prototype.min=function(){var e=this._root;if(null===e)return null;for(;null!==e.left;)e=e.left;return e.data},c9.prototype.max=function(){var e=this._root;if(null===e)return null;for(;null!==e.right;)e=e.right;return e.data},c9.prototype.iterator=function(){return new h9(this)},c9.prototype.each=function(e){for(var t,n=this.iterator();null!==(t=n.next());)e(t)},c9.prototype.reach=function(e){for(var t,n=this.iterator();null!==(t=n.prev());)e(t)},h9.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},h9.prototype.next=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._minNode(e)}else{var t;if(null===this._cursor.right){do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}}while(this._cursor=this._ancestors.pop(),this._cursor.right===t)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},h9.prototype.prev=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._maxNode(e)}else{var t;if(null===this._cursor.left){do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}}while(this._cursor=this._ancestors.pop(),this._cursor.left===t)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},h9.prototype._minNode=function(e){for(;null!==e.left;)this._ancestors.push(e),e=e.left;this._cursor=e},h9.prototype._maxNode=function(e){for(;null!==e.right;)this._ancestors.push(e),e=e.right;this._cursor=e},p9.prototype.get_child=function(e){return e?this.right:this.left},p9.prototype.set_child=function(e,t){e?this.right=t:this.left=t},(f9.prototype=new c9).insert=function(e){var t=!1;if(null===this._root)this._root=new p9(e),t=!0,this.size++;else{var n=new p9(void 0),r=0,i=0,o=null,a=n,s=null,u=this._root;for(a.right=this._root;;){null===u?(u=new p9(e),s.set_child(r,u),t=!0,this.size++):d9(u.left)&&d9(u.right)&&(u.red=!0,u.left.red=!1,u.right.red=!1),d9(u)&&d9(s)&&(l=a.right===o,u===s.get_child(i)?a.set_child(l,y9(o,!i)):a.set_child(l,v9(o,!i)));var l=this._comparator(u.data,e);if(0===l)break;i=r,null!==o&&(a=o),o=s,u=(s=u).get_child(r=l<0)}this._root=n.right}return this._root.red=!1,t},f9.prototype.remove=function(e){if(null===this._root)return!1;for(var t=new p9(void 0),n=((u=t).right=this._root,null),r=null,i=null,o=1;null!==u.get_child(o);){var a,s=o,r=n,n=u,u=u.get_child(o),l=this._comparator(e,u.data),o=0<l;0===l&&(i=u),d9(u)||d9(u.get_child(o))||(d9(u.get_child(!o))?(l=y9(u,o),n.set_child(s,l),n=l):d9(u.get_child(!o))||null!==(l=n.get_child(!s))&&(d9(l.get_child(!s))||d9(l.get_child(s))?(a=r.right===n,d9(l.get_child(s))?r.set_child(a,v9(n,s)):d9(l.get_child(!s))&&r.set_child(a,y9(n,s)),(s=r.get_child(a)).red=!0,u.red=!0,s.left.red=!1,s.right.red=!1):(n.red=!1,l.red=!0,u.red=!0)))}return null!==i&&(i.data=u.data,n.set_child(n.right===u,u.get_child(null===u.left)),this.size--),this._root=t.right,null!==this._root&&(this._root.red=!1),null!==i};var S9=function(){function e(){x9(this,e),this.lines=[],this.triangles=[],this.texts=[]}return _9(e,[{key:"AddLine",value:function(e,t){this.lines.push({start:e,end:t,color:2<arguments.length&&void 0!==arguments[2]?arguments[2]:null})}},{key:"AddTriangles",value:function(e,t){this.triangles.push({vertices:e,indices:t,color:2<arguments.length&&void 0!==arguments[2]?arguments[2]:null})}},{key:"AddText",value:function(e,t,n,r,i){this.texts.push({text:e,size:t,angle:n,color:r,position:i})}}]),e}(),T9={vertices:[new j(0,0),new j(1,-.25),new j(1,.25)],indices:[0,1,2]},E9=function(){function r(e,t,n){x9(this,r),this.params=e,this.styleResolver=t,this.textWidthCalculator=n,this.isValid=!0,this._CalculateGeometry()}return _9(r,[{key:"IsValid",value:function(){return this.isValid}},{key:"GetTexts",value:function(){return[this._GetText()]}},{key:"GenerateLayout",value:function(){function e(e,t){var n=t.clone().sub(e);0!=n.length()&&(n.normalize(),e=e.clone(),0!=v&&e.add(n.clone().multiplyScalar(v)),t=t.clone(),0!=m&&t.add(n.clone().multiplyScalar(m)),r.AddLine(e,t,y))}var r=new S9,t=this.d1.distanceTo(this.d2),n=this.styleResolver("DIMCLRD"),i=null!=(i=this.styleResolver("DIMSCALE"))?i:1,o=(0==i&&(i=1),this._GetText()),a=(null!=(a=this.styleResolver("DIMTXT"))?a:1)*i,s=(this.textWidthCalculator(o,a),this.styleResolver("DIMCLRT")),u=(null!=(c=this.styleResolver("DIMASZ"))?c:1)*i,l=(null!=(c=this.styleResolver("DIMTSZ"))?c:0)*i,c=this.params.textAnchor,h=!1,p=this.d1.clone(),f=(null!=(f=this.styleResolver("DIMDLE"))?f:0)*i,d=(0!=f&&p.add(this.vDim.clone().multiplyScalar(-f)),this.d2.clone()),p=(0!=f&&d.add(this.vDim.clone().multiplyScalar(f)),r.AddLine(p,d,n),t<2*u&&(h=!0),c=c||this.vDim.clone().multiplyScalar(this.d1.distanceTo(this.d2)/2).add(this.d1).add(this.vDimNorm.clone().multiplyScalar(.75*a)),180*this.vDimNorm.angle()/Math.PI-90+(null!=(f=this.params.textRotation)?f:0)),y=(r.AddText(o,a,p,s,c),this.styleResolver("DIMCLRE")),v=(null!=(d=this.styleResolver("DIMEXO"))?d:0)*i,m=(null!=(t=this.styleResolver("DIMEXE"))?t:0)*i;null!=(f=this.styleResolver("DIMSE1"))&&f||e(this.params.p1,this.d1),null!=(o=this.styleResolver("DIMSE2"))&&o||e(this.params.p2,this.d2);for(var g=0;g<2;g++){var b=0==g?this.d1:this.d2,x=1==g,w=(h&&(x=!x),(new X8).identity()),x=(0<l?w.scale(l,l):(w.scale(u,u),x&&w.scale(-1,1)),-this.vDim.angle());w.rotate(x),w.translate(b.x,b.y),0<l?this._CreateTick(r,w,n):this._CreateArrowShape(r,w,n)}return r}},{key:"_CreateArrowShape",value:function(e,t,n){var r,i=[],o=g9(T9.vertices);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push(a.clone().applyMatrix3(t))}}catch(e){o.e(e)}finally{o.f()}e.AddTriangles(i,T9.indices,n)}},{key:"_CreateTick",value:function(e,t,n){e.AddLine(new j(.5,.5).applyMatrix3(t),new j(-.5,-.5).applyMatrix3(t),n)}},{key:"_CalculateGeometry",value:function(){var e;this.vBase=this.params.p2.clone().sub(this.params.p1).normalize(),this.params.isAligned?this.vDim=this.vBase:(e=(null!=(e=this.params.angle)?e:0)*Math.PI/180,this.vDim=new j(Math.cos(e),Math.sin(e))),this.d1=this.vDim.clone().multiplyScalar(this.params.p1.clone().sub(this.params.anchor).dot(this.vDim)).add(this.params.anchor),this.d2=this.vDim.clone().multiplyScalar(this.params.p2.clone().sub(this.params.anchor).dot(this.vDim)).add(this.params.anchor),0==this.d1.distanceTo(this.d2)&&(this.isValid=!1),this.vDim.copy(this.d2).sub(this.d1).normalize(),this.vDim.y<-this.vDim.x?this.vDimNorm=new j(this.vDim.y,-this.vDim.x):this.vDimNorm=new j(-this.vDim.y,this.vDim.x)}},{key:"_GetText",value:function(){var e,t,n;return" "==this.params.text?"":""!=(null!=(t=this.params.text)?t:"")&&-1==this.params.text.indexOf("<>")?t9(this.params.text):(t=this.d2.distanceTo(this.d1),t*=null!=(e=this.styleResolver("DIMLFAC"))?e:1,0<(e=null!=(e=this.styleResolver("DIMRND"))?e:0)&&(t=e*Math.round(t/e)),n=0!=(4&(e=null!=(e=this.styleResolver("DIMZIN"))?e:0)),e=0!=(8&e),t=t.toFixed(null!=(t=this.styleResolver("DIMDEC"))?t:2),e&&(t=t.replace(/.0+$/,"")),(t=n?t.replace(/^0+/,""):t).startsWith(".")?t="0"+t:""==t&&(t="0"),t.endsWith(".")&&(t=t.substring(0,t.length-1)),n=null!=(e=this.styleResolver("DIMDSEP"))?e:".","."!=(n=isNaN(n)?n:String.fromCharCode(n))&&(t=t.replace(".",n)),""!=(n=null!=(e=this.styleResolver("DIMPOST"))?e:"")&&(-1!=n.indexOf("<>")?t=n.replaceAll("<>",t):t+=n),t9(t=""!=(null!=(e=this.params.text)?e:"")?this.params.text.replaceAll("<>",t):t))}}]),r}(),k9=new j;function O9(e,t){this.min=void 0!==e?e:new j(1/0,1/0),this.max=void 0!==t?t:new j(-1/0,-1/0)}function P9(e,t,n,r,i){var o,i=4<arguments.length&&void 0!==i&&i,t=t.clone().sub(e),r=r.clone().sub(n);return 0==t.lengthSq()||0==r.lengthSq()||(o=t.cross(r),Math.abs(o)<=Number.EPSILON)||(e=(n=n.clone().sub(e)).cross(r)/o,!i&&(e<0||1<e))||(r=n.cross(t)/o,!i&&(r<0||1<r))?null:[e,r,o]}function M9(e,t,n){(t=F9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function A9(e){return(A9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||L9(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C9(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,i=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw i}}};if(Array.isArray(e)||(a=L9(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L9(e,t){var n;if(e)return"string"==typeof e?I9(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I9(e,t):void 0}function I9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F9(r.key),r)}}function N9(e,t,n){t&&j9(e.prototype,t),n&&j9(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function F9(e){e=function(e,t){if("object"!=A9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=A9(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==A9(e)?e:String(e)}Object.assign(O9.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){t=k9.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new j),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new j),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new j),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new j),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return k9.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var U9=Object.freeze({ODD_PARITY:0,OUTERMOST:1,THROUGH_ENTIRE_AREA:2});function B9(e,t){return 0<(0<e.intersection[2]&&t.intersection[2])||e.intersection[2]<0&&t.intersection[2]<0}var z9=function(){function s(e,t,n){D9(this,s),this.style=t,this.line=n,this.lineDir=n[1].clone().sub(n[0]).normalize(),this.loops=[];for(var r=0;r<e.length;r++){for(var i=e[r],o=[],a=0;a<i.length;a++)o.push({idx:a,start:i[a],end:i[a==i.length-1?0:a+1],loopIdx:r});this.loops.push(o)}}return N9(s,[{key:"Calculate",value:function(){return this._ProcessEdges(),this._CreateNodes(),this.nodes.sort(function(e,t){return e.intersection[0]-t.intersection[0]}),this.style==U9.ODD_PARITY?this._GenerateOddParitySegments():this._GenerateThroughAllSegments()}},{key:"_ProcessEdges",value:function(){var e,t=C9(this.loops);try{for(t.s();!(e=t.n()).done;){var n,r=C9(e.value);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=o.end.clone().sub(o.start),s=a.length();o.isZero=s<=Number.EPSILON,o.isZero||(a.divideScalar(s),i=a.cross(this.lineDir),o.isParallel=Math.abs(i)<=1e-6,o.isParallel)||(o.intersection=P9(this.line[0],this.line[1],o.start,o.end,!0))}}catch(e){r.e(e)}finally{r.f()}}}catch(e){t.e(e)}finally{t.f()}}},{key:"_CreateNodes",value:function(){this.nodes=[];var e,t=C9(this.loops);try{for(t.s();!(e=t.n()).done;){var n,r=C9(e.value);try{for(r.s();!(n=r.n()).done;){var i,o,a,s,u,l=n.value;l.isZero||l.isParallel||l.isProcessed||!l.intersection||l.intersection[1]<-1e-4||1.0001<l.intersection[1]||((i=l.intersection[1]<=1e-4)||.9999<=l.intersection[1]?(u=(o=R9(this._GetConnectedEdge(l,i),2))[0],a=o[1],u&&(l.isProcessed=!0,u.isProcessed=!0,a?B9(l,u)&&(l.toggle=!0,this.nodes.push(l)):(l.intersection[0]>u.intersection[0]&&(s=u,u=l,l=s),l.suppress=!0,u.unsuppress=!0,this.nodes.push(l),B9(l,u)&&(u.toggle=!0),this.nodes.push(u)))):(l.isProcessed=!0,l.toggle=!0,this.nodes.push(l)))}}catch(e){r.e(e)}finally{r.f()}}}catch(e){t.e(e)}finally{t.f()}}},{key:"_GetConnectedEdge",value:function(e,t){var n=this.loops[e.loopIdx],r=e.idx,i=!0;do{t?0==r?r=n.length-1:r--:r==n.length-1?r=0:r++;var o=n[r];if(!o.isZero&&!o.isParallel)return[o,i]}while(i=!1,r!=e.idx);return[null,!1]}},{key:"_GenerateOddParitySegments",value:function(){var e,t=[],n=!1,r=0,i=null,o=C9(this.nodes);try{for(o.s();!(e=o.n()).done;){var a=e.value;a.suppress&&r++,a.unsuppress&&r--,a.toggle&&(n=!n),0==r&&n&&(a.unsuppress||a.toggle)?i=a:!r&&n||!i||(a.intersection[0]-i.intersection[0]>Number.EPSILON&&t.push([i.intersection[0],a.intersection[0]]),i=null)}}catch(e){o.e(e)}finally{o.f()}return t}},{key:"_GenerateThroughAllSegments",value:function(){var e=[],t=0,n=null,r=new Array(this.loops.length).fill(0);function i(){var e,t=C9(r);try{for(t.s();!(e=t.n()).done;)if(0!=e.value)return!1}catch(e){t.e(e)}finally{t.f()}return!0}var o,a=C9(this.nodes);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=(s.suppress&&t++,s.unsuppress&&t--,i());s.toggle&&(0<s.intersection[2]?r[s.loopIdx]++:r[s.loopIdx]--),0!=t||i()||!s.unsuppress&&!u?(t||i())&&n&&(s.intersection[0]-n.intersection[0]>Number.EPSILON&&e.push([n.intersection[0],s.intersection[0]]),n=null):n=s}}catch(e){a.e(e)}finally{a.f()}return e}}]),s}(),G9=function(){function n(e,t){D9(this,n),M9(this,"boundaryLoops",void 0),M9(this,"style",void 0),this.boundaryLoops=e,this.style=t}return N9(n,[{key:"ClipLine",value:function(e){return new z9(this.boundaryLoops,this.style,e).Calculate()}},{key:"GetPatternTransform",value:function(e){var t=e.seedPoint,n=e.angle,e=e.scale,t=(new X8).makeTranslation(-t.x,-t.y);return n&&t.rotate(n),1!=(null!=e?e:1)&&t.scale(1/e,1/e),t}},{key:"GetLineTransform",value:function(e){var t=e.patTransform,n=e.basePoint,e=e.angle,t=t.clone();return n&&t.translate(-n.x,-n.y),e&&t.rotate(e),t}},{key:"GetBoundingBox",value:function(e){var t,n=new O9,r=C9(this.boundaryLoops);try{for(r.s();!(t=r.n()).done;){var i,o=C9(t.value);try{for(o.s();!(i=o.n()).done;){var a=i.value;n.expandByPoint(a.clone().applyMatrix3(e))}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}return n}}]),n}();function H9(e){return(H9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V9(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,i=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw i}}};if(Array.isArray(e)||(a=function(e,t){var n;if(e)return"string"==typeof e?W9(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W9(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=H9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=H9(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==H9(e)?e:String(e)}(r.key),r)}}var N=function(){function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=this,i=c;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");this.lines=e,this.name=t,this.offsetInLineSpace=n}var e,t,n;return e=c,n=[{key:"ParsePatFile",value:function(e){e=e.split(/\r?\n/);if(e.length<2)throw new Error("Invalid .pat file content");var t,n=null,r=[],i=V9(e);try{for(i.s();!(t=i.n()).done;){var o=(o=t.value).trim();if(""!=o&&!o.startsWith(";"))if(null===n){var a=o.match(/\*([^,]+)(?:,.*)?/);if(!a)throw new Error("Bad header for .pat file content");n=a[1]}else{var s=o.indexOf(";"),u=(o=-1!=s?o.substring(0,s).trim():o).split(/\s*,\s*/),l=(""==u[u.length-1]&&(u.length=u.length-1),{angle:(u=u.map(function(e){var t=parseFloat(e);if(isNaN(t))throw new Error("Failed to parse number in .pat file: "+e);return t}))[0]*Math.PI/180,base:new j(u[1],u[2]),offset:new j(u[3],u[4])});5<u.length&&(l.dashes=u.slice(5)),r.push(l)}}}catch(e){i.e(e)}finally{i.f()}return new c(r,n)}}],(t=null)&&q9(e.prototype,t),n&&q9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(),Y9=new Map,X9=new Map;function i(e,t){t=!(1<arguments.length&&void 0!==t)||t;if(!e.name)throw new Error("Anonymous pattern cannot be registered");var n=e.name.toUpperCase(),t=t?Y9:X9;t.has(n)?console.warn("Pattern with name ".concat(n," is already registered")):t.set(n,e)}function Z9(e,t){return(!(1<arguments.length&&void 0!==t)||t?Y9:X9).get(e.toUpperCase())}function K9(e){return(K9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i(N.ParsePatFile("\n*ACAD_ISO02W100,ACAD_ISO02W100\n0, 0,0, 0,5, 12,-3\n")),i(N.ParsePatFile("\n*ACAD_ISO03W100,ACAD_ISO03W100\n0, 0,0, 0,5, 12,-18\n")),i(N.ParsePatFile("\n*ACAD_ISO04W100,ACAD_ISO04W100\n0, 0,0, 0,5, 24,-3,.5,-3\n")),i(N.ParsePatFile("\n*ACAD_ISO05W100,ACAD_ISO05W100\n0, 0,0, 0,5, 24,-3,.5,-3,.5,-3\n")),i(N.ParsePatFile("\n*ACAD_ISO06W100,ACAD_ISO06W100\n0, 0,0, 0,5, 24,-3,.5,-3,.5,-6.5\n0, 0,0, 0,5, -34,.5,-3\n")),i(N.ParsePatFile("\n*ACAD_ISO07W100,ACAD_ISO07W100\n0, 0,0, 0,5, .5,-3\n")),i(N.ParsePatFile("\n*ACAD_ISO08W100,ACAD_ISO08W100\n0, 0,0, 0,5, 24,-3,6,-3\n")),i(N.ParsePatFile("\n*ACAD_ISO09W100,ACAD_ISO09W100\n0, 0,0, 0,5, 24,-3,6,-3,6,-3\n")),i(N.ParsePatFile("\n*ACAD_ISO10W100,ACAD_ISO10W100\n0, 0,0, 0,5, 12,-3,.5,-3\n")),i(N.ParsePatFile("\n*ACAD_ISO11W100,ACAD_ISO11W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-3\n")),i(N.ParsePatFile("\n*ACAD_ISO12W100,ACAD_ISO12W100\n0, 0,0, 0,5, 12,-3,.5,-3,.5,-3\n")),i(N.ParsePatFile("\n*ACAD_ISO13W100,ACAD_ISO13W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-6.5\n0, 0,0, 0,5, -33.5,.5,-3\n")),i(N.ParsePatFile("\n*ACAD_ISO14W100,ACAD_ISO14W100\n0, 0,0, 0,5, 12,-3,.5,-3,.5,-6.5\n0, 0,0, 0,5, -22,.5,-3\n")),i(N.ParsePatFile("\n*ACAD_ISO15W100,ACAD_ISO15W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-10\n0, 0,0, 0,5, -33.5,.5,-3,.5,-3\n")),i(N.ParsePatFile("\n*ANGLE,ANGLE\n0, 0,0, 0,6.985, 5.08,-1.905\n90, 0,0, 0,6.985, 5.08,-1.905\n")),i(N.ParsePatFile("\n*ANSI31,ANSI31\n45, 0,0, 0,3.175\n")),i(N.ParsePatFile("\n*ANSI32,ANSI32\n45, 0,0, 0,9.525\n45, 4.49013,0, 0,9.525\n")),i(N.ParsePatFile("\n*ANSI33,ANSI33\n45, 0,0, 0,6.35\n45, 4.49013,0, 0,6.35, 3.175,-1.5875\n")),i(N.ParsePatFile("\n*ANSI34,ANSI34\n45, 0,0, 0,19.05\n45, 4.49013,0, 0,19.05\n45, 8.98026,0, 0,19.05\n45, 13.4704,0, 0,19.05\n")),i(N.ParsePatFile("\n*ANSI35,ANSI35\n45, 0,0, 0,6.35\n45, 4.49013,0, 0,6.35, 7.9375,-1.5875,0,-1.5875\n")),i(N.ParsePatFile("\n*ANSI36,ANSI36\n45, 0,0, 5.55625,3.175, 7.9375,-1.5875,0,-1.5875\n")),i(N.ParsePatFile("\n*ANSI37,ANSI37\n45, 0,0, 0,3.175\n135, 0,0, 0,3.175\n")),i(N.ParsePatFile("\n*ANSI38,ANSI38\n45, 0,0, 0,3.175\n135, 0,0, 6.35,3.175, 7.9375,-4.7625\n")),i(N.ParsePatFile("\n*AR-B816,AR-B816\n0, 0,0, 0,203.2\n90, 0,0, 203.2,203.2, 203.2,-203.2\n")),i(N.ParsePatFile("\n*AR-B816C,AR-B816C\n0, 0,0, 203.2,203.2, 396.875,-9.525\n0, -203.2,9.525, 203.2,203.2, 396.875,-9.525\n90, 0,0, 203.2,203.2, -212.725,193.675\n90, -9.525,0, 203.2,203.2, -212.725,193.675\n")),i(N.ParsePatFile("\n*AR-B88,AR-B88\n0, 0,0, 0,203.2\n90, 0,0, 203.2,101.6, 203.2,-203.2\n")),i(N.ParsePatFile("\n*AR-BRELM,AR-BRELM\n0, 0,0, 0,135.484, 193.675,-9.525\n0, 0,57.15, 0,135.484, 193.675,-9.525\n0, 50.8,67.7418, 0,135.484, 92.075,-9.525\n0, 50.8,124.892, 0,135.484, 92.075,-9.525\n90, 0,0, 0,203.2, 57.15,-78.3336\n90, -9.525,0, 0,203.2, 57.15,-78.3336\n90, 50.8,67.7418, 0,101.6, 57.15,-78.3336\n90, 41.275,67.7418, 0,101.6, 57.15,-78.3336\n")),i(N.ParsePatFile("\n*AR-BRSTD,AR-BRSTD\n0, 0,0, 0,67.7418\n90, 0,0, 67.7418,101.6, 67.7418,-67.7418\n")),i(N.ParsePatFile("\n*AR-CONC-01,AR-CONC-01\n;Optimize to replace existing AR-CONC Pattern\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n243.434949,7.62,20.32,227.18450626,113.5922544,5.67961272,-562.2816542\n90,7.62,15.24,0,254,5.08,-248.92\n0,5.08,15.24,0,254,2.54,-251.46\n315,2.54,2.54,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,7.62,5.08,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,5.08,0,227.18450626,113.5922544,5.67961272,-562.2816542\n45,50.8,10.16,179.60512212,179.60512212,7.18420458,-352.02603966\n161.565051,58.42,7.62,240.9655582,80.32185358,8.03218612,-795.18633952\n288.434949,55.88,15.24,562.25296744,80.32185358,8.03218612,-795.18633952\n315,58.42,22.86,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,63.5,25.4,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,60.96,20.32,227.18450626,113.5922544,5.67961272,-562.2816542\n270,104.14,15.24,0,254,5.08,-248.92\n45,99.06,10.16,179.60512212,179.60512212,7.18420458,-352.02603966\n180,104.14,10.16,0,254,5.08,-248.92\n333.434949,99.06,5.08,227.18450626,113.5922544,5.67961272,-562.2816542\n225,101.6,7.62,179.60512212,179.60512212,3.59210356,-355.61814322\n116.565051,104.14,2.54,340.77676066,113.5922544,5.67961272,-562.2816542\n198.434949,160.02,20.32,562.25296744,80.32185358,8.03218612,-795.18633952\n63.434949,157.48,15.24,227.18450626,113.5922544,5.67961272,-562.2816542\n333.434949,152.4,17.78,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,144.78,0,340.77676066,113.5922544,5.67961272,-562.2816542\n251.565051,147.32,7.62,240.9655582,80.32185358,8.03218612,-795.18633952\n116.565051,149.86,2.54,340.77676066,113.5922544,5.67961272,-562.2816542\n45,170.18,2.54,179.60512212,179.60512212,7.18420458,-352.02603966\n161.565051,177.8,0,240.9655582,80.32185358,8.03218612,-795.18633952\n288.434949,175.26,7.62,562.25296744,80.32185358,8.03218612,-795.18633952\n315,76.2,71.12,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,81.28,73.66,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,78.74,68.58,227.18450626,113.5922544,5.67961272,-562.2816542\n45,27.94,20.32,179.60512212,179.60512212,7.18420458,-352.02603966\n180,33.02,20.32,0,254,5.08,-248.92\n270,33.02,25.4,0,254,5.08,-248.92\n225,45.72,60.96,179.60512212,179.60512212,3.59210356,-355.61814322\n270,45.72,66.04,0,254,5.08,-248.92\n71.565051,43.18,58.42,240.9655582,80.32185358,8.03218612,-795.18633952\n198.434949,25.4,53.34,562.25296744,80.32185358,8.03218612,-795.18633952\n63.434949,22.86,48.26,227.18450626,113.5922544,5.67961272,-562.2816542\n333.434949,17.78,50.8,227.18450626,113.5922544,5.67961272,-562.2816542\n0,88.9,55.88,0,254,5.08,-248.92\n225,93.98,60.96,179.60512212,179.60512212,7.18420458,-352.02603966\n90,93.98,55.88,0,254,5.08,-248.92\n315,114.3,43.18,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,119.38,45.72,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,116.84,40.64,227.18450626,113.5922544,5.67961272,-562.2816542\n315,139.7,53.34,179.60512212,179.60512212,3.59210356,-355.61814322\n270,139.7,58.42,0,254,5.08,-248.92\n108.434949,142.24,50.8,562.25296744,80.32185358,8.03218612,-795.18633952\n206.565051,175.26,68.58,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,172.72,63.5,227.18450626,113.5922544,5.67961272,-562.2816542\n315,170.18,66.04,179.60512212,179.60512212,3.59210356,-355.61814322\n333.434949,185.42,48.26,227.18450626,113.5922544,5.67961272,-562.2816542\n225,187.96,50.8,179.60512212,179.60512212,3.59210356,-355.61814322\n116.565051,190.5,45.72,340.77676066,113.5922544,5.67961272,-562.2816542\n26.565051,208.28,38.1,340.77676066,113.5922544,5.67961272,-562.2816542\n153.434949,213.36,35.56,227.18450626,113.5922544,5.67961272,-562.2816542\n270,213.36,40.64,0,254,5.08,-248.92\n180,236.22,43.18,0,254,2.54,-251.46\n270,236.22,45.72,0,254,2.54,-251.46\n45,233.68,43.18,179.60512212,179.60512212,3.59210356,-355.61814322\n153.434949,236.22,60.96,227.18450626,113.5922544,5.67961272,-562.2816542\n270,236.22,68.58,0,254,7.62,-246.38\n45,231.14,63.5,179.60512212,179.60512212,7.18420458,-352.02603966\n206.565051,231.14,88.9,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,228.6,83.82,227.18450626,113.5922544,5.67961272,-562.2816542\n315,226.06,86.36,179.60512212,179.60512212,3.59210356,-355.61814322\n180,165.1,73.66,0,254,5.08,-248.92\n270,165.1,81.28,0,254,7.62,-246.38\n56.309932,160.02,73.66,563.57539812,70.4469254,9.15809954,-906.65192304\n198.434949,137.16,96.52,562.25296744,80.32185358,8.03218612,-795.18633952\n71.565051,134.62,88.9,240.9655582,80.32185358,8.03218612,-795.18633952\n315,129.54,93.98,179.60512212,179.60512212,7.18420458,-352.02603966\n180,96.52,83.82,0,254,7.62,-246.38\n270,96.52,91.44,0,254,7.62,-246.38\n45,88.9,83.82,179.60512212,179.60512212,10.77630814,-348.43393864\n225,83.82,109.22,179.60512212,179.60512212,7.18420458,-352.02603966\n90,83.82,104.14,0,254,5.08,-248.92\n0,78.74,104.14,0,254,5.08,-248.92\n206.565051,40.64,99.06,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,38.1,93.98,227.18450626,113.5922544,5.67961272,-562.2816542\n315,35.56,96.52,179.60512212,179.60512212,3.59210356,-355.61814322\n108.434949,25.4,93.98,562.25296744,80.32185358,8.03218612,-795.18633952\n341.565051,17.78,96.52,240.9655582,80.32185358,8.03218612,-795.18633952\n225,22.86,101.6,179.60512212,179.60512212,7.18420458,-352.02603966\n270,38.1,114.3,0,254,5.08,-248.92\n45,33.02,109.22,179.60512212,179.60512212,7.18420458,-352.02603966\n180,38.1,109.22,0,254,5.08,-248.92\n315,91.44,119.38,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,96.52,121.92,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,93.98,116.84,227.18450626,113.5922544,5.67961272,-562.2816542\n0,129.54,101.6,0,254,2.54,-251.46\n225,132.08,104.14,179.60512212,179.60512212,3.59210356,-355.61814322\n90,132.08,101.6,0,254,2.54,-251.46\n0,175.26,96.52,0,254,5.08,-248.92\n243.434949,177.8,101.6,227.18450626,113.5922544,5.67961272,-562.2816542\n116.565051,180.34,96.52,340.77676066,113.5922544,5.67961272,-562.2816542\n26.565051,185.42,114.3,340.77676066,113.5922544,5.67961272,-562.2816542\n116.565051,187.96,109.22,340.77676066,113.5922544,5.67961272,-562.2816542\n251.565051,190.5,116.84,240.9655582,80.32185358,8.03218612,-795.18633952\n63.434949,223.52,91.44,227.18450626,113.5922544,5.67961272,-562.2816542\n180,228.6,91.44,0,254,5.08,-248.92\n296.565051,226.06,96.52,340.77676066,113.5922544,5.67961272,-562.2816542\n180,228.6,137.16,0,254,7.62,-246.38\n270,228.6,144.78,0,254,7.62,-246.38\n45,220.98,137.16,179.60512212,179.60512212,10.77630814,-348.43393864\n180,218.44,142.24,0,254,5.08,-248.92\n270,218.44,147.32,0,254,5.08,-248.92\n45,213.36,142.24,179.60512212,179.60512212,7.18420458,-352.02603966\n243.434949,208.28,165.1,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,203.2,162.56,340.77676066,113.5922544,5.67961272,-562.2816542\n135,205.74,160.02,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,170.18,152.4,227.18450626,113.5922544,5.67961272,-562.2816542\n116.565051,172.72,147.32,340.77676066,113.5922544,5.67961272,-562.2816542\n0,167.64,147.32,0,254,5.08,-248.92\n225,157.48,154.94,179.60512212,179.60512212,7.18420458,-352.02603966\n108.434949,160.02,147.32,562.25296744,80.32185358,8.03218612,-795.18633952\n341.565051,152.4,149.86,240.9655582,80.32185358,8.03218612,-795.18633952\n135,149.86,137.16,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,152.4,142.24,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,147.32,139.7,340.77676066,113.5922544,5.67961272,-562.2816542\n180,121.92,152.4,0,254,2.54,-251.46\n270,121.92,154.94,0,254,2.54,-251.46\n45,119.38,152.4,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,111.76,170.18,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,109.22,165.1,227.18450626,113.5922544,5.67961272,-562.2816542\n315,106.68,167.64,179.60512212,179.60512212,3.59210356,-355.61814322\n225,86.36,165.1,179.60512212,179.60512212,7.18420458,-352.02603966\n90,86.36,157.48,0,254,7.62,-246.38\n333.434949,81.28,160.02,227.18450626,113.5922544,5.67961272,-562.2816542\n180,76.2,154.94,0,254,5.08,-248.92\n270,76.2,160.02,0,254,5.08,-248.92\n45,71.12,154.94,179.60512212,179.60512212,7.18420458,-352.02603966\n135,53.34,142.24,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,55.88,147.32,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,50.8,144.78,340.77676066,113.5922544,5.67961272,-562.2816542\n180,27.94,160.02,0,254,5.08,-248.92\n270,27.94,165.1,0,254,5.08,-248.92\n45,22.86,160.02,179.60512212,179.60512212,7.18420458,-352.02603966\n270,15.24,177.8,0,254,7.62,-246.38\n45,10.16,172.72,179.60512212,179.60512212,7.18420458,-352.02603966\n153.434949,15.24,170.18,227.18450626,113.5922544,5.67961272,-562.2816542\n243.434949,208.28,198.12,227.18450626,113.5922544,5.67961272,-562.2816542\n90,208.28,193.04,0,254,5.08,-248.92\n0,205.74,193.04,0,254,2.54,-251.46\n135,220.98,208.28,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,223.52,213.36,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,218.44,210.82,340.77676066,113.5922544,5.67961272,-562.2816542\n180,218.44,213.36,0,254,5.08,-248.92\n251.565051,220.98,220.98,240.9655582,80.32185358,8.03218612,-795.18633952\n45,213.36,213.36,179.60512212,179.60512212,10.77630814,-348.43393864\n153.434949,182.88,233.68,227.18450626,113.5922544,5.67961272,-562.2816542\n135,165.1,185.42,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,167.64,190.5,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,162.56,187.96,340.77676066,113.5922544,5.67961272,-562.2816542\n135,160.02,195.58,179.60512212,179.60512212,3.59210356,-355.61814322\n251.565051,162.56,203.2,240.9655582,80.32185358,8.03218612,-795.18633952\n45,157.48,198.12,179.60512212,179.60512212,7.18420458,-352.02603966\n26.565051,66.04,193.04,340.77676066,113.5922544,5.67961272,-562.2816542\n153.434949,71.12,190.5,227.18450626,113.5922544,5.67961272,-562.2816542\n270,71.12,195.58,0,254,5.08,-248.92\n90,114.3,200.66,0,254,5.08,-248.92\n0,109.22,200.66,0,254,5.08,-248.92\n225,114.3,205.74,179.60512212,179.60512212,7.18420458,-352.02603966\n63.434949,124.46,210.82,227.18450626,113.5922544,5.67961272,-562.2816542\n315,121.92,213.36,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,127,215.9,340.77676066,113.5922544,5.67961272,-562.2816542\n153.434949,147.32,223.52,227.18450626,113.5922544,5.67961272,-562.2816542\n270,147.32,231.14,0,254,7.62,-246.38\n45,142.24,226.06,179.60512212,179.60512212,7.18420458,-352.02603966\n0,71.12,236.22,0,254,7.62,-246.38\n135,66.04,203.2,179.60512212,179.60512212,3.59210356,-355.61814322\n270,66.04,208.28,0,254,5.08,-248.92\n45,63.5,205.74,179.60512212,179.60512212,3.59210356,-355.61814322\n116.565051,20.32,208.28,340.77676066,113.5922544,5.67961272,-562.2816542\n333.434949,15.24,210.82,227.18450626,113.5922544,5.67961272,-562.2816542\n225,17.78,213.36,179.60512212,179.60512212,3.59210356,-355.61814322\n135,30.48,218.44,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,33.02,223.52,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,27.94,220.98,340.77676066,113.5922544,5.67961272,-562.2816542\n0,222.21825,218.170506,0,254,0,-254\n0,206.330804,232.72877,0,254,0,-254\n0,208.872836,188.32957,0,254,0,-254\n0,183.55056,211.532978,0,254,0,-254\n0,167.663114,226.091242,0,254,0,-254\n0,222.022924,134.20979,0,254,0,-254\n0,206.135224,148.768054,0,254,0,-254\n0,170.205146,181.692042,0,254,0,-254\n0,144.88287,204.895704,0,254,0,-254\n0,128.99517,219.453968,0,254,0,-254\n0,208.677256,104.368854,0,254,0,-254\n0,183.35498,127.572516,0,254,0,-254\n0,167.467534,142.13078,0,254,0,-254\n0,131.537202,175.054768,0,254,0,-254\n0,106.214926,198.258176,0,254,0,-254\n0,90.32748,212.81644,0,254,0,-254\n0,221.827344,50.249328,0,254,0,-254\n0,205.939898,64.807592,0,254,0,-254\n0,170.009566,97.73158,0,254,0,-254\n0,144.68729,120.934988,0,254,0,-254\n0,128.799844,135.493252,0,254,0,-254\n0,92.869512,168.41724,0,254,0,-254\n0,67.547236,191.620902,0,254,0,-254\n0,51.65979,206.179166,0,254,0,-254\n0,208.48193,20.408392,0,254,0,-254\n0,183.159654,43.6118,0,254,0,-254\n0,167.271954,58.170064,0,254,0,-254\n0,131.341876,91.094052,0,254,0,-254\n0,106.0196,114.297714,0,254,0,-254\n0,90.1319,128.855978,0,254,0,-254\n0,54.201822,161.779966,0,254,0,-254\n0,28.879546,184.983628,0,254,0,-254\n0,12.991846,199.541638,0,254,0,-254\n0,169.813986,13.770864,0,254,0,-254\n0,144.49171,36.974526,0,254,0,-254\n0,128.604264,51.53279,0,254,0,-254\n0,89.821004,81.952846,0,254,0,-254\n0,67.351656,107.660186,0,254,0,-254\n0,51.46421,122.21845,0,254,0,-254\n0,15.533878,155.142438,0,254,0,-254\n0,131.146296,7.13359,0,254,0,-254\n0,105.82402,30.336998,0,254,0,-254\n0,89.936574,44.895262,0,254,0,-254\n0,54.006242,77.81925,0,254,0,-254\n0,28.683966,101.022912,0,254,0,-254\n0,12.79652,115.581176,0,254,0,-254\n0,92.478606,0.496062,0,254,0,-254\n0,67.15633,23.699724,0,254,0,-254\n0,51.26863,38.257988,0,254,0,-254\n0,15.338552,71.181976,0,254,0,-254\n0,28.488386,17.062196,0,254,0,-254\n0,12.60094,31.62046,0,254,0,-254\n0,232.573576,212.125814,0,254,0,-254\n0,211.15909,204.714856,0,254,0,-254\n0,197.17893,213.621112,0,254,0,-254\n0,219.38234,178.422554,0,254,0,-254\n0,175.76419,206.210408,0,254,0,-254\n0,161.78403,215.116664,0,254,0,-254\n0,183.98744,179.918106,0,254,0,-254\n0,140.369544,207.705706,0,254,0,-254\n0,126.389384,216.612216,0,254,0,-254\n0,220.450664,135.634984,0,254,0,-254\n0,206.470504,144.541494,0,254,0,-254\n0,148.592794,181.413658,0,254,0,-254\n0,104.974898,209.201258,0,254,0,-254\n0,90.994738,218.107514,0,254,0,-254\n0,228.673914,109.342936,0,254,0,-254\n0,185.055764,137.130536,0,254,0,-254\n0,171.075858,146.036792,0,254,0,-254\n0,113.198148,182.908956,0,254,0,-254\n0,69.579998,210.69681,0,254,0,-254\n0,55.599838,219.603066,0,254,0,-254\n0,193.279268,110.838234,0,254,0,-254\n0,149.661118,138.626088,0,254,0,-254\n0,135.680958,147.532344,0,254,0,-254\n0,77.803248,184.404508,0,254,0,-254\n0,34.185352,212.192362,0,254,0,-254\n0,20.205192,221.098618,0,254,0,-254\n0,229.742238,66.555366,0,254,0,-254\n0,215.762078,75.461622,0,254,0,-254\n0,157.884368,112.333786,0,254,0,-254\n0,114.266472,140.12164,0,254,0,-254\n0,100.286312,149.027896,0,254,0,-254\n0,42.408602,185.90006,0,254,0,-254\n0,237.965488,40.263064,0,254,0,-254\n0,194.347592,68.050918,0,254,0,-254\n0,180.367432,76.957174,0,254,0,-254\n0,122.489722,113.829338,0,254,0,-254\n0,78.871572,141.616938,0,254,0,-254\n0,64.891666,150.523448,0,254,0,-254\n0,7.013702,187.395612,0,254,0,-254\n0,202.570842,41.758616,0,254,0,-254\n0,158.952692,69.546216,0,254,0,-254\n0,144.972532,78.452726,0,254,0,-254\n0,87.094822,115.32489,0,254,0,-254\n0,43.476926,143.11249,0,254,0,-254\n0,29.496766,152.018746,0,254,0,-254\n0,225.053652,6.38175,0,254,0,-254\n0,167.175942,43.254168,0,254,0,-254\n0,123.558046,71.041768,0,254,0,-254\n0,109.577886,79.948024,0,254,0,-254\n0,51.700176,116.820188,0,254,0,-254\n0,8.08228,144.608042,0,254,0,-254\n0,189.659006,7.877302,0,254,0,-254\n0,131.781296,44.749466,0,254,0,-254\n0,88.1634,72.53732,0,254,0,-254\n0,74.18324,81.443576,0,254,0,-254\n0,16.30553,118.31574,0,254,0,-254\n0,168.24452,0.466598,0,254,0,-254\n0,154.26436,9.372854,0,254,0,-254\n0,96.38665,46.245018,0,254,0,-254\n0,52.7685,74.032872,0,254,0,-254\n0,38.78834,82.939128,0,254,0,-254\n0,132.84962,1.961896,0,254,0,-254\n0,118.86946,10.868406,0,254,0,-254\n0,60.99175,47.74057,0,254,0,-254\n0,17.373854,75.52817,0,254,0,-254\n0,3.393694,84.43468,0,254,0,-254\n0,97.454974,3.457448,0,254,0,-254\n0,83.474814,12.363704,0,254,0,-254\n0,25.597104,49.235868,0,254,0,-254\n0,62.060074,4.953,0,254,0,-254\n0,48.080168,13.859256,0,254,0,-254\n0,26.665428,6.448552,0,254,0,-254\n0,12.685268,15.354808,0,254,0,-254\n0,163.20897,236.374178,0,254,0,-254\n0,121.33453,230.861362,0,254,0,-254\n0,96.22282,227.555298,0,254,0,-254\n0,79.624174,225.370136,0,254,0,-254\n0,37.749734,219.85732,0,254,0,-254\n0,12.638278,216.551256,0,254,0,-254\n0,229.351078,221.227142,0,254,0,-254\n0,187.476638,215.714326,0,254,0,-254\n0,162.364928,212.408262,0,254,0,-254\n0,145.766282,210.2231,0,254,0,-254\n0,103.891842,204.710284,0,254,0,-254\n0,78.780132,201.40422,0,254,0,-254\n0,62.18174,199.219058,0,254,0,-254\n0,20.307046,193.705988,0,254,0,-254\n0,228.507036,197.261226,0,254,0,-254\n0,211.90839,195.076064,0,254,0,-254\n0,170.03395,189.563248,0,254,0,-254\n0,144.92224,186.257184,0,254,0,-254\n0,128.323594,184.071768,0,254,0,-254\n0,86.449154,178.558952,0,254,0,-254\n0,61.337698,175.252888,0,254,0,-254\n0,44.739052,173.067726,0,254,0,-254\n0,2.864358,167.55491,0,254,0,-254\n0,236.176058,174.415958,0,254,0,-254\n0,211.064348,171.110148,0,254,0,-254\n0,194.465702,168.924732,0,254,0,-254\n0,152.591262,163.411916,0,254,0,-254\n0,127.479552,160.105852,0,254,0,-254\n0,110.88116,157.92069,0,254,0,-254\n0,69.006466,152.407874,0,254,0,-254\n0,43.89501,149.10181,0,254,0,-254\n0,27.296364,146.916648,0,254,0,-254\n0,218.73337,148.26488,0,254,0,-254\n0,193.62166,144.958816,0,254,0,-254\n0,177.023014,142.773654,0,254,0,-254\n0,135.148574,137.260838,0,254,0,-254\n0,110.037118,133.954774,0,254,0,-254\n0,93.438472,131.769358,0,254,0,-254\n0,51.563778,126.256542,0,254,0,-254\n0,26.452322,122.950478,0,254,0,-254\n0,9.853676,120.765316,0,254,0,-254\n0,201.290682,122.113548,0,254,0,-254\n0,176.178972,118.807738,0,254,0,-254\n0,159.58058,116.622322,0,254,0,-254\n0,117.705886,111.109506,0,254,0,-254\n0,92.59443,107.803442,0,254,0,-254\n0,75.995784,105.61828,0,254,0,-254\n0,34.121344,100.105464,0,254,0,-254\n0,9.009634,96.7994,0,254,0,-254\n0,225.722434,101.475286,0,254,0,-254\n0,183.847994,95.96247,0,254,0,-254\n0,158.736538,92.656406,0,254,0,-254\n0,142.137892,90.471244,0,254,0,-254\n0,100.263198,84.958428,0,254,0,-254\n0,75.151742,81.652364,0,254,0,-254\n0,58.553096,79.466948,0,254,0,-254\n0,16.678656,73.954132,0,254,0,-254\n0,224.878392,77.50937,0,254,0,-254\n0,208.279746,75.324208,0,254,0,-254\n0,166.405306,69.811138,0,254,0,-254\n0,141.29385,66.505328,0,254,0,-254\n0,124.695204,64.319912,0,254,0,-254\n0,82.82051,58.807096,0,254,0,-254\n0,57.709054,55.501032,0,254,0,-254\n0,41.110408,53.31587,0,254,0,-254\n0,232.547414,54.664102,0,254,0,-254\n0,207.435704,51.358038,0,254,0,-254\n0,190.837312,49.172876,0,254,0,-254\n0,148.962618,43.66006,0,254,0,-254\n0,123.851162,40.353996,0,254,0,-254\n0,107.252516,38.168834,0,254,0,-254\n0,65.378076,32.656018,0,254,0,-254\n0,40.266366,29.349954,0,254,0,-254\n0,23.66772,27.164538,0,254,0,-254\n0,215.104726,28.513024,0,254,0,-254\n0,189.99327,25.20696,0,254,0,-254\n0,173.394624,23.021798,0,254,0,-254\n0,131.51993,17.508728,0,254,0,-254\n0,106.408474,14.202918,0,254,0,-254\n0,89.809828,12.017502,0,254,0,-254\n0,47.935388,6.504686,0,254,0,-254\n0,22.823678,3.198622,0,254,0,-254\n0,6.225032,1.01346,0,254,0,-254\n0,197.662038,2.361692,0,254,0,-254\n0,31.866332,226.2124,0,254,0,-254\n0,65.909444,230.88092,0,254,0,-254\n0,31.060136,204.140054,0,254,0,-254\n0,99.400106,235.125768,0,254,0,-254\n0,65.103248,208.808574,0,254,0,-254\n0,30.253686,182.067962,0,254,0,-254\n0,98.59391,213.053422,0,254,0,-254\n0,64.296798,186.736482,0,254,0,-254\n0,29.44749,159.995616,0,254,0,-254\n0,133.031484,218.02471,0,254,0,-254\n0,97.787714,190.981076,0,254,0,-254\n0,63.490602,164.664136,0,254,0,-254\n0,28.641294,137.92327,0,254,0,-254\n0,167.074596,222.69323,0,254,0,-254\n0,132.225288,195.952364,0,254,0,-254\n0,96.981264,168.90873,0,254,0,-254\n0,62.684406,142.59179,0,254,0,-254\n0,27.835098,115.850924,0,254,0,-254\n0,200.565258,226.937824,0,254,0,-254\n0,166.2684,200.620884,0,254,0,-254\n0,131.419092,173.880018,0,254,0,-254\n0,96.175068,146.836384,0,254,0,-254\n0,61.87821,120.519444,0,254,0,-254\n0,27.028902,93.778578,0,254,0,-254\n0,235.002832,231.909112,0,254,0,-254\n0,199.759062,204.865478,0,254,0,-254\n0,165.46195,178.548538,0,254,0,-254\n0,130.612642,151.807672,0,254,0,-254\n0,95.368872,124.764292,0,254,0,-254\n0,61.07176,98.447098,0,254,0,-254\n0,26.222452,71.706232,0,254,0,-254\n0,234.196636,209.836766,0,254,0,-254\n0,198.952866,182.793386,0,254,0,-254\n0,164.655754,156.476192,0,254,0,-254\n0,129.806446,129.735326,0,254,0,-254\n0,94.562676,102.691946,0,254,0,-254\n0,60.265564,76.374752,0,254,0,-254\n0,25.416256,49.63414,0,254,0,-254\n0,233.39044,187.76442,0,254,0,-254\n0,198.14667,160.72104,0,254,0,-254\n0,163.849558,134.403846,0,254,0,-254\n0,129.00025,107.663234,0,254,0,-254\n0,93.75648,80.6196,0,254,0,-254\n0,59.459368,54.30266,0,254,0,-254\n0,24.61006,27.561794,0,254,0,-254\n0,232.584244,165.692328,0,254,0,-254\n0,197.34022,138.648694,0,254,0,-254\n0,163.043362,112.331754,0,254,0,-254\n0,128.194054,85.590888,0,254,0,-254\n0,58.653172,32.230314,0,254,0,-254\n0,23.803864,5.489448,0,254,0,-254\n0,231.777794,143.619982,0,254,0,-254\n0,196.534024,116.576348,0,254,0,-254\n0,162.237166,90.259408,0,254,0,-254\n0,127.387858,63.518542,0,254,0,-254\n0,92.143834,36.474908,0,254,0,-254\n0,57.846976,10.157968,0,254,0,-254\n0,230.971598,121.547636,0,254,0,-254\n0,195.727828,94.504002,0,254,0,-254\n0,161.430716,68.187062,0,254,0,-254\n0,126.581408,41.446196,0,254,0,-254\n0,91.337638,14.402562,0,254,0,-254\n0,230.165402,99.47529,0,254,0,-254\n0,194.921632,72.431656,0,254,0,-254\n0,160.62452,46.114716,0,254,0,-254\n0,125.775212,19.37385,0,254,0,-254\n0,229.359206,77.402944,0,254,0,-254\n0,194.115436,50.359564,0,254,0,-254\n0,159.818324,24.04237,0,254,0,-254\n0,228.55301,55.330598,0,254,0,-254\n0,193.308986,28.287218,0,254,0,-254\n0,159.012128,1.970024,0,254,0,-254\n0,227.74656,33.258506,0,254,0,-254\n0,192.50279,6.214872,0,254,0,-254\n0,226.940364,11.18616,0,254,0,-254\n206.565051,254,15.24,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,251.46,10.16,227.18450626,113.5922544,5.67961272,-562.2816542\n315,248.92,12.7,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,246.38,137.16,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,243.84,132.08,227.18450626,113.5922544,5.67961272,-562.2816542\n315,241.3,134.62,179.60512212,179.60512212,3.59210356,-355.61814322\n153.434949,254,182.88,227.18450626,113.5922544,5.67961272,-562.2816542\n288.434949,251.46,190.5,562.25296744,80.32185358,8.03218612,-795.18633952\n63.434949,248.92,185.42,227.18450626,113.5922544,5.67961272,-562.2816542\n135,246.38,236.22,179.60512212,179.60512212,3.59210356,-355.61814322\n270,246.38,241.3,0,254,5.08,-248.92\n45,243.84,238.76,179.60512212,179.60512212,3.59210356,-355.61814322\n0,195.58,243.84,0,254,5.08,-248.92\n270,182.88,238.76,0,254,5.08,-248.92\n26.565051,177.8,236.22,340.77676066,113.5922544,5.67961272,-562.2816542\n0,241.457734,241.2111,0,254,0,-254\n0,247.540526,194.966844,0,254,0,-254\n0,244.803168,155.405582,0,254,0,-254\n0,247.3452,111.006382,0,254,0,-254\n0,244.607588,71.444866,0,254,0,-254\n0,247.14962,27.045666,0,254,0,-254\n0,246.553736,203.219304,0,254,0,-254\n0,241.86515,143.045942,0,254,0,-254\n0,251.156978,73.96607,0,254,0,-254\n0,204.919072,241.865658,0,254,0,-254\n0,179.807616,238.559594,0,254,0,-254\n0,245.949724,223.412558,0,254,0,-254\n0,253.618492,200.56729,0,254,0,-254\n0,243.165122,127.626618,0,254,0,-254\n0,242.32108,103.660448,0,254,0,-254\n0,249.990102,80.815434,0,254,0,-254\n0,239.536732,7.874762,0,254,0,-254\n243.434949,198.12,248.92,227.18450626,113.5922544,5.67961272,-562.2816542\n116.565051,200.66,243.84,340.77676066,113.5922544,5.67961272,-562.2816542\n180,152.4,246.38,0,254,5.08,-248.92\n270,152.4,251.46,0,254,5.08,-248.92\n45,147.32,246.38,179.60512212,179.60512212,7.18420458,-352.02603966\n296.565051,104.14,254,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,101.6,248.92,227.18450626,113.5922544,5.67961272,-562.2816542\n180,106.68,248.92,0,254,5.08,-248.92\n135,86.36,238.76,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,88.9,243.84,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,83.82,241.3,340.77676066,113.5922544,5.67961272,-562.2816542\n116.565051,78.74,236.22,340.77676066,113.5922544,5.67961272,-562.2816542\n225,76.2,241.3,179.60512212,179.60512212,7.18420458,-352.02603966\n45,0,246.38,179.60512212,179.60512212,7.18420458,-352.02603966\n161.565051,7.62,243.84,240.9655582,80.32185358,8.03218612,-795.18633952\n288.434949,5.08,251.46,562.25296744,80.32185358,8.03218612,-795.18633952\n0,93.065092,252.377956,0,254,0,-254\n0,54.397148,245.740428,0,254,0,-254\n0,15.729458,239.103154,0,254,0,-254\n0,174.695866,248.997978,0,254,0,-254\n0,139.30122,250.493276,0,254,0,-254\n0,68.511674,253.48438,0,254,0,-254\n0,113.665508,253.70663,0,254,0,-254\n0,97.066862,251.521468,0,254,0,-254\n0,55.192422,246.008398,0,254,0,-254\n0,30.080966,242.702588,0,254,0,-254\n0,13.48232,240.517172,0,254,0,-254\n0,32.672528,248.284746,0,254,0,-254\n0,66.71564,252.953266,0,254,0,-254\n0,133.83768,240.097056,0,254,0,-254\n0,167.880792,244.765576,0,254,0,-254\n0,201.371454,249.01017,0,254,0,-254\n0,245.485412,246.006874,0,254,0,-254\n0,210.090512,247.502426,0,254,0,-254\n0,246.793766,247.378474,0,254,0,-254\n0,235.809282,253.981458,0,254,0,-254\n")),i(N.ParsePatFile("\n*AR-CONC,AR-CONC\n50, 0,0, 104.896,-149.807, 19.05,-209.55\n355, 0,0, -51.7604,187.258, 15.24,-167.64\n100.451, 15.182,-1.32825, 145.557,-176.27, 16.19,-178.09\n46.1842, 0,50.8, 157.343,-224.71, 28.575,-314.325\n96.6356, 22.5899,47.2965, 218.335,-264.405, 24.285,-267.135\n351.184, 0,50.8, 196.679,280.887, 22.86,-251.46\n21, 25.4,38.1, 104.896,-149.807, 19.05,-209.55\n326, 25.4,38.1, -51.7604,187.258, 15.24,-167.64\n71.4514, 38.0345,29.5779, 145.557,-176.27, 16.19,-178.09\n37.5, 0,0, 53.9242,65.2018, 0,-165.608,0,-170.18,0,-168.275\n7.5, 0,0, 79.3242,90.6018, 0,-97.028,0,-161.798,0,-64.135\n-32.5, -56.642,0, 117.434,68.0212, 0,-63.5,0,-198.12,0,-262.89\n-42.5, -82.042,0, 92.0344,118.821, 0,-82.55,0,-131.572,0,-186.69\n")),i(N.ParsePatFile("\n*AR-HBONE,AR-HBONE\n45, 0,0, 101.6,101.6, 304.8,-101.6\n135, 71.842,71.842, 101.6,-101.6, 304.8,-101.6\n")),i(N.ParsePatFile("\n*AR-PARQ1,AR-PARQ1\n90, 0,0, 304.8,304.8, 304.8,-304.8\n90, 50.8,0, 304.8,304.8, 304.8,-304.8\n90, 101.6,0, 304.8,304.8, 304.8,-304.8\n90, 152.4,0, 304.8,304.8, 304.8,-304.8\n90, 203.2,0, 304.8,304.8, 304.8,-304.8\n90, 254,0, 304.8,304.8, 304.8,-304.8\n90, 304.8,0, 304.8,304.8, 304.8,-304.8\n0, 0,304.8, 304.8,-304.8, 304.8,-304.8\n0, 0,355.6, 304.8,-304.8, 304.8,-304.8\n0, 0,406.4, 304.8,-304.8, 304.8,-304.8\n0, 0,457.2, 304.8,-304.8, 304.8,-304.8\n0, 0,508, 304.8,-304.8, 304.8,-304.8\n0, 0,558.8, 304.8,-304.8, 304.8,-304.8\n0, 0,609.6, 304.8,-304.8, 304.8,-304.8\n")),i(N.ParsePatFile("\n*AR-RROOF,AR-RROOF\n0, 0,0, 55.88,25.4, 381,-50.8,127,-25.4\n0, 33.782,12.7, -25.4,33.782, 76.2,-8.382,152.4,-19.05\n0, 12.7,21.59, 132.08,17.018, 203.2,-35.56,101.6,-25.4\n")),i(N.ParsePatFile("\n*AR-RSHKE,AR-RSHKE\n0, 0,0, 647.7,304.8, 152.4,-127,177.8,-76.2,228.6,-101.6\n0, 152.4,12.7, 647.7,304.8, 127,-482.6,101.6,-152.4\n0, 457.2,-19.05, 647.7,304.8, 76.2,-787.4\n90, 0,0, 304.8,215.9, 292.1,-927.1\n90, 152.4,0, 304.8,215.9, 285.75,-933.45\n90, 279.4,0, 304.8,215.9, 266.7,-952.5\n90, 457.2,-19.05, 304.8,215.9, 292.1,-927.1\n90, 533.4,-19.05, 304.8,215.9, 292.1,-927.1\n90, 762,0, 304.8,215.9, 279.4,-939.8\n")),i(N.ParsePatFile("\n*AR-SAND,AR-SAND\n37.5, 0,0, 28.5242,39.8018, 0,-38.608,0,-43.18,0,-41.275\n7.5, 0,0, 53.9242,65.2018, 0,-20.828,0,-34.798,0,-13.335\n-32.5, -31.242,0, 66.6344,42.6212, 0,-12.7,0,-45.72,0,-59.69\n-42.5, -31.242,0, 41.2344,68.0212, 0,-6.35,0,-29.972,0,-34.29\n")),i(N.ParsePatFile("\n*BARBWIRE,BARBWIRE\n;By John Hyslop\n;Developed in mm as metric QCAD3 pattern\n315,7.62,14.224,17.960512212,17.960512212,0.359210356,-35.561814322\n288.434949,6.604,17.272,56.225296744,8.032185358,3.212874194,-77.10897837\n158.198591,7.874,16.764,80.18324705,4.716661636,1.36783191,-135.415354264\n116.565051,8.128,16.256,34.077676066,11.35922544,0.567961272,-56.22816542\n116.565051,8.636,15.24,34.077676066,11.35922544,1.135922544,-55.660204148\n111.801409,11.176,9.906,56.599939124,4.716661636,1.36783191,-135.415354264\n156.801409,12.954,9.144,136.74251925,3.335183322,1.934406342,-191.506230398\n289.653824,11.684,12.7,297.294468148,1.708588912,3.775981526,-373.822164724\n194.036243,7.874,9.144,80.085263502,6.160405002,1.047268924,-103.679614078\n251.565051,8.128,9.906,24.09655582,8.032185358,0.803218612,-79.518633952\n254.054604,8.636,11.684,104.668749768,3.488958224,1.84914794,-183.065643266\n74.744881,8.636,11.684,104.703186326,2.22772732,2.896045516,-286.708512434\n135,9.144,11.176,17.960512212,17.960512212,0.718420458,-35.202603966\n180,9.906,11.176,0,25.4,0.762,-24.638\n270,9.906,11.43,0,25.4,0.254,-25.146\n74.054604,9.906,11.43,104.668749768,3.488958224,3.69829588,-181.216495326\n161.565051,10.668,11.176,24.09655582,8.032185358,0.803218612,-79.518633952\n198.434949,11.43,11.43,56.225296744,8.032185358,0.803218612,-79.518633952\n258.231711,12.7,17.526,129.51095129,1.03608759,6.226886454,-616.461767582\n21.801409,11.43,17.018,56.599939124,4.716661636,1.36783191,-135.415354264\n75.963757,10.922,14.986,24.6416195,6.160405002,2.094537594,-102.632345154\n341.565051,10.16,15.24,24.09655582,8.032185358,0.803218612,-79.518633952\n45,9.398,14.478,17.960512212,17.960512212,1.077630814,-34.843393864\n288.434949,9.144,15.24,56.225296744,8.032185358,0.803218612,-79.518633952\n0,8.636,15.24,0,25.4,0.508,-24.892\n26.565051,8.128,14.986,34.077676066,11.35922544,0.567961272,-56.22816542\n78.231711,6.858,8.89,129.51095129,1.03608759,6.226886454,-616.461767582\n4.085617,19.812,12.192,331.17053781,1.80967507,3.565059926,-352.940928864\n0,17.526,12.192,0,25.4,2.286,-23.114\n354.289407,14.986,12.446,25.273944626,2.527394488,2.552668504,-252.714172244\n356.185925,11.938,13.97,25.343743064,1.689582854,3.818457184,-378.027270614\n351.469234,20.32,13.97,179.600730968,1.255949228,5.136831992,-508.546377622\n0,16.764,13.97,0,25.4,3.556,-21.844\n14.036243,11.684,12.7,80.085263502,6.160405002,5.236344112,-99.490538636\n189.865807,17.78,12.954,438.470633344,1.088016366,5.92968969,-587.039280834\n180,20.32,12.954,0,25.4,2.54,-22.86\n171.469234,25.4,12.192,179.600730968,1.255949228,5.136831992,-508.546377622\n186.115504,25.4,14.224,230.005013954,0.901980416,3.973724844,-711.296769428\n5.52754,3.499555612,13.546666582,255.265537982,0.815544724,4.394880466,-786.683623734\n3.691386,0,12.192,381.844852514,0.817654956,3.84896106,-785.188047096\n348.310631,0,13.208,129.51225558,0.85769704,7.522003244,-744.678315822\n348.690068,0,14.224,24.906749272,4.981349956,7.770905718,-121.744189836\n")),i(N.ParsePatFile("\n*BLOCKS-01\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,7.874,16.764,25.4,25.4,5.588,-19.812\n180,2.032,2.286,0,25.4,14.478,-10.922\n270,2.032,2.286,25.4,25.4,5.334,-20.066\n180,2.032,22.352,0,25.4,14.478,-10.922\n270,12.954,2.286,25.4,25.4,5.334,-20.066\n270,22.606,8.128,25.4,25.4,5.08,-20.32\n0,12.446,8.128,0,25.4,10.16,-15.24\n90,12.446,3.048,25.4,25.4,5.08,-20.32\n180,22.606,3.048,0,25.4,10.16,-15.24\n270,17.526,21.336,25.4,25.4,12.192,-13.208\n0,12.192,21.336,0,25.4,5.334,-20.066\n90,12.192,9.144,25.4,25.4,12.192,-13.208\n180,17.526,9.144,0,25.4,5.334,-20.066\n270,3.048,0.762,25.4,25.4,8.382,-17.018\n0,3.048,17.78,0,25.4,8.128,-17.272\n270,11.176,0.762,25.4,25.4,8.382,-17.018\n0,3.048,0.762,0,25.4,8.128,-17.272\n270,11.43,17.018,25.4,25.4,6.096,-19.304\n0,9.144,17.018,0,25.4,2.286,-23.114\n90,9.144,10.922,25.4,25.4,6.096,-19.304\n180,11.43,10.922,0,25.4,2.286,-23.114\n270,11.43,10.16,25.4,25.4,8.382,-17.018\n0,2.794,10.16,0,25.4,8.636,-16.764\n90,2.794,1.778,25.4,25.4,8.382,-17.018\n180,11.43,1.778,0,25.4,8.636,-16.764\n270,22.606,10.414,25.4,25.4,1.524,-23.876\n0,18.542,10.414,0,25.4,4.064,-21.336\n90,18.542,8.89,25.4,25.4,1.524,-23.876\n180,22.606,8.89,0,25.4,4.064,-21.336\n180,1.778,10.16,0,25.4,3.556,-21.844\n270,23.622,10.16,25.4,25.4,6.858,-18.542\n180,1.778,3.302,0,25.4,3.556,-21.844\n270,1.778,10.16,25.4,25.4,6.858,-18.542\n180,2.032,20.574,0,25.4,8.636,-16.764\n270,18.796,20.574,25.4,25.4,2.54,-22.86\n180,2.032,18.034,0,25.4,8.636,-16.764\n270,2.032,20.574,25.4,25.4,2.54,-22.86\n180,7.874,16.764,0,25.4,14.986,-10.414\n270,18.288,16.764,25.4,25.4,5.588,-19.812\n180,7.874,11.176,0,25.4,14.986,-10.414\n")),i(N.ParsePatFile("\n*BLOCKS-02\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,8.128,4.572,0,25.4,12.446,-12.954\n270,8.128,13.97,25.4,25.4,9.398,-16.002\n0,9.398,24.384,0,25.4,10.668,-14.732\n0,4.318,24.892,0,25.4,4.318,-21.082\n90,20.828,0,25.4,25.4,3.81,-21.59\n180,23.368,0,0,25.4,2.54,-22.86\n180,8.128,13.97,0,25.4,12.446,-12.954\n270,21.082,13.97,25.4,25.4,9.398,-16.002\n180,3.302,20.32,0,25.4,4.572,-20.828\n90,3.556,14.986,25.4,25.4,4.318,-21.082\n270,3.302,3.81,25.4,25.4,8.89,-16.51\n180,18.034,14.986,0,25.4,14.478,-10.922\n270,23.368,3.81,25.4,25.4,3.81,-21.59\n0,20.828,3.81,0,25.4,2.54,-22.86\n270,18.034,19.304,25.4,25.4,4.318,-21.082\n0,3.556,19.304,0,25.4,14.478,-10.922\n180,2.032,14.986,0,25.4,8.128,-17.272\n270,2.032,19.304,25.4,25.4,4.318,-21.082\n180,3.302,3.81,0,25.4,4.572,-20.828\n270,24.13,3.81,25.4,25.4,8.89,-16.51\n90,4.572,20.32,25.4,25.4,3.302,-22.098\n180,23.114,20.32,0,25.4,18.542,-6.858\n180,2.032,19.304,0,25.4,8.128,-17.272\n270,19.304,19.304,25.4,25.4,4.318,-21.082\n270,8.636,3.81,25.4,25.4,4.318,-21.082\n0,4.318,3.81,0,25.4,4.318,-21.082\n270,23.114,23.622,25.4,25.4,3.302,-22.098\n0,4.572,23.622,0,25.4,18.542,-6.858\n0,9.398,13.97,0,25.4,10.668,-14.732\n270,9.398,13.97,25.4,25.4,14.986,-10.414\n270,4.318,3.81,25.4,25.4,4.318,-21.082\n270,20.066,13.97,25.4,25.4,14.986,-10.414\n")),i(N.ParsePatFile("\n*BOX-OVERLAP\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,5.08,17.78,0,25.4,10.16,-15.24\n90,5.08,5.08,25.4,25.4,15.24,-10.16\n270,7.62,5.08,25.4,25.4,10.16,-15.24\n180,5.08,7.62,0,25.4,10.16,-15.24\n0,5.08,20.32,0,25.4,15.24,-10.16\n180,20.32,5.08,0,25.4,15.24,-10.16\n270,20.32,20.32,25.4,25.4,15.24,-10.16\n270,17.78,5.08,25.4,25.4,10.16,-15.24\n")),i(N.ParsePatFile("\n*BOX,BOX\n90, 0,0, 0,25.4\n90, 6.35,0, 0,25.4\n0, 0,0, 0,25.4, -6.35,6.35\n0, 0,6.35, 0,25.4, -6.35,6.35\n0, 0,12.7, 0,25.4, 6.35,-6.35\n0, 0,19.05, 0,25.4, 6.35,-6.35\n90, 12.7,0, 0,25.4, 6.35,-6.35\n90, 19.05,0, 0,25.4, 6.35,-6.35\n")),i(N.ParsePatFile("\n*BOXJOIN-01\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n90,3.810000254,3.81,25.4,25.4,17.78,-7.62\n0,3.810000254,21.59,0,25.4,17.78,-7.62\n270,11.430000254,3.81,25.4,25.4,7.62,-17.78\n180,3.810000254,11.43,0,25.4,7.62,-17.78\n270,13.970000254,3.81,25.4,25.4,7.62,-17.78\n180,21.590000254,3.81,0,25.4,17.78,-7.62\n270,21.590000254,21.59,25.4,25.4,17.78,-7.62\n180,3.810000254,13.97,0,25.4,7.62,-17.78\n")),i(N.ParsePatFile("\n*BOXJOIN-02\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n90,3.810000254,13.97,25.4,25.4,7.62,-17.78\n270,21.590000254,21.59,25.4,25.4,7.62,-17.78\n0,13.970000254,21.59,0,25.4,7.62,-17.78\n180,3.810000254,13.97,0,25.4,7.62,-17.78\n90,3.810000254,3.81,25.4,25.4,7.62,-17.78\n180,11.430000254,3.81,0,25.4,7.62,-17.78\n180,3.810000254,11.43,0,25.4,7.62,-17.78\n180,21.590000254,3.81,0,25.4,7.62,-17.78\n270,21.590000254,11.43,25.4,25.4,7.62,-17.78\n270,11.430000254,3.81,25.4,25.4,7.62,-17.78\n270,13.970000254,3.81,25.4,25.4,7.62,-17.78\n0,3.810000254,21.59,0,25.4,7.62,-17.78\n")),i(N.ParsePatFile("\n*BRASS,BRASS\n0, 0,0, 0,6.35\n0, 0,3.175, 0,6.35, 3.175,-1.5875\n")),i(N.ParsePatFile("\n*BRICK,BRICK\n0, 0,0, 0,6.35\n90, 0,0, 0,12.7, 6.35,-6.35\n90, 6.35,0, 0,12.7, -6.35,6.35\n")),i(N.ParsePatFile("\n*BRSTONE,BRSTONE\n0, 0,0, 0,8.382\n90, 22.86,0, 8.382,12.7, 8.382,-8.382\n90, 20.32,0, 8.382,12.7, 8.382,-8.382\n0, 22.86,1.397, 12.7,8.382, -22.86,2.54\n0, 22.86,2.794, 12.7,8.382, -22.86,2.54\n0, 22.86,4.191, 12.7,8.382, -22.86,2.54\n0, 22.86,5.588, 12.7,8.382, -22.86,2.54\n0, 22.86,6.985, 12.7,8.382, -22.86,2.54\n")),i(N.ParsePatFile("\n*BUBBLES-01,BUBBLES-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n0,1.4976856,0.4251706,0,25.4,0,-25.4\n0,1.5807944,0.8431022,0,25.4,0,-25.4\n0,1.7177766,1.2465812,0,25.4,0,-25.4\n0,1.9062192,1.6287242,0,25.4,0,-25.4\n0,2.1429472,1.9830034,0,25.4,0,-25.4\n0,2.4238966,2.3033736,0,25.4,0,-25.4\n0,2.7442414,2.584323,0,25.4,0,-25.4\n0,3.098546,2.821051,0,25.4,0,-25.4\n0,3.480689,3.0094936,0,25.4,0,-25.4\n0,3.884168,3.1464504,0,25.4,0,-25.4\n0,4.3020742,3.2295846,0,25.4,0,-25.4\n0,4.7272702,3.2574484,0,25.4,0,-25.4\n0,5.1524408,3.2295846,0,25.4,0,-25.4\n0,5.570347,3.1464504,0,25.4,0,-25.4\n0,5.973826,3.0094936,0,25.4,0,-25.4\n0,6.3559944,2.821051,0,25.4,0,-25.4\n0,6.7102736,2.584323,0,25.4,0,-25.4\n0,7.0306184,2.3033736,0,25.4,0,-25.4\n0,7.3115678,1.9830034,0,25.4,0,-25.4\n0,7.5482958,1.6287242,0,25.4,0,-25.4\n0,7.7367638,1.2465812,0,25.4,0,-25.4\n0,7.8737206,0.8431022,0,25.4,0,-25.4\n0,7.9568548,0.4251706,0,25.4,0,-25.4\n0,3.0482032,5.5942992,0,25.4,0,-25.4\n0,2.9839412,5.1610768,0,25.4,0,-25.4\n0,2.8775152,4.7362618,0,25.4,0,-25.4\n0,2.729992,4.3239182,0,25.4,0,-25.4\n0,2.5427432,3.9280338,0,25.4,0,-25.4\n0,2.3175976,3.5523932,0,25.4,0,-25.4\n0,2.0567142,3.2006286,0,25.4,0,-25.4\n0,1.7626076,2.8761436,0,25.4,0,-25.4\n0,1.4380972,2.582037,0,25.4,0,-25.4\n0,1.086358,2.3211536,0,25.4,0,-25.4\n0,0.7107174,2.096008,0,25.4,0,-25.4\n0,0.3148076,1.9087592,0,25.4,0,-25.4\n0,0.3148076,10.154666,0,25.4,0,-25.4\n0,0.7107174,9.9674172,0,25.4,0,-25.4\n0,1.086358,9.7422716,0,25.4,0,-25.4\n0,1.4380972,9.4813882,0,25.4,0,-25.4\n0,1.7626076,9.1872816,0,25.4,0,-25.4\n0,2.0567142,8.8627966,0,25.4,0,-25.4\n0,2.3175976,8.511032,0,25.4,0,-25.4\n0,2.5427432,8.1353914,0,25.4,0,-25.4\n0,2.729992,7.7394816,0,25.4,0,-25.4\n0,2.8775152,7.327138,0,25.4,0,-25.4\n0,2.9839412,6.902323,0,25.4,0,-25.4\n0,3.0482032,6.469126,0,25.4,0,-25.4\n0,3.0696916,6.0317126,0,25.4,0,-25.4\n0,18.7471304,9.4569026,0,25.4,0,-25.4\n0,18.6083702,9.0603324,0,25.4,0,-25.4\n0,18.3848248,8.70458,0,25.4,0,-25.4\n0,18.0877464,8.4074762,0,25.4,0,-25.4\n0,17.731994,8.1839562,0,25.4,0,-25.4\n0,17.3354238,8.0451706,0,25.4,0,-25.4\n0,16.9178986,7.9981298,0,25.4,0,-25.4\n0,16.5003988,8.0451706,0,25.4,0,-25.4\n0,16.1038286,8.1839562,0,25.4,0,-25.4\n0,15.7480762,8.4074762,0,25.4,0,-25.4\n0,15.4509724,8.70458,0,25.4,0,-25.4\n0,15.2274524,9.0603324,0,25.4,0,-25.4\n0,15.0886668,9.4569026,0,25.4,0,-25.4\n0,15.041626,9.8744024,0,25.4,0,-25.4\n0,15.0886668,10.2919276,0,25.4,0,-25.4\n0,15.2274524,10.6884978,0,25.4,0,-25.4\n0,15.4509724,11.0442502,0,25.4,0,-25.4\n0,15.7480762,11.341354,0,25.4,0,-25.4\n0,16.1038286,11.564874,0,25.4,0,-25.4\n0,16.5003988,11.7036342,0,25.4,0,-25.4\n0,16.9178986,11.750675,0,25.4,0,-25.4\n0,17.3354238,11.7036342,0,25.4,0,-25.4\n0,17.731994,11.564874,0,25.4,0,-25.4\n0,18.0877464,11.341354,0,25.4,0,-25.4\n0,18.3848248,11.0442502,0,25.4,0,-25.4\n0,18.6083702,10.6884978,0,25.4,0,-25.4\n0,18.7471304,10.2919276,0,25.4,0,-25.4\n0,18.7941712,9.8744024,0,25.4,0,-25.4\n0,21.2068664,21.1084414,0,25.4,0,-25.4\n0,20.8647792,21.3569804,0,25.4,0,-25.4\n0,20.5818486,21.6712292,0,25.4,0,-25.4\n0,11.7541802,19.0603632,0,25.4,0,-25.4\n0,11.6505482,18.6510676,0,25.4,0,-25.4\n0,11.480927,18.264378,0,25.4,0,-25.4\n0,11.2499902,17.9108862,0,25.4,0,-25.4\n0,10.9640116,17.6002442,0,25.4,0,-25.4\n0,10.6308144,17.3409102,0,25.4,0,-25.4\n0,10.2594664,17.1399454,0,25.4,0,-25.4\n0,9.8601022,17.0028362,0,25.4,0,-25.4\n0,9.4436184,16.9333418,0,25.4,0,-25.4\n0,9.0213688,16.9333418,0,25.4,0,-25.4\n0,8.6049104,17.0028362,0,25.4,0,-25.4\n0,8.2055462,17.1399454,0,25.4,0,-25.4\n0,7.8341982,17.3409102,0,25.4,0,-25.4\n0,7.5009756,17.6002442,0,25.4,0,-25.4\n0,7.2150224,17.9108862,0,25.4,0,-25.4\n0,6.9840602,18.264378,0,25.4,0,-25.4\n0,6.8144644,18.6510676,0,25.4,0,-25.4\n0,6.710807,19.0603632,0,25.4,0,-25.4\n0,6.6759328,19.481165,0,25.4,0,-25.4\n0,6.710807,19.9019668,0,25.4,0,-25.4\n0,6.8144644,20.3112878,0,25.4,0,-25.4\n0,6.9840602,20.697952,0,25.4,0,-25.4\n0,7.2150224,21.0514438,0,25.4,0,-25.4\n0,7.5009756,21.3620858,0,25.4,0,-25.4\n0,7.8341982,21.6214452,0,25.4,0,-25.4\n0,8.2055462,21.82241,0,25.4,0,-25.4\n0,10.2594664,21.82241,0,25.4,0,-25.4\n0,10.6308144,21.6214452,0,25.4,0,-25.4\n0,10.9640116,21.3620858,0,25.4,0,-25.4\n0,11.2499902,21.0514438,0,25.4,0,-25.4\n0,11.480927,20.697952,0,25.4,0,-25.4\n0,11.6505482,20.3112878,0,25.4,0,-25.4\n0,11.7541802,19.9019668,0,25.4,0,-25.4\n0,11.7890544,19.481165,0,25.4,0,-25.4\n0,20.8583784,16.4692076,0,25.4,0,-25.4\n0,20.7913224,16.0457896,0,25.4,0,-25.4\n0,20.6803752,15.6317442,0,25.4,0,-25.4\n0,20.5267306,15.2315418,0,25.4,0,-25.4\n0,20.3321158,14.8495766,0,25.4,0,-25.4\n0,20.0986644,14.490065,0,25.4,0,-25.4\n0,19.828891,14.1569186,0,25.4,0,-25.4\n0,19.5257674,13.853795,0,25.4,0,-25.4\n0,19.192621,13.5840216,0,25.4,0,-25.4\n0,18.8331094,13.3505448,0,25.4,0,-25.4\n0,18.4511442,13.15593,0,25.4,0,-25.4\n0,18.0509418,13.0023108,0,25.4,0,-25.4\n0,17.636871,12.8913636,0,25.4,0,-25.4\n0,17.2134784,12.8243076,0,25.4,0,-25.4\n0,16.7853868,12.8018794,0,25.4,0,-25.4\n0,16.3573206,12.8243076,0,25.4,0,-25.4\n0,15.9339026,12.8913636,0,25.4,0,-25.4\n0,15.5198572,13.0023108,0,25.4,0,-25.4\n0,15.1196548,13.15593,0,25.4,0,-25.4\n0,14.7376896,13.3505448,0,25.4,0,-25.4\n0,14.378178,13.5840216,0,25.4,0,-25.4\n0,14.0450316,13.853795,0,25.4,0,-25.4\n0,13.741908,14.1569186,0,25.4,0,-25.4\n0,13.4721346,14.490065,0,25.4,0,-25.4\n0,13.2386578,14.8495766,0,25.4,0,-25.4\n0,13.044043,15.2315418,0,25.4,0,-25.4\n0,12.8904238,15.6317442,0,25.4,0,-25.4\n0,12.7794766,16.0457896,0,25.4,0,-25.4\n0,12.7124206,16.4692076,0,25.4,0,-25.4\n0,12.6899924,16.8972738,0,25.4,0,-25.4\n0,12.7124206,17.3253654,0,25.4,0,-25.4\n0,12.7794766,17.748758,0,25.4,0,-25.4\n0,12.8904238,18.1628288,0,25.4,0,-25.4\n0,13.044043,18.5630312,0,25.4,0,-25.4\n0,13.2386578,18.9449964,0,25.4,0,-25.4\n0,13.4721346,19.304508,0,25.4,0,-25.4\n0,13.741908,19.6376544,0,25.4,0,-25.4\n0,14.0450316,19.9407526,0,25.4,0,-25.4\n0,14.378178,20.2105514,0,25.4,0,-25.4\n0,14.7376896,20.4440028,0,25.4,0,-25.4\n0,15.1196548,20.6386176,0,25.4,0,-25.4\n0,15.5198572,20.7922368,0,25.4,0,-25.4\n0,15.9339026,20.9032094,0,25.4,0,-25.4\n0,16.3573206,20.9702654,0,25.4,0,-25.4\n0,16.7853868,20.9926936,0,25.4,0,-25.4\n0,17.2134784,20.9702654,0,25.4,0,-25.4\n0,17.636871,20.9032094,0,25.4,0,-25.4\n0,18.0509418,20.7922368,0,25.4,0,-25.4\n0,18.4511442,20.6386176,0,25.4,0,-25.4\n0,18.8331094,20.4440028,0,25.4,0,-25.4\n0,19.192621,20.2105514,0,25.4,0,-25.4\n0,19.5257674,19.9407526,0,25.4,0,-25.4\n0,19.828891,19.6376544,0,25.4,0,-25.4\n0,20.0986644,19.304508,0,25.4,0,-25.4\n0,20.3321158,18.9449964,0,25.4,0,-25.4\n0,20.5267306,18.5630312,0,25.4,0,-25.4\n0,20.6803752,18.1628288,0,25.4,0,-25.4\n0,20.7913224,17.748758,0,25.4,0,-25.4\n0,20.8583784,17.3253654,0,25.4,0,-25.4\n0,20.8808066,16.8972738,0,25.4,0,-25.4\n0,13.3174994,9.6961452,0,25.4,0,-25.4\n0,13.2480558,9.2577158,0,25.4,0,-25.4\n0,13.1331716,8.8289638,0,25.4,0,-25.4\n0,12.9740914,8.4145628,0,25.4,0,-25.4\n0,12.7725932,8.0190594,0,25.4,0,-25.4\n0,12.530836,7.6467716,0,25.4,0,-25.4\n0,12.2514868,7.3018142,0,25.4,0,-25.4\n0,11.9375936,6.9879464,0,25.4,0,-25.4\n0,11.5926362,6.7085972,0,25.4,0,-25.4\n0,11.2203738,6.46684,0,25.4,0,-25.4\n0,10.824845,6.2653164,0,25.4,0,-25.4\n0,10.410444,6.1062362,0,25.4,0,-25.4\n0,9.981692,5.991352,0,25.4,0,-25.4\n0,9.5432626,5.9219084,0,25.4,0,-25.4\n0,9.0999818,5.8986928,0,25.4,0,-25.4\n0,8.6567264,5.9219084,0,25.4,0,-25.4\n0,8.218297,5.991352,0,25.4,0,-25.4\n0,7.7895196,6.1062362,0,25.4,0,-25.4\n0,7.3751186,6.2653164,0,25.4,0,-25.4\n0,6.9796152,6.46684,0,25.4,0,-25.4\n0,6.6073528,6.7085972,0,25.4,0,-25.4\n0,6.2623954,6.9879464,0,25.4,0,-25.4\n0,5.9485022,7.3018142,0,25.4,0,-25.4\n0,5.669153,7.6467716,0,25.4,0,-25.4\n0,5.4273958,8.0190594,0,25.4,0,-25.4\n0,5.2258722,8.4145628,0,25.4,0,-25.4\n0,5.0668174,8.8289638,0,25.4,0,-25.4\n0,4.9519332,9.2577158,0,25.4,0,-25.4\n0,4.8824896,9.6961452,0,25.4,0,-25.4\n0,4.8592486,10.139426,0,25.4,0,-25.4\n0,4.8824896,10.5827068,0,25.4,0,-25.4\n0,4.9519332,11.0211362,0,25.4,0,-25.4\n0,5.0668174,11.4498882,0,25.4,0,-25.4\n0,5.2258722,11.8642892,0,25.4,0,-25.4\n0,5.4273958,12.2597926,0,25.4,0,-25.4\n0,5.669153,12.6320804,0,25.4,0,-25.4\n0,5.9485022,12.9770378,0,25.4,0,-25.4\n0,6.2623954,13.2909056,0,25.4,0,-25.4\n0,6.6073528,13.5702548,0,25.4,0,-25.4\n0,6.9796152,13.812012,0,25.4,0,-25.4\n0,7.3751186,14.0135356,0,25.4,0,-25.4\n0,7.7895196,14.1726158,0,25.4,0,-25.4\n0,8.218297,14.2875,0,25.4,0,-25.4\n0,8.6567264,14.3569436,0,25.4,0,-25.4\n0,9.0999818,14.3801592,0,25.4,0,-25.4\n0,9.5432626,14.3569436,0,25.4,0,-25.4\n0,9.981692,14.2875,0,25.4,0,-25.4\n0,10.410444,14.1726158,0,25.4,0,-25.4\n0,10.824845,14.0135356,0,25.4,0,-25.4\n0,11.2203738,13.812012,0,25.4,0,-25.4\n0,11.5926362,13.5702548,0,25.4,0,-25.4\n0,11.9375936,13.2909056,0,25.4,0,-25.4\n0,12.2514868,12.9770378,0,25.4,0,-25.4\n0,12.530836,12.6320804,0,25.4,0,-25.4\n0,12.7725932,12.2597926,0,25.4,0,-25.4\n0,12.9740914,11.8642892,0,25.4,0,-25.4\n0,13.1331716,11.4498882,0,25.4,0,-25.4\n0,13.2480558,11.0211362,0,25.4,0,-25.4\n0,13.3174994,10.5827068,0,25.4,0,-25.4\n0,13.3407404,10.139426,0,25.4,0,-25.4\n0,21.5277192,2.3211536,0,25.4,0,-25.4\n0,21.1759546,2.582037,0,25.4,0,-25.4\n0,20.8514442,2.8761436,0,25.4,0,-25.4\n0,20.557363,3.2006286,0,25.4,0,-25.4\n0,20.2964796,3.5523932,0,25.4,0,-25.4\n0,20.0713086,3.9280338,0,25.4,0,-25.4\n0,19.8840852,4.3239182,0,25.4,0,-25.4\n0,19.7365366,4.7362618,0,25.4,0,-25.4\n0,19.630136,5.1610768,0,25.4,0,-25.4\n0,19.565874,5.5942992,0,25.4,0,-25.4\n0,19.5443856,6.0317126,0,25.4,0,-25.4\n0,19.565874,6.469126,0,25.4,0,-25.4\n0,19.630136,6.902323,0,25.4,0,-25.4\n0,19.7365366,7.327138,0,25.4,0,-25.4\n0,19.8840852,7.7394816,0,25.4,0,-25.4\n0,20.0713086,8.1353914,0,25.4,0,-25.4\n0,20.2964796,8.511032,0,25.4,0,-25.4\n0,20.557363,8.8627966,0,25.4,0,-25.4\n0,20.8514442,9.1872816,0,25.4,0,-25.4\n0,21.1759546,9.4813882,0,25.4,0,-25.4\n0,21.5277192,9.7422716,0,25.4,0,-25.4\n0,6.1278008,16.064738,0,25.4,0,-25.4\n0,6.0612782,15.6162756,0,25.4,0,-25.4\n0,5.9511438,15.1765,0,25.4,0,-25.4\n0,5.7983882,14.749653,0,25.4,0,-25.4\n0,5.6045608,14.339824,0,25.4,0,-25.4\n0,5.3714904,13.95095,0,25.4,0,-25.4\n0,5.1014122,13.5868156,0,25.4,0,-25.4\n0,4.7969678,13.2509006,0,25.4,0,-25.4\n0,4.4610528,12.9464308,0,25.4,0,-25.4\n0,4.0969184,12.676378,0,25.4,0,-25.4\n0,3.7080444,12.4433076,0,25.4,0,-25.4\n0,3.2982154,12.2494548,0,25.4,0,-25.4\n0,2.8713684,12.0967246,0,25.4,0,-25.4\n0,2.4315928,11.9865648,0,25.4,0,-25.4\n0,1.9831304,11.9200422,0,25.4,0,-25.4\n0,1.5303246,11.8977918,0,25.4,0,-25.4\n0,1.0774934,11.9200422,0,25.4,0,-25.4\n0,0.6290564,11.9865648,0,25.4,0,-25.4\n0,0.1892808,12.0967246,0,25.4,0,-25.4\n0,0.1892808,20.938363,0,25.4,0,-25.4\n0,0.6290564,21.0485228,0,25.4,0,-25.4\n0,1.0774934,21.1150454,0,25.4,0,-25.4\n0,1.5303246,21.1372958,0,25.4,0,-25.4\n0,1.9831304,21.1150454,0,25.4,0,-25.4\n0,2.4315928,21.0485228,0,25.4,0,-25.4\n0,2.8713684,20.938363,0,25.4,0,-25.4\n0,3.2982154,20.7856328,0,25.4,0,-25.4\n0,3.7080444,20.59178,0,25.4,0,-25.4\n0,4.0969184,20.3587096,0,25.4,0,-25.4\n0,4.4610528,20.0886568,0,25.4,0,-25.4\n0,4.7969678,19.784187,0,25.4,0,-25.4\n0,5.1014122,19.448272,0,25.4,0,-25.4\n0,5.3714904,19.0841376,0,25.4,0,-25.4\n0,5.6045608,18.6952636,0,25.4,0,-25.4\n0,5.7983882,18.2854346,0,25.4,0,-25.4\n0,5.9511438,17.8585876,0,25.4,0,-25.4\n0,6.0612782,17.418812,0,25.4,0,-25.4\n0,6.1278008,16.9703496,0,25.4,0,-25.4\n0,6.1500512,16.5175438,0,25.4,0,-25.4\n0,19.5946268,1.221359,0,25.4,0,-25.4\n0,19.5242688,0.7469886,0,25.4,0,-25.4\n0,19.4077336,0.281813,0,25.4,0,-25.4\n0,10.055352,0.281813,0,25.4,0,-25.4\n0,9.9388168,0.7469886,0,25.4,0,-25.4\n0,9.8684588,1.221359,0,25.4,0,-25.4\n0,9.844913,1.7003268,0,25.4,0,-25.4\n0,9.8684588,2.1792946,0,25.4,0,-25.4\n0,9.9388168,2.653665,0,25.4,0,-25.4\n0,10.055352,3.1188406,0,25.4,0,-25.4\n0,10.216896,3.570351,0,25.4,0,-25.4\n0,10.4219248,4.0038528,0,25.4,0,-25.4\n0,10.6684572,4.4151804,0,25.4,0,-25.4\n0,10.954131,4.800346,0,25.4,0,-25.4\n0,11.2761776,5.155692,0,25.4,0,-25.4\n0,11.6314982,5.4777386,0,25.4,0,-25.4\n0,12.0166892,5.763387,0,25.4,0,-25.4\n0,12.4280168,6.0099448,0,25.4,0,-25.4\n0,12.8615186,6.2149736,0,25.4,0,-25.4\n0,13.313029,6.3765176,0,25.4,0,-25.4\n0,13.7782046,6.4930528,0,25.4,0,-25.4\n0,14.252575,6.5634108,0,25.4,0,-25.4\n0,14.7315428,6.5869312,0,25.4,0,-25.4\n0,15.2105106,6.5634108,0,25.4,0,-25.4\n0,15.684881,6.4930528,0,25.4,0,-25.4\n0,16.1500566,6.3765176,0,25.4,0,-25.4\n0,16.601567,6.2149736,0,25.4,0,-25.4\n0,17.0350688,6.0099448,0,25.4,0,-25.4\n0,17.4463964,5.763387,0,25.4,0,-25.4\n0,17.8315874,5.4777386,0,25.4,0,-25.4\n0,18.186908,5.155692,0,25.4,0,-25.4\n0,18.5089546,4.800346,0,25.4,0,-25.4\n0,18.794603,4.4151804,0,25.4,0,-25.4\n0,19.0411608,4.0038528,0,25.4,0,-25.4\n0,19.2461896,3.570351,0,25.4,0,-25.4\n0,19.4077336,3.1188406,0,25.4,0,-25.4\n0,19.5242688,2.653665,0,25.4,0,-25.4\n0,19.5946268,2.1792946,0,25.4,0,-25.4\n0,19.6181472,1.7003268,0,25.4,0,-25.4\n0,25.1624084,12.2494548,0,25.4,0,-25.4\n0,24.7525794,12.4433076,0,25.4,0,-25.4\n0,24.3637308,12.676378,0,25.4,0,-25.4\n0,23.9995964,12.9464308,0,25.4,0,-25.4\n0,23.663656,13.2509006,0,25.4,0,-25.4\n0,23.3592116,13.5868156,0,25.4,0,-25.4\n0,23.0891334,13.95095,0,25.4,0,-25.4\n0,22.856063,14.339824,0,25.4,0,-25.4\n0,22.6622356,14.749653,0,25.4,0,-25.4\n0,22.5095054,15.1765,0,25.4,0,-25.4\n0,22.3993456,15.6162756,0,25.4,0,-25.4\n0,22.332823,16.064738,0,25.4,0,-25.4\n0,22.3105726,16.5175438,0,25.4,0,-25.4\n0,22.332823,16.9703496,0,25.4,0,-25.4\n0,22.3993456,17.418812,0,25.4,0,-25.4\n0,22.5095054,17.8585876,0,25.4,0,-25.4\n0,22.6622356,18.2854346,0,25.4,0,-25.4\n0,22.856063,18.6952636,0,25.4,0,-25.4\n0,23.0891334,19.0841376,0,25.4,0,-25.4\n0,23.3592116,19.448272,0,25.4,0,-25.4\n0,23.663656,19.784187,0,25.4,0,-25.4\n0,23.9995964,20.0886568,0,25.4,0,-25.4\n0,24.3637308,20.3587096,0,25.4,0,-25.4\n0,24.7525794,20.59178,0,25.4,0,-25.4\n0,25.1624084,20.7856328,0,25.4,0,-25.4\n0,24.0659412,22.037421,0,25.4,0,-25.4\n0,23.854537,21.6712292,0,25.4,0,-25.4\n0,23.571581,21.3569804,0,25.4,0,-25.4\n0,23.2294938,21.1084414,0,25.4,0,-25.4\n0,22.8432106,20.936458,0,25.4,0,-25.4\n0,22.429597,20.8485486,0,25.4,0,-25.4\n0,22.0067632,20.8485486,0,25.4,0,-25.4\n0,21.5931496,20.936458,0,25.4,0,-25.4\n0,20.370419,22.037421,0,25.4,0,-25.4\n0,25.302464,1.7612106,0,25.4,0,-25.4\n0,24.877649,1.65481,0,25.4,0,-25.4\n0,24.444452,1.590548,0,25.4,0,-25.4\n0,24.0070386,1.5690596,0,25.4,0,-25.4\n0,23.5696252,1.590548,0,25.4,0,-25.4\n0,23.1364028,1.65481,0,25.4,0,-25.4\n0,22.7115878,1.7612106,0,25.4,0,-25.4\n0,22.2992442,1.9087592,0,25.4,0,-25.4\n0,21.9033598,2.096008,0,25.4,0,-25.4\n0,21.9033598,9.9674172,0,25.4,0,-25.4\n0,22.2992442,10.154666,0,25.4,0,-25.4\n0,22.7115878,10.3022146,0,25.4,0,-25.4\n0,23.1364028,10.4086152,0,25.4,0,-25.4\n0,23.5696252,10.4728772,0,25.4,0,-25.4\n0,24.0070386,10.4943656,0,25.4,0,-25.4\n0,24.444452,10.4728772,0,25.4,0,-25.4\n0,24.877649,10.4086152,0,25.4,0,-25.4\n0,25.302464,10.3022146,0,25.4,0,-25.4\n0,19.2461896,25.2303026,0,25.4,0,-25.4\n0,19.0411608,24.7967754,0,25.4,0,-25.4\n0,18.794603,24.3854732,0,25.4,0,-25.4\n0,18.5089546,24.0002822,0,25.4,0,-25.4\n0,18.186908,23.6449616,0,25.4,0,-25.4\n0,17.8315874,23.322915,0,25.4,0,-25.4\n0,17.4463964,23.0372412,0,25.4,0,-25.4\n0,17.0350688,22.7907088,0,25.4,0,-25.4\n0,16.601567,22.58568,0,25.4,0,-25.4\n0,16.1500566,22.4241106,0,25.4,0,-25.4\n0,15.684881,22.3076008,0,25.4,0,-25.4\n0,15.2105106,22.2372428,0,25.4,0,-25.4\n0,14.7315428,22.213697,0,25.4,0,-25.4\n0,14.252575,22.2372428,0,25.4,0,-25.4\n0,13.7782046,22.3076008,0,25.4,0,-25.4\n0,13.313029,22.4241106,0,25.4,0,-25.4\n0,12.8615186,22.58568,0,25.4,0,-25.4\n0,12.4280168,22.7907088,0,25.4,0,-25.4\n0,12.0166892,23.0372412,0,25.4,0,-25.4\n0,11.6314982,23.322915,0,25.4,0,-25.4\n0,11.2761776,23.6449616,0,25.4,0,-25.4\n0,10.954131,24.0002822,0,25.4,0,-25.4\n0,10.6684572,24.3854732,0,25.4,0,-25.4\n0,10.4219248,24.7967754,0,25.4,0,-25.4\n0,10.216896,25.2303026,0,25.4,0,-25.4\n0,20.2397614,22.4395792,0,25.4,0,-25.4\n0,20.1955654,22.8601016,0,25.4,0,-25.4\n0,20.2397614,23.280624,0,25.4,0,-25.4\n0,20.370419,23.6827822,0,25.4,0,-25.4\n0,20.5818486,24.048974,0,25.4,0,-25.4\n0,20.8647792,24.3631974,0,25.4,0,-25.4\n0,21.2068664,24.6117364,0,25.4,0,-25.4\n0,8.6049104,21.9594938,0,25.4,0,-25.4\n0,9.0213688,22.0289882,0,25.4,0,-25.4\n0,9.4436184,22.0289882,0,25.4,0,-25.4\n0,9.8601022,21.9594938,0,25.4,0,-25.4\n0,7.9568548,24.9748294,0,25.4,0,-25.4\n0,7.8737206,24.5568978,0,25.4,0,-25.4\n0,7.7367638,24.1534188,0,25.4,0,-25.4\n0,7.5482958,23.7712758,0,25.4,0,-25.4\n0,7.3115678,23.4169966,0,25.4,0,-25.4\n0,7.0306184,23.0966264,0,25.4,0,-25.4\n0,6.7102736,22.815677,0,25.4,0,-25.4\n0,6.3559944,22.578949,0,25.4,0,-25.4\n0,5.973826,22.3905064,0,25.4,0,-25.4\n0,5.570347,22.2535496,0,25.4,0,-25.4\n0,5.1524408,22.1704154,0,25.4,0,-25.4\n0,4.7272702,22.1425516,0,25.4,0,-25.4\n0,4.3020742,22.1704154,0,25.4,0,-25.4\n0,3.884168,22.2535496,0,25.4,0,-25.4\n0,3.480689,22.3905064,0,25.4,0,-25.4\n0,3.098546,22.578949,0,25.4,0,-25.4\n0,2.7442414,22.815677,0,25.4,0,-25.4\n0,2.4238966,23.0966264,0,25.4,0,-25.4\n0,2.1429472,23.4169966,0,25.4,0,-25.4\n0,1.9062192,23.7712758,0,25.4,0,-25.4\n0,1.7177766,24.1534188,0,25.4,0,-25.4\n0,1.5807944,24.5568978,0,25.4,0,-25.4\n0,1.4976856,24.9748294,0,25.4,0,-25.4\n0,1.4697964,25.4,0,25.4,0,-25.4\n0,7.9847186,25.4,0,25.4,0,-25.4\n0,24.1966242,22.4395792,0,25.4,0,-25.4\n0,21.5931496,24.7837452,0,25.4,0,-25.4\n0,22.0067632,24.8716546,0,25.4,0,-25.4\n0,22.429597,24.8716546,0,25.4,0,-25.4\n0,22.8432106,24.7837452,0,25.4,0,-25.4\n0,23.2294938,24.6117364,0,25.4,0,-25.4\n0,23.571581,24.3631974,0,25.4,0,-25.4\n0,23.854537,24.048974,0,25.4,0,-25.4\n0,24.0659412,23.6827822,0,25.4,0,-25.4\n0,24.1966242,23.280624,0,25.4,0,-25.4\n0,24.2408202,22.8601016,0,25.4,0,-25.4\n")),i(N.ParsePatFile("\n*BUBBLES-02,BUBBLES-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n0,0.315722,3.5481006,0,25.4,0,-25.4\n0,0.1191006,3.162173,0,25.4,0,-25.4\n0,0.1191006,4.7896018,0,25.4,0,-25.4\n0,0.315722,4.4036742,0,25.4,0,-25.4\n0,0.3834892,3.9758874,0,25.4,0,-25.4\n0,0.9946386,13.9859512,0,25.4,0,-25.4\n0,0.840232,13.5788146,0,25.4,0,-25.4\n0,0.5928614,13.220446,0,25.4,0,-25.4\n0,0.2669286,12.9316988,0,25.4,0,-25.4\n0,0.2669286,15.9047688,0,25.4,0,-25.4\n0,0.5928614,15.6160216,0,25.4,0,-25.4\n0,0.840232,15.257653,0,25.4,0,-25.4\n0,0.9946386,14.8505164,0,25.4,0,-25.4\n0,1.0471404,14.4182338,0,25.4,0,-25.4\n0,0.321437,1.5549118,0,25.4,0,-25.4\n0,0.7453122,1.6269208,0,25.4,0,-25.4\n0,1.1745976,1.6510254,0,25.4,0,-25.4\n0,1.6039084,1.6269208,0,25.4,0,-25.4\n0,2.0277836,1.5549118,0,25.4,0,-25.4\n0,2.44094,1.435862,0,25.4,0,-25.4\n0,2.838196,1.2713208,0,25.4,0,-25.4\n0,3.214497,1.0633456,0,25.4,0,-25.4\n0,3.5651694,0.8145526,0,25.4,0,-25.4\n0,3.8857682,0.5280406,0,25.4,0,-25.4\n0,4.1722802,0.2074418,0,25.4,0,-25.4\n0,5.3785008,15.8337504,0,25.4,0,-25.4\n0,5.1644804,15.4630628,0,25.4,0,-25.4\n0,4.8365664,15.1879046,0,25.4,0,-25.4\n0,4.434332,15.041499,0,25.4,0,-25.4\n0,4.0062658,15.041499,0,25.4,0,-25.4\n0,3.6040314,15.1879046,0,25.4,0,-25.4\n0,3.2761174,15.4630628,0,25.4,0,-25.4\n0,3.062097,15.8337504,0,25.4,0,-25.4\n0,2.9877512,16.2553142,0,25.4,0,-25.4\n0,3.062097,16.676878,0,25.4,0,-25.4\n0,3.2761174,17.0475656,0,25.4,0,-25.4\n0,3.6040314,17.3227238,0,25.4,0,-25.4\n0,4.0062658,17.4691294,0,25.4,0,-25.4\n0,4.434332,17.4691294,0,25.4,0,-25.4\n0,4.8365664,17.3227238,0,25.4,0,-25.4\n0,5.1644804,17.0475656,0,25.4,0,-25.4\n0,5.3785008,16.676878,0,25.4,0,-25.4\n0,5.4528212,16.2553142,0,25.4,0,-25.4\n0,1.6039084,19.4068192,0,25.4,0,-25.4\n0,1.1745976,19.3827146,0,25.4,0,-25.4\n0,0.7453122,19.4068192,0,25.4,0,-25.4\n0,8.07212,6.3135002,0,25.4,0,-25.4\n0,7.9904082,5.9026552,0,25.4,0,-25.4\n0,7.8557628,5.5059834,0,25.4,0,-25.4\n0,7.6704952,5.130292,0,25.4,0,-25.4\n0,7.437755,4.7820072,0,25.4,0,-25.4\n0,7.1615554,4.4670472,0,25.4,0,-25.4\n0,6.8466208,4.1908476,0,25.4,0,-25.4\n0,6.4983106,3.9581328,0,25.4,0,-25.4\n0,6.1226192,3.7728652,0,25.4,0,-25.4\n0,5.7259474,3.6382198,0,25.4,0,-25.4\n0,5.3151024,3.5564826,0,25.4,0,-25.4\n0,4.89712,3.5291014,0,25.4,0,-25.4\n0,4.4791122,3.5564826,0,25.4,0,-25.4\n0,4.0682672,3.6382198,0,25.4,0,-25.4\n0,3.6715954,3.7728652,0,25.4,0,-25.4\n0,3.295904,3.9581328,0,25.4,0,-25.4\n0,2.9475938,4.1908476,0,25.4,0,-25.4\n0,2.6326592,4.4670472,0,25.4,0,-25.4\n0,2.3564596,4.7820072,0,25.4,0,-25.4\n0,2.1237448,5.130292,0,25.4,0,-25.4\n0,1.9384772,5.5059834,0,25.4,0,-25.4\n0,1.8038064,5.9026552,0,25.4,0,-25.4\n0,1.7220946,6.3135002,0,25.4,0,-25.4\n0,1.694688,6.731508,0,25.4,0,-25.4\n0,1.7220946,7.1495158,0,25.4,0,-25.4\n0,1.8038064,7.5603608,0,25.4,0,-25.4\n0,1.9384772,7.9570072,0,25.4,0,-25.4\n0,2.1237448,8.332724,0,25.4,0,-25.4\n0,2.3564596,8.6810088,0,25.4,0,-25.4\n0,2.6326592,8.9959434,0,25.4,0,-25.4\n0,2.9475938,9.272143,0,25.4,0,-25.4\n0,3.295904,9.5048832,0,25.4,0,-25.4\n0,3.6715954,9.6901508,0,25.4,0,-25.4\n0,4.0682672,9.8247962,0,25.4,0,-25.4\n0,4.4791122,9.9065334,0,25.4,0,-25.4\n0,4.89712,9.9339146,0,25.4,0,-25.4\n0,5.3151024,9.9065334,0,25.4,0,-25.4\n0,5.7259474,9.8247962,0,25.4,0,-25.4\n0,6.1226192,9.6901508,0,25.4,0,-25.4\n0,6.4983106,9.5048832,0,25.4,0,-25.4\n0,6.8466208,9.272143,0,25.4,0,-25.4\n0,7.1615554,8.9959434,0,25.4,0,-25.4\n0,7.437755,8.6810088,0,25.4,0,-25.4\n0,7.6704952,8.332724,0,25.4,0,-25.4\n0,7.8557628,7.9570072,0,25.4,0,-25.4\n0,7.9904082,7.5603608,0,25.4,0,-25.4\n0,8.07212,7.1495158,0,25.4,0,-25.4\n0,8.0995266,6.731508,0,25.4,0,-25.4\n0,18.0404516,13.0813048,0,25.4,0,-25.4\n0,17.9789836,12.6669292,0,25.4,0,-25.4\n0,17.8771804,12.2606054,0,25.4,0,-25.4\n0,17.736058,11.8661942,0,25.4,0,-25.4\n0,17.5569626,11.4875056,0,25.4,0,-25.4\n0,17.3416214,11.1282226,0,25.4,0,-25.4\n0,17.0920664,10.7917488,0,25.4,0,-25.4\n0,16.8107614,10.4813862,0,25.4,0,-25.4\n0,16.5003734,10.2000558,0,25.4,0,-25.4\n0,16.163925,9.9505262,0,25.4,0,-25.4\n0,15.8046166,9.7351596,0,25.4,0,-25.4\n0,15.4259534,9.5560642,0,25.4,0,-25.4\n0,15.0315422,9.4149418,0,25.4,0,-25.4\n0,14.625193,9.313164,0,25.4,0,-25.4\n0,14.2108428,9.251696,0,25.4,0,-25.4\n0,13.792454,9.2311474,0,25.4,0,-25.4\n0,13.3740652,9.251696,0,25.4,0,-25.4\n0,12.9596896,9.313164,0,25.4,0,-25.4\n0,12.5533404,9.4149418,0,25.4,0,-25.4\n0,12.1589292,9.5560642,0,25.4,0,-25.4\n0,11.780266,9.7351596,0,25.4,0,-25.4\n0,11.4209576,9.9505262,0,25.4,0,-25.4\n0,11.0845092,10.2000558,0,25.4,0,-25.4\n0,10.7741212,10.4813862,0,25.4,0,-25.4\n0,10.4928162,10.7917488,0,25.4,0,-25.4\n0,10.2432866,11.1282226,0,25.4,0,-25.4\n0,10.02792,11.4875056,0,25.4,0,-25.4\n0,9.8488246,11.8661942,0,25.4,0,-25.4\n0,9.7077022,12.2606054,0,25.4,0,-25.4\n0,9.6059244,12.6669292,0,25.4,0,-25.4\n0,9.5444564,13.0813048,0,25.4,0,-25.4\n0,9.5239078,13.4996936,0,25.4,0,-25.4\n0,9.5444564,13.9180824,0,25.4,0,-25.4\n0,9.6059244,14.332458,0,25.4,0,-25.4\n0,9.7077022,14.7387818,0,25.4,0,-25.4\n0,9.8488246,15.133193,0,25.4,0,-25.4\n0,10.02792,15.5118816,0,25.4,0,-25.4\n0,10.2432866,15.8711646,0,25.4,0,-25.4\n0,10.4928162,16.2076384,0,25.4,0,-25.4\n0,10.7741212,16.518001,0,25.4,0,-25.4\n0,11.0845092,16.7993314,0,25.4,0,-25.4\n0,11.4209576,17.048861,0,25.4,0,-25.4\n0,11.780266,17.2642276,0,25.4,0,-25.4\n0,12.1589292,17.443323,0,25.4,0,-25.4\n0,12.5533404,17.5844454,0,25.4,0,-25.4\n0,12.9596896,17.6862232,0,25.4,0,-25.4\n0,13.3740652,17.7476912,0,25.4,0,-25.4\n0,13.792454,17.7682398,0,25.4,0,-25.4\n0,14.2108428,17.7476912,0,25.4,0,-25.4\n0,14.625193,17.6862232,0,25.4,0,-25.4\n0,15.0315422,17.5844454,0,25.4,0,-25.4\n0,15.4259534,17.443323,0,25.4,0,-25.4\n0,15.8046166,17.2642276,0,25.4,0,-25.4\n0,16.163925,17.048861,0,25.4,0,-25.4\n0,16.5003734,16.7993314,0,25.4,0,-25.4\n0,16.8107614,16.518001,0,25.4,0,-25.4\n0,17.0920664,16.2076384,0,25.4,0,-25.4\n0,17.3416214,15.8711646,0,25.4,0,-25.4\n0,17.5569626,15.5118816,0,25.4,0,-25.4\n0,17.736058,15.133193,0,25.4,0,-25.4\n0,17.8771804,14.7387818,0,25.4,0,-25.4\n0,17.9789836,14.332458,0,25.4,0,-25.4\n0,18.0404516,13.9180824,0,25.4,0,-25.4\n0,18.0610002,13.4996936,0,25.4,0,-25.4\n0,8.9792048,0.3298444,0,25.4,0,-25.4\n0,8.9318846,0.7497064,0,25.4,0,-25.4\n0,8.9160858,1.1719306,0,25.4,0,-25.4\n0,8.9318846,1.5941294,0,25.4,0,-25.4\n0,8.9792048,2.0139914,0,25.4,0,-25.4\n0,9.0577416,2.429129,0,25.4,0,-25.4\n0,9.1670886,2.8372562,0,25.4,0,-25.4\n0,9.3066362,3.2360616,0,25.4,0,-25.4\n0,9.475597,3.62331,0,25.4,0,-25.4\n0,9.6730312,3.9968424,0,25.4,0,-25.4\n0,9.8978212,4.3546014,0,25.4,0,-25.4\n0,10.1487224,4.694555,0,25.4,0,-25.4\n0,10.4243124,5.0147982,0,25.4,0,-25.4\n0,10.7230672,5.3135784,0,25.4,0,-25.4\n0,11.0433104,5.5891684,0,25.4,0,-25.4\n0,11.383264,5.8400696,0,25.4,0,-25.4\n0,11.741023,6.0648596,0,25.4,0,-25.4\n0,12.1145554,6.2622684,0,25.4,0,-25.4\n0,12.5018292,6.4312292,0,25.4,0,-25.4\n0,12.9006346,6.5707768,0,25.4,0,-25.4\n0,13.3087364,6.6801238,0,25.4,0,-25.4\n0,13.723874,6.758686,0,25.4,0,-25.4\n0,14.143736,6.8059808,0,25.4,0,-25.4\n0,14.5659602,6.8217796,0,25.4,0,-25.4\n0,14.988159,6.8059808,0,25.4,0,-25.4\n0,15.408021,6.758686,0,25.4,0,-25.4\n0,15.8231586,6.6801238,0,25.4,0,-25.4\n0,16.2312858,6.5707768,0,25.4,0,-25.4\n0,16.6300658,6.4312292,0,25.4,0,-25.4\n0,17.0173396,6.2622684,0,25.4,0,-25.4\n0,17.390872,6.0648596,0,25.4,0,-25.4\n0,17.748631,5.8400696,0,25.4,0,-25.4\n0,18.0885846,5.5891684,0,25.4,0,-25.4\n0,18.4088278,5.3135784,0,25.4,0,-25.4\n0,18.7075826,5.0147982,0,25.4,0,-25.4\n0,18.983198,4.694555,0,25.4,0,-25.4\n0,19.2340992,4.3546014,0,25.4,0,-25.4\n0,19.4588892,3.9968424,0,25.4,0,-25.4\n0,19.656298,3.62331,0,25.4,0,-25.4\n0,19.8252588,3.2360616,0,25.4,0,-25.4\n0,23.5769404,0.2074418,0,25.4,0,-25.4\n0,23.8634524,0.5280406,0,25.4,0,-25.4\n0,24.1840512,0.8145526,0,25.4,0,-25.4\n0,24.5347236,1.0633456,0,25.4,0,-25.4\n0,24.9110246,1.2713208,0,25.4,0,-25.4\n0,25.3082552,1.435862,0,25.4,0,-25.4\n0,25.2128274,2.8558998,0,25.4,0,-25.4\n0,24.8269252,2.6592784,0,25.4,0,-25.4\n0,24.399113,2.5915112,0,25.4,0,-25.4\n0,23.9713262,2.6592784,0,25.4,0,-25.4\n0,23.5853986,2.8558998,0,25.4,0,-25.4\n0,23.2791508,3.162173,0,25.4,0,-25.4\n0,23.082504,3.5481006,0,25.4,0,-25.4\n0,23.0147622,3.9758874,0,25.4,0,-25.4\n0,23.082504,4.4036742,0,25.4,0,-25.4\n0,23.2791508,4.7896018,0,25.4,0,-25.4\n0,23.5853986,5.095875,0,25.4,0,-25.4\n0,23.9713262,5.2924964,0,25.4,0,-25.4\n0,24.399113,5.3602636,0,25.4,0,-25.4\n0,24.8269252,5.2924964,0,25.4,0,-25.4\n0,25.2128274,5.095875,0,25.4,0,-25.4\n0,25.2813566,12.729337,0,25.4,0,-25.4\n0,24.8585736,12.6251208,0,25.4,0,-25.4\n0,24.423116,12.6251208,0,25.4,0,-25.4\n0,24.000333,12.729337,0,25.4,0,-25.4\n0,23.614761,12.9316988,0,25.4,0,-25.4\n0,23.2888028,13.220446,0,25.4,0,-25.4\n0,23.0414576,13.5788146,0,25.4,0,-25.4\n0,22.887051,13.9859512,0,25.4,0,-25.4\n0,22.8345492,14.4182338,0,25.4,0,-25.4\n0,22.887051,14.8505164,0,25.4,0,-25.4\n0,23.0414576,15.257653,0,25.4,0,-25.4\n0,23.2888028,15.6160216,0,25.4,0,-25.4\n0,23.614761,15.9047688,0,25.4,0,-25.4\n0,24.000333,16.1071306,0,25.4,0,-25.4\n0,24.423116,16.2113468,0,25.4,0,-25.4\n0,24.8585736,16.2113468,0,25.4,0,-25.4\n0,25.2813566,16.1071306,0,25.4,0,-25.4\n0,20.2000104,0.7497064,0,25.4,0,-25.4\n0,20.1527156,0.3298444,0,25.4,0,-25.4\n0,19.9648064,2.8372562,0,25.4,0,-25.4\n0,20.0741534,2.429129,0,25.4,0,-25.4\n0,20.1527156,2.0139914,0,25.4,0,-25.4\n0,20.2000104,1.5941294,0,25.4,0,-25.4\n0,20.2158092,1.1719306,0,25.4,0,-25.4\n0,20.0741534,25.3147068,0,25.4,0,-25.4\n0,19.9648064,24.906605,0,25.4,0,-25.4\n0,19.8252588,24.5077996,0,25.4,0,-25.4\n0,19.656298,24.1205512,0,25.4,0,-25.4\n0,19.4588892,23.7469934,0,25.4,0,-25.4\n0,19.2340992,23.3892344,0,25.4,0,-25.4\n0,18.983198,23.0492808,0,25.4,0,-25.4\n0,18.7075826,22.7290376,0,25.4,0,-25.4\n0,18.4088278,22.4302828,0,25.4,0,-25.4\n0,18.0885846,22.1546928,0,25.4,0,-25.4\n0,17.748631,21.9037916,0,25.4,0,-25.4\n0,17.390872,21.6790016,0,25.4,0,-25.4\n0,17.0173396,21.4815674,0,25.4,0,-25.4\n0,16.6300658,21.3126066,0,25.4,0,-25.4\n0,16.2312858,21.173059,0,25.4,0,-25.4\n0,15.8231586,21.063712,0,25.4,0,-25.4\n0,15.408021,20.9851752,0,25.4,0,-25.4\n0,14.988159,20.937855,0,25.4,0,-25.4\n0,14.5659602,20.9220562,0,25.4,0,-25.4\n0,14.143736,20.937855,0,25.4,0,-25.4\n0,13.723874,20.9851752,0,25.4,0,-25.4\n0,13.3087364,21.063712,0,25.4,0,-25.4\n0,12.9006346,21.173059,0,25.4,0,-25.4\n0,12.5018292,21.3126066,0,25.4,0,-25.4\n0,12.1145554,21.4815674,0,25.4,0,-25.4\n0,11.741023,21.6790016,0,25.4,0,-25.4\n0,11.383264,21.9037916,0,25.4,0,-25.4\n0,11.0433104,22.1546928,0,25.4,0,-25.4\n0,10.7230672,22.4302828,0,25.4,0,-25.4\n0,10.4243124,22.7290376,0,25.4,0,-25.4\n0,10.1487224,23.0492808,0,25.4,0,-25.4\n0,9.8978212,23.3892344,0,25.4,0,-25.4\n0,9.6730312,23.7469934,0,25.4,0,-25.4\n0,9.475597,24.1205512,0,25.4,0,-25.4\n0,9.3066362,24.5077996,0,25.4,0,-25.4\n0,9.1670886,24.906605,0,25.4,0,-25.4\n0,9.0577416,25.3147068,0,25.4,0,-25.4\n0,4.9846484,22.7875846,0,25.4,0,-25.4\n0,4.9126394,22.3637094,0,25.4,0,-25.4\n0,4.793615,21.9505276,0,25.4,0,-25.4\n0,4.6290738,21.553297,0,25.4,0,-25.4\n0,4.4210732,21.176996,0,25.4,0,-25.4\n0,4.1722802,20.8263236,0,25.4,0,-25.4\n0,3.8857682,20.5057248,0,25.4,0,-25.4\n0,3.5651694,20.2192128,0,25.4,0,-25.4\n0,3.214497,19.9703944,0,25.4,0,-25.4\n0,2.838196,19.7624192,0,25.4,0,-25.4\n0,2.44094,19.597878,0,25.4,0,-25.4\n0,2.0277836,19.4788536,0,25.4,0,-25.4\n0,0.321437,19.4788536,0,25.4,0,-25.4\n0,4.4210732,25.2567694,0,25.4,0,-25.4\n0,4.6290738,24.880443,0,25.4,0,-25.4\n0,4.793615,24.4832124,0,25.4,0,-25.4\n0,4.9126394,24.070056,0,25.4,0,-25.4\n0,4.9846484,23.6461554,0,25.4,0,-25.4\n0,5.008753,23.21687,0,25.4,0,-25.4\n0,25.3082552,19.597878,0,25.4,0,-25.4\n0,24.9110246,19.7624192,0,25.4,0,-25.4\n0,24.5347236,19.9703944,0,25.4,0,-25.4\n0,24.1840512,20.2192128,0,25.4,0,-25.4\n0,23.8634524,20.5057248,0,25.4,0,-25.4\n0,23.5769404,20.8263236,0,25.4,0,-25.4\n0,23.3281474,21.176996,0,25.4,0,-25.4\n0,23.1201468,21.553297,0,25.4,0,-25.4\n0,22.9556056,21.9505276,0,25.4,0,-25.4\n0,22.8365812,22.3637094,0,25.4,0,-25.4\n0,22.7645722,22.7875846,0,25.4,0,-25.4\n0,22.7404422,23.21687,0,25.4,0,-25.4\n0,22.7645722,23.6461554,0,25.4,0,-25.4\n0,22.8365812,24.070056,0,25.4,0,-25.4\n0,22.9556056,24.4832124,0,25.4,0,-25.4\n0,23.1201468,24.880443,0,25.4,0,-25.4\n0,23.3281474,25.2567694,0,25.4,0,-25.4\n")),i(N.ParsePatFile("\n*BUBBLES-03,BUBBLES-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n0,10.1887274,4.1559734,0,25.4,0,-25.4\n0,10.0855526,3.6595304,0,25.4,0,-25.4\n0,9.9157536,3.181731,0,25.4,0,-25.4\n0,9.68248,2.7315414,0,25.4,0,-25.4\n0,9.3900752,2.3172928,0,25.4,0,-25.4\n0,9.0439748,1.9467068,0,25.4,0,-25.4\n0,8.6506558,1.6267176,0,25.4,0,-25.4\n0,8.217408,1.3632688,0,25.4,0,-25.4\n0,7.752334,1.1612372,0,25.4,0,-25.4\n0,7.2640952,1.0244582,0,25.4,0,-25.4\n0,6.7617594,0.9553956,0,25.4,0,-25.4\n0,6.2546992,0.9553956,0,25.4,0,-25.4\n0,5.7523634,1.0244582,0,25.4,0,-25.4\n0,5.2641246,1.1612372,0,25.4,0,-25.4\n0,4.7990252,1.3632688,0,25.4,0,-25.4\n0,4.3658028,1.6267176,0,25.4,0,-25.4\n0,3.9724838,1.9467068,0,25.4,0,-25.4\n0,3.6263834,2.3172928,0,25.4,0,-25.4\n0,3.3339786,2.7315414,0,25.4,0,-25.4\n0,3.100705,3.181731,0,25.4,0,-25.4\n0,2.9308806,3.6595304,0,25.4,0,-25.4\n0,2.8277312,4.1559734,0,25.4,0,-25.4\n0,2.7931364,4.6618398,0,25.4,0,-25.4\n0,2.8277312,5.1677062,0,25.4,0,-25.4\n0,2.9308806,5.6641746,0,25.4,0,-25.4\n0,3.100705,6.1419486,0,25.4,0,-25.4\n0,3.3339786,6.5921382,0,25.4,0,-25.4\n0,3.6263834,7.0063868,0,25.4,0,-25.4\n0,3.9724838,7.3769728,0,25.4,0,-25.4\n0,4.3658028,7.696962,0,25.4,0,-25.4\n0,4.7990252,7.9604362,0,25.4,0,-25.4\n0,5.2641246,8.1624424,0,25.4,0,-25.4\n0,5.7523634,8.2992468,0,25.4,0,-25.4\n0,6.2546992,8.368284,0,25.4,0,-25.4\n0,6.7617594,8.368284,0,25.4,0,-25.4\n0,7.2640952,8.2992468,0,25.4,0,-25.4\n0,7.752334,8.1624424,0,25.4,0,-25.4\n0,8.217408,7.9604362,0,25.4,0,-25.4\n0,8.6506558,7.696962,0,25.4,0,-25.4\n0,9.0439748,7.3769728,0,25.4,0,-25.4\n0,9.3900752,7.0063868,0,25.4,0,-25.4\n0,9.68248,6.5921382,0,25.4,0,-25.4\n0,9.9157536,6.1419486,0,25.4,0,-25.4\n0,10.0855526,5.6641746,0,25.4,0,-25.4\n0,10.1887274,5.1677062,0,25.4,0,-25.4\n0,10.2233222,4.6618398,0,25.4,0,-25.4\n0,18.2143908,14.7408138,0,25.4,0,-25.4\n0,17.687036,14.9496018,0,25.4,0,-25.4\n0,17.1900342,15.222855,0,25.4,0,-25.4\n0,16.7311578,15.55623,0,25.4,0,-25.4\n0,16.317722,15.9444944,0,25.4,0,-25.4\n0,15.9561784,16.3815014,0,25.4,0,-25.4\n0,15.6522674,16.860393,0,25.4,0,-25.4\n0,15.4107896,17.3736,0,25.4,0,-25.4\n0,15.2355042,17.9130198,0,25.4,0,-25.4\n0,15.1292306,18.4701434,0,25.4,0,-25.4\n0,15.0936198,19.0362078,0,25.4,0,-25.4\n0,15.1292306,19.6022722,0,25.4,0,-25.4\n0,15.2355042,20.1593958,0,25.4,0,-25.4\n0,15.4107896,20.6988156,0,25.4,0,-25.4\n0,18.1163722,0.530352,0,25.4,0,-25.4\n0,17.4814484,0.5615432,0,25.4,0,-25.4\n0,16.8526714,0.654812,0,25.4,0,-25.4\n0,16.236061,0.8092694,0,25.4,0,-25.4\n0,15.6375354,1.0234168,0,25.4,0,-25.4\n0,15.0629112,1.2951968,0,25.4,0,-25.4\n0,14.5176748,1.6219932,0,25.4,0,-25.4\n0,14.0071094,2.0006564,0,25.4,0,-25.4\n0,13.5361172,2.4275542,0,25.4,0,-25.4\n0,13.1092194,2.8985464,0,25.4,0,-25.4\n0,12.7305562,3.4091372,0,25.4,0,-25.4\n0,12.4037598,3.9543482,0,25.4,0,-25.4\n0,12.1319798,4.5289978,0,25.4,0,-25.4\n0,11.9178324,5.127498,0,25.4,0,-25.4\n0,11.763375,5.7441084,0,25.4,0,-25.4\n0,11.6701062,6.3729108,0,25.4,0,-25.4\n0,11.638915,7.0078092,0,25.4,0,-25.4\n0,11.6701062,7.6427076,0,25.4,0,-25.4\n0,11.763375,8.2714846,0,25.4,0,-25.4\n0,11.9178324,8.8881204,0,25.4,0,-25.4\n0,12.1319798,9.4866206,0,25.4,0,-25.4\n0,12.4037598,10.0612702,0,25.4,0,-25.4\n0,12.7305562,10.6064812,0,25.4,0,-25.4\n0,13.1092194,11.117072,0,25.4,0,-25.4\n0,13.5361172,11.5880642,0,25.4,0,-25.4\n0,14.0071094,12.0149366,0,25.4,0,-25.4\n0,14.5176748,12.3936252,0,25.4,0,-25.4\n0,15.0629112,12.7204216,0,25.4,0,-25.4\n0,15.6375354,12.9922016,0,25.4,0,-25.4\n0,16.236061,13.206349,0,25.4,0,-25.4\n0,16.8526714,13.3608064,0,25.4,0,-25.4\n0,17.4814484,13.4540752,0,25.4,0,-25.4\n0,18.1163722,13.4852664,0,25.4,0,-25.4\n0,14.3025876,16.7496744,0,25.4,0,-25.4\n0,14.1946122,16.0217104,0,25.4,0,-25.4\n0,14.0157962,15.3078434,0,25.4,0,-25.4\n0,13.7678668,14.6149568,0,25.4,0,-25.4\n0,13.453237,13.94968,0,25.4,0,-25.4\n0,13.0748786,13.3184646,0,25.4,0,-25.4\n0,12.6365,12.7273558,0,25.4,0,-25.4\n0,12.1422922,12.1820686,0,25.4,0,-25.4\n0,11.597005,11.6878608,0,25.4,0,-25.4\n0,11.0058962,11.2494822,0,25.4,0,-25.4\n0,10.3746808,10.8711492,0,25.4,0,-25.4\n0,9.7094294,10.556494,0,25.4,0,-25.4\n0,9.0165174,10.3085646,0,25.4,0,-25.4\n0,8.3026504,10.1297486,0,25.4,0,-25.4\n0,7.5746864,10.0217732,0,25.4,0,-25.4\n0,6.8396612,9.9856544,0,25.4,0,-25.4\n0,6.1046106,10.0217732,0,25.4,0,-25.4\n0,5.376672,10.1297486,0,25.4,0,-25.4\n0,4.662805,10.3085646,0,25.4,0,-25.4\n0,3.969893,10.556494,0,25.4,0,-25.4\n0,3.3046416,10.8711492,0,25.4,0,-25.4\n0,2.6734008,11.2494822,0,25.4,0,-25.4\n0,2.0823174,11.6878608,0,25.4,0,-25.4\n0,1.5370302,12.1820686,0,25.4,0,-25.4\n0,1.0428224,12.7273558,0,25.4,0,-25.4\n0,0.6044184,13.3184646,0,25.4,0,-25.4\n0,0.2260854,13.94968,0,25.4,0,-25.4\n0,13.7678668,20.3544678,0,25.4,0,-25.4\n0,14.0157962,19.6615558,0,25.4,0,-25.4\n0,14.1946122,18.9476888,0,25.4,0,-25.4\n0,14.3025876,18.2197502,0,25.4,0,-25.4\n0,14.3387064,17.4846996,0,25.4,0,-25.4\n0,25.3114302,14.6149568,0,25.4,0,-25.4\n0,25.0635262,15.3078434,0,25.4,0,-25.4\n0,24.8847102,16.0217104,0,25.4,0,-25.4\n0,24.7767094,16.7496744,0,25.4,0,-25.4\n0,24.740616,17.4846996,0,25.4,0,-25.4\n0,24.7767094,18.2197502,0,25.4,0,-25.4\n0,24.8847102,18.9476888,0,25.4,0,-25.4\n0,25.0635262,19.6615558,0,25.4,0,-25.4\n0,25.3114302,20.3544678,0,25.4,0,-25.4\n0,24.090884,18.4701434,0,25.4,0,-25.4\n0,23.984585,17.9130198,0,25.4,0,-25.4\n0,23.809325,17.3736,0,25.4,0,-25.4\n0,23.5678472,16.860393,0,25.4,0,-25.4\n0,23.2639362,16.3815014,0,25.4,0,-25.4\n0,22.9023926,15.9444944,0,25.4,0,-25.4\n0,22.4889314,15.55623,0,25.4,0,-25.4\n0,22.0300804,15.222855,0,25.4,0,-25.4\n0,21.5330532,14.9496018,0,25.4,0,-25.4\n0,21.0056984,14.7408138,0,25.4,0,-25.4\n0,20.4563472,14.5997676,0,25.4,0,-25.4\n0,19.8936356,14.528673,0,25.4,0,-25.4\n0,19.3264536,14.528673,0,25.4,0,-25.4\n0,18.7637674,14.5997676,0,25.4,0,-25.4\n0,15.6522674,21.2120226,0,25.4,0,-25.4\n0,15.9561784,21.6908888,0,25.4,0,-25.4\n0,16.317722,22.1279212,0,25.4,0,-25.4\n0,16.7311578,22.5161856,0,25.4,0,-25.4\n0,17.1900342,22.8495606,0,25.4,0,-25.4\n0,17.687036,23.1227884,0,25.4,0,-25.4\n0,18.2143908,23.3315764,0,25.4,0,-25.4\n0,18.7637674,23.472648,0,25.4,0,-25.4\n0,19.3264536,23.5437172,0,25.4,0,-25.4\n0,19.8936356,23.5437172,0,25.4,0,-25.4\n0,20.4563472,23.472648,0,25.4,0,-25.4\n0,21.0056984,23.3315764,0,25.4,0,-25.4\n0,21.5330532,23.1227884,0,25.4,0,-25.4\n0,22.0300804,22.8495606,0,25.4,0,-25.4\n0,22.4889314,22.5161856,0,25.4,0,-25.4\n0,22.9023926,22.1279212,0,25.4,0,-25.4\n0,23.2639362,21.6908888,0,25.4,0,-25.4\n0,23.5678472,21.2120226,0,25.4,0,-25.4\n0,23.809325,20.6988156,0,25.4,0,-25.4\n0,23.984585,20.1593958,0,25.4,0,-25.4\n0,24.090884,19.6022722,0,25.4,0,-25.4\n0,24.1264948,19.0362078,0,25.4,0,-25.4\n0,24.5626128,6.3729108,0,25.4,0,-25.4\n0,24.469344,5.7441084,0,25.4,0,-25.4\n0,24.3148866,5.127498,0,25.4,0,-25.4\n0,24.1007392,4.5289978,0,25.4,0,-25.4\n0,23.8289592,3.9543482,0,25.4,0,-25.4\n0,23.5021628,3.4091372,0,25.4,0,-25.4\n0,23.1234996,2.8985464,0,25.4,0,-25.4\n0,22.6966018,2.4275542,0,25.4,0,-25.4\n0,22.2256096,2.0006564,0,25.4,0,-25.4\n0,21.7150442,1.6219932,0,25.4,0,-25.4\n0,21.1698078,1.2951968,0,25.4,0,-25.4\n0,20.5951836,1.0234168,0,25.4,0,-25.4\n0,19.996658,0.8092694,0,25.4,0,-25.4\n0,19.3800476,0.654812,0,25.4,0,-25.4\n0,18.7512706,0.5615432,0,25.4,0,-25.4\n0,18.7512706,13.4540752,0,25.4,0,-25.4\n0,19.3800476,13.3608064,0,25.4,0,-25.4\n0,19.996658,13.206349,0,25.4,0,-25.4\n0,20.5951836,12.9922016,0,25.4,0,-25.4\n0,21.1698078,12.7204216,0,25.4,0,-25.4\n0,21.7150442,12.3936252,0,25.4,0,-25.4\n0,22.2256096,12.0149366,0,25.4,0,-25.4\n0,22.6966018,11.5880642,0,25.4,0,-25.4\n0,23.1234996,11.117072,0,25.4,0,-25.4\n0,23.5021628,10.6064812,0,25.4,0,-25.4\n0,23.8289592,10.0612702,0,25.4,0,-25.4\n0,24.1007392,9.4866206,0,25.4,0,-25.4\n0,24.3148866,8.8881204,0,25.4,0,-25.4\n0,24.469344,8.2714846,0,25.4,0,-25.4\n0,24.5626128,7.6427076,0,25.4,0,-25.4\n0,24.593804,7.0078092,0,25.4,0,-25.4\n0,12.6365,22.2420434,0,25.4,0,-25.4\n0,13.0748786,21.65096,0,25.4,0,-25.4\n0,13.453237,21.0197446,0,25.4,0,-25.4\n0,0.2260854,21.0197446,0,25.4,0,-25.4\n0,0.6044184,21.65096,0,25.4,0,-25.4\n0,1.0428224,22.2420434,0,25.4,0,-25.4\n0,1.5370302,22.7873306,0,25.4,0,-25.4\n0,2.0823174,23.2815638,0,25.4,0,-25.4\n0,2.6734008,23.7199424,0,25.4,0,-25.4\n0,3.3046416,24.0982754,0,25.4,0,-25.4\n0,3.969893,24.4129306,0,25.4,0,-25.4\n0,4.662805,24.66086,0,25.4,0,-25.4\n0,5.376672,24.839676,0,25.4,0,-25.4\n0,6.1046106,24.9476514,0,25.4,0,-25.4\n0,6.8396612,24.9837448,0,25.4,0,-25.4\n0,7.5746864,24.9476514,0,25.4,0,-25.4\n0,8.3026504,24.839676,0,25.4,0,-25.4\n0,9.0165174,24.66086,0,25.4,0,-25.4\n0,9.7094294,24.4129306,0,25.4,0,-25.4\n0,10.3746808,24.0982754,0,25.4,0,-25.4\n0,11.0058962,23.7199424,0,25.4,0,-25.4\n0,11.597005,23.2815638,0,25.4,0,-25.4\n0,12.1422922,22.7873306,0,25.4,0,-25.4\n")),i(N.ParsePatFile("\n*CELTIC-01,CELTIC PATTERN 01\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n135,9.144,10.72444439,17.96051221,17.96051221,2.235085954,-33.68593847\n135,10.72444439,9.934222194,17.96051221,17.96051221,6.565564974,-29.35545945\n315,9.934222194,14.67555561,17.96051221,17.96051221,2.235085954,-33.68593847\n315,7.662333418,16.15722219,17.96051221,17.96051221,6.565564974,-29.35545945\n225,19.31811122,10.82322219,17.96051221,17.96051221,2.235085954,-33.68593847\n225,21.98511122,12.7,17.96051221,17.96051221,7.124336526,-28.7966879\n225,21.68877781,8.452555612,17.96051221,17.96051221,2.235085954,-33.68593847\n225,25.146,12.7,17.96051221,17.96051221,9.35942248,-26.56160194\n225,19.31811122,18.52788878,17.96051221,17.96051221,2.235085954,-33.68593847\n225,21.68877781,16.15722219,17.96051221,17.96051221,2.235085954,-33.68593847\n90,25.146,22.91091405,0,25.4,2.235085954,-23.16491405\n0,22.91091405,22.35214249,0,25.4,2.235085954,-23.16491405\n0,21.33046966,22.91091405,0,25.4,3.815530342,-21.58446966\n0,20.40466658,25.146,0,25.4,4.741333418,-20.65866658\n90,22.91091405,21.33046966,0,25.4,1.021672836,-24.37832716\n90,25.146,20.40466658,0,25.4,1.947475912,-23.45252409\n180,2.489085954,25.146,0,25.4,2.235085954,-23.16491405\n90,3.047857506,22.91091405,0,25.4,2.235085954,-23.16491405\n90,2.489085954,21.33046966,0,25.4,3.815530342,-21.58446966\n90,0.254,20.40466658,0,25.4,4.741333418,-20.65866658\n180,4.069530342,22.91091405,0,25.4,1.021672836,-24.37832716\n180,4.995333418,25.146,0,25.4,1.947475912,-23.45252409\n270,0.254,2.489085954,0,25.4,2.235085954,-23.16491405\n180,2.489085954,3.047857506,0,25.4,2.235085954,-23.16491405\n180,4.069530342,2.489085954,0,25.4,3.815530342,-21.58446966\n180,4.995333418,0.254,0,25.4,4.741333418,-20.65866658\n270,2.489085954,4.069530342,0,25.4,1.021672836,-24.37832716\n270,0.254,4.995333418,0,25.4,1.947475912,-23.45252409\n45,17.83644439,13.09511122,17.96051221,17.96051221,10.3372727,-25.58375198\n45,13.09511122,7.563555612,17.96051221,17.96051221,2.235085954,-33.68593847\n45,10.82322219,6.081888776,17.96051221,17.96051221,6.565564974,-29.35545945\n45,4.995333418,0.254,17.96051221,17.96051221,4.889250572,-31.03177385\n45,16.256,14.67555561,17.96051221,17.96051221,9.41146962,-26.5095548\n45,10.72444439,9.934222194,17.96051221,17.96051221,2.235085954,-33.68593847\n45,9.242777806,7.662333418,17.96051221,17.96051221,6.565564974,-29.35545945\n45,4.069530342,2.489085954,17.96051221,17.96051221,3.96344775,-31.95757693\n45,16.94744439,21.68877781,17.96051221,17.96051221,4.889250572,-31.03177385\n45,10.72444439,16.256,17.96051221,17.96051221,2.235085954,-33.68593847\n45,3.711222194,9.242777806,17.96051221,17.96051221,2.235085954,-33.68593847\n45,9.934222194,14.67555561,17.96051221,17.96051221,6.565564974,-29.35545945\n45,0.254,4.995333418,17.96051221,17.96051221,10.3372727,-25.58375198\n45,18.52788878,20.10833342,17.96051221,17.96051221,3.96344775,-31.95757693\n45,6.081888776,6.872111224,17.96051221,17.96051221,2.235085954,-33.68593847\n45,13.09511122,13.88533342,17.96051221,17.96051221,2.235085954,-33.68593847\n45,11.51466658,13.09511122,17.96051221,17.96051221,6.565564974,-29.35545945\n45,2.489085954,4.069530342,17.96051221,17.96051221,9.41146962,-26.5095548\n0,22.91091405,0.254,0,25.4,2.235085954,-23.16491405\n135,17.83644439,13.09511122,17.96051221,17.96051221,2.235085954,-33.68593847\n135,10.82322219,20.10833342,17.96051221,17.96051221,2.235085954,-33.68593847\n135,12.30488878,17.83644439,17.96051221,17.96051221,10.3372727,-25.58375198\n135,19.31811122,10.82322219,17.96051221,17.96051221,6.565564974,-29.35545945\n135,25.146,4.995333418,17.96051221,17.96051221,4.889250572,-31.03177385\n135,8.452555612,17.73766658,17.96051221,17.96051221,2.235085954,-33.68593847\n135,10.72444439,16.256,17.96051221,17.96051221,9.41146962,-26.5095548\n135,15.46577781,10.72444439,17.96051221,17.96051221,2.235085954,-33.68593847\n135,17.73766658,9.242777806,17.96051221,17.96051221,6.565564974,-29.35545945\n135,22.91091405,4.069530342,17.96051221,17.96051221,3.96344775,-31.95757693\n135,16.15722219,3.711222194,17.96051221,17.96051221,2.235085954,-33.68593847\n135,3.711222194,16.94744439,17.96051221,17.96051221,4.889250572,-31.03177385\n135,20.40466658,0.254,17.96051221,17.96051221,10.3372727,-25.58375198\n135,18.52788878,6.081888776,17.96051221,17.96051221,2.235085954,-33.68593847\n135,5.291666582,18.52788878,17.96051221,17.96051221,3.96344775,-31.95757693\n135,21.33046966,2.489085954,17.96051221,17.96051221,9.41146962,-26.5095548\n270,22.35214249,2.489085954,0,25.4,2.235085954,-23.16491405\n270,22.91091405,4.069530342,0,25.4,3.815530342,-21.58446966\n270,25.146,4.995333418,0,25.4,4.741333418,-20.65866658\n0,21.33046966,2.489085954,0,25.4,1.021672836,-24.37832716\n0,20.40466658,0.254,0,25.4,1.947475912,-23.45252409\n135,25.146,12.7,17.96051221,17.96051221,4.889250572,-31.03177385\n45,12.7,0.254,17.96051221,17.96051221,4.889250572,-31.03177385\n315,6.872111224,5.291666582,17.96051221,17.96051221,2.235085954,-33.68593847\n315,6.081888776,6.872111224,17.96051221,17.96051221,9.35942248,-26.56160194\n315,0.254,12.7,17.96051221,17.96051221,4.889250572,-31.03177385\n225,5.291666582,18.52788878,17.96051221,17.96051221,2.235085954,-33.68593847\n225,6.872111224,19.31811122,17.96051221,17.96051221,9.35942248,-26.56160194\n225,12.7,25.146,17.96051221,17.96051221,4.889250572,-31.03177385\n135,18.52788878,20.10833342,17.96051221,17.96051221,2.235085954,-33.68593847\n135,19.31811122,18.52788878,17.96051221,17.96051221,9.35942248,-26.56160194\n135,21.98511122,12.7,17.96051221,17.96051221,2.654164618,-33.26685981\n45,12.7,3.414888776,17.96051221,17.96051221,2.654164618,-33.26685981\n315,9.242777806,7.662333418,17.96051221,17.96051221,2.235085954,-33.68593847\n315,7.662333418,8.452555612,17.96051221,17.96051221,7.124336526,-28.7966879\n315,3.414888776,12.7,17.96051221,17.96051221,2.654164618,-33.26685981\n225,7.662333418,16.15722219,17.96051221,17.96051221,2.235085954,-33.68593847\n225,8.452555612,17.73766658,17.96051221,17.96051221,7.124336526,-28.7966879\n225,12.7,21.98511122,17.96051221,17.96051221,2.654164618,-33.26685981\n135,16.15722219,17.73766658,17.96051221,17.96051221,2.235085954,-33.68593847\n135,17.73766658,16.94744439,17.96051221,17.96051221,7.124336526,-28.7966879\n")),i(N.ParsePatFile("\n*CELTIC-02,CELTIC PATTERN 02\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern,,,,,,\n180,11.1371634,0.392662664,0,25.4,3.125672946,-22.27432705\n270,25.00733734,11.1371634,0,25.4,3.125672946,-22.27432705\n270,0.392662664,17.38850955,0,25.4,3.125672946,-22.27432705\n180,17.38850955,25.00733734,0,25.4,3.125672946,-22.27432705\n90,25.00733734,11.9185817,0,25.4,13.08875564,-12.31124436\n270,25.00733734,7.230072408,0,25.4,6.837409744,-18.56259026\n180,11.1371634,7.230072408,0,25.4,3.125672946,-22.27432705\n180,13.4814183,8.011490454,0,25.4,9.18166439,-16.21833561\n0,8.011490454,11.9185817,0,25.4,3.125672946,-22.27432705\n0,4.29975391,11.1371634,0,25.4,9.18166439,-16.21833561\n270,21.10024609,17.38850955,0,25.4,3.125672946,-22.27432705\n270,21.88166439,21.88166439,0,25.4,9.96308269,-15.43691731\n270,13.4814183,25.00733734,0,25.4,3.125672946,-22.27432705\n270,18.16992759,25.00733734,0,25.4,3.125672946,-22.27432705\n90,17.38850955,18.16992759,0,25.4,6.837409744,-18.56259026\n90,18.16992759,8.011490454,0,25.4,3.125672946,-22.27432705\n90,17.38850955,4.29975391,0,25.4,9.18166439,-16.21833561\n90,14.2628366,18.16992759,0,25.4,6.837409744,-18.56259026\n90,13.4814183,8.011490454,0,25.4,3.125672946,-22.27432705\n90,14.2628366,4.29975391,0,25.4,9.18166439,-16.21833561\n90,7.230072408,14.2628366,0,25.4,3.125672946,-22.27432705\n90,7.230072408,0.392662664,0,25.4,3.125672946,-22.27432705\n90,8.011490454,11.9185817,0,25.4,9.18166439,-16.21833561\n90,8.011490454,0.392662664,0,25.4,6.837409744,-18.56259026\n90,11.9185817,0.392662664,0,25.4,3.125672946,-22.27432705\n90,11.9185817,14.2628366,0,25.4,3.125672946,-22.27432705\n90,11.1371634,11.9185817,0,25.4,9.18166439,-16.21833561\n90,11.1371634,0.392662664,0,25.4,6.837409744,-18.56259026\n180,17.38850955,18.16992759,0,25.4,3.125672946,-22.27432705\n180,3.51833561,18.16992759,0,25.4,3.125672946,-22.27432705\n180,7.230072408,17.38850955,0,25.4,6.837409744,-18.56259026\n180,21.10024609,17.38850955,0,25.4,9.18166439,-16.21833561\n180,3.51833561,13.4814183,0,25.4,3.125672946,-22.27432705\n180,7.230072408,14.2628366,0,25.4,6.837409744,-18.56259026\n180,17.38850955,13.4814183,0,25.4,3.125672946,-22.27432705\n180,21.10024609,14.2628366,0,25.4,9.18166439,-16.21833561\n180,25.00733734,7.230072408,0,25.4,3.125672946,-22.27432705\n180,25.00733734,8.011490454,0,25.4,6.837409744,-18.56259026\n180,25.00733734,11.9185817,0,25.4,3.125672946,-22.27432705\n180,25.00733734,11.1371634,0,25.4,6.837409744,-18.56259026\n180,25.00733734,25.00733734,0,25.4,6.837409744,-18.56259026\n0,11.9185817,0.392662664,0,25.4,13.08875564,-12.31124436\n0,0.392662664,0.392662664,0,25.4,6.837409744,-18.56259026\n270,0.392662664,13.4814183,0,25.4,13.08875564,-12.31124436\n270,0.392662664,25.00733734,0,25.4,6.837409744,-18.56259026\n180,13.4814183,25.00733734,0,25.4,13.08875564,-12.31124436\n180,21.88166439,21.88166439,0,25.4,3.711736544,-21.68826346\n90,21.88166439,3.51833561,0,25.4,3.711736544,-21.68826346\n0,14.2628366,4.29975391,0,25.4,3.125672946,-22.27432705\n0,11.9185817,3.51833561,0,25.4,9.96308269,-15.43691731\n0,3.51833561,3.51833561,0,25.4,3.711736544,-21.68826346\n270,4.29975391,11.1371634,0,25.4,3.125672946,-22.27432705\n270,3.51833561,13.4814183,0,25.4,9.96308269,-15.43691731\n270,3.51833561,21.88166439,0,25.4,3.711736544,-21.68826346\n180,11.1371634,21.10024609,0,25.4,3.125672946,-22.27432705\n180,13.4814183,21.88166439,0,25.4,9.96308269,-15.43691731\n")),i(N.ParsePatFile("\n*CELTIC-03,CELTIC-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n90,6.35,13.97,0,25.4,5.08,-20.32\n90,19.05,6.35,0,25.4,5.08,-20.32\n0,6.35,6.35,0,25.4,12.7,-12.7\n270,6.35,11.43,0,25.4,5.08,-20.32\n90,3.81,3.81,0,25.4,7.62,-17.78\n180,21.59,3.81,0,25.4,17.78,-7.62\n270,21.59,11.43,0,25.4,7.62,-17.78\n270,21.59,21.59,0,25.4,7.62,-17.78\n0,3.81,21.59,0,25.4,17.78,-7.62\n90,3.81,13.97,0,25.4,7.62,-17.78\n270,19.05,19.05,0,25.4,5.08,-20.32\n0,6.35,19.05,0,25.4,12.7,-12.7\n90,13.97,6.35,0,25.4,12.7,-12.7\n90,11.43,6.35,0,25.4,12.7,-12.7\n270,13.97,3.81,0,25.4,7.62,-17.78\n90,11.43,-3.81,0,25.4,7.62,-17.78\n180,11.43,11.43,0,25.4,22.86,-2.54\n0,-11.43,13.97,0,25.4,22.86,-2.54\n")),i(N.ParsePatFile("\n*CELTIC-04,CELTIC-04\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n45,3.81,13.97,17.960512212,17.960512212,12.57235865,-23.348666028\n135,21.59,13.97,17.960512212,17.960512212,12.57235865,-23.348666028\n45,12.7,2.54,17.960512212,17.960512212,12.57235865,-23.348666028\n315,3.81,11.43,17.960512212,17.960512212,12.57235865,-23.348666028\n135,12.7,5.08,17.960512212,17.960512212,8.980256106,-26.940768318\n225,19.05,11.43,17.960512212,17.960512212,8.980256106,-26.940768318\n315,12.7,20.32,17.960512212,17.960512212,8.980256106,-26.940768318\n45,6.35,13.97,17.960512212,17.960512212,8.980256106,-26.940768318\n90,13.97,6.35,0,25.4,12.7,-12.7\n90,11.43,6.35,0,25.4,12.7,-12.7\n270,13.97,3.81,0,25.4,7.62,-17.78\n90,11.43,-3.81,0,25.4,7.62,-17.78\n180,11.43,11.43,0,25.4,22.86,-2.54\n0,-11.43,13.97,0,25.4,22.86,-2.54\n")),i(N.ParsePatFile("\n*CIRCLES-02,CIRCLES-02\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n0,24.3609368,11.9663464,0,25.4,0,-25.4\n0,24.2918742,11.2356138,0,25.4,0,-25.4\n0,24.1770408,10.510647,0,25.4,0,-25.4\n0,24.0169192,9.7943162,0,25.4,0,-25.4\n0,23.8121444,9.0894408,0,25.4,0,-25.4\n0,23.5635038,8.3988402,0,25.4,0,-25.4\n0,23.271988,7.7252068,0,25.4,0,-25.4\n0,22.9387654,7.0711822,0,25.4,0,-25.4\n0,22.5651314,6.439408,0,25.4,0,-25.4\n0,22.1525592,5.8323226,0,25.4,0,-25.4\n0,21.7026744,5.252339,0,25.4,0,-25.4\n0,21.2172804,4.7017432,0,25.4,0,-25.4\n0,20.6982568,4.1827196,0,25.4,0,-25.4\n0,20.147661,3.6973256,0,25.4,0,-25.4\n0,19.5676774,3.2474408,0,25.4,0,-25.4\n0,18.960592,2.8348686,0,25.4,0,-25.4\n0,18.3288178,2.4612346,0,25.4,0,-25.4\n0,17.6747932,2.128012,0,25.4,0,-25.4\n0,17.0011598,1.8364962,0,25.4,0,-25.4\n0,16.3105592,1.5878556,0,25.4,0,-25.4\n0,15.6056838,1.3830808,0,25.4,0,-25.4\n0,14.889353,1.2229592,0,25.4,0,-25.4\n0,14.1643862,1.1081258,0,25.4,0,-25.4\n0,13.4336536,1.0390632,0,25.4,0,-25.4\n0,12.7,1.016,0,25.4,0,-25.4\n0,11.9663464,1.0390632,0,25.4,0,-25.4\n0,11.2356138,1.1081258,0,25.4,0,-25.4\n0,10.510647,1.2229592,0,25.4,0,-25.4\n0,9.7943162,1.3830808,0,25.4,0,-25.4\n0,9.0894408,1.5878556,0,25.4,0,-25.4\n0,8.3988402,1.8364962,0,25.4,0,-25.4\n0,7.7252068,2.128012,0,25.4,0,-25.4\n0,7.0711822,2.4612346,0,25.4,0,-25.4\n0,6.439408,2.8348686,0,25.4,0,-25.4\n0,5.8323226,3.2474408,0,25.4,0,-25.4\n0,5.252339,3.6973256,0,25.4,0,-25.4\n0,4.7017432,4.1827196,0,25.4,0,-25.4\n0,4.1827196,4.7017432,0,25.4,0,-25.4\n0,3.6973256,5.252339,0,25.4,0,-25.4\n0,3.2474408,5.8323226,0,25.4,0,-25.4\n0,2.8348686,6.439408,0,25.4,0,-25.4\n0,2.4612346,7.0711822,0,25.4,0,-25.4\n0,2.128012,7.7252068,0,25.4,0,-25.4\n0,1.8364962,8.3988402,0,25.4,0,-25.4\n0,1.5878556,9.0894408,0,25.4,0,-25.4\n0,1.3830808,9.7943162,0,25.4,0,-25.4\n0,1.2229592,10.510647,0,25.4,0,-25.4\n0,1.1081258,11.2356138,0,25.4,0,-25.4\n0,1.0390632,11.9663464,0,25.4,0,-25.4\n0,1.016,12.7,0,25.4,0,-25.4\n0,1.0390632,13.4336536,0,25.4,0,-25.4\n0,1.1081258,14.1643862,0,25.4,0,-25.4\n0,1.2229592,14.889353,0,25.4,0,-25.4\n0,1.3830808,15.6056838,0,25.4,0,-25.4\n0,1.5878556,16.3105592,0,25.4,0,-25.4\n0,1.8364962,17.0011598,0,25.4,0,-25.4\n0,2.128012,17.6747932,0,25.4,0,-25.4\n0,2.4612346,18.3288178,0,25.4,0,-25.4\n0,2.8348686,18.960592,0,25.4,0,-25.4\n0,3.2474408,19.5676774,0,25.4,0,-25.4\n0,3.6973256,20.147661,0,25.4,0,-25.4\n0,4.1827196,20.6982568,0,25.4,0,-25.4\n0,4.7017432,21.2172804,0,25.4,0,-25.4\n0,5.252339,21.7026744,0,25.4,0,-25.4\n0,5.8323226,22.1525592,0,25.4,0,-25.4\n0,6.439408,22.5651314,0,25.4,0,-25.4\n0,7.0711822,22.9387654,0,25.4,0,-25.4\n0,7.7252068,23.271988,0,25.4,0,-25.4\n0,8.3988402,23.5635038,0,25.4,0,-25.4\n0,9.0894408,23.8121444,0,25.4,0,-25.4\n0,9.7943162,24.0169192,0,25.4,0,-25.4\n0,10.510647,24.1770408,0,25.4,0,-25.4\n0,11.2356138,24.2918742,0,25.4,0,-25.4\n0,11.9663464,24.3609368,0,25.4,0,-25.4\n0,12.7,24.384,0,25.4,0,-25.4\n0,13.4336536,24.3609368,0,25.4,0,-25.4\n0,14.1643862,24.2918742,0,25.4,0,-25.4\n0,14.889353,24.1770408,0,25.4,0,-25.4\n0,15.6056838,24.0169192,0,25.4,0,-25.4\n0,16.3105592,23.8121444,0,25.4,0,-25.4\n0,17.0011598,23.5635038,0,25.4,0,-25.4\n0,17.6747932,23.271988,0,25.4,0,-25.4\n0,18.3288178,22.9387654,0,25.4,0,-25.4\n0,18.960592,22.5651314,0,25.4,0,-25.4\n0,19.5676774,22.1525592,0,25.4,0,-25.4\n0,20.147661,21.7026744,0,25.4,0,-25.4\n0,20.6982568,21.2172804,0,25.4,0,-25.4\n0,21.2172804,20.6982568,0,25.4,0,-25.4\n0,21.7026744,20.147661,0,25.4,0,-25.4\n0,22.1525592,19.5676774,0,25.4,0,-25.4\n0,22.5651314,18.960592,0,25.4,0,-25.4\n0,22.9387654,18.3288178,0,25.4,0,-25.4\n0,23.271988,17.6747932,0,25.4,0,-25.4\n0,23.5635038,17.0011598,0,25.4,0,-25.4\n0,23.8121444,16.3105592,0,25.4,0,-25.4\n0,24.0169192,15.6056838,0,25.4,0,-25.4\n0,24.1770408,14.889353,0,25.4,0,-25.4\n0,24.2918742,14.1643862,0,25.4,0,-25.4\n0,24.3609368,13.4336536,0,25.4,0,-25.4\n0,24.384,12.7,0,25.4,0,-25.4\n")),i(N.ParsePatFile("\n*CIRCLES,CIRCLES\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n0,23.7384082,10.9516926,0,25.4,0,-25.4\n0,23.329011,9.2464382,0,25.4,0,-25.4\n0,22.6578922,7.6261976,0,25.4,0,-25.4\n0,21.7415618,6.1308996,0,25.4,0,-25.4\n0,20.6026258,4.7973742,0,25.4,0,-25.4\n0,19.2691004,3.6584382,0,25.4,0,-25.4\n0,17.7738024,2.7421078,0,25.4,0,-25.4\n0,16.1535618,2.070989,0,25.4,0,-25.4\n0,14.4483074,1.6615918,0,25.4,0,-25.4\n0,12.7,1.524,0,25.4,0,-25.4\n0,10.9516926,1.6615918,0,25.4,0,-25.4\n0,9.2464382,2.070989,0,25.4,0,-25.4\n0,7.6261976,2.7421078,0,25.4,0,-25.4\n0,6.1308996,3.6584382,0,25.4,0,-25.4\n0,4.7973742,4.7973742,0,25.4,0,-25.4\n0,3.6584382,6.1308996,0,25.4,0,-25.4\n0,2.7421078,7.6261976,0,25.4,0,-25.4\n0,2.070989,9.2464382,0,25.4,0,-25.4\n0,1.6615918,10.9516926,0,25.4,0,-25.4\n0,1.524,12.7,0,25.4,0,-25.4\n0,1.6615918,14.4483074,0,25.4,0,-25.4\n0,2.070989,16.1535618,0,25.4,0,-25.4\n0,2.7421078,17.7738024,0,25.4,0,-25.4\n0,3.6584382,19.2691004,0,25.4,0,-25.4\n0,4.7973742,20.6026258,0,25.4,0,-25.4\n0,6.1308996,21.7415618,0,25.4,0,-25.4\n0,7.6261976,22.6578922,0,25.4,0,-25.4\n0,9.2464382,23.329011,0,25.4,0,-25.4\n0,10.9516926,23.7384082,0,25.4,0,-25.4\n0,12.7,23.876,0,25.4,0,-25.4\n0,14.4483074,23.7384082,0,25.4,0,-25.4\n0,16.1535618,23.329011,0,25.4,0,-25.4\n0,17.7738024,22.6578922,0,25.4,0,-25.4\n0,19.2691004,21.7415618,0,25.4,0,-25.4\n0,20.6026258,20.6026258,0,25.4,0,-25.4\n0,21.7415618,19.2691004,0,25.4,0,-25.4\n0,22.6578922,17.7738024,0,25.4,0,-25.4\n0,23.329011,16.1535618,0,25.4,0,-25.4\n0,23.7384082,14.4483074,0,25.4,0,-25.4\n0,23.876,12.7,0,25.4,0,-25.4\n")),i(N.ParsePatFile("\n*CLAY,CLAY\n0, 0,0, 0,4.7625\n0, 0,.79375, 0,4.7625\n0, 0,1.5875, 0,4.7625\n0, 0,3.175, 0,4.7625, 4.7625,-3.175\n")),i(N.ParsePatFile("\n*CORK,CORK\n0, 0,0, 0,3.175\n135, 1.5875,-1.5875, 0,8.98026, 4.49013,-4.49013\n135, 2.38125,-1.5875, 0,8.98026, 4.49013,-4.49013\n135, 3.175,-1.5875, 0,8.98026, 4.49013,-4.49013\n")),i(N.ParsePatFile("\n*CROSS,CROSS\n0, 0,0, 6.35,6.35, 3.175,-9.525\n90, 1.5875,-1.5875, 6.35,6.35, 3.175,-9.525\n")),i(N.ParsePatFile("\n*DASH,DASH\n0, 0,0, 3.175,3.175, 3.175,-3.175\n")),i(N.ParsePatFile("\n*DOLMIT,DOLMIT\n0, 0,0, 0,6.35\n45, 0,0, 0,17.9605, 8.98026,-17.9605\n")),i(N.ParsePatFile("\n*DOTS,DOTS\n0, 0,0, .79375,1.5875, 0,-1.5875\n")),i(N.ParsePatFile("\n*EARTH,EARTH\n0, 0,0, 6.35,6.35, 6.35,-6.35\n0, 0,2.38125, 6.35,6.35, 6.35,-6.35\n0, 0,4.7625, 6.35,6.35, 6.35,-6.35\n90, .79375,5.55625, 6.35,6.35, 6.35,-6.35\n90, 3.175,5.55625, 6.35,6.35, 6.35,-6.35\n90, 5.55625,5.55625, 6.35,6.35, 6.35,-6.35\n")),i(N.ParsePatFile("\n*ESCHER,ESCHER\n60, 0,0, -15.24,26.3965, 27.94,-2.54\n180, 0,0, -15.24,26.3965, 27.94,-2.54\n300, 0,0, 15.24,26.3965, 27.94,-2.54\n60, 2.54,0, -15.24,26.3965, 5.08,-25.4\n300, 2.54,0, 15.24,26.3965, 5.08,-25.4\n60, -1.27,2.1997, -15.24,26.3965, 5.08,-25.4\n180, -1.27,2.1997, -15.24,26.3965, 5.08,-25.4\n300, -1.27,-2.1997, 15.24,26.3965, 5.08,-25.4\n180, -1.27,-2.1997, -15.24,26.3965, 5.08,-25.4\n60, -10.16,0, -15.24,26.3965, 5.08,-25.4\n300, -10.16,0, 15.24,26.3965, 5.08,-25.4\n60, 5.08,-8.79882, -15.24,26.3965, 5.08,-25.4\n180, 5.08,-8.79882, -15.24,26.3965, 5.08,-25.4\n300, 5.08,8.79882, 15.24,26.3965, 5.08,-25.4\n180, 5.08,8.79882, -15.24,26.3965, 5.08,-25.4\n0, 5.08,4.39941, -15.24,26.3965, 17.78,-12.7\n0, 5.08,-4.39941, -15.24,26.3965, 17.78,-12.7\n120, 1.27,6.59911, 15.24,26.3965, 17.78,-12.7\n120, -6.35,2.1997, 15.24,26.3965, 17.78,-12.7\n240, -6.35,-2.1997, 15.24,26.3965, 17.78,-12.7\n240, 1.27,-6.59911, 15.24,26.3965, 17.78,-12.7\n")),i(N.ParsePatFile("\n*EXPLOSION,EXPLOSION\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n270,11.43,2.794,0,25.4,2.794,-22.606\n143.130102,12.446,2.032,91.44,5.08,1.27,-125.73\n270,12.446,4.318,0,25.4,2.286,-23.114\n112.380135,14.224,0,330.1971097,1.381577882,4.669733104,-462.3035852\n75.256437,12.954,20.574,104.7189028,1.292825964,4.990308282,-494.0405126\n287.525568,11.43,25.4,80.31173574,1.274789424,5.060914186,-501.0305006\n135,1.524,12.446,17.96051221,17.96051221,2.155261374,-33.76576305\n26.565051,0,11.684,34.07767607,11.35922544,1.703883816,-55.09224288\n353.884496,18.288,12.446,485.2654803,0.901980416,7.152705024,-708.1177892\n192.094757,25.4,13.97,234.1697095,1.774012962,7.273453068,-356.3992019\n3.691386,17.526,9.652,381.8448525,0.817654956,7.890370046,-781.1466379\n136.080924,24.384,3.048,916.1619403,0.677634662,9.52076582,-942.5558068\n336.037511,22.098,4.064,193.4234445,2.578979348,2.501609932,-247.6593782\n123.690068,24.638,0.254,35.22346245,7.04469254,4.579050024,-87.00195223\n324.462322,15.748,6.604,91.53339072,2.952690056,10.924953,-207.5741086\n117.645975,18.542,1.27,545.3600756,1.07143423,6.021460906,-596.1246343\n326.309932,13.97,4.318,56.35753981,7.04469254,5.494860232,-86.08614228\n106.38954,15.24,0,265.1799113,1.433404804,4.50089143,-445.5882554\n153.434949,3.048,8.636,22.71845063,11.35922544,3.407767632,-53.38835906\n64.798876,1.016,4.318,420.4426387,1.351905602,4.772226676,-472.4504468\n202.619865,4.064,5.588,193.4307693,1.953846232,3.302,-326.898\n59.036243,2.54,3.048,56.62883289,4.356064186,2.962123616,-145.1440546\n211.75948,7.874,6.35,239.620914,1.028416028,6.273337212,-621.0603858\n79.215702,6.858,1.016,413.4803361,1.188161962,5.429899732,-537.5600816\n212.471192,9.652,2.794,91.56028043,1.9480911,3.31175487,-327.8637273\n63.434949,8.89,1.27,22.71845063,11.35922544,1.703883816,-55.09224288\n135,10.16,0,17.96051221,17.96051221,1.796051272,-34.12497315\n74.357754,8.382,19.05,474.5101503,0.978371424,6.59422354,-652.8281297\n333.434949,0.762,22.86,22.71845063,11.35922544,8.51941908,-48.27670761\n110.556045,4.572,12.7,136.7508764,2.97284521,10.85088483,-206.1668104\n330.945396,0,15.24,56.74251999,2.467066186,5.23018004,-256.2788255\n99.462322,16.002,20.828,129.4477627,4.175734346,4.635065152,-149.8671031\n222.70939,19.304,23.876,35.89232217,1.435692836,4.493718724,-444.8781539\n74.744881,18.542,21.082,104.7031863,2.22772732,2.896045516,-286.7085124\n208.61046,24.13,24.13,261.5011486,2.027140726,6.365221712,-311.8958659\n62.744672,19.812,15.748,56.79200478,0.684240948,9.428841188,-933.4552873\n212.275644,24.638,18.796,331.1735533,1.130285268,5.70794007,-565.0860682\n55.00798,22.86,16.256,91.55735943,2.080849026,3.100465224,-306.9460475\n158.198591,25.4,15.24,80.18324705,4.716661636,2.73566382,-134.0475224\n51.911227,14.986,12.954,741.8363621,0.540303212,11.9407018,-1182.12948\n153.434949,16.51,12.192,22.71845063,11.35922544,1.703883816,-55.09224288\n35.537678,14.732,10.922,126.9656711,2.952690056,2.18499055,-216.3140711\n129.289407,19.304,5.334,198.3722919,1.78713765,7.220036614,-353.7817918\n322.30576,13.716,9.652,416.5899728,0.9135745,7.061931012,-699.1311588\n77.905243,12.954,6.096,129.5029455,1.774012962,3.636726534,-360.0359284\n282.994617,12.192,9.398,104.709577,1.903810518,3.388782656,-335.4894845\n62.525568,8.89,3.048,56.78897304,0.901412218,7.157213524,-708.564129\n267.137595,9.144,8.128,25.36830944,1.268415548,5.086345936,-503.5482576\n12.994617,2.54,6.604,104.709577,1.903810518,6.777565312,-332.1007018\n211.75948,7.874,9.906,239.620914,1.028416028,6.273337212,-621.0603858\n318.366461,5.588,11.938,269.9974641,2.109355192,3.05856513,-302.7979372\n189.462322,7.112,12.192,129.4477627,4.175734346,1.545021802,-152.9571465\n297.299572,3.048,20.066,829.3009284,0.728095572,8.860923858,-877.231464\n132.273689,8.128,14.478,35.8803669,1.708588912,7.551962798,-370.0461832\n282.994617,7.366,17.78,104.709577,1.903810518,3.388782656,-335.4894845\n140.194429,10.414,15.24,162.6068376,3.252136752,3.967606746,-194.4127349\n268.363423,10.668,24.13,25.38963909,0.725418158,8.893627882,-880.4691552\n102.200469,12.7,14.732,597.8446202,0.67098164,9.615166444,-951.9014896\n250.016893,14.732,20.32,80.29253258,2.170068558,5.9459876,-291.3533901\n84.559668,14.224,14.986,280.549586,1.20407557,5.358135842,-530.4554512\n222.184443,22.352,22.352,377.597688,0.588158336,10.96915408,-1085.946248\n")),i(N.ParsePatFile("\n*FLEX,FLEX\n0, 0,0, 0,6.35, 6.35,-6.35\n45, 6.35,0, 4.49013,4.49013, 1.5875,-5.80526,1.5875,-8.98026\n")),i(N.ParsePatFile("\n*GRASS,GRASS\n90, 0,0, 17.9605,17.9605, 4.7625,-31.1585\n45, 0,0, 0,25.4, 4.7625,-20.6375\n135, 0,0, 0,25.4, 4.7625,-20.6375\n")),i(N.ParsePatFile("\n*GRATE,GRATE\n0, 0,0, 0,.79375\n90, 0,0, 0,3.175\n")),i(N.ParsePatFile("\n*GRAVEL-01,GRAVEL-01\n;Optimize to replace existing GRAVEL Pattern\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n159.443955,4.064,3.302,80.266818638,2.97284521,4.340353778,-212.677341218\n114.775141,5.588,0,56.76841453,1.774012962,3.636726534,-360.03592839\n249.443955,8.128,2.032,80.266818638,2.97284521,2.170177016,-214.847518234\n186.009006,12.954,2.54,230.002940044,1.329496706,4.852663142,-480.413655376\n165.963757,18.034,1.27,24.6416195,6.160405002,5.236344112,-99.490538636\n101.309932,18.288,0,104.608346536,4.981349956,1.29515108,-128.219944728\n243.434949,21.336,3.556,22.718450626,11.35922544,3.975728904,-52.820397788\n355.426079,12.446,3.302,331.173933536,1.012764294,6.370287488,-630.658471472\n300.256437,10.668,6.35,148.094892532,1.828332132,3.528680776,-349.33939657\n228.012788,15.24,11.43,305.850675318,1.887967014,6.834440992,-334.887609878\n180,21.844,11.43,0,25.4,6.604,-18.796\n303.690068,15.748,15.748,35.223462446,7.04469254,3.66324007,-87.917762188\n225,18.288,18.288,17.960512212,17.960512212,3.592102544,-32.328922134\n110.224859,2.032,5.842,217.014069654,1.254416592,5.143108078,-509.167692864\n177.273689,7.366,5.588,25.371250756,1.20815481,5.340044184,-528.664375232\n217.69424,12.954,9.906,289.603117008,0.9135745,7.061931012,-699.131158758\n252.255328,14.986,16.256,586.403737782,0.967663038,6.667197486,-660.05256356\n301.429566,12.192,20.828,387.712303314,1.20407557,5.358135842,-530.455451152\n355.236358,6.096,21.336,25.312262304,2.109355192,6.117130006,-299.739372326\n43.66778,0.508,16.002,35.911314766,0.83514692,7.725108502,-764.785732808\n87.273689,0.254,10.668,25.371250756,1.20815481,5.340044184,-528.664375232\n30.963757,15.748,18.034,91.477345366,4.356064186,4.443185424,-143.662992836\n291.801409,14.732,20.574,56.599939124,4.716661636,2.73566382,-134.047522354\n203.198591,16.51,21.336,56.698117744,3.335183322,1.934406342,-191.506230398\n161.565051,19.558,20.32,24.09655582,8.032185358,3.212874194,-77.10897837\n4.969741,10.16,22.352,280.550012686,1.100196174,5.864045422,-580.540490682\n16.38954,0,20.574,265.179911346,1.433404804,4.50089143,-445.58825538\n197.354025,25.4,4.826,80.307559222,1.515237,4.25781597,-421.523771378\n74.054604,24.13,5.588,104.668749768,3.488958224,3.69829588,-181.216495326\n27.645975,18.796,2.794,545.360075648,1.07143423,6.021460906,-596.124634266\n145.304846,25.146,9.144,91.566911862,1.60643697,4.016092552,-397.593170268\n353.157227,17.78,12.7,434.77679618,1.008762778,6.395556678,-633.160101724\n171.469234,23.368,17.526,179.600730968,1.255949228,5.136831992,-508.546377622\n138.814075,25.4,15.748,234.164238554,2.389431086,2.700057084,-267.30564649\n90,25.4,14.224,0,25.4,1.524,-23.876\n60.945396,24.13,11.938,56.742519992,2.467066186,2.61509002,-258.893915536\n343.61046,21.082,21.844,184.909235464,1.433404804,4.50089143,-445.58825538\n293.198591,19.558,25.4,56.698117744,3.335183322,3.868812684,-189.571824056\n48.012788,16.002,22.86,305.850675318,1.887967014,3.417220496,-338.304830374\n312.510447,7.366,25.4,35.887120758,1.560309554,4.134820534,-409.347222706\n70.346176,4.318,21.844,80.303678102,1.708588912,3.775981526,-373.822164724\n")),i(N.ParsePatFile("\n*GRAVEL,GRAVEL\n228.0128, 18.288,25.4, 305.851,1.88796, 3.41721,-338.305\n184.9697, 16.002,22.86, -305.855,1.1002, 5.86405,-580.54\n132.5104, 10.16,22.352, -377.595,1.56032, 4.13482,-409.347\n267.2737, .254,16.002, -508.633,1.20815, 5.34005,-528.664\n292.8337, 0,10.668, -330.198,1.23208, 5.23634,-518.398\n357.2737, 2.032,5.842, -508.633,1.20815, 5.34005,-528.664\n37.6942, 7.366,5.588, -416.59,.913587, 7.06194,-699.131\n72.2553, 12.954,9.906, 586.404,.967664, 6.6672,-660.053\n121.4296, 14.986,16.256, 387.712,1.20409, 5.35813,-530.455\n175.2364, 12.192,20.828, -280.544,2.10934, 6.11713,-299.739\n222.3974, 6.096,21.336, 413.481,.815543, 7.91078,-783.168\n138.8141, 25.4,15.748, 234.164,2.38943, 2.70005,-267.306\n171.4692, 23.368,17.526, -334.082,1.25595, 5.13682,-508.546\n225, 18.288,18.288, 17.9605,17.9605, 3.59209,-32.3289\n203.1986, 16.51,21.336, -136.743,3.33517, 1.93441,-191.506\n291.8014, 14.732,20.574, -80.1833,4.71665, 2.73566,-134.048\n30.9638, 15.748,18.034, 91.4773,4.35607, 4.4432,-143.663\n161.5651, 19.558,20.32, -56.2253,8.03219, 3.21287,-77.109\n16.3895, 0,20.574, 265.18,1.4334, 4.50088,-445.588\n70.3462, 4.318,21.844, -297.294,1.70858, 3.77599,-373.822\n293.1986, 19.558,25.4, -136.743,3.33517, 3.8688,-189.572\n343.6105, 21.082,21.844, -265.18,1.4334, 4.50088,-445.588\n339.444, 0,4.826, -136.751,2.97284, 4.34035,-212.677\n294.7751, 4.064,3.302, -306.904,1.77401, 3.63672,-360.036\n66.8014, 19.812,0, 136.743,3.33517, 3.8688,-189.572\n17.354, 21.336,3.556, -345.474,1.51524, 4.25783,-421.524\n69.444, 7.366,0, -136.751,2.97284, 2.17018,-214.848\n101.3099, 18.288,0, 104.608,4.98135, 1.29515,-128.22\n165.9638, 18.034,1.27, -80.0853,6.16041, 5.23634,-99.4905\n186.009, 12.954,2.54, -255.263,1.32949, 4.85267,-480.414\n303.6901, 15.748,15.748, -56.3575,7.04469, 3.66324,-87.9178\n353.1572, 17.78,12.7, 434.777,1.00876, 6.39557,-633.16\n60.9454, 24.13,11.938, -204.766,2.46708, 2.61508,-258.894\n90, 25.4,14.224, 25.4,25.4, 1.524,-23.876\n120.2564, 12.446,3.302, -204.773,1.82834, 3.52867,-349.339\n48.0128, 10.668,6.35, 305.851,1.88796, 6.83443,-334.888\n0, 15.24,11.43, 25.4,25.4, 6.604,-18.796\n325.3048, 21.844,11.43, -310.042,1.60645, 4.0161,-397.593\n254.0546, 25.146,9.144, 104.669,3.48897, 3.69829,-181.217\n207.646, 24.13,5.588, 545.36,1.07142, 6.02145,-596.125\n175.4261, 18.796,2.794, 331.174,1.01277, 6.37029,-630.658\n175.4261, 18.796,2.794, 331.174,1.01277, 6.37029,-630.658\n")),i(N.ParsePatFile("\n*HATCH-DOTS\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n225,14.364914374,2.934914374,17.960512212,17.960512212,11.492295278,-24.428729146\n225,6.359242552,5.089242552,17.960512212,17.960512212,16.19060262,-19.730421804\n225,3.281299762,9.631299762,17.960512212,17.960512212,18.261173282,-17.659851142\n225,19.161365538,5.191365538,17.960512212,17.960512212,11.492295278,-24.428729146\n225,7.864421914,4.054421914,17.960512212,17.960512212,16.85579052,-19.065234158\n225,2.841461932,11.731461932,17.960512212,17.960512212,20.609227006,-15.311797418\n225,9.631299762,3.281299762,17.960512212,17.960512212,18.261173282,-17.659851142\n225,2.934914374,14.364914374,17.960512212,17.960512212,11.492295278,-24.428729146\n225,5.089242552,6.359242552,17.960512212,17.960512212,16.19060262,-19.730421804\n225,11.731462186,2.841462186,17.960512212,17.960512212,20.60922726,-15.311797164\n225,5.191365538,19.161365538,17.960512212,17.960512212,11.492295278,-24.428729146\n225,4.054421914,7.864421914,17.960512212,17.960512212,16.85579052,-19.065234158\n")),i(N.ParsePatFile("\n*HATCH-SQRS\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n225,2.794,9.144,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,21.844,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,6.604,17.960512212,17.960512212,13.290779108,-22.630245316\n225,19.304,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,14.224,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,11.684,17.960512212,17.960512212,7.902625292,-28.018399132\n225,6.604,2.794,17.960512212,17.960512212,13.290779108,-22.630245316\n225,2.794,19.304,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,4.064,17.960512212,17.960512212,9.698676564,-26.22234786\n225,4.064,2.794,17.960512212,17.960512212,9.698676564,-26.22234786\n225,11.684,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,14.224,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,9.144,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,21.844,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,16.764,17.960512212,17.960512212,7.902625292,-28.018399132\n225,16.764,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n")),i(N.ParsePatFile("\n*HEX,HEX\n0, 0,0, 0,5.49926, 3.175,-6.35\n120, 0,0, 0,5.49926, 3.175,-6.35\n60, 3.175,0, 0,5.49926, 3.175,-6.35\n")),i(N.ParsePatFile("\n*HEXAGONS\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n239.931417,5.587999746,25.399999492,204.778078632,1.15693825,5.576441984,-552.067817376\n239.931417,22.606,4.826,204.778078632,1.15693825,5.576441984,-552.067817376\n300.068583,19.812000254,25.399999492,352.866180728,1.15693825,5.576441984,-552.067817376\n60.068488,3.048,12.7,204.780260492,0.667036766,9.672031964,-957.531152498\n119.931512,7.874,4.318,762.42292397,0.667036766,9.67203171,-957.531152498\n300.068583,2.794,4.826,352.866180728,1.15693825,5.576441984,-552.067817376\n180,2.794,4.826,0,25.4,5.587998984,-19.812001016\n299.931512,17.526,21.082,762.42292397,0.667036766,9.67203171,-957.531152498\n0,7.874,21.082,0,25.4,9.652,-15.748\n180,17.526,4.318,0,25.4,9.652,-15.748\n240.068488,22.352,12.7,204.780260492,0.667036766,9.672031964,-957.531152498\n180,2.794,20.574,0,25.4,5.587998984,-19.812001016\n")),i(N.ParsePatFile("\n*HEXJOIN-01\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n45,3.81,16.51,17.960512212,17.960512212,7.184204834,-28.73681959\n270,21.59,16.51,25.4,25.4,7.62,-17.78\n315,16.51,21.59,17.960512212,17.960512212,7.184204834,-28.73681959\n180,16.51,3.81,0,25.4,7.62,-17.78\n270,13.97,3.81,25.4,25.4,7.62,-17.78\n90,3.81,8.89,25.4,25.4,7.62,-17.78\n135,8.89,3.81,17.960512212,17.960512212,7.184204834,-28.73681959\n180,3.81,13.97,0,25.4,7.62,-17.78\n270,11.43,3.81,25.4,25.4,7.62,-17.78\n180,3.81,11.43,0,25.4,7.62,-17.78\n225,21.59,8.89,17.960512212,17.960512212,7.184204834,-28.73681959\n0,8.89,21.59,0,25.4,7.62,-17.78\n")),i(N.ParsePatFile("\n*HEXJOIN-02\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,21.59,11.43,25.4,25.4,2.54,-22.86\n315,16.51,21.59,17.960512212,17.960512212,7.184204834,-28.73681959\n270,13.97,3.81,25.4,25.4,7.62,-17.78\n180,3.81,13.97,0,25.4,7.62,-17.78\n180,16.51,3.81,0,25.4,2.54,-22.86\n45,3.81,16.51,17.960512212,17.960512212,7.184204834,-28.73681959\n90,3.81,13.97,25.4,25.4,2.54,-22.86\n180,3.81,11.43,0,25.4,7.62,-17.78\n180,11.43,3.81,0,25.4,2.54,-22.86\n270,11.43,3.81,25.4,25.4,7.62,-17.78\n90,3.81,8.89,25.4,25.4,2.54,-22.86\n0,13.97,21.59,0,25.4,2.54,-22.86\n135,8.89,3.81,17.960512212,17.960512212,7.184204834,-28.73681959\n0,8.89,21.59,0,25.4,2.54,-22.86\n225,21.59,8.89,17.960512212,17.960512212,7.184204834,-28.73681959\n270,21.59,16.51,25.4,25.4,2.54,-22.86\n")),i(N.ParsePatFile("\n*HOLLY,HOLLY\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n99.462322,20.32,2.794,129.4477627,4.175734346,1.545021802,-152.9571465\n74.744881,17.018,2.032,104.7031863,2.22772732,2.896045516,-286.7085124\n68.198591,13.462,3.81,80.18324705,4.716661636,2.73566382,-134.0475224\n270,14.732,9.398,0,25.4,1.778,-23.622\n248.198591,19.05,8.89,80.18324705,4.716661636,2.73566382,-134.0475224\n45,20.32,5.08,17.96051221,17.96051221,2.155261374,-33.76576305\n351.869898,22.86,3.302,25.14471705,3.592102544,1.796051272,-177.8090711\n0,21.844,3.302,0,25.4,1.016,-24.384\n26.565051,20.828,2.794,34.07767607,11.35922544,1.135922544,-55.66020415\n45,20.32,2.286,17.96051221,17.96051221,0.718420458,-35.20260397\n341.565051,19.558,2.54,24.09655582,8.032185358,0.803218612,-79.51863395\n0,18.542,2.54,0,25.4,1.016,-24.384\n26.565051,18.034,2.286,34.07767607,11.35922544,0.567961272,-56.22816542\n26.565051,17.526,2.032,34.07767607,11.35922544,0.567961272,-56.22816542\n53.130102,16.764,1.016,91.44,5.08,1.27,-125.73\n270,16.764,2.032,0,25.4,1.016,-24.384\n303.690068,16.256,2.794,35.22346245,7.04469254,0.915809954,-90.6651923\n315,15.748,3.302,17.96051221,17.96051221,0.718420458,-35.20260397\n345.963757,14.732,3.556,24.6416195,6.160405002,1.047268924,-103.6796141\n0,13.716,3.556,0,25.4,1.016,-24.384\n33.690068,12.954,3.048,35.22346245,7.04469254,0.915809954,-90.6651923\n255.963757,13.208,4.064,24.6416195,6.160405002,1.047268924,-103.6796141\n281.309932,12.954,5.334,104.6083465,4.981349956,1.29515108,-128.2199447\n284.036243,12.7,6.35,80.0852635,6.160405002,1.047268924,-103.6796141\n296.565051,12.192,7.366,34.07767607,11.35922544,1.135922544,-55.66020415\n303.690068,11.684,8.128,35.22346245,7.04469254,0.915809954,-90.6651923\n180,12.7,8.128,0,25.4,1.016,-24.384\n180,13.462,8.128,0,25.4,0.762,-24.638\n213.690068,14.224,8.636,35.22346245,7.04469254,0.915809954,-90.6651923\n243.434949,14.478,9.144,22.71845063,11.35922544,0.567961272,-56.22816542\n251.565051,14.732,9.906,24.09655582,8.032185358,0.803218612,-79.51863395\n108.434949,14.986,9.144,56.22529674,8.032185358,0.803218612,-79.51863395\n135,15.494,8.636,17.96051221,17.96051221,0.718420458,-35.20260397\n153.434949,16.002,8.382,22.71845063,11.35922544,0.567961272,-56.22816542\n161.565051,16.764,8.128,24.09655582,8.032185358,0.803218612,-79.51863395\n180,17.526,8.128,0,25.4,0.762,-24.638\n198.434949,18.288,8.382,56.22529674,8.032185358,0.803218612,-79.51863395\n225,18.796,8.89,17.96051221,17.96051221,0.718420458,-35.20260397\n251.565051,19.05,9.652,24.09655582,8.032185358,0.803218612,-79.51863395\n108.434949,19.304,8.89,56.22529674,8.032185358,0.803218612,-79.51863395\n116.565051,19.812,7.874,34.07767607,11.35922544,1.135922544,-55.66020415\n135,20.574,7.112,17.96051221,17.96051221,1.077630814,-34.84339386\n161.565051,21.336,6.858,24.09655582,8.032185358,0.803218612,-79.51863395\n180,22.098,6.858,0,25.4,0.762,-24.638\n90,22.098,6.096,0,25.4,0.762,-24.638\n111.801409,22.606,4.826,56.59993912,4.716661636,1.36783191,-135.4153543\n126.869898,23.368,3.81,35.56,5.08,1.27,-125.73\n149.036243,24.638,3.048,56.62883289,4.356064186,1.481061808,-146.6251165\n338.587031,11.684,8.128,627.3335515,0.463661252,13.91447154,-1377.532674\n338.198591,20.32,17.526,80.18324705,4.716661636,1.36783191,-135.4153543\n323.972627,18.034,15.748,218.4910814,1.867445084,3.454773634,-342.0225773\n315,15.24,13.462,17.96051221,17.96051221,2.873681832,-33.04734259\n135,14.732,13.97,17.96051221,17.96051221,1.796051272,-34.12497315\n126.869898,17.272,16.51,35.56,5.08,2.54,-124.46\n105.945396,19.558,18.288,80.24604144,3.488958224,1.84914794,-183.0656433\n30.963757,22.098,20.32,91.47734537,4.356064186,1.481061808,-146.6251165\n14.036243,21.082,20.066,80.0852635,6.160405002,1.047268924,-103.6796141\n0,20.32,20.066,0,25.4,0.762,-24.638\n341.565051,19.558,20.32,24.09655582,8.032185358,0.803218612,-79.51863395\n333.434949,19.05,20.574,22.71845063,11.35922544,0.567961272,-56.22816542\n63.434949,18.796,20.066,22.71845063,11.35922544,0.567961272,-56.22816542\n45,18.288,19.558,17.96051221,17.96051221,0.718420458,-35.20260397\n33.690068,17.526,19.05,35.22346245,7.04469254,0.915809954,-90.6651923\n18.434949,16.764,18.796,56.22529674,8.032185358,0.803218612,-79.51863395\n0,16.002,18.796,0,25.4,0.762,-24.638\n341.565051,15.24,19.05,24.09655582,8.032185358,0.803218612,-79.51863395\n108.434949,15.494,18.288,56.22529674,8.032185358,0.803218612,-79.51863395\n90,15.494,17.526,0,25.4,0.762,-24.638\n75.963757,15.24,16.51,24.6416195,6.160405002,1.047268924,-103.6796141\n45,14.478,15.748,17.96051221,17.96051221,1.077630814,-34.84339386\n14.036243,13.462,15.494,80.0852635,6.160405002,1.047268924,-103.6796141\n0,12.7,15.494,0,25.4,0.762,-24.638\n126.869898,13.462,14.478,35.56,5.08,1.27,-125.73\n90,13.462,13.716,0,25.4,0.762,-24.638\n75.963757,13.208,12.7,24.6416195,6.160405002,1.047268924,-103.6796141\n56.309932,12.7,11.938,56.35753981,7.04469254,0.915809954,-90.6651923\n191.309932,13.97,12.192,104.6083465,4.981349956,1.29515108,-128.2199447\n168.690068,15.24,11.938,24.90674927,4.981349956,1.29515108,-128.2199447\n161.565051,16.764,11.43,24.09655582,8.032185358,1.60643697,-78.71541559\n143.130102,17.78,10.668,91.44,5.08,1.27,-125.73\n270,17.78,10.922,0,25.4,0.254,-25.146\n270,17.78,11.684,0,25.4,0.762,-24.638\n243.434949,18.288,12.7,22.71845063,11.35922544,1.135922544,-55.66020415\n213.690068,19.05,13.208,35.22346245,7.04469254,0.915809954,-90.6651923\n198.434949,19.812,13.462,56.22529674,8.032185358,0.803218612,-79.51863395\n180,20.828,13.462,0,25.4,1.016,-24.384\n146.309932,21.59,12.954,56.35753981,7.04469254,0.915809954,-90.6651923\n303.690068,21.082,13.716,35.22346245,7.04469254,0.915809954,-90.6651923\n270,21.082,14.478,0,25.4,0.762,-24.638\n270,21.082,15.494,0,25.4,1.016,-24.384\n243.434949,21.59,16.51,22.71845063,11.35922544,1.135922544,-55.66020415\n225,22.098,17.018,17.96051221,17.96051221,0.718420458,-35.20260397\n296.565051,21.844,17.526,34.07767607,11.35922544,0.567961272,-56.22816542\n270,21.844,18.034,0,25.4,0.508,-24.892\n255.963757,22.098,19.05,24.6416195,6.160405002,1.047268924,-103.6796141\n243.434949,22.606,20.066,22.71845063,11.35922544,1.135922544,-55.66020415\n233.130102,23.368,21.082,91.44,5.08,1.27,-125.73\n40.601295,12.7,11.938,35.81521869,2.755016842,14.05058582,-220.1258435\n195.945396,6.604,13.716,80.24604144,3.488958224,1.84914794,-183.0656433\n5.194429,7.366,13.97,255.2564824,2.29960805,2.805521694,-277.7466482\n19.983107,7.112,17.272,217.0068451,2.170068558,2.9729938,-294.3263839\n185.710593,5.842,17.272,229.9928961,2.527394488,2.552668504,-252.7141722\n164.054604,5.588,20.066,104.6687498,3.488958224,1.84914794,-183.0656433\n45,6.858,20.066,17.96051221,17.96051221,1.436840916,-34.48418351\n90,5.334,23.368,0,25.4,1.016,-24.384\n75.963757,5.08,22.352,24.6416195,6.160405002,1.047268924,-103.6796141\n243.434949,7.874,11.938,22.71845063,11.35922544,1.135922544,-55.66020415\n236.309932,8.382,12.7,56.35753981,7.04469254,0.915809954,-90.6651923\n225,9.144,13.462,17.96051221,17.96051221,1.077630814,-34.84339386\n213.690068,9.906,13.97,35.22346245,7.04469254,0.915809954,-90.6651923\n189.462322,11.43,14.224,129.4477627,4.175734346,1.545021802,-152.9571465\n333.434949,10.922,14.478,22.71845063,11.35922544,0.567961272,-56.22816542\n326.309932,10.16,14.986,56.35753981,7.04469254,0.915809954,-90.6651923\n303.690068,9.652,15.748,35.22346245,7.04469254,0.915809954,-90.6651923\n270,9.652,16.764,0,25.4,1.016,-24.384\n251.565051,9.906,17.526,24.09655582,8.032185358,0.803218612,-79.51863395\n236.309932,10.414,18.288,56.35753981,7.04469254,0.915809954,-90.6651923\n213.690068,11.176,18.796,35.22346245,7.04469254,0.915809954,-90.6651923\n0,10.16,18.796,0,25.4,1.016,-24.384\n333.434949,9.144,19.304,22.71845063,11.35922544,1.135922544,-55.66020415\n306.869898,8.382,20.32,35.56,5.08,1.27,-125.73\n284.036243,8.128,21.336,80.0852635,6.160405002,1.047268924,-103.6796141\n341.565051,7.366,21.59,24.09655582,8.032185358,0.803218612,-79.51863395\n326.309932,6.604,22.098,56.35753981,7.04469254,0.915809954,-90.6651923\n303.690068,6.096,22.86,35.22346245,7.04469254,0.915809954,-90.6651923\n296.565051,5.334,24.384,34.07767607,11.35922544,1.703883816,-55.09224288\n56.309932,4.572,21.59,56.35753981,7.04469254,0.915809954,-90.6651923\n45,4.064,21.082,17.96051221,17.96051221,0.718420458,-35.20260397\n33.690068,3.302,20.574,35.22346245,7.04469254,0.915809954,-90.6651923\n116.565051,3.556,20.066,34.07767607,11.35922544,0.567961272,-56.22816542\n108.434949,3.81,19.304,56.22529674,8.032185358,0.803218612,-79.51863395\n90,3.81,18.288,0,25.4,1.016,-24.384\n63.434949,3.302,17.272,22.71845063,11.35922544,1.135922544,-55.66020415\n33.690068,2.54,16.764,35.22346245,7.04469254,0.915809954,-90.6651923\n165.963757,3.556,16.51,24.6416195,6.160405002,1.047268924,-103.6796141\n143.130102,4.572,15.748,91.44,5.08,1.27,-125.73\n116.565051,5.08,14.732,34.07767607,11.35922544,1.135922544,-55.66020415\n75.963757,4.826,13.716,24.6416195,6.160405002,1.047268924,-103.6796141\n63.434949,4.318,12.7,22.71845063,11.35922544,1.135922544,-55.66020415\n180,5.334,12.7,0,25.4,1.016,-24.384\n165.963757,6.35,12.446,24.6416195,6.160405002,1.047268924,-103.6796141\n135,6.858,11.938,17.96051221,17.96051221,0.718420458,-35.20260397\n116.565051,7.366,10.922,34.07767607,11.35922544,1.135922544,-55.66020415\n278.583621,5.334,24.384,847.7664863,0.473877386,13.61449474,-1347.834983\n104.036243,7.62,5.08,80.0852635,6.160405002,1.047268924,-103.6796141\n123.690068,8.128,4.318,35.22346245,7.04469254,0.915809954,-90.6651923\n153.434949,9.144,3.81,22.71845063,11.35922544,1.135922544,-55.66020415\n180,9.906,3.81,0,25.4,0.762,-24.638\n206.565051,10.922,4.318,34.07767607,11.35922544,1.135922544,-55.66020415\n236.309932,11.43,5.08,56.35753981,7.04469254,0.915809954,-90.6651923\n255.963757,11.684,6.096,24.6416195,6.160405002,1.047268924,-103.6796141\n288.434949,11.43,6.858,56.22529674,8.032185358,0.803218612,-79.51863395\n303.690068,10.922,7.62,35.22346245,7.04469254,0.915809954,-90.6651923\n333.434949,9.906,8.128,22.71845063,11.35922544,1.135922544,-55.66020415\n0,9.144,8.128,0,25.4,0.762,-24.638\n26.565051,8.128,7.62,34.07767607,11.35922544,1.135922544,-55.66020415\n56.309932,7.62,6.858,56.35753981,7.04469254,0.915809954,-90.6651923\n71.565051,7.366,6.096,24.09655582,8.032185358,0.803218612,-79.51863395\n104.036243,4.064,7.874,80.0852635,6.160405002,1.047268924,-103.6796141\n123.690068,4.572,7.112,35.22346245,7.04469254,0.915809954,-90.6651923\n153.434949,5.588,6.604,22.71845063,11.35922544,1.135922544,-55.66020415\n180,6.35,6.604,0,25.4,0.762,-24.638\n206.565051,7.366,7.112,34.07767607,11.35922544,1.135922544,-55.66020415\n236.309932,7.874,7.874,56.35753981,7.04469254,0.915809954,-90.6651923\n255.963757,8.128,8.89,24.6416195,6.160405002,1.047268924,-103.6796141\n288.434949,7.874,9.652,56.22529674,8.032185358,0.803218612,-79.51863395\n303.690068,7.366,10.414,35.22346245,7.04469254,0.915809954,-90.6651923\n333.434949,6.35,10.922,22.71845063,11.35922544,1.135922544,-55.66020415\n0,5.588,10.922,0,25.4,0.762,-24.638\n26.565051,4.572,10.414,34.07767607,11.35922544,1.135922544,-55.66020415\n56.309932,4.064,9.652,56.35753981,7.04469254,0.915809954,-90.6651923\n71.565051,3.81,8.89,24.09655582,8.032185358,0.803218612,-79.51863395\n104.036243,8.636,9.652,80.0852635,6.160405002,1.047268924,-103.6796141\n123.690068,9.144,8.89,35.22346245,7.04469254,0.915809954,-90.6651923\n153.434949,10.16,8.382,22.71845063,11.35922544,1.135922544,-55.66020415\n180,10.922,8.382,0,25.4,0.762,-24.638\n206.565051,11.938,8.89,34.07767607,11.35922544,1.135922544,-55.66020415\n236.309932,12.446,9.652,56.35753981,7.04469254,0.915809954,-90.6651923\n255.963757,12.7,10.668,24.6416195,6.160405002,1.047268924,-103.6796141\n288.434949,12.446,11.43,56.22529674,8.032185358,0.803218612,-79.51863395\n303.690068,11.938,12.192,35.22346245,7.04469254,0.915809954,-90.6651923\n333.434949,10.922,12.7,22.71845063,11.35922544,1.135922544,-55.66020415\n0,10.16,12.7,0,25.4,0.762,-24.638\n26.565051,9.144,12.192,34.07767607,11.35922544,1.135922544,-55.66020415\n56.309932,8.636,11.43,56.35753981,7.04469254,0.915809954,-90.6651923\n71.565051,8.382,10.668,24.09655582,8.032185358,0.803218612,-79.51863395\n")),i(N.ParsePatFile("\n*HONEY,HONEY\n0, 0,0, 4.7625,2.74963, 3.175,-6.35\n120, 0,0, 4.7625,2.74963, 3.175,-6.35\n60, 0,0, 4.7625,2.74963, -6.35,3.175\n")),i(N.ParsePatFile("\n*HOUND,HOUND\n0, 0,0, 6.35,1.5875, 25.4,-12.7\n90, 0,0, -6.35,1.5875, 25.4,-12.7\n")),i(N.ParsePatFile("\n*INSUL,INSUL\n0, 0,0, 0,9.525\n0, 0,3.175, 0,9.525, 3.175,-3.175\n0, 0,6.35, 0,9.525, 3.175,-3.175\n")),i(N.ParsePatFile("\n*JIS_LC_20,JIS_LC_20\n45, 0,0, 0,20\n45, .4,0, 0,20\n")),i(N.ParsePatFile("\n*JIS_LC_20A,JIS_LC_20A\n45, 0,0, 0,20\n45, 1,0, 0,20\n")),i(N.ParsePatFile("\n*JIS_LC_8,JIS_LC_8\n45, 0,0, 0,7.8\n45, .4,0, 0,7.8\n")),i(N.ParsePatFile("\n*JIS_LC_8A,JIS_LC_8A\n45, 0,0, 0,7.8\n45, 1,0, 0,7.8\n")),i(N.ParsePatFile("\n*JIS_RC_10,JIS_RC_10\n45, 0,0, 0,10\n45, .725,0, 0,10\n45, 1.45,0, 0,10\n")),i(N.ParsePatFile("\n*JIS_RC_15,JIS_RC_15\n45, 0,0, 0,15\n45, .725,0, 0,15\n45, 1.45,0, 0,15\n")),i(N.ParsePatFile("\n*JIS_RC_18,JIS_RC_18\n45, 0,0, 0,18\n45, 1,0, 0,18\n45, 2,0, 0,18\n")),i(N.ParsePatFile("\n*JIS_RC_30,JIS_RC_30\n45, 0,0, 0,30\n45, 1,0, 0,30\n45, 2,0, 0,30\n")),i(N.ParsePatFile("\n*JIS_STN_1E,JIS_STN_1E\n45, 0,0, 0,1\n45, .705,0, 0,1, 1,-.5\n")),i(N.ParsePatFile("\n*JIS_STN_2.5,JIS_STN_2.5\n45, 0,0, 0,2.5\n45, 1.765,0, 0,2.5, 1.2,-.5\n")),i(N.ParsePatFile("\n*JIS_WOOD,JIS_WOOD\n45, 0,0, 0,.70710678\n")),i(N.ParsePatFile("\n*LATTICE-01\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,2.162738626,10.16,0,25.4,4.325477252,-21.074522748\n270,15.24,2.162738626,25.4,25.4,4.325477252,-21.074522748\n270,10.16,2.162738626,25.4,25.4,4.325477252,-21.074522748\n135,12.7,6.80694346,17.960512212,17.960512212,8.334040482,-27.586983942\n225,18.59305654,12.7,17.960512212,17.960512212,8.334040482,-27.586983942\n45,2.162738626,15.24,17.960512212,17.960512212,11.309835394,-24.61118903\n180,2.162738626,15.24,0,25.4,4.325477252,-21.074522748\n315,12.7,18.59305654,17.960512212,17.960512212,8.334040482,-27.586983942\n45,6.80694346,12.7,17.960512212,17.960512212,8.334040482,-27.586983942\n315,15.24,23.237261374,17.960512212,17.960512212,11.309835394,-24.61118903\n45,15.24,2.162738626,17.960512212,17.960512212,11.309835394,-24.61118903\n315,2.162738626,10.16,17.960512212,17.960512212,11.309835394,-24.61118903\n")),i(N.ParsePatFile("\n*LATTICE-02\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,9.736666582,9.736666582,0,25.4,19.473333164,-5.926666836\n270,15.663333418,25.4,25.4,25.4,25.4;,0 Removed 0 IT RENDERS A POINT\n180,9.736666582,15.663333418,0,25.4,19.473333164,-5.926666836\n270,9.736666582,25.4,25.4,25.4,25.4;,0 Removed 0 IT RENDERS A POINT\n")),i(N.ParsePatFile("\n*LATTICE-03\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,9.736666582,9.736666582,0,25.4,19.473333164,-5.926666836\n180,9.736666582,15.663333418,0,25.4,19.473333164,-5.926666836\n270,15.663333418,9.736666582,25.4,25.4,19.473333164,-5.926666836\n270,9.736666582,9.736666582,25.4,25.4,19.473333164,-5.926666836\n")),i(N.ParsePatFile("\n*LATTICE-04\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n296.565051,3.894666582,11.684,34.077676066,11.35922544,28.776704194,-28.019422498\n296.565051,8.636000254,14.054666582,34.077676066,11.35922544,28.776704194,-28.019422498\n206.565051,11.684,21.505333418,34.077676066,11.35922544,28.776704194,-28.019422498\n206.565051,14.054666582,16.763999746,34.077676066,11.35922544,28.776704194,-28.019422498\n")),i(N.ParsePatFile("\n*LATTICE-05,LATTICE-05\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n0,19.685,1.905,0,25.4,3.81,-21.59\n180,5.715,23.495,0,25.4,3.81,-21.59\n180,15.875,5.715,0,25.4,10.16,-15.24\n180,15.875,1.905,0,25.4,13.97,-11.43\n270,15.875,5.715,0,25.4,3.81,-21.59\n270,19.685,19.685,0,25.4,17.78,-7.62\n270,23.495,23.495,0,25.4,21.59,-3.81\n0,9.525,19.685,0,25.4,10.16,-15.24\n0,9.525,23.495,0,25.4,13.97,-11.43\n90,9.525,19.685,0,25.4,3.81,-21.59\n90,5.715,5.715,0,25.4,17.78,-7.62\n90,1.905,1.905,0,25.4,21.59,-3.81\n")),i(N.ParsePatFile("\n*LATTICE-06,LATTICE-06\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n180,15.875,9.525,0,25.4,6.35,-19.05\n270,15.875,15.875,0,25.4,6.35,-19.05\n0,9.525,15.875,0,25.4,6.35,-19.05\n90,9.525,9.525,0,25.4,6.35,-19.05\n0,19.685,1.905,0,25.4,3.81,-21.59\n180,5.715,23.495,0,25.4,3.81,-21.59\n180,15.875,5.715,0,25.4,10.16,-15.24\n180,15.875,1.905,0,25.4,13.97,-11.43\n270,15.875,5.715,0,25.4,3.81,-21.59\n270,19.685,19.685,0,25.4,17.78,-7.62\n270,23.495,23.495,0,25.4,21.59,-3.81\n0,9.525,19.685,0,25.4,10.16,-15.24\n0,9.525,23.495,0,25.4,13.97,-11.43\n90,9.525,19.685,0,25.4,3.81,-21.59\n90,5.715,5.715,0,25.4,17.78,-7.62\n90,1.905,1.905,0,25.4,21.59,-3.81\n")),i(N.ParsePatFile("\n*LATTICE-07\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,17.568333418,17.568333164,25.4,25.4,22.436666582,-2.963333418\n270,20.531666836,17.568333164,25.4,25.4,22.436666582,-2.963333418\n270,4.868333164,4.868333418,25.4,25.4,22.436666582,-2.963333418\n270,7.831666582,4.868333418,25.4,25.4,22.436666582,-2.963333418\n180,17.568333418,7.831666582,0,25.4,22.436666582,-2.963333418\n180,17.568333418,4.868333164,0,25.4,22.436666582,-2.963333418\n180,4.868333418,20.531666836,0,25.4,22.436666582,-2.963333418\n180,4.868333418,17.568333418,0,25.4,22.436666582,-2.963333418\n")),i(N.ParsePatFile("\n*LEAF-01,LEAF-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n83.659808,22.86,5.08,25.244646742,2.804960862,2.30006779,-227.706714766\n26.565051,22.352,4.826,34.077676066,11.35922544,0.567961272,-56.22816542\n14.036243,21.336,4.572,80.085263502,6.160405002,1.047268924,-103.679614078\n315,21.336,4.572,17.960512212,17.960512212,1.436840916,-34.484183508\n83.659808,21.336,4.572,25.244646742,2.804960862,2.30006779,-227.706714766\n0,20.066,4.572,0,25.4,1.27,-24.13\n345.963757,20.828,3.048,24.6416195,6.160405002,1.047268924,-103.679614078\n326.309932,20.066,3.556,56.357539812,7.04469254,0.915809954,-90.665192304\n303.690068,19.558,4.318,35.223462446,7.04469254,0.915809954,-90.665192304\n18.434949,18.796,4.064,56.225296744,8.032185358,0.803218612,-79.518633952\n288.434949,18.542,4.826,56.225296744,8.032185358,0.803218612,-79.518633952\n180,19.558,4.826,0,25.4,1.016,-24.384\n258.690068,19.812,6.096,24.906749272,4.981349956,1.29515108,-128.219944728\n243.434949,20.066,6.604,22.718450626,11.35922544,0.567961272,-56.22816542\n225,20.828,7.366,17.960512212,17.960512212,1.077630814,-34.843393864\n213.690068,21.59,7.874,35.223462446,7.04469254,0.915809954,-90.665192304\n191.309932,22.86,8.128,104.608346536,4.981349956,1.29515108,-128.219944728\n128.659808,7.62,10.668,35.701322044,3.966813504,1.626393496,-161.0129622\n143.130102,8.636,9.906,91.44,5.08,1.27,-125.73\n153.434949,9.652,9.398,22.718450626,11.35922544,1.135922544,-55.660204148\n192.528808,9.652,9.398,104.69063898,2.755016842,2.341764176,-231.834664854\n105.945396,9.652,9.398,80.246041438,3.488958224,1.84914794,-183.065643266\n153.434949,10.668,8.89,22.718450626,11.35922544,1.135922544,-55.660204148\n149.036243,11.938,8.128,56.628832894,4.356064186,1.481061808,-146.625116452\n95.710593,11.938,8.128,229.992896122,2.527394488,2.552668504,-252.714172244\n194.931417,11.938,8.128,289.599936166,1.636157764,3.94314045,-390.37089693\n135,12.954,7.112,17.960512212,17.960512212,1.436840916,-34.484183508\n123.690068,13.462,6.35,35.223462446,7.04469254,0.915809954,-90.665192304\n199.653824,13.462,6.35,297.294468148,1.708588912,3.775981526,-373.822164724\n71.565051,13.462,6.35,24.09655582,8.032185358,2.409655582,-77.912196982\n119.054604,14.732,4.064,204.766485564,2.467066186,2.61509002,-258.893915536\n288.434949,14.732,3.556,56.225296744,8.032185358,1.60643697,-78.715415594\n21.801409,13.462,3.048,56.599939124,4.716661636,1.36783191,-135.415354264\n11.309932,12.192,2.794,104.608346536,4.981349956,1.29515108,-128.219944728\n0,11.43,2.794,0,25.4,0.762,-24.638\n341.565051,9.906,3.302,24.09655582,8.032185358,1.60643697,-78.715415594\n326.309932,8.382,4.318,56.357539812,7.04469254,1.831620162,-89.74938235\n308.659808,7.366,5.588,35.701322044,3.966813504,1.626393496,-161.0129622\n300.963757,6.604,6.858,91.477345366,4.356064186,1.481061808,-146.625116452\n285.945396,6.096,8.636,80.246041438,3.488958224,1.84914794,-183.065643266\n270,6.096,10.414,0,25.4,1.778,-23.622\n279.462322,5.842,11.938,129.447762694,4.175734346,1.545021802,-152.95714646\n285.945396,5.334,13.716,80.246041438,3.488958224,1.84914794,-183.065643266\n123.690068,5.842,12.954,35.223462446,7.04469254,0.915809954,-90.665192304\n161.565051,6.604,12.7,24.09655582,8.032185358,0.803218612,-79.518633952\n171.869898,8.382,12.446,25.144717046,3.592102544,1.796051272,-177.809071102\n171.869898,10.16,12.192,25.144717046,3.592102544,1.796051272,-177.809071102\n161.565051,11.684,11.684,24.09655582,8.032185358,1.60643697,-78.715415594\n161.565051,13.208,11.176,24.09655582,8.032185358,1.60643697,-78.715415594\n146.309932,14.732,10.16,56.357539812,7.04469254,1.831620162,-89.74938235\n119.744881,15.748,8.382,148.072666262,3.150482142,2.047813532,-202.733533318\n111.801409,16.256,7.112,56.599939124,4.716661636,1.36783191,-135.415354264\n90,16.256,6.096,0,25.4,1.016,-24.384\n75.963757,16.002,5.08,24.6416195,6.160405002,1.047268924,-103.679614078\n56.309932,15.494,4.318,56.357539812,7.04469254,0.915809954,-90.665192304\n63.434949,15.24,3.81,22.718450626,11.35922544,0.567961272,-56.22816542\n126.869898,16.002,2.794,35.56,5.08,1.27,-125.73\n45,15.24,2.032,17.960512212,17.960512212,1.077630814,-34.843393864\n233.130102,22.606,1.016,91.44,5.08,1.27,-125.73\n258.690068,1.778,1.27,24.906749272,4.981349956,1.29515108,-128.219944728\n258.690068,3.556,1.27,24.906749272,4.981349956,1.29515108,-128.219944728\n198.434949,6.604,0.508,56.225296744,8.032185358,1.60643697,-78.715415594\n225,7.874,0.508,17.960512212,17.960512212,0.718420458,-35.202603966\n198.434949,8.636,0.762,56.225296744,8.032185358,0.803218612,-79.518633952\n348.690068,7.366,1.016,24.906749272,4.981349956,1.29515108,-128.219944728\n345.963757,6.35,1.27,24.6416195,6.160405002,1.047268924,-103.679614078\n333.434949,5.334,1.778,22.718450626,11.35922544,1.135922544,-55.660204148\n333.434949,3.81,2.54,22.718450626,11.35922544,1.703883816,-55.092242876\n348.690068,2.54,2.794,24.906749272,4.981349956,1.29515108,-128.219944728\n0,1.778,2.794,0,25.4,0.762,-24.638\n8.130102,0,2.54,154.460405328,3.592102544,1.796051272,-177.809071102\n236.309932,0.508,5.842,56.357539812,7.04469254,0.915809954,-90.665192304\n236.309932,1.016,6.604,56.357539812,7.04469254,0.915809954,-90.665192304\n213.690068,1.778,7.112,35.223462446,7.04469254,0.915809954,-90.665192304\n0,0.762,7.112,0,25.4,1.016,-24.384\n326.309932,0,7.62,56.357539812,7.04469254,0.915809954,-90.665192304\n18.434949,0,6.604,56.225296744,8.032185358,0.803218612,-79.518633952\n0,0,13.97,0,25.4,1.778,-23.622\n14.036243,2.54,15.494,80.085263502,6.160405002,1.047268924,-103.679614078\n21.801409,1.27,14.986,56.599939124,4.716661636,1.36783191,-135.415354264\n30.963757,0,14.224,91.477345366,4.356064186,1.481061808,-146.625116452\n254.054604,0.508,16.764,104.668749768,3.488958224,1.84914794,-183.065643266\n158.198591,1.27,17.526,80.18324705,4.716661636,1.36783191,-135.415354264\n153.434949,2.794,16.764,22.718450626,11.35922544,1.703883816,-55.092242876\n158.198591,4.064,16.256,80.18324705,4.716661636,1.36783191,-135.415354264\n180,5.334,16.256,0,25.4,1.27,-24.13\n33.690068,4.572,15.748,35.223462446,7.04469254,0.915809954,-90.665192304\n45,4.064,15.24,17.960512212,17.960512212,0.718420458,-35.202603966\n53.130102,3.302,14.224,91.44,5.08,1.27,-125.73\n56.309932,2.286,12.7,56.357539812,7.04469254,1.831620162,-89.74938235\n51.340192,1.27,11.43,126.938033652,3.966813504,1.626393496,-161.0129622\n38.659808,0,10.414,35.701322044,3.966813504,1.626393496,-161.0129622\n180,20.828,12.192,0,25.4,2.54,-22.86\n310.601295,20.828,12.192,35.815218692,2.755016842,2.341764176,-231.834664854\n82.405357,20.828,12.192,204.774468022,1.678479244,3.843717484,-380.528029646\n180,21.336,12.192,0,25.4,0.508,-24.892\n194.036243,22.352,12.446,80.085263502,6.160405002,1.047268924,-103.679614078\n198.434949,23.114,12.7,56.225296744,8.032185358,0.803218612,-79.518633952\n0,21.082,9.398,0,25.4,2.032,-23.368\n348.690068,19.812,9.652,24.906749272,4.981349956,1.29515108,-128.219944728\n321.340192,18.542,10.668,126.938033652,3.966813504,1.626393496,-161.0129622\n300.963757,17.78,11.938,91.477345366,4.356064186,1.481061808,-146.625116452\n21.801409,16.51,11.43,56.599939124,4.716661636,1.36783191,-135.415354264\n284.036243,16.256,12.446,80.085263502,6.160405002,1.047268924,-103.679614078\n180,17.78,12.446,0,25.4,1.524,-23.876\n261.869898,18.034,14.224,25.144717046,3.592102544,1.796051272,-177.809071102\n248.198591,18.542,15.494,80.18324705,4.716661636,1.36783191,-135.415354264\n225,19.558,16.51,17.960512212,17.960512212,1.436840916,-34.484183508\n216.869898,20.574,17.272,35.56,5.08,1.27,-125.73\n198.434949,22.86,18.034,56.225296744,8.032185358,2.409655582,-77.912196982\n153.434949,9.144,16.51,22.718450626,11.35922544,1.703883816,-55.092242876\n170.537678,10.668,16.256,25.054405568,4.175734346,1.545021802,-152.95714646\n188.130102,12.446,16.51,154.460405328,3.592102544,1.796051272,-177.809071102\n201.801409,13.716,17.018,56.599939124,4.716661636,1.36783191,-135.415354264\n219.805571,15.24,18.288,35.773504272,3.252136752,1.9838035,-196.396538372\n18.434949,24.638,6.35,56.225296744,8.032185358,0.803218612,-79.518633952\n33.690068,23.876,5.842,35.223462446,7.04469254,0.915809954,-90.665192304\n0,23.876,5.842,0,25.4,1.016,-24.384\n80.537678,23.876,5.842,25.054405568,4.175734346,1.545021802,-152.95714646\n36.869898,22.86,5.08,35.56,5.08,1.27,-125.73\n341.565051,22.86,5.08,24.09655582,8.032185358,1.60643697,-78.715415594\n53.130102,24.638,4.064,91.44,5.08,1.27,-125.73\n38.659808,23.368,3.048,35.701322044,3.966813504,1.626393496,-161.0129622\n9.462322,21.844,2.794,129.447762694,4.175734346,1.545021802,-152.95714646\n180,24.13,8.128,0,25.4,1.27,-24.13\n158.198591,25.4,7.62,80.18324705,4.716661636,1.36783191,-135.415354264\n216.869898,23.622,1.778,35.56,5.08,1.27,-125.73\n206.565051,24.638,2.286,34.077676066,11.35922544,1.135922544,-55.660204148\n198.434949,25.4,2.54,56.225296744,8.032185358,0.803218612,-79.518633952\n90,24.638,0,0,25.4,0.508,-24.892\n26.565051,24.384,13.462,34.077676066,11.35922544,1.135922544,-55.660204148\n56.309932,24.384,13.462,56.357539812,7.04469254,1.831620162,-89.74938235\n36.869898,24.384,13.462,35.56,5.08,1.27,-125.73\n30.963757,23.114,12.7,91.477345366,4.356064186,1.481061808,-146.625116452\n78.690068,23.114,12.7,24.906749272,4.981349956,3.885452986,-125.629642822\n156.037511,25.4,11.684,193.423444496,2.578979348,2.501609932,-247.659378188\n30.963757,24.13,9.652,91.477345366,4.356064186,1.481061808,-146.625116452\n14.036243,23.114,9.398,80.085263502,6.160405002,1.047268924,-103.679614078\n180,25.4,18.034,0,25.4,2.54,-22.86\n0,21.844,22.098,0,25.4,2.286,-23.114\n11.309932,24.13,22.098,104.608346536,4.981349956,1.29515108,-128.219944728\n135,25.4,20.828,17.960512212,17.960512212,1.796051272,-34.124973152\n0,24.384,19.304,0,25.4,1.016,-24.384\n345.963757,23.368,19.558,24.6416195,6.160405002,1.047268924,-103.679614078\n333.434949,22.352,20.066,22.718450626,11.35922544,1.135922544,-55.660204148\n315,21.844,20.574,17.960512212,17.960512212,0.718420458,-35.202603966\n306.869898,21.082,21.59,35.56,5.08,1.27,-125.73\n11.309932,19.812,21.336,104.608346536,4.981349956,1.29515108,-128.219944728\n284.036243,19.558,22.352,80.085263502,6.160405002,1.047268924,-103.679614078\n180,21.082,22.352,0,25.4,1.524,-23.876\n14.036243,16.51,22.606,80.085263502,6.160405002,1.047268924,-103.679614078\n18.434949,15.748,22.352,56.225296744,8.032185358,0.803218612,-79.518633952\n33.690068,14.986,21.844,35.223462446,7.04469254,0.915809954,-90.665192304\n230.194429,16.51,19.812,162.6068376,3.252136752,1.9838035,-196.396538372\n239.036243,17.272,21.082,56.628832894,4.356064186,1.481061808,-146.625116452\n236.309932,18.288,22.606,56.357539812,7.04469254,1.831620162,-89.74938235\n213.690068,19.05,23.114,35.223462446,7.04469254,0.915809954,-90.665192304\n198.434949,19.812,23.368,56.225296744,8.032185358,0.803218612,-79.518633952\n0,18.796,23.368,0,25.4,1.016,-24.384\n345.963757,17.78,23.622,24.6416195,6.160405002,1.047268924,-103.679614078\n261.869898,21.336,24.13,25.144717046,3.592102544,1.796051272,-177.809071102\n248.198591,21.844,25.4,80.18324705,4.716661636,1.36783191,-135.415354264\n36.869898,13.97,21.082,35.56,5.08,1.27,-125.73\n0,13.97,21.082,0,25.4,2.032,-23.368\n78.690068,13.97,21.082,24.906749272,4.981349956,2.590301906,-126.924793648\n33.690068,13.208,20.574,35.223462446,7.04469254,0.915809954,-90.665192304\n30.963757,11.938,19.812,91.477345366,4.356064186,1.481061808,-146.625116452\n336.037511,11.938,19.812,193.423444496,2.578979348,2.501609932,-247.659378188\n79.380345,11.938,19.812,283.976346702,1.560309554,4.134820534,-409.347222706\n26.565051,10.922,19.304,34.077676066,11.35922544,1.135922544,-55.660204148\n9.462322,9.398,19.05,129.447762694,4.175734346,1.545021802,-152.95714646\n318.814075,9.398,19.05,234.164238554,2.389431086,2.700057084,-267.30564649\n82.405357,9.398,19.05,204.774468022,1.678479244,3.843717484,-380.528029646\n0,8.382,19.05,0,25.4,1.016,-24.384\n0,7.366,19.05,0,25.4,1.016,-24.384\n0,5.08,19.304,0,25.4,1.524,-23.876\n104.036243,5.334,18.288,80.085263502,6.160405002,1.047268924,-103.679614078\n201.801409,6.604,18.796,56.599939124,4.716661636,1.36783191,-135.415354264\n123.690068,7.62,17.272,35.223462446,7.04469254,1.831620162,-89.74938235\n338.198591,16.51,24.13,80.18324705,4.716661636,1.36783191,-135.415354264\n333.434949,14.986,24.892,22.718450626,11.35922544,1.703883816,-55.092242876\n348.690068,13.716,25.146,24.906749272,4.981349956,1.29515108,-128.219944728\n0,11.684,25.146,0,25.4,2.032,-23.368\n18.434949,10.16,24.638,56.225296744,8.032185358,1.60643697,-78.715415594\n26.565051,8.636,23.876,34.077676066,11.35922544,1.703883816,-55.092242876\n45,7.366,22.606,17.960512212,17.960512212,1.796051272,-34.124973152\n71.565051,6.858,21.082,24.09655582,8.032185358,1.60643697,-78.715415594\n81.869898,6.604,19.304,25.144717046,3.592102544,1.796051272,-177.809071102\n;0,5.08,19.304,0,25.4,1.524,-23.876\n315,0,20.828,17.960512212,17.960512212,0.718420458,-35.202603966\n198.434949,0.762,22.606,56.225296744,8.032185358,0.803218612,-79.518633952\n343.300756,0.762,22.606,184.898786158,2.432878802,2.651837978,-262.531947376\n74.744881,0.762,22.606,104.703186326,2.22772732,2.896045516,-286.708512434\n206.565051,1.27,22.86,34.077676066,11.35922544,0.567961272,-56.22816542\n213.690068,2.032,23.368,35.223462446,7.04469254,0.915809954,-90.665192304\n216.869898,3.048,24.13,35.56,5.08,1.27,-125.73\n352.874984,3.048,24.13,25.203858152,3.150482142,2.047813532,-202.733533318\n78.690068,3.048,24.13,24.906749272,4.981349956,1.29515108,-128.219944728\n213.690068,3.81,24.638,35.223462446,7.04469254,0.915809954,-90.665192304\n213.690068,4.572,25.146,35.223462446,7.04469254,0.915809954,-90.665192304\n206.565051,5.08,25.4,34.077676066,11.35922544,0.567961272,-56.22816542\n45,7.112,25.146,17.960512212,17.960512212,0.359210356,-35.561814322\n56.309932,6.604,24.384,56.357539812,7.04469254,0.915809954,-90.665192304\n56.309932,5.588,22.86,56.357539812,7.04469254,1.831620162,-89.74938235\n53.130102,4.826,21.844,91.44,5.08,1.27,-125.73\n45,3.556,20.574,17.960512212,17.960512212,1.796051272,-34.124973152\n36.869898,2.54,19.812,35.56,5.08,1.27,-125.73\n18.434949,1.016,19.304,56.225296744,8.032185358,1.60643697,-78.715415594\n0,0,19.304,0,25.4,1.016,-24.384\n81.253838,24.13,22.098,179.594740378,1.931126186,3.340848284,-330.743991038\n")),i(N.ParsePatFile("\n*LEAF-02,LEAF-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n303.690068,19.558,4.318,35.223462446,7.04469254,0.915809954,-90.665192304\n18.434949,18.796,4.064,56.225296744,8.032185358,0.803218612,-79.518633952\n288.434949,18.542,4.826,56.225296744,8.032185358,0.803218612,-79.518633952\n180,19.558,4.826,0,25.4,1.016,-24.384\n258.690068,19.812,6.096,24.906749272,4.981349956,1.29515108,-128.219944728\n243.434949,20.066,6.604,22.718450626,11.35922544,0.567961272,-56.22816542\n288.434949,14.732,3.556,56.225296744,8.032185358,1.60643697,-78.715415594\n21.801409,13.462,3.048,56.599939124,4.716661636,1.36783191,-135.415354264\n11.309932,12.192,2.794,104.608346536,4.981349956,1.29515108,-128.219944728\n0,11.43,2.794,0,25.4,0.762,-24.638\n341.565051,9.906,3.302,24.09655582,8.032185358,1.60643697,-78.715415594\n326.309932,8.382,4.318,56.357539812,7.04469254,1.831620162,-89.74938235\n308.659808,7.366,5.588,35.701322044,3.966813504,1.626393496,-161.0129622\n300.963757,6.604,6.858,91.477345366,4.356064186,1.481061808,-146.625116452\n285.945396,6.096,8.636,80.246041438,3.488958224,1.84914794,-183.065643266\n270,6.096,10.414,0,25.4,1.778,-23.622\n279.462322,5.842,11.938,129.447762694,4.175734346,1.545021802,-152.95714646\n285.945396,5.334,13.716,80.246041438,3.488958224,1.84914794,-183.065643266\n123.690068,5.842,12.954,35.223462446,7.04469254,0.915809954,-90.665192304\n161.565051,6.604,12.7,24.09655582,8.032185358,0.803218612,-79.518633952\n171.869898,8.382,12.446,25.144717046,3.592102544,1.796051272,-177.809071102\n171.869898,10.16,12.192,25.144717046,3.592102544,1.796051272,-177.809071102\n161.565051,11.684,11.684,24.09655582,8.032185358,1.60643697,-78.715415594\n161.565051,13.208,11.176,24.09655582,8.032185358,1.60643697,-78.715415594\n146.309932,14.732,10.16,56.357539812,7.04469254,1.831620162,-89.74938235\n119.744881,15.748,8.382,148.072666262,3.150482142,2.047813532,-202.733533318\n111.801409,16.256,7.112,56.599939124,4.716661636,1.36783191,-135.415354264\n90,16.256,6.096,0,25.4,1.016,-24.384\n75.963757,16.002,5.08,24.6416195,6.160405002,1.047268924,-103.679614078\n56.309932,15.494,4.318,56.357539812,7.04469254,0.915809954,-90.665192304\n63.434949,15.24,3.81,22.718450626,11.35922544,0.567961272,-56.22816542\n126.869898,16.002,2.794,35.56,5.08,1.27,-125.73\n45,15.24,2.032,17.960512212,17.960512212,1.077630814,-34.843393864\n225,7.874,0.508,17.960512212,17.960512212,0.718420458,-35.202603966\n198.434949,8.636,0.762,56.225296744,8.032185358,0.803218612,-79.518633952\n348.690068,7.366,1.016,24.906749272,4.981349956,1.29515108,-128.219944728\n345.963757,6.35,1.27,24.6416195,6.160405002,1.047268924,-103.679614078\n333.434949,5.334,1.778,22.718450626,11.35922544,1.135922544,-55.660204148\n333.434949,3.81,2.54,22.718450626,11.35922544,1.703883816,-55.092242876\n348.690068,2.54,2.794,24.906749272,4.981349956,1.29515108,-128.219944728\n0,1.778,2.794,0,25.4,0.762,-24.638\n8.130102,0,2.54,154.460405328,3.592102544,1.796051272,-177.809071102\n236.309932,0.508,5.842,56.357539812,7.04469254,0.915809954,-90.665192304\n236.309932,1.016,6.604,56.357539812,7.04469254,0.915809954,-90.665192304\n213.690068,1.778,7.112,35.223462446,7.04469254,0.915809954,-90.665192304\n0,0.762,7.112,0,25.4,1.016,-24.384\n326.309932,0,7.62,56.357539812,7.04469254,0.915809954,-90.665192304\n158.198591,1.27,17.526,80.18324705,4.716661636,1.36783191,-135.415354264\n153.434949,2.794,16.764,22.718450626,11.35922544,1.703883816,-55.092242876\n158.198591,4.064,16.256,80.18324705,4.716661636,1.36783191,-135.415354264\n180,5.334,16.256,0,25.4,1.27,-24.13\n33.690068,4.572,15.748,35.223462446,7.04469254,0.915809954,-90.665192304\n45,4.064,15.24,17.960512212,17.960512212,0.718420458,-35.202603966\n53.130102,3.302,14.224,91.44,5.08,1.27,-125.73\n56.309932,2.286,12.7,56.357539812,7.04469254,1.831620162,-89.74938235\n51.340192,1.27,11.43,126.938033652,3.966813504,1.626393496,-161.0129622\n38.659808,0,10.414,35.701322044,3.966813504,1.626393496,-161.0129622\n321.340192,18.542,10.668,126.938033652,3.966813504,1.626393496,-161.0129622\n300.963757,17.78,11.938,91.477345366,4.356064186,1.481061808,-146.625116452\n21.801409,16.51,11.43,56.599939124,4.716661636,1.36783191,-135.415354264\n284.036243,16.256,12.446,80.085263502,6.160405002,1.047268924,-103.679614078\n180,17.78,12.446,0,25.4,1.524,-23.876\n261.869898,18.034,14.224,25.144717046,3.592102544,1.796051272,-177.809071102\n248.198591,18.542,15.494,80.18324705,4.716661636,1.36783191,-135.415354264\n225,19.558,16.51,17.960512212,17.960512212,1.436840916,-34.484183508\n284.036243,19.558,22.352,80.085263502,6.160405002,1.047268924,-103.679614078\n0,5.08,19.304,0,25.4,1.524,-23.876\n104.036243,5.334,18.288,80.085263502,6.160405002,1.047268924,-103.679614078\n201.801409,6.604,18.796,56.599939124,4.716661636,1.36783191,-135.415354264\n123.690068,7.62,17.272,35.223462446,7.04469254,1.831620162,-89.74938235\n153.434949,9.144,16.51,22.718450626,11.35922544,1.703883816,-55.092242876\n170.537678,10.668,16.256,25.054405568,4.175734346,1.545021802,-152.95714646\n188.130102,12.446,16.51,154.460405328,3.592102544,1.796051272,-177.809071102\n201.801409,13.716,17.018,56.599939124,4.716661636,1.36783191,-135.415354264\n219.805571,15.24,18.288,35.773504272,3.252136752,1.9838035,-196.396538372\n230.194429,16.51,19.812,162.6068376,3.252136752,1.9838035,-196.396538372\n239.036243,17.272,21.082,56.628832894,4.356064186,1.481061808,-146.625116452\n236.309932,18.288,22.606,56.357539812,7.04469254,1.831620162,-89.74938235\n213.690068,19.05,23.114,35.223462446,7.04469254,0.915809954,-90.665192304\n198.434949,19.812,23.368,56.225296744,8.032185358,0.803218612,-79.518633952\n0,18.796,23.368,0,25.4,1.016,-24.384\n345.963757,17.78,23.622,24.6416195,6.160405002,1.047268924,-103.679614078\n338.198591,16.51,24.13,80.18324705,4.716661636,1.36783191,-135.415354264\n45,7.366,22.606,17.960512212,17.960512212,1.796051272,-34.124973152\n71.565051,6.858,21.082,24.09655582,8.032185358,1.60643697,-78.715415594\n81.869898,6.604,19.304,25.144717046,3.592102544,1.796051272,-177.809071102\n;0,5.08,19.304,0,25.4,1.524,-23.876\n53.130102,4.826,21.844,91.44,5.08,1.27,-125.73\n45,3.556,20.574,17.960512212,17.960512212,1.796051272,-34.124973152\n36.869898,2.54,19.812,35.56,5.08,1.27,-125.73\n18.434949,1.016,19.304,56.225296744,8.032185358,1.60643697,-78.715415594\n0,0,19.304,0,25.4,1.016,-24.384\n0,24.384,19.304,0,25.4,1.016,-24.384\n345.963757,23.368,19.558,24.6416195,6.160405002,1.047268924,-103.679614078\n333.434949,22.352,20.066,22.718450626,11.35922544,1.135922544,-55.660204148\n315,21.844,20.574,17.960512212,17.960512212,0.718420458,-35.202603966\n306.869898,21.082,21.59,35.56,5.08,1.27,-125.73\n11.309932,19.812,21.336,104.608346536,4.981349956,1.29515108,-128.219944728\n180,21.082,22.352,0,25.4,1.524,-23.876\n261.869898,21.336,24.13,25.144717046,3.592102544,1.796051272,-177.809071102\n248.198591,21.844,25.4,80.18324705,4.716661636,1.36783191,-135.415354264\n333.434949,14.986,24.892,22.718450626,11.35922544,1.703883816,-55.092242876\n348.690068,13.716,25.146,24.906749272,4.981349956,1.29515108,-128.219944728\n0,11.684,25.146,0,25.4,2.032,-23.368\n18.434949,10.16,24.638,56.225296744,8.032185358,1.60643697,-78.715415594\n26.565051,8.636,23.876,34.077676066,11.35922544,1.703883816,-55.092242876\n45,7.112,25.146,17.960512212,17.960512212,0.359210356,-35.561814322\n56.309932,6.604,24.384,56.357539812,7.04469254,0.915809954,-90.665192304\n56.309932,5.588,22.86,56.357539812,7.04469254,1.831620162,-89.74938235\n53.130102,24.638,4.064,91.44,5.08,1.27,-125.73\n38.659808,23.368,3.048,35.701322044,3.966813504,1.626393496,-161.0129622\n9.462322,21.844,2.794,129.447762694,4.175734346,1.545021802,-152.95714646\n345.963757,20.828,3.048,24.6416195,6.160405002,1.047268924,-103.679614078\n326.309932,20.066,3.556,56.357539812,7.04469254,0.915809954,-90.665192304\n225,20.828,7.366,17.960512212,17.960512212,1.077630814,-34.843393864\n213.690068,21.59,7.874,35.223462446,7.04469254,0.915809954,-90.665192304\n191.309932,22.86,8.128,104.608346536,4.981349956,1.29515108,-128.219944728\n180,24.13,8.128,0,25.4,1.27,-24.13\n158.198591,25.4,7.62,80.18324705,4.716661636,1.36783191,-135.415354264\n233.130102,22.606,1.016,91.44,5.08,1.27,-125.73\n216.869898,23.622,1.778,35.56,5.08,1.27,-125.73\n206.565051,24.638,2.286,34.077676066,11.35922544,1.135922544,-55.660204148\n198.434949,25.4,2.54,56.225296744,8.032185358,0.803218612,-79.518633952\n30.963757,24.13,9.652,91.477345366,4.356064186,1.481061808,-146.625116452\n14.036243,23.114,9.398,80.085263502,6.160405002,1.047268924,-103.679614078\n0,21.082,9.398,0,25.4,2.032,-23.368\n348.690068,19.812,9.652,24.906749272,4.981349956,1.29515108,-128.219944728\n216.869898,20.574,17.272,35.56,5.08,1.27,-125.73\n198.434949,22.86,18.034,56.225296744,8.032185358,2.409655582,-77.912196982\n180,25.4,18.034,0,25.4,2.54,-22.86\n")),i(N.ParsePatFile("\n*LEAF-03,LEAF-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n344.054604,21.844,9.652,104.668749768,3.488958224,1.84914794,-183.065643266\n338.198591,20.574,10.16,80.18324705,4.716661636,1.36783191,-135.415354264\n326.309932,19.05,11.176,56.357539812,7.04469254,1.831620162,-89.74938235\n320.194429,17.526,12.446,162.6068376,3.252136752,1.9838035,-196.396538372\n308.659808,16.51,13.716,35.701322044,3.966813504,1.626393496,-161.0129622\n300.963757,15.748,14.986,91.477345366,4.356064186,1.481061808,-146.625116452\n293.198591,14.986,16.764,56.698117744,3.335183322,1.934406342,-191.506230398\n281.309932,14.732,18.034,104.608346536,4.981349956,1.29515108,-128.219944728\n276.340192,14.478,20.32,204.76213556,2.804960862,2.30006779,-227.706714766\n270,14.478,21.59,0,25.4,1.27,-24.13\n257.471192,14.986,23.876,129.485790304,2.755016842,2.341764176,-231.834664854\n164.054604,16.764,23.368,104.668749768,3.488958224,1.84914794,-183.065643266\n158.198591,18.034,22.86,80.18324705,4.716661636,1.36783191,-135.415354264\n146.309932,19.558,21.844,56.357539812,7.04469254,1.831620162,-89.74938235\n140.194429,21.082,20.574,162.6068376,3.252136752,1.9838035,-196.396538372\n125.537678,22.352,18.796,126.965671138,2.952690056,2.18499055,-216.314071054\n116.565051,23.368,16.764,34.077676066,11.35922544,2.271845088,-54.524281604\n105.945396,23.876,14.986,80.246041438,3.488958224,1.84914794,-183.065643266\n97.125016,24.13,12.954,179.577488698,3.150482142,2.047813532,-202.733533318\n90,24.13,11.43,0,25.4,1.524,-23.876\n77.471192,23.622,9.144,129.485790304,2.755016842,2.341764176,-231.834664854\n195.945396,3.556,9.652,80.246041438,3.488958224,1.84914794,-183.065643266\n201.801409,4.826,10.16,56.599939124,4.716661636,1.36783191,-135.415354264\n213.690068,6.35,11.176,35.223462446,7.04469254,1.831620162,-89.74938235\n219.805571,7.874,12.446,35.773504272,3.252136752,1.9838035,-196.396538372\n231.340192,8.89,13.716,126.938033652,3.966813504,1.626393496,-161.0129622\n239.036243,9.652,14.986,56.628832894,4.356064186,1.481061808,-146.625116452\n246.801409,10.414,16.764,136.74251925,3.335183322,1.934406342,-191.506230398\n258.690068,10.668,18.034,24.906749272,4.981349956,1.29515108,-128.219944728\n263.659808,10.922,20.32,25.244646742,2.804960862,2.30006779,-227.706714766\n270,10.922,21.59,0,25.4,1.27,-24.13\n282.528808,10.414,23.876,104.69063898,2.755016842,2.341764176,-231.834664854\n15.945396,8.636,23.368,80.246041438,3.488958224,1.84914794,-183.065643266\n21.801409,7.366,22.86,56.599939124,4.716661636,1.36783191,-135.415354264\n33.690068,5.842,21.844,35.223462446,7.04469254,1.831620162,-89.74938235\n39.805571,4.318,20.574,35.773504272,3.252136752,1.9838035,-196.396538372\n54.462322,3.048,18.796,91.53339072,2.952690056,2.18499055,-216.314071054\n63.434949,2.032,16.764,22.718450626,11.35922544,2.271845088,-54.524281604\n74.054604,1.524,14.986,104.668749768,3.488958224,1.84914794,-183.065643266\n82.874984,1.27,12.954,25.203858152,3.150482142,2.047813532,-202.733533318\n90,1.27,11.43,0,25.4,1.524,-23.876\n102.528808,1.778,9.144,104.69063898,2.755016842,2.341764176,-231.834664854\n128.659808,5.334,3.81,35.701322044,3.966813504,1.626393496,-161.0129622\n146.309932,6.858,2.794,56.357539812,7.04469254,1.831620162,-89.74938235\n153.434949,8.382,2.032,22.718450626,11.35922544,1.703883816,-55.092242876\n164.054604,10.16,1.524,104.668749768,3.488958224,1.84914794,-183.065643266\n171.869898,11.938,1.27,25.144717046,3.592102544,1.796051272,-177.809071102\n180,13.462,1.27,0,25.4,1.524,-23.876\n188.130102,15.24,1.524,154.460405328,3.592102544,1.796051272,-177.809071102\n195.945396,17.018,2.032,80.246041438,3.488958224,1.84914794,-183.065643266\n206.565051,18.542,2.794,34.077676066,11.35922544,1.703883816,-55.092242876\n218.659808,19.812,3.81,35.701322044,3.966813504,1.626393496,-161.0129622\n225,21.082,5.08,17.960512212,17.960512212,1.796051272,-34.124973152\n315,19.812,6.35,17.960512212,17.960512212,1.796051272,-34.124973152\n321.340192,18.542,7.366,126.938033652,3.966813504,1.626393496,-161.0129622\n336.801409,16.764,8.128,136.74251925,3.335183322,1.934406342,-191.506230398\n341.565051,15.24,8.636,24.09655582,8.032185358,1.60643697,-78.715415594\n351.869898,13.462,8.89,25.144717046,3.592102544,1.796051272,-177.809071102\n0,11.938,8.89,0,25.4,1.524,-23.876\n8.130102,10.16,8.636,154.460405328,3.592102544,1.796051272,-177.809071102\n18.434949,8.636,8.128,56.225296744,8.032185358,1.60643697,-78.715415594\n23.198591,6.858,7.366,56.698117744,3.335183322,1.934406342,-191.506230398\n38.659808,5.588,6.35,35.701322044,3.966813504,1.626393496,-161.0129622\n45,4.318,5.08,17.960512212,17.960512212,1.796051272,-34.124973152\n")),i(N.ParsePatFile("\n*LINE,LINE\n0, 0,0, 0,3.175\n")),i(N.ParsePatFile("\n*LOOPLINKS,LOOPLINKS\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n206.565051,13.462,17.018,34.077676066,11.35922544,0.567961272,-56.22816542\n243.434949,13.716,17.526,22.718450626,11.35922544,0.567961272,-56.22816542\n116.565051,11.938,17.018,34.077676066,11.35922544,0.567961272,-56.22816542\n153.434949,12.446,16.764,22.718450626,11.35922544,0.567961272,-56.22816542\n180,12.954,16.764,0,25.4,0.508,-24.892\n258.690068,4.826,14.986,24.906749272,4.981349956,1.29515108,-128.219944728\n251.565051,5.08,15.748,24.09655582,8.032185358,0.803218612,-79.518633952\n243.434949,5.588,16.764,22.718450626,11.35922544,1.135922544,-55.660204148\n230.194429,6.858,18.288,162.6068376,3.252136752,1.9838035,-196.396538372\n225,7.874,19.304,17.960512212,17.960512212,1.436840916,-34.484183508\n209.744881,9.652,20.32,148.072666262,3.150482142,2.047813532,-202.733533318\n194.036243,11.684,20.828,80.085263502,6.160405002,2.094537594,-102.632345154\n251.565051,7.112,15.24,24.09655582,8.032185358,1.60643697,-78.715415594\n239.036243,7.874,16.51,56.628832894,4.356064186,1.481061808,-146.625116452\n225,8.89,17.526,17.960512212,17.960512212,1.436840916,-34.484183508\n210.963757,10.16,18.288,91.477345366,4.356064186,1.481061808,-146.625116452\n198.434949,11.684,18.796,56.225296744,8.032185358,1.60643697,-78.715415594\n116.565051,17.018,11.938,34.077676066,11.35922544,0.567961272,-56.22816542\n153.434949,17.526,11.684,22.718450626,11.35922544,0.567961272,-56.22816542\n26.565051,17.018,13.462,34.077676066,11.35922544,0.567961272,-56.22816542\n63.434949,16.764,12.954,22.718450626,11.35922544,0.567961272,-56.22816542\n90,16.764,12.446,0,25.4,0.508,-24.892\n168.690068,14.986,20.574,24.906749272,4.981349956,1.29515108,-128.219944728\n161.565051,15.748,20.32,24.09655582,8.032185358,0.803218612,-79.518633952\n153.434949,16.764,19.812,22.718450626,11.35922544,1.135922544,-55.660204148\n140.194429,18.288,18.542,162.6068376,3.252136752,1.9838035,-196.396538372\n135,19.304,17.526,17.960512212,17.960512212,1.436840916,-34.484183508\n119.744881,20.32,15.748,148.072666262,3.150482142,2.047813532,-202.733533318\n104.036243,20.828,13.716,80.085263502,6.160405002,2.094537594,-102.632345154\n161.565051,15.24,18.288,24.09655582,8.032185358,1.60643697,-78.715415594\n149.036243,16.51,17.526,56.628832894,4.356064186,1.481061808,-146.625116452\n135,17.526,16.51,17.960512212,17.960512212,1.436840916,-34.484183508\n120.963757,18.288,15.24,91.477345366,4.356064186,1.481061808,-146.625116452\n108.434949,18.796,13.716,56.225296744,8.032185358,1.60643697,-78.715415594\n26.565051,11.938,8.382,34.077676066,11.35922544,0.567961272,-56.22816542\n63.434949,11.684,7.874,22.718450626,11.35922544,0.567961272,-56.22816542\n296.565051,13.462,8.382,34.077676066,11.35922544,0.567961272,-56.22816542\n333.434949,12.954,8.636,22.718450626,11.35922544,0.567961272,-56.22816542\n0,12.446,8.636,0,25.4,0.508,-24.892\n78.690068,20.574,10.414,24.906749272,4.981349956,1.29515108,-128.219944728\n71.565051,20.32,9.652,24.09655582,8.032185358,0.803218612,-79.518633952\n63.434949,19.812,8.636,22.718450626,11.35922544,1.135922544,-55.660204148\n50.194429,18.542,7.112,162.6068376,3.252136752,1.9838035,-196.396538372\n45,17.526,6.096,17.960512212,17.960512212,1.436840916,-34.484183508\n29.744881,15.748,5.08,148.072666262,3.150482142,2.047813532,-202.733533318\n14.036243,13.716,4.572,80.085263502,6.160405002,2.094537594,-102.632345154\n71.565051,18.288,10.16,24.09655582,8.032185358,1.60643697,-78.715415594\n59.036243,17.526,8.89,56.628832894,4.356064186,1.481061808,-146.625116452\n45,16.51,7.874,17.960512212,17.960512212,1.436840916,-34.484183508\n30.963757,15.24,7.112,91.477345366,4.356064186,1.481061808,-146.625116452\n18.434949,13.716,6.604,56.225296744,8.032185358,1.60643697,-78.715415594\n296.565051,8.382,13.462,34.077676066,11.35922544,0.567961272,-56.22816542\n333.434949,7.874,13.716,22.718450626,11.35922544,0.567961272,-56.22816542\n206.565051,8.382,11.938,34.077676066,11.35922544,0.567961272,-56.22816542\n243.434949,8.636,12.446,22.718450626,11.35922544,0.567961272,-56.22816542\n270,8.636,12.954,0,25.4,0.508,-24.892\n348.690068,10.414,4.826,24.906749272,4.981349956,1.29515108,-128.219944728\n341.565051,9.652,5.08,24.09655582,8.032185358,0.803218612,-79.518633952\n333.434949,8.636,5.588,22.718450626,11.35922544,1.135922544,-55.660204148\n320.194429,7.112,6.858,162.6068376,3.252136752,1.9838035,-196.396538372\n315,6.096,7.874,17.960512212,17.960512212,1.436840916,-34.484183508\n299.744881,5.08,9.652,148.072666262,3.150482142,2.047813532,-202.733533318\n284.036243,4.572,11.684,80.085263502,6.160405002,2.094537594,-102.632345154\n341.565051,10.16,7.112,24.09655582,8.032185358,1.60643697,-78.715415594\n329.036243,8.89,7.874,56.628832894,4.356064186,1.481061808,-146.625116452\n315,7.874,8.89,17.960512212,17.960512212,1.436840916,-34.484183508\n300.963757,7.112,10.16,91.477345366,4.356064186,1.481061808,-146.625116452\n288.434949,6.604,11.684,56.225296744,8.032185358,1.60643697,-78.715415594\n90,11.684,-7.874,0,25.4,15.748,-9.652\n270,13.716,7.874,0,25.4,15.748,-9.652\n180,7.874,11.684,0,25.4,15.748,-9.652\n0,-7.874,13.716,0,25.4,15.748,-9.652\n")),i(N.ParsePatFile("\n*MAZE-01\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,24.13,23.368,0,25.4,6.35,-19.05\n90,24.13,13.97,25.4,25.4,9.398,-16.002\n90,21.082,13.97,25.4,25.4,6.35,-19.05\n0,17.78,10.668,0,25.4,2.794,-22.606\n180,14.478,20.32,0,25.4,9.652,-15.748\n270,14.478,23.368,25.4,25.4,3.048,-22.352\n0,1.778,23.368,0,25.4,12.7,-12.7\n90,24.13,7.366,25.4,25.4,3.302,-22.098\n180,11.43,1.27,0,25.4,9.652,-15.748\n0,17.78,7.366,0,25.4,6.35,-19.05\n270,11.43,4.318,25.4,25.4,3.048,-22.352\n0,4.826,4.318,0,25.4,6.604,-18.796\n90,17.78,4.318,25.4,25.4,3.048,-22.352\n270,4.826,20.32,25.4,25.4,16.002,-9.398\n0,7.874,7.366,0,25.4,6.604,-18.796\n270,7.874,17.272,25.4,25.4,9.906,-15.494\n180,17.78,17.272,0,25.4,9.906,-15.494\n270,17.78,23.368,25.4,25.4,6.096,-19.304\n180,24.13,4.318,0,25.4,6.35,-19.05\n90,24.13,1.27,25.4,25.4,3.048,-22.352\n0,14.478,1.27,0,25.4,9.652,-15.748\n270,14.478,10.668,25.4,25.4,9.398,-16.002\n270,17.78,13.97,25.4,25.4,3.302,-22.098\n0,11.43,13.97,0,25.4,6.35,-19.05\n90,11.43,10.668,25.4,25.4,3.302,-22.098\n90,1.778,1.27,25.4,25.4,22.098,-3.302\n")),i(N.ParsePatFile("\n*MAZE-02\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,22.859999746,2.54,25.4,25.4,2.54,-22.86\n0,17.779999746,2.54,0,25.4,5.08,-20.32\n90,0,7.62,25.4,25.4,12.7,-12.7\n270,22.859999746,22.86,25.4,25.4,12.7,-12.7\n270,7.619999746,22.86,25.4,25.4,2.54,-22.86\n180,7.619999746,22.86,0,25.4,10.16,-15.24\n0,5.079999746,5.08,0,25.4,3.81,-21.59\n90,5.079999746,7.62,25.4,25.4,5.08,-20.32\n180,12.699999746,7.62,0,25.4,7.62,-17.78\n90,12.699999746,2.54,25.4,25.4,5.08,-20.32\n270,17.779999746,5.08,25.4,25.4,2.54,-22.86\n0,15.239999746,5.08,0,25.4,2.54,-22.86\n270,15.239999746,7.62,25.4,25.4,2.54,-22.86\n180,17.779999746,7.62,0,25.4,2.54,-22.86\n270,15.239999746,15.24,25.4,25.4,2.54,-22.86\n0,7.619999746,15.24,0,25.4,7.62,-17.78\n90,7.619999746,10.16,25.4,25.4,5.08,-20.32\n180,17.779999746,10.16,0,25.4,10.16,-15.24\n180,15.239999746,12.7,0,25.4,5.08,-20.32\n270,20.319999746,20.32,25.4,25.4,12.7,-12.7\n0,2.539999746,2.54,0,25.4,10.16,-15.24\n0,2.539999746,20.32,0,25.4,17.78,-7.62\n270,2.539999746,5.08,25.4,25.4,2.54,-22.86\n90,2.539999746,7.62,25.4,25.4,12.7,-12.7\n180,2.539999746,5.08,0,25.4,7.62,-17.78\n180,0,7.62,0,25.4,5.080000254,-20.319999746\n180,7.619999746,0,0,25.4,7.62,-17.78\n270,17.779999746,17.78,25.4,25.4,5.08,-20.32\n0,10.159999746,0,0,25.4,10.16,-15.24\n0,5.079999746,17.78,0,25.4,12.7,-12.7\n90,5.079999746,15.24,25.4,25.4,2.54,-22.86\n270,15.239999746,2.54,25.4,25.4,2.54,-22.86\n0,10.159999746,22.86,0,25.4,10.16,-15.24\n270,10.159999746,25.4,25.4,25.4,2.54,-22.86\n")),i(N.ParsePatFile("\n*MUDST,MUDST\n0, 0,0, 12.7,6.35, 6.35,-6.35,0,-6.35,0,-6.35\n")),i(N.ParsePatFile("\n*NET,NET\n0, 0,0, 0,3.175\n90, 0,0, 0,3.175\n")),i(N.ParsePatFile("\n*NET3,NET3\n0, 0,0, 0,3.175\n60, 0,0, 0,3.175\n120, 0,0, 0,3.175\n")),i(N.ParsePatFile("\n*PLAST,PLAST\n0, 0,0, 0,6.35\n0, 0,.79375, 0,6.35\n0, 0,1.5875, 0,6.35\n")),i(N.ParsePatFile("\n*PLASTI,PLASTI\n0, 0,0, 0,6.35\n0, 0,.79375, 0,6.35\n0, 0,1.5875, 0,6.35\n0, 0,3.96875, 0,6.35\n")),i(N.ParsePatFile("\n*QCAD-LOGO\n;By John Hyslop,    Line 101 modified by CVH to fix left side of pencil drift when hatching far from Origin\n;Developed in mm as metric QCAD3 pattern\n243.434949,20.32,9.144,22.718450626,11.35922544,0.567961272,-56.22816542\n248.198591,20.828,10.414,80.18324705,4.716661636,1.36783191,-135.415354264\n263.659808,21.082,12.7,25.244646742,2.804960862,2.30006779,-227.706714766\n276.340192,20.828,14.986,204.76213556,2.804960862,2.30006779,-227.706714766\n290.556045,20.066,17.018,136.750876358,2.97284521,2.170177016,-214.847518234\n310.601295,18.542,18.796,35.815218692,2.755016842,2.341764176,-231.834664854\n324.462322,16.764,20.066,91.53339072,2.952690056,2.18499055,-216.314071054\n336.801409,14.986,20.828,136.74251925,3.335183322,1.934406342,-191.506230398\n351.869898,13.208,21.082,25.144717046,3.592102544,1.796051272,-177.809071102\n26.565051,15.494,4.572,34.077676066,11.35922544,1.703883816,-55.092242876\n7.125016,13.462,4.318,179.577488698,3.150482142,2.047813532,-202.733533318\n0,11.43,4.318,0,25.4,2.032,-23.368\n344.054604,9.652,4.826,104.668749768,3.488958224,1.84914794,-183.065643266\n336.801409,7.874,5.588,136.74251925,3.335183322,1.934406342,-191.506230398\n320.194429,6.35,6.858,162.6068376,3.252136752,1.9838035,-196.396538372\n308.659808,5.334,8.128,35.701322044,3.966813504,1.626393496,-161.0129622\n293.198591,4.572,9.906,56.698117744,3.335183322,1.934406342,-191.506230398\n285.945396,4.064,11.684,80.246041438,3.488958224,1.84914794,-183.065643266\n270,4.064,13.208,0,25.4,1.524,-23.876\n261.869898,4.318,14.986,25.144717046,3.592102544,1.796051272,-177.809071102\n246.801409,5.08,16.764,136.74251925,3.335183322,1.934406342,-191.506230398\n234.462322,6.35,18.542,91.53339072,2.952690056,2.18499055,-216.314071054\n219.805571,7.874,19.812,35.773504272,3.252136752,1.9838035,-196.396538372\n206.565051,9.398,20.574,34.077676066,11.35922544,1.703883816,-55.092242876\n195.945396,11.176,21.082,80.246041438,3.488958224,1.84914794,-183.065643266\n180,12.192,21.082,0,25.4,1.016,-24.384\n180,13.208,21.082,0,25.4,1.016,-24.384\n233.130102,23.368,6.858,91.44,5.08,1.27,-125.73\n248.198591,23.876,8.128,80.18324705,4.716661636,1.36783191,-135.415354264\n248.198591,24.384,9.398,80.18324705,4.716661636,1.36783191,-135.415354264\n260.537678,24.638,10.922,25.054405568,4.175734346,1.545021802,-152.95714646\n261.869898,24.892,12.7,25.144717046,3.592102544,1.796051272,-177.809071102\n278.130102,24.638,14.478,154.460405328,3.592102544,1.796051272,-177.809071102\n279.462322,24.384,16.002,129.447762694,4.175734346,1.545021802,-152.95714646\n288.434949,23.876,17.526,56.225296744,8.032185358,1.60643697,-78.715415594\n299.744881,22.86,19.304,148.072666262,3.150482142,2.047813532,-202.733533318\n308.659808,21.844,20.574,35.701322044,3.966813504,1.626393496,-161.0129622\n315,20.574,21.844,17.960512212,17.960512212,1.796051272,-34.124973152\n321.340192,19.304,22.86,126.938033652,3.966813504,1.626393496,-161.0129622\n329.036243,18.034,23.622,56.628832894,4.356064186,1.481061808,-146.625116452\n338.198591,16.764,24.13,80.18324705,4.716661636,1.36783191,-135.415354264\n338.198591,15.494,24.638,80.18324705,4.716661636,1.36783191,-135.415354264\n350.537678,13.97,24.892,25.054405568,4.175734346,1.545021802,-152.95714646\n0,12.7,24.892,0,25.4,1.27,-24.13\n0,11.43,24.892,0,25.4,1.27,-24.13\n11.309932,10.16,24.638,104.608346536,4.981349956,1.29515108,-128.219944728\n14.036243,9.144,24.384,80.085263502,6.160405002,1.047268924,-103.679614078\n21.801409,7.874,23.876,56.599939124,4.716661636,1.36783191,-135.415354264\n21.801409,6.604,23.368,56.599939124,4.716661636,1.36783191,-135.415354264\n36.869898,5.588,22.606,35.56,5.08,1.27,-125.73\n36.869898,4.572,21.844,35.56,5.08,1.27,-125.73\n33.690068,19.05,2.286,35.223462446,7.04469254,0.915809954,-90.665192304\n26.565051,17.526,1.524,34.077676066,11.35922544,1.703883816,-55.092242876\n21.801409,16.256,1.016,56.599939124,4.716661636,1.36783191,-135.415354264\n11.309932,14.986,0.762,104.608346536,4.981349956,1.29515108,-128.219944728\n8.130102,13.208,0.508,154.460405328,3.592102544,1.796051272,-177.809071102\n0,11.684,0.508,0,25.4,1.524,-23.876\n350.537678,10.16,0.762,25.054405568,4.175734346,1.545021802,-152.95714646\n348.690068,8.89,1.016,24.906749272,4.981349956,1.29515108,-128.219944728\n338.198591,7.62,1.524,80.18324705,4.716661636,1.36783191,-135.415354264\n333.434949,6.604,2.032,22.718450626,11.35922544,1.135922544,-55.660204148\n323.130102,5.588,2.794,91.44,5.08,1.27,-125.73\n323.130102,4.572,3.556,91.44,5.08,1.27,-125.73\n315,3.556,4.572,17.960512212,17.960512212,1.436840916,-34.484183508\n306.869898,2.794,5.588,35.56,5.08,1.27,-125.73\n306.869898,2.032,6.604,35.56,5.08,1.27,-125.73\n296.565051,1.524,7.62,34.077676066,11.35922544,1.135922544,-55.660204148\n291.801409,1.016,8.89,56.599939124,4.716661636,1.36783191,-135.415354264\n281.309932,0.762,10.16,104.608346536,4.981349956,1.29515108,-128.219944728\n281.309932,0.508,11.43,104.608346536,4.981349956,1.29515108,-128.219944728\n270,0.508,12.7,0,25.4,1.27,-24.13\n270,0.508,13.97,0,25.4,1.27,-24.13\n258.690068,0.762,15.24,24.906749272,4.981349956,1.29515108,-128.219944728\n258.690068,1.016,16.51,24.906749272,4.981349956,1.29515108,-128.219944728\n248.198591,1.524,17.78,80.18324705,4.716661636,1.36783191,-135.415354264\n243.434949,2.032,18.796,22.718450626,11.35922544,1.135922544,-55.660204148\n233.130102,2.794,19.812,91.44,5.08,1.27,-125.73\n233.130102,3.556,20.828,91.44,5.08,1.27,-125.73\n225,4.572,21.844,17.960512212,17.960512212,1.436840916,-34.484183508\n0,8.89,5.334,0,25.4,7.366,-18.034\n180,14.224,9.906,0,25.4,1.016,-24.384\n270,14.224,11.176,0,25.4,1.27,-24.13\n180,15.748,11.176,0,25.4,1.524,-23.876\n270,15.748,12.192,0,25.4,1.016,-24.384\n270,24.892,2.794,0,25.4,0.254,-25.146\n270,24.892,3.302,0,25.4,0.508,-24.892\n45,20.828,2.032,17.960512212,17.960512212,3.592102544,-32.328922134\n225,22.86,5.08,17.960512212,17.960512212,3.592102544,-32.328922134\n45,20.066,2.794,17.960512212,17.960512212,3.592102544,-32.328922134\n0,13.8209782,14.218285,0,25.4,0,-25.4\n0,14.9935692,16.1227008,0,25.4,0,-25.4\n0,16.2642042,18.3038496,0,25.4,0,-25.4\n135,24.892,3.302,17.960512212,17.960512212,12.57235865,-23.348666028\n56.309932,24.384,1.778,56.357539812,7.04469254,0.915809954,-90.665192304\n45,23.876,1.27,17.960512212,17.960512212,0.718420458,-35.202603966\n33.690068,23.114,0.762,35.223462446,7.04469254,0.915809954,-90.665192304\n18.434949,22.352,0.508,56.225296744,8.032185358,0.803218612,-79.518633952\n135.806929,22.352,0.508,-35.917462074,0.505879862,12.753228494,-1262.569616842\n289.983107,12.192,12.192,217.006845132,2.170068558,2.9729938,-294.326383914\n338.198591,13.462,13.208,80.18324705,4.716661636,2.73566382,-134.047522354\n105.945396,12.192,12.192,80.246041438,3.488958224,1.84914794,-183.065643266\n218.659808,13.462,13.208,35.701322044,3.966813504,1.626393496,-161.0129622\n336.801409,11.684,13.97,136.74251925,3.335183322,1.934406342,-191.506230398\n56.309932,16.764,19.177,56.357539812,7.04469254,0.457905104,-91.123097408\n239.036243,12.065,11.049,56.628832894,4.356064186,0.740530904,-147.365647356\n236.309932,14.478,15.24,56.357539812,7.04469254,0.457905104,-91.123097408\n236.309932,15.748,17.272,56.357539812,7.04469254,0.457905104,-91.123097408\n0,11.684,10.414,0,25.4,0,-25.4\n0,12.446,8.636,0,25.4,0.508,-24.892\n0,13.716,8.636,0,25.4,0,-25.4\n0,11.43,8.636,0,25.4,0,-25.4\n0,9.144,8.636,0,25.4,0,-25.4\n0,6.858,8.636,0,25.4,0,-25.4\n180,6.096,8.636,0,25.4,0.762,-24.638\n180,8.382,8.636,0,25.4,0.762,-24.638\n180,10.668,8.636,0,25.4,0.762,-24.638\n239.036243,11.43,9.906,56.628832894,4.356064186,1.481061808,-146.625116452\n0,11.176,11.176,0,25.4,1.27,-24.13\n341.565051,10.414,11.43,24.09655582,8.032185358,0.803218612,-79.518633952\n315,9.906,11.938,17.960512212,17.960512212,0.718420458,-35.202603966\n296.565051,9.652,12.446,34.077676066,11.35922544,0.567961272,-56.22816542\n180,9.652,12.446,0,25.4,5.334,-20.066\n240.068488,14.478,20.828,204.780260492,0.667036766,9.672031964,-957.531152498\n0,16.002,12.446,0,25.4,4.572,-20.828\n240.255119,19.05,17.78,56.708680588,3.150482142,6.143440342,-198.637906508\n")),i(N.ParsePatFile("\n*REDBACK,REDBACK\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n63.434949,18.542,19.812,22.71845063,11.35922544,0.567961272,-56.22816542\n33.690068,17.78,19.304,35.22346245,7.04469254,0.915809954,-90.6651923\n75.963757,17.526,18.288,24.6416195,6.160405002,1.047268924,-103.6796141\n0,16.764,18.288,0,25.4,0.762,-24.638\n108.434949,17.018,17.526,56.22529674,8.032185358,0.803218612,-79.51863395\n90,17.018,17.272,0,25.4,0.254,-25.146\n0,13.716,14.478,0,25.4,0.254,-25.146\n270,13.716,14.732,0,25.4,0.254,-25.146\n225,13.97,14.986,17.96051221,17.96051221,0.359210356,-35.56181432\n180,14.224,14.986,0,25.4,0.254,-25.146\n315,13.97,15.24,17.96051221,17.96051221,0.359210356,-35.56181432\n15.524111,9.398,13.97,184.9097925,1.359630758,4.745111668,-469.7660475\n0,8.89,13.97,0,25.4,0.508,-24.892\n45,8.636,13.716,17.96051221,17.96051221,0.359210356,-35.56181432\n0,7.874,13.716,0,25.4,0.762,-24.638\n26.565051,4.826,12.192,34.07767607,11.35922544,3.407767632,-53.38835906\n0,4.572,12.192,0,25.4,0.254,-25.146\n33.690068,3.81,11.684,35.22346245,7.04469254,0.915809954,-90.6651923\n32.005383,1.778,10.414,91.54141687,2.692394666,2.396231174,-237.2268895\n45,1.524,10.16,17.96051221,17.96051221,0.359210356,-35.56181432\n270,1.524,10.414,0,25.4,0.254,-25.146\n225,1.778,10.668,17.96051221,17.96051221,0.359210356,-35.56181432\n213.690068,4.064,12.192,35.22346245,7.04469254,2.747430116,-88.8335724\n243.434949,4.318,12.7,22.71845063,11.35922544,0.567961272,-56.22816542\n205.016893,8.128,14.478,56.77539445,1.534470134,4.20444803,-416.2403639\n189.462322,9.652,14.732,129.4477627,4.175734346,1.545021802,-152.9571465\n194.036243,10.668,14.986,80.0852635,6.160405002,1.047268924,-103.6796141\n194.036243,12.7,15.494,80.0852635,6.160405002,2.094537594,-102.6323452\n198.434949,14.224,16.002,56.22529674,8.032185358,1.60643697,-78.71541559\n6.340192,11.938,15.748,204.7621356,2.804960862,2.30006779,-227.7067148\n315,11.684,16.002,17.96051221,17.96051221,0.359210356,-35.56181432\n45,11.43,15.748,17.96051221,17.96051221,0.359210356,-35.56181432\n23.198591,9.652,14.986,56.69811774,3.335183322,1.934406342,-191.5062304\n0,8.89,14.986,0,25.4,0.762,-24.638\n45,8.128,14.224,17.96051221,17.96051221,1.077630814,-34.84339386\n236.309932,8.636,14.986,56.35753981,7.04469254,0.915809954,-90.6651923\n206.565051,9.144,15.24,34.07767607,11.35922544,0.567961272,-56.22816542\n206.565051,10.668,16.002,34.07767607,11.35922544,1.703883816,-55.09224288\n206.565051,11.176,16.256,34.07767607,11.35922544,0.567961272,-56.22816542\n206.565051,11.684,16.51,34.07767607,11.35922544,0.567961272,-56.22816542\n180,14.478,16.51,0,25.4,2.794,-22.606\n225,14.732,16.764,17.96051221,17.96051221,0.359210356,-35.56181432\n321.340192,13.462,17.78,126.9380337,3.966813504,1.626393496,-161.0129622\n296.565051,13.208,18.288,34.07767607,11.35922544,0.567961272,-56.22816542\n285.945396,12.7,20.066,80.24604144,3.488958224,1.84914794,-183.0656433\n254.054604,13.208,21.844,104.6687498,3.488958224,1.84914794,-183.0656433\n135,13.462,21.59,17.96051221,17.96051221,0.359210356,-35.56181432\n90,13.462,20.828,0,25.4,0.762,-24.638\n71.565051,13.208,20.066,24.09655582,8.032185358,0.803218612,-79.51863395\n105.945396,13.716,18.288,80.24604144,3.488958224,1.84914794,-183.0656433\n135,14.732,17.272,17.96051221,17.96051221,1.436840916,-34.48418351\n180,14.986,17.272,0,25.4,0.254,-25.146\n270,14.986,17.526,0,25.4,0.254,-25.146\n270,14.986,18.034,0,25.4,0.508,-24.892\n296.565051,14.732,18.542,34.07767607,11.35922544,0.567961272,-56.22816542\n278.130102,14.478,20.32,154.4604053,3.592102544,1.796051272,-177.8090711\n251.565051,14.732,21.082,24.09655582,8.032185358,0.803218612,-79.51863395\n225,14.986,21.336,17.96051221,17.96051221,0.359210356,-35.56181432\n225,15.24,21.59,17.96051221,17.96051221,0.359210356,-35.56181432\n243.434949,15.494,22.098,22.71845063,11.35922544,0.567961272,-56.22816542\n243.434949,16.002,23.114,22.71845063,11.35922544,1.135922544,-55.66020415\n243.434949,16.51,24.13,22.71845063,11.35922544,1.135922544,-55.66020415\n225,16.764,24.384,17.96051221,17.96051221,0.359210356,-35.56181432\n168.690068,20.574,23.622,24.90674927,4.981349956,3.885452986,-125.6296428\n355.601295,17.272,23.876,25.32518405,1.9480911,3.31175487,-327.8637273\n56.309932,16.764,23.114,56.35753981,7.04469254,0.915809954,-90.6651923\n56.309932,16.256,22.352,56.35753981,7.04469254,0.915809954,-90.6651923\n63.434949,16.002,21.844,22.71845063,11.35922544,0.567961272,-56.22816542\n56.309932,15.494,21.082,56.35753981,7.04469254,0.915809954,-90.6651923\n71.565051,15.24,20.32,24.09655582,8.032185358,0.803218612,-79.51863395\n90,15.24,20.066,0,25.4,0.254,-25.146\n90,15.24,19.558,0,25.4,0.508,-24.892\n90,15.24,18.796,0,25.4,0.762,-24.638\n225,15.494,19.05,17.96051221,17.96051221,0.359210356,-35.56181432\n243.434949,15.748,19.558,22.71845063,11.35922544,0.567961272,-56.22816542\n225,16.002,19.812,17.96051221,17.96051221,0.359210356,-35.56181432\n206.565051,16.51,20.066,34.07767607,11.35922544,0.567961272,-56.22816542\n206.565051,17.018,20.32,34.07767607,11.35922544,0.567961272,-56.22816542\n180,17.526,20.32,0,25.4,0.508,-24.892\n180,18.034,20.32,0,25.4,0.508,-24.892\n180,18.796,20.32,0,25.4,0.762,-24.638\n153.434949,19.304,20.066,22.71845063,11.35922544,0.567961272,-56.22816542\n135,19.558,19.812,17.96051221,17.96051221,0.359210356,-35.56181432\n135,14.224,14.224,17.96051221,17.96051221,0.359210356,-35.56181432\n26.565051,19.558,18.796,34.07767607,11.35922544,0.567961272,-56.22816542\n56.309932,19.05,18.034,56.35753981,7.04469254,0.915809954,-90.6651923\n14.036243,18.034,17.78,80.0852635,6.160405002,1.047268924,-103.6796141\n90,18.034,17.018,0,25.4,0.762,-24.638\n341.565051,17.272,17.272,24.09655582,8.032185358,0.803218612,-79.51863395\n0,17.018,17.272,0,25.4,0.254,-25.146\n90,14.224,13.97,0,25.4,0.254,-25.146\n180,14.478,13.97,0,25.4,0.254,-25.146\n225,14.732,14.224,17.96051221,17.96051221,0.359210356,-35.56181432\n270,14.732,14.478,0,25.4,0.254,-25.146\n135,14.986,14.224,17.96051221,17.96051221,0.359210356,-35.56181432\n74.475889,13.716,9.652,289.6013664,1.359630758,4.745111668,-469.7660475\n90,13.716,9.144,0,25.4,0.508,-24.892\n45,13.462,8.89,17.96051221,17.96051221,0.359210356,-35.56181432\n90,13.462,8.128,0,25.4,0.762,-24.638\n63.434949,11.938,5.08,22.71845063,11.35922544,3.407767632,-53.38835906\n90,11.938,4.826,0,25.4,0.254,-25.146\n56.309932,11.43,4.064,56.35753981,7.04469254,0.915809954,-90.6651923\n57.994617,10.16,2.032,148.0817038,2.692394666,2.396231174,-237.2268895\n45,9.906,1.778,17.96051221,17.96051221,0.359210356,-35.56181432\n180,10.16,1.778,0,25.4,0.254,-25.146\n225,10.414,2.032,17.96051221,17.96051221,0.359210356,-35.56181432\n236.309932,11.938,4.318,56.35753981,7.04469254,2.747430116,-88.8335724\n206.565051,12.446,4.572,34.07767607,11.35922544,0.567961272,-56.22816542\n244.983107,14.224,8.382,363.6694177,1.534470134,4.20444803,-416.2403639\n260.537678,14.478,9.906,25.05440557,4.175734346,1.545021802,-152.9571465\n255.963757,14.732,10.922,24.6416195,6.160405002,1.047268924,-103.6796141\n255.963757,15.24,12.954,24.6416195,6.160405002,2.094537594,-102.6323452\n251.565051,15.748,14.478,24.09655582,8.032185358,1.60643697,-78.71541559\n83.659808,15.494,12.192,25.24464674,2.804960862,2.30006779,-227.7067148\n135,15.748,11.938,17.96051221,17.96051221,0.359210356,-35.56181432\n45,15.494,11.684,17.96051221,17.96051221,0.359210356,-35.56181432\n66.801409,14.732,9.906,136.7425193,3.335183322,1.934406342,-191.5062304\n90,14.732,9.144,0,25.4,0.762,-24.638\n45,13.97,8.382,17.96051221,17.96051221,1.077630814,-34.84339386\n213.690068,14.732,8.89,35.22346245,7.04469254,0.915809954,-90.6651923\n243.434949,14.986,9.398,22.71845063,11.35922544,0.567961272,-56.22816542\n243.434949,15.748,10.922,22.71845063,11.35922544,1.703883816,-55.09224288\n243.434949,16.002,11.43,22.71845063,11.35922544,0.567961272,-56.22816542\n243.434949,16.256,11.938,22.71845063,11.35922544,0.567961272,-56.22816542\n270,16.256,14.732,0,25.4,2.794,-22.606\n225,16.51,14.986,17.96051221,17.96051221,0.359210356,-35.56181432\n128.659808,17.526,13.716,35.70132204,3.966813504,1.626393496,-161.0129622\n153.434949,18.034,13.462,22.71845063,11.35922544,0.567961272,-56.22816542\n164.054604,19.812,12.954,104.6687498,3.488958224,1.84914794,-183.0656433\n195.945396,21.59,13.462,80.24604144,3.488958224,1.84914794,-183.0656433\n315,21.336,13.716,17.96051221,17.96051221,0.359210356,-35.56181432\n0,20.574,13.716,0,25.4,0.762,-24.638\n18.434949,19.812,13.462,56.22529674,8.032185358,0.803218612,-79.51863395\n344.054604,18.034,13.97,104.6687498,3.488958224,1.84914794,-183.0656433\n315,17.018,14.986,17.96051221,17.96051221,1.436840916,-34.48418351\n270,17.018,15.24,0,25.4,0.254,-25.146\n180,17.272,15.24,0,25.4,0.254,-25.146\n180,17.78,15.24,0,25.4,0.508,-24.892\n153.434949,18.288,14.986,22.71845063,11.35922544,0.567961272,-56.22816542\n171.869898,20.066,14.732,25.14471705,3.592102544,1.796051272,-177.8090711\n198.434949,20.828,14.986,56.22529674,8.032185358,0.803218612,-79.51863395\n225,21.082,15.24,17.96051221,17.96051221,0.359210356,-35.56181432\n225,21.336,15.494,17.96051221,17.96051221,0.359210356,-35.56181432\n206.565051,21.844,15.748,34.07767607,11.35922544,0.567961272,-56.22816542\n206.565051,22.86,16.256,34.07767607,11.35922544,1.135922544,-55.66020415\n206.565051,23.876,16.764,34.07767607,11.35922544,1.135922544,-55.66020415\n225,24.13,17.018,17.96051221,17.96051221,0.359210356,-35.56181432\n281.309932,23.368,20.828,104.6083465,4.981349956,3.885452986,-125.6296428\n94.398705,23.622,17.526,305.8502981,1.9480911,3.31175487,-327.8637273\n33.690068,22.86,17.018,35.22346245,7.04469254,0.915809954,-90.6651923\n33.690068,22.098,16.51,35.22346245,7.04469254,0.915809954,-90.6651923\n26.565051,21.59,16.256,34.07767607,11.35922544,0.567961272,-56.22816542\n33.690068,20.828,15.748,35.22346245,7.04469254,0.915809954,-90.6651923\n18.434949,20.066,15.494,56.22529674,8.032185358,0.803218612,-79.51863395\n0,19.812,15.494,0,25.4,0.254,-25.146\n0,19.304,15.494,0,25.4,0.508,-24.892\n0,18.542,15.494,0,25.4,0.762,-24.638\n225,18.796,15.748,17.96051221,17.96051221,0.359210356,-35.56181432\n206.565051,19.304,16.002,34.07767607,11.35922544,0.567961272,-56.22816542\n225,19.558,16.256,17.96051221,17.96051221,0.359210356,-35.56181432\n243.434949,19.812,16.764,22.71845063,11.35922544,0.567961272,-56.22816542\n243.434949,20.066,17.272,22.71845063,11.35922544,0.567961272,-56.22816542\n270,20.066,17.78,0,25.4,0.508,-24.892\n270,20.066,18.288,0,25.4,0.508,-24.892\n270,20.066,19.05,0,25.4,0.762,-24.638\n296.565051,19.812,19.558,34.07767607,11.35922544,0.567961272,-56.22816542\n315,19.558,19.812,17.96051221,17.96051221,0.359210356,-35.56181432\n")),i(N.ParsePatFile("\n*SACNCR,SACNCR\n45, 0,0, 0,2.38125\n45, 1.6838,0, 0,2.38125, 0,-2.38125\n")),i(N.ParsePatFile("\n*SCAFFOLD\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,19.304,21.336,25.4,25.4,0.508,-24.892\n326.3099325,6.604,4.064,56.357539812,7.04469254,14.652960026,-76.928042486\n90,6.096,12.446,25.4,25.4,0.508,-24.892\n270,6.35,4.064,25.4,25.4,8.128,-17.272\n146.3099325,6.096,21.336,56.357539812,7.04469254,14.65296028,-76.928041978\n180,19.304,12.446,0,25.4,0.508,-24.892\n270,18.796,4.572,25.4,25.4,0.508,-24.892\n0,18.796,21.336,0,25.4,0.508,-24.892\n90,6.35,12.954,25.4,25.4,7.874,-17.526\n270,19.304,12.954,25.4,25.4,0.508,-24.892\n0,6.604,4.318,0,25.4,12.192,-13.208\n0,6.096,12.954,0,25.4,0.508,-24.892\n180,19.304,4.572,0,25.4,0.508,-24.892\n90,18.796,20.828,25.4,25.4,0.508,-24.892\n212.855722,6.096,12.446,514.310608918,0.444520828,14.513605212,-1436.846928942\n147.144278,6.096,4.572,937.049925236,0.444520828,14.513605212,-1436.846928942\n213.6900675,6.096,4.064,35.223462446,7.04469254,14.652959772,-76.928042486\n180,6.096,4.318,0,25.4,12.192,-13.208\n0,6.604,21.082,0,25.4,12.192,-13.208\n90,6.604,4.064,25.4,25.4,0.508,-24.892\n180,19.304,20.828,0,25.4,0.508,-24.892\n90,18.796,12.446,25.4,25.4,0.508,-24.892\n147.144278,18.796,4.572,937.049925236,0.444520828,14.513605466,-1436.846928688\n0,6.096,4.064,0,25.4,0.508,-24.892\n0,6.604,12.7,0,25.4,12.192,-13.208\n270,6.604,21.336,25.4,25.4,0.508,-24.892\n90,19.05,4.572,25.4,25.4,7.874,-17.526\n212.855722,18.796,20.828,514.310608918,0.444520828,14.513605466,-1436.846928688\n180,6.604,12.446,0,25.4,0.508,-24.892\n270,6.096,4.572,25.4,25.4,0.508,-24.892\n0,6.096,21.336,0,25.4,0.508,-24.892\n270,6.604,12.954,25.4,25.4,0.508,-24.892\n270,19.05,20.828,25.4,25.4,7.874,-17.526\n32.855722,6.604,4.572,514.310608918,0.444520828,14.513605466,-1436.846928688\n180,6.604,4.572,0,25.4,0.508,-24.892\n0,18.796,12.954,0,25.4,0.508,-24.892\n90,19.304,4.064,25.4,25.4,0.508,-24.892\n90,6.096,20.828,25.4,25.4,0.508,-24.892\n180,6.096,21.082,0,25.4,12.192,-13.208\n147.144278,6.096,12.954,937.049925236,0.444520828,14.513605212,-1436.846928942\n180,6.096,12.7,0,25.4,12.192,-13.208\n270,6.35,12.446,25.4,25.4,7.874,-17.526\n212.855722,6.096,20.828,514.310608918,0.444520828,14.513605466,-1436.846928688\n0,18.796,4.064,0,25.4,0.508,-24.892\n270,19.05,4.064,25.4,25.4,8.128,-17.272\n180,6.604,20.828,0,25.4,0.508,-24.892\n213.6900675,18.796,4.064,35.223462446,7.04469254,14.652960026,-76.928042486\n327.144278,6.604,20.828,937.049925236,0.444520828,14.513605466,-1436.846928688\n")),i(N.ParsePatFile("\n*SQUARE,SQUARE\n0, 0,0, 0,3.175, 3.175,-3.175\n90, 0,0, 0,3.175, 3.175,-3.175\n")),i(N.ParsePatFile("\n*SQUIGGLE-01,SQUIGGLE-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n45,2.794,-9.906,17.960512212,17.960512212,28.377609234,-7.54341519\n56.309932,1.778,13.97,56.357539812,7.04469254,1.831620162,-89.74938235\n81.869898,1.524,12.192,25.144717046,3.592102544,1.796051272,-177.809071102\n99.462322,1.778,10.668,129.447762694,4.175734346,1.545021802,-152.95714646\n123.690068,2.794,9.144,35.223462446,7.04469254,1.831620162,-89.74938235\n146.309932,4.318,8.128,56.357539812,7.04469254,1.831620162,-89.74938235\n170.537678,5.842,7.874,25.054405568,4.175734346,1.545021802,-152.95714646\n188.130102,7.62,8.128,154.460405328,3.592102544,1.796051272,-177.809071102\n213.690068,9.144,9.144,35.223462446,7.04469254,1.831620162,-89.74938235\n225,16.51,16.51,17.960512212,17.960512212,10.417097022,-25.503927402\n213.690068,18.034,17.526,35.223462446,7.04469254,1.831620162,-89.74938235\n189.462322,19.558,17.78,129.447762694,4.175734346,1.545021802,-152.95714646\n171.869898,21.336,17.526,25.144717046,3.592102544,1.796051272,-177.809071102\n146.309932,22.86,16.51,56.357539812,7.04469254,1.831620162,-89.74938235\n123.690068,23.876,14.986,35.223462446,7.04469254,1.831620162,-89.74938235\n99.462322,24.13,13.462,129.447762694,4.175734346,1.545021802,-152.95714646\n81.869898,23.876,11.684,25.144717046,3.592102544,1.796051272,-177.809071102\n56.309932,22.86,10.16,56.357539812,7.04469254,1.831620162,-89.74938235\n")),i(N.ParsePatFile("\n*SQUIGGLE-02,SQUIGGLE-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n75.963757,25.146,4.064,24.6416195,6.160405002,1.047268924,-103.679614078\n63.434949,24.638,3.048,22.718450626,11.35922544,1.135922544,-55.660204148\n45,23.876,2.286,17.960512212,17.960512212,1.077630814,-34.843393864\n14.036243,22.86,2.032,80.085263502,6.160405002,1.047268924,-103.679614078\n0,21.59,2.032,0,25.4,1.27,-24.13\n345.963757,20.574,2.286,24.6416195,6.160405002,1.047268924,-103.679614078\n315,19.812,3.048,17.960512212,17.960512212,1.077630814,-34.843393864\n296.565051,19.304,4.064,34.077676066,11.35922544,1.135922544,-55.660204148\n284.036243,19.05,5.08,80.085263502,6.160405002,1.047268924,-103.679614078\n281.309932,18.796,21.59,104.608346536,4.981349956,1.29515108,-128.219944728\n303.690068,18.288,22.352,35.223462446,7.04469254,0.915809954,-90.665192304\n315,17.526,23.114,17.960512212,17.960512212,1.077630814,-34.843393864\n345.963757,16.51,23.368,24.6416195,6.160405002,1.047268924,-103.679614078\n0,15.24,23.368,0,25.4,1.27,-24.13\n14.036243,14.224,23.114,80.085263502,6.160405002,1.047268924,-103.679614078\n45,13.462,22.352,17.960512212,17.960512212,1.077630814,-34.843393864\n56.309932,12.954,21.59,56.357539812,7.04469254,0.915809954,-90.665192304\n78.690068,12.7,20.32,24.906749272,4.981349956,1.29515108,-128.219944728\n75.963757,12.446,4.064,24.6416195,6.160405002,1.047268924,-103.679614078\n63.434949,11.938,3.048,22.718450626,11.35922544,1.135922544,-55.660204148\n45,11.176,2.286,17.960512212,17.960512212,1.077630814,-34.843393864\n14.036243,10.16,2.032,80.085263502,6.160405002,1.047268924,-103.679614078\n0,8.89,2.032,0,25.4,1.27,-24.13\n345.963757,7.874,2.286,24.6416195,6.160405002,1.047268924,-103.679614078\n315,7.112,3.048,17.960512212,17.960512212,1.077630814,-34.843393864\n296.565051,6.604,4.064,34.077676066,11.35922544,1.135922544,-55.660204148\n284.036243,6.35,5.08,80.085263502,6.160405002,1.047268924,-103.679614078\n281.309932,6.096,21.59,104.608346536,4.981349956,1.29515108,-128.219944728\n303.690068,5.588,22.352,35.223462446,7.04469254,0.915809954,-90.665192304\n315,4.826,23.114,17.960512212,17.960512212,1.077630814,-34.843393864\n345.963757,3.81,23.368,24.6416195,6.160405002,1.047268924,-103.679614078\n0,2.54,23.368,0,25.4,1.27,-24.13\n14.036243,1.524,23.114,80.085263502,6.160405002,1.047268924,-103.679614078\n45,0.762,22.352,17.960512212,17.960512212,1.077630814,-34.843393864\n56.309932,0.254,21.59,56.357539812,7.04469254,0.915809954,-90.665192304\n78.690068,0,20.32,24.906749272,4.981349956,1.29515108,-128.219944728\n270,19.05,20.32,0,25.4,15.24,-10.16\n270,12.7,20.32,0,25.4,15.24,-10.16\n270,6.35,20.32,0,25.4,15.24,-10.16\n270,0,20.32,0,25.4,15.24,-10.16\n")),i(N.ParsePatFile("\n*STARS,STARS\n0, 0,0, 0,5.49926, 3.175,-3.175\n60, 0,0, 0,5.49926, 3.175,-3.175\n120, 1.5875,2.74963, 0,5.49926, 3.175,-3.175\n")),i(N.ParsePatFile("\n*STEEL,STEEL\n45, 0,0, 0,3.175\n45, 0,1.5875, 0,3.175\n")),i(N.ParsePatFile("\n*SWAMP,SWAMP\n0, 0,0, 12.7,21.997, 3.175,-22.225\n90, 1.5875,0, 21.997,12.7, 1.5875,-42.4066\n90, 1.98438,0, 21.997,12.7, 1.27,-42.7241\n90, 1.19062,0, 21.997,12.7, 1.27,-42.7241\n60, 2.38125,0, 12.7,21.997, 1.016,-24.384\n120, .79375,0, 12.7,21.997, 1.016,-24.384\n")),i(N.ParsePatFile("\n*TRANS,TRANS\n0, 0,0, 0,6.35\n0, 0,3.175, 0,6.35, 3.175,-3.175\n")),i(N.ParsePatFile("\n*TRI-OVERLAP\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n59.641885,2.286000254,3.81,1206.700468992,0.313103514,20.605334202,-2039.928082188\n300.358115,12.7,21.590000254,853.832947398,0.313103514,20.605334202,-2039.928082188\n180,9.129485678,15.494,0,25.4,18.258981262,-7.141018738\n59.036243,22.737590288,4.452650734,56.628832894,4.356064186,5.17479407,-142.931383936\n180,23.114,3.81,0,25.4,20.827999746,-4.572000254\n300.963757,0,8.89,91.477345366,4.356064186,5.174794324,-142.931383682\n300.784147,3.048,3.81,148.105450296,0.464280504,13.89591328,-1375.695350204\n239.215853,22.352,3.81,1241.485813188,0.464280504,13.89591328,-1375.695350204\n")),i(N.ParsePatFile("\n*TRIANG,TRIANG\n60, 0,0, 4.7625,8.24889, 4.7625,-4.7625\n120, 0,0, 4.76250001,8.24889, 4.7625,-4.7625\n0, -2.38125,4.12445, 4.7625,8.24889, 4.7625,-4.7625\n")),i(N.ParsePatFile("\n*WEATHERBOARD,WEATHERBOARD\n; By John Hyslop,    Manually Entered QCAD3 pattern\n; Developed in mm as metric QCAD3 pattern\n; Metric Hatch Scale 1 Makes 152mm horizontally placed boards\n; with a 13mm offset line to simulate a rounded edge\n0,0,0,0,152\n0,0,13,0,152\n")),i(N.ParsePatFile("\n*WEAVING,WEAVING\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n90,22.86,5.08,0,25.4,1.27,-24.13\n75.963757,22.352,3.048,24.6416195,6.160405002,2.094537594,-102.632345154\n66.801409,21.59,1.27,136.74251925,3.335183322,1.934406342,-191.506230398\n54.462322,20.32,-0.508,91.53339072,2.952690056,2.18499055,-216.314071054\n56.309932,19.304,-2.032,56.357539812,7.04469254,1.831620162,-89.74938235\n90,20.066,5.588,0,25.4,1.778,-23.622\n80.537678,19.812,4.064,25.054405568,4.175734346,1.545021802,-152.95714646\n63.434949,19.05,2.54,22.718450626,11.35922544,1.703883816,-55.092242876\n56.309932,18.034,1.016,56.357539812,7.04469254,1.831620162,-89.74938235\n56.309932,17.018,-0.508,56.357539812,7.04469254,1.831620162,-89.74938235\n333.434949,21.844,6.858,22.718450626,11.35922544,1.703883816,-55.092242876\n344.054604,20.066,7.366,104.668749768,3.488958224,1.84914794,-183.065643266\n0,18.034,7.366,0,25.4,2.032,-23.368\n9.462322,16.51,7.112,129.447762694,4.175734346,1.545021802,-152.95714646\n26.565051,14.986,6.35,34.077676066,11.35922544,1.703883816,-55.092242876\n38.659808,13.716,5.334,35.701322044,3.966813504,1.626393496,-161.0129622\n36.869898,11.684,3.81,35.56,5.08,2.54,-124.46\n20.556045,9.652,3.048,136.750876358,2.97284521,2.170177016,-214.847518234\n330.255119,23.114,9.398,56.708680588,3.150482142,2.047813532,-202.733533318\n344.054604,21.336,9.906,104.668749768,3.488958224,1.84914794,-183.065643266\n352.874984,19.304,10.16,25.203858152,3.150482142,2.047813532,-202.733533318\n0,17.526,10.16,0,25.4,1.778,-23.622\n14.036243,15.494,9.652,80.085263502,6.160405002,2.094537594,-102.632345154\n26.565051,13.462,8.636,34.077676066,11.35922544,2.271845088,-54.524281604\n33.690068,11.938,7.62,35.223462446,7.04469254,1.831620162,-89.74938235\n35.537678,10.16,6.35,126.965671138,2.952690056,2.18499055,-216.314071054\n0,5.08,2.54,0,25.4,1.27,-24.13\n348.690068,3.81,2.794,24.906749272,4.981349956,1.29515108,-128.219944728\n341.565051,3.048,3.048,24.09655582,8.032185358,0.803218612,-79.518633952\n336.801409,1.27,3.81,136.74251925,3.335183322,1.934406342,-191.506230398\n326.309932,-0.254,4.826,56.357539812,7.04469254,1.831620162,-89.74938235\n324.462322,-2.032,6.096,91.53339072,2.952690056,2.18499055,-216.314071054\n0,5.588,5.334,0,25.4,1.778,-23.622\n350.537678,4.064,5.588,25.054405568,4.175734346,1.545021802,-152.95714646\n333.434949,2.54,6.35,22.718450626,11.35922544,1.703883816,-55.092242876\n326.309932,1.016,7.366,56.357539812,7.04469254,1.831620162,-89.74938235\n326.309932,-0.508,8.382,56.357539812,7.04469254,1.831620162,-89.74938235\n60.255119,16.002,23.114,56.708680588,3.150482142,2.047813532,-202.733533318\n180,20.066,20.066,0,25.4,2.032,-23.368\n164.054604,21.844,19.558,104.668749768,3.488958224,1.84914794,-183.065643266\n153.434949,23.368,18.796,22.718450626,11.35922544,1.703883816,-55.092242876\n330.255119,23.114,22.098,56.708680588,3.150482142,2.047813532,-202.733533318\n345.963757,21.082,22.606,24.6416195,6.160405002,2.094537594,-102.632345154\n352.874984,19.05,22.86,25.203858152,3.150482142,2.047813532,-202.733533318\n60.255119,18.288,21.59,56.708680588,3.150482142,2.047813532,-202.733533318\n80.537678,18.034,20.066,25.054405568,4.175734346,1.545021802,-152.95714646\n90,18.034,18.034,0,25.4,2.032,-23.368\n104.036243,18.542,16.002,80.085263502,6.160405002,2.094537594,-102.632345154\n116.565051,19.304,14.478,34.077676066,11.35922544,1.703883816,-55.092242876\n129.805571,20.574,12.954,35.773504272,3.252136752,1.9838035,-196.396538372\n123.690068,21.59,11.43,35.223462446,7.04469254,1.831620162,-89.74938235\n113.198591,22.352,9.652,56.698117744,3.335183322,1.934406342,-191.506230398\n309.805571,18.034,11.684,35.773504272,3.252136752,1.9838035,-196.396538372\n305.537678,16.764,13.462,126.965671138,2.952690056,2.18499055,-216.314071054\n299.744881,15.748,15.24,148.072666262,3.150482142,2.047813532,-202.733533318\n285.945396,15.24,17.018,80.246041438,3.488958224,1.84914794,-183.065643266\n270,15.24,19.304,0,25.4,2.286,-23.114\n74.054604,15.494,21.336,104.668749768,3.488958224,1.84914794,-183.065643266\n82.874984,15.24,19.304,25.203858152,3.150482142,2.047813532,-202.733533318\n39.805571,13.716,18.034,35.773504272,3.252136752,1.9838035,-196.396538372\n35.537678,11.938,16.764,126.965671138,2.952690056,2.18499055,-216.314071054\n33.690068,10.414,15.748,35.223462446,7.04469254,1.831620162,-89.74938235\n15.945396,8.636,15.24,80.246041438,3.488958224,1.84914794,-183.065643266\n6.340192,6.35,14.986,204.76213556,2.804960862,2.30006779,-227.706714766\n350.537678,4.826,15.24,25.054405568,4.175734346,1.545021802,-152.95714646\n344.054604,3.048,15.748,104.668749768,3.488958224,1.84914794,-183.065643266\n23.198591,13.97,21.59,56.698117744,3.335183322,1.934406342,-191.506230398\n29.744881,12.192,20.574,148.072666262,3.150482142,2.047813532,-202.733533318\n39.805571,10.668,19.304,35.773504272,3.252136752,1.9838035,-196.396538372\n29.744881,8.89,18.288,148.072666262,3.150482142,2.047813532,-202.733533318\n7.125016,6.858,18.034,179.577488698,3.150482142,2.047813532,-202.733533318\n0,5.334,18.034,0,25.4,1.524,-23.876\n344.054604,3.556,18.542,104.668749768,3.488958224,1.84914794,-183.065643266\n333.434949,2.54,19.05,22.718450626,11.35922544,1.135922544,-55.660204148\n234.462322,7.874,-0.254,91.53339072,2.952690056,2.18499055,-216.314071054\n240.255119,8.89,1.524,56.708680588,3.150482142,2.047813532,-202.733533318\n243.434949,9.906,3.556,22.718450626,11.35922544,2.271845088,-54.524281604\n262.874984,10.16,5.588,25.203858152,3.150482142,2.047813532,-202.733533318\n270,10.16,7.62,0,25.4,2.032,-23.368\n282.528808,9.652,9.906,104.69063898,2.755016842,2.341764176,-231.834664854\n293.198591,8.89,11.684,56.698117744,3.335183322,1.934406342,-191.506230398\n309.805571,7.62,13.208,35.773504272,3.252136752,1.9838035,-196.396538372\n305.537678,6.35,14.986,126.965671138,2.952690056,2.18499055,-216.314071054\n270,5.334,19.812,0,25.4,1.778,-23.622\n254.054604,5.842,21.59,104.668749768,3.488958224,1.84914794,-183.065643266\n246.801409,6.604,23.368,136.74251925,3.335183322,1.934406342,-191.506230398\n236.309932,5.334,1.016,56.357539812,7.04469254,1.831620162,-89.74938235\n234.462322,6.604,2.794,91.53339072,2.952690056,2.18499055,-216.314071054\n249.443955,7.366,4.826,80.266818638,2.97284521,2.170177016,-214.847518234\n270,7.366,6.858,0,25.4,2.032,-23.368\n278.130102,7.112,8.636,154.460405328,3.592102544,1.796051272,-177.809071102\n296.565051,6.096,10.668,34.077676066,11.35922544,2.271845088,-54.524281604\n309.805571,4.826,12.192,35.773504272,3.252136752,1.9838035,-196.396538372\n303.690068,3.81,13.716,35.223462446,7.04469254,1.831620162,-89.74938235\n290.556045,3.048,15.748,136.750876358,2.97284521,2.170177016,-214.847518234\n341.565051,1.524,16.256,24.09655582,8.032185358,1.60643697,-78.715415594\n324.462322,-0.254,17.526,91.53339072,2.952690056,2.18499055,-216.314071054\n324.462322,-2.032,18.796,91.53339072,2.952690056,2.18499055,-216.314071054\n146.309932,1.016,20.066,56.357539812,7.04469254,1.831620162,-89.74938235\n146.309932,2.54,19.05,56.357539812,7.04469254,1.831620162,-89.74938235\n262.874984,2.794,21.082,25.203858152,3.150482142,2.047813532,-202.733533318\n255.963757,3.302,23.114,24.6416195,6.160405002,2.094537594,-102.632345154\n240.255119,4.318,24.892,56.708680588,3.150482142,2.047813532,-202.733533318\n")),i(N.ParsePatFile("\n*WIRE-FENCE\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n315,11.684,12.7,17.960512212,17.960512212,1.186955462,-34.734068962\n315,13.353142966,14.332857034,17.960512212,17.960512212,1.231577928,-34.689446496\n3.731397,12.767918076,14.294690232,381.845330542,0.55100347,0.586467966,-1170.2956782\n183.17983,11.77579941,14.229987034,432.544118908,1.408938508,23.016097986,-434.888914066\n183.17983,11.714581854,13.209697736,432.544118908,1.408938508,23.012451308,-434.892560744\n153.434949,13.208,12.954,22.718450626,11.35922544,0.567961272,-56.22816542\n266.593556,13.208,12.954,432.546308388,0.301846742,25.69937837,-2111.67704156\n266.593556,14.224,13.462,432.546308388,0.301846742,25.69937837,-2111.67704156\n2.602562,12.523304392,11.860695608,534.003174054,1.153354564,0.622066574,-558.754908396\n")),i(N.ParsePatFile("\n*XMASTREE-01,XMASTREE-01\n;By John Hyslop\n;Developed in mm as metric QCAD3 pattern\n180,1.016,24.13,0,25.4,1.016,-24.384\n90,1.016,20.828,0,25.4,3.302,-22.098\n180,8.382,20.828,0,25.4,7.366,-18.034\n49.763642,5.588,17.526,198.374734568,1.491539308,4.325464044,-428.2209495\n180,7.112,17.526,0,25.4,1.524,-23.876\n51.340192,4.064,13.716,126.938033652,3.966813504,4.879180742,-157.760174954\n180,5.588,13.716,0,25.4,1.524,-23.876\n52.431408,3.048,10.414,126.990557296,1.548665432,4.165909626,-412.425064658\n180,4.318,10.414,0,25.4,1.27,-24.13\n53.130102,2.032,7.366,91.44,5.08,3.81,-123.19\n180,3.302,7.366,0,25.4,1.27,-24.13\n53.972627,1.27,4.572,218.491081432,1.867445084,3.454773634,-342.02257732\n180,2.54,4.572,0,25.4,1.27,-24.13\n54.462322,0,1.016,91.53339072,2.952690056,4.369981354,-214.129080504\n0,24.384,24.13,0,25.4,1.016,-24.384\n90,24.384,20.828,0,25.4,3.302,-22.098\n0,17.018,20.828,0,25.4,7.366,-18.034\n130.236358,19.812,17.526,234.17167923,1.491539308,4.325464044,-428.2209495\n0,18.288,17.526,0,25.4,1.524,-23.876\n128.659808,21.336,13.716,35.701322044,3.966813504,4.879180742,-157.760174954\n0,19.812,13.716,0,25.4,1.524,-23.876\n127.568592,22.352,10.414,289.600417242,1.548665432,4.165909626,-412.425064658\n0,21.082,10.414,0,25.4,1.27,-24.13\n126.869898,23.368,7.366,35.56,5.08,3.81,-123.19\n0,22.098,7.366,0,25.4,1.27,-24.13\n126.027373,24.13,4.572,126.986269522,1.867445084,3.454773634,-342.02257732\n0,22.86,4.572,0,25.4,1.27,-24.13\n125.537678,25.4,1.016,126.965671138,2.952690056,4.369981354,-214.129080504\n0,11.684,1.016,0,25.4,1.016,-24.384\n270,11.684,4.318,0,25.4,3.302,-22.098\n0,4.318,4.318,0,25.4,7.366,-18.034\n229.763642,7.112,7.62,198.374734568,1.491539308,4.325464044,-428.2209495\n0,5.588,7.62,0,25.4,1.524,-23.876\n231.340192,8.636,11.43,126.938033652,3.966813504,4.879180742,-157.760174954\n0,7.112,11.43,0,25.4,1.524,-23.876\n232.431408,9.652,14.732,126.990557296,1.548665432,4.165909626,-412.425064658\n0,8.382,14.732,0,25.4,1.27,-24.13\n233.130102,10.668,17.78,91.44,5.08,3.81,-123.19\n0,9.398,17.78,0,25.4,1.27,-24.13\n233.972627,11.43,20.574,218.491081432,1.867445084,3.454773634,-342.02257732\n0,10.16,20.574,0,25.4,1.27,-24.13\n234.462322,12.7,24.13,91.53339072,2.952690056,4.369981354,-214.129080504\n180,13.716,1.016,0,25.4,1.016,-24.384\n270,13.716,4.318,0,25.4,3.302,-22.098\n180,21.082,4.318,0,25.4,7.366,-18.034\n310.236358,18.288,7.62,234.17167923,1.491539308,4.325464044,-428.2209495\n180,19.812,7.62,0,25.4,1.524,-23.876\n308.659808,16.764,11.43,35.701322044,3.966813504,4.879180742,-157.760174954\n180,18.288,11.43,0,25.4,1.524,-23.876\n307.568592,15.748,14.732,289.600417242,1.548665432,4.165909626,-412.425064658\n180,17.018,14.732,0,25.4,1.27,-24.13\n306.869898,14.732,17.78,35.56,5.08,3.81,-123.19\n180,16.002,17.78,0,25.4,1.27,-24.13\n306.027373,13.97,20.574,126.986269522,1.867445084,3.454773634,-342.02257732\n180,15.24,20.574,0,25.4,1.27,-24.13\n305.537678,12.7,24.13,126.965671138,2.952690056,4.369981354,-214.129080504\n")),i(N.ParsePatFile("\n*XMASTREE-02,XMASTREE-02\n;By John Hyslop\n;Developed in mm as metric QCAD3 pattern\n180,1.016,6.604,0,25.4,1.016,-24.384\n90,1.016,3.302,0,25.4,3.302,-22.098\n180,8.382,3.302,0,25.4,7.366,-18.034\n49.763642,5.588,0,198.374734568,1.491539308,4.325464044,-428.2209495\n180,7.112,25.4,0,25.4,1.524,-23.876\n51.340192,4.064,21.59,126.938033652,3.966813504,4.879180742,-157.760174954\n180,5.588,21.59,0,25.4,1.524,-23.876\n52.431408,3.048,18.288,126.990557296,1.548665432,4.165909626,-412.425064658\n180,4.318,18.288,0,25.4,1.27,-24.13\n53.130102,2.032,15.24,91.44,5.08,3.81,-123.19\n180,3.302,15.24,0,25.4,1.27,-24.13\n53.972627,1.27,12.446,218.491081432,1.867445084,3.454773634,-342.02257732\n180,2.54,12.446,0,25.4,1.27,-24.13\n54.462322,0,8.89,91.53339072,2.952690056,4.369981354,-214.129080504\n0,24.384,6.604,0,25.4,1.016,-24.384\n90,24.384,3.302,0,25.4,3.302,-22.098\n0,17.018,3.302,0,25.4,7.366,-18.034\n130.236358,19.812,0,234.17167923,1.491539308,4.325464044,-428.2209495\n0,18.288,25.4,0,25.4,1.524,-23.876\n128.659808,21.336,21.59,35.701322044,3.966813504,4.879180742,-157.760174954\n0,19.812,21.59,0,25.4,1.524,-23.876\n127.568592,22.352,18.288,289.600417242,1.548665432,4.165909626,-412.425064658\n0,21.082,18.288,0,25.4,1.27,-24.13\n126.869898,23.368,15.24,35.56,5.08,3.81,-123.19\n0,22.098,15.24,0,25.4,1.27,-24.13\n126.027373,24.13,12.446,126.986269522,1.867445084,3.454773634,-342.02257732\n0,22.86,12.446,0,25.4,1.27,-24.13\n125.537678,25.4,8.89,126.965671138,2.952690056,4.369981354,-214.129080504\n0,11.684,2.286,0,25.4,1.016,-24.384\n270,11.684,5.588,0,25.4,3.302,-22.098\n0,4.318,5.588,0,25.4,7.366,-18.034\n229.763642,7.112,8.89,198.374734568,1.491539308,4.325464044,-428.2209495\n0,5.588,8.89,0,25.4,1.524,-23.876\n231.340192,8.636,12.7,126.938033652,3.966813504,4.879180742,-157.760174954\n0,7.112,12.7,0,25.4,1.524,-23.876\n232.431408,9.652,16.002,126.990557296,1.548665432,4.165909626,-412.425064658\n0,8.382,16.002,0,25.4,1.27,-24.13\n233.130102,10.668,19.05,91.44,5.08,3.81,-123.19\n0,9.398,19.05,0,25.4,1.27,-24.13\n233.972627,11.43,21.844,218.491081432,1.867445084,3.454773634,-342.02257732\n0,10.16,21.844,0,25.4,1.27,-24.13\n234.462322,12.7,25.4,91.53339072,2.952690056,4.369981354,-214.129080504\n180,13.716,2.286,0,25.4,1.016,-24.384\n270,13.716,5.588,0,25.4,3.302,-22.098\n180,21.082,5.588,0,25.4,7.366,-18.034\n310.236358,18.288,8.89,234.17167923,1.491539308,4.325464044,-428.2209495\n180,19.812,8.89,0,25.4,1.524,-23.876\n308.659808,16.764,12.7,35.701322044,3.966813504,4.879180742,-157.760174954\n180,18.288,12.7,0,25.4,1.524,-23.876\n307.568592,15.748,16.002,289.600417242,1.548665432,4.165909626,-412.425064658\n180,17.018,16.002,0,25.4,1.27,-24.13\n306.869898,14.732,19.05,35.56,5.08,3.81,-123.19\n180,16.002,19.05,0,25.4,1.27,-24.13\n306.027373,13.97,21.844,126.986269522,1.867445084,3.454773634,-342.02257732\n180,15.24,21.844,0,25.4,1.27,-24.13\n305.537678,12.7,25.4,126.965671138,2.952690056,4.369981354,-214.129080504\n")),i(N.ParsePatFile("\n*ZIGZAG,ZIGZAG\n0, 0,0, 3.175,3.175, 3.175,-3.175\n90, 3.175,0, 3.175,3.175, 3.175,-3.175\n")),i(N.ParsePatFile("\n*ACAD_ISO02W100,ACAD_ISO02W100\n0, 0,0, 0,5, 12,-3\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO03W100,ACAD_ISO03W100\n0, 0,0, 0,5, 12,-18\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO04W100,ACAD_ISO04W100\n0, 0,0, 0,5, 24,-3,.5,-3\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO05W100,ACAD_ISO05W100\n0, 0,0, 0,5, 24,-3,.5,-3,.5,-3\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO06W100,ACAD_ISO06W100\n0, 0,0, 0,5, 24,-3,.5,-3,.5,-6.5\n0, 0,0, 0,5, -34,.5,-3\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO07W100,ACAD_ISO07W100\n0, 0,0, 0,5, .5,-3\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO08W100,ACAD_ISO08W100\n0, 0,0, 0,5, 24,-3,6,-3\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO09W100,ACAD_ISO09W100\n0, 0,0, 0,5, 24,-3,6,-3,6,-3\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO10W100,ACAD_ISO10W100\n0, 0,0, 0,5, 12,-3,.5,-3\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO11W100,ACAD_ISO11W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-3\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO12W100,ACAD_ISO12W100\n0, 0,0, 0,5, 12,-3,.5,-3,.5,-3\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO13W100,ACAD_ISO13W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-6.5\n0, 0,0, 0,5, -33.5,.5,-3\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO14W100,ACAD_ISO14W100\n0, 0,0, 0,5, 12,-3,.5,-3,.5,-6.5\n0, 0,0, 0,5, -22,.5,-3\n"),!1),i(N.ParsePatFile("\n*ACAD_ISO15W100,ACAD_ISO15W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-10\n0, 0,0, 0,5, -33.5,.5,-3,.5,-3\n"),!1),i(N.ParsePatFile("\n*ANGLE,ANGLE\n0, 0,0, 0,.275, .2,-.075\n90, 0,0, 0,.275, .2,-.075\n"),!1),i(N.ParsePatFile("\n*ANSI31,ANSI31\n45, 0,0, 0,.125\n"),!1),i(N.ParsePatFile("\n*ANSI32,ANSI32\n45, 0,0, 0,.375\n45, .1767767,0, 0,.375\n"),!1),i(N.ParsePatFile("\n*ANSI33,ANSI33\n45, 0,0, 0,.25\n45, .1767767,0, 0,.25, .125,-.0625\n"),!1),i(N.ParsePatFile("\n*ANSI34,ANSI34\n45, 0,0, 0,.75\n45, .1767767,0, 0,.75\n45, .35355339,0, 0,.75\n45, .53033009,0, 0,.75\n"),!1),i(N.ParsePatFile("\n*ANSI35,ANSI35\n45, 0,0, 0,.25\n45, .1767767,0, 0,.25, .3125,-.0625,0,-.0625\n"),!1),i(N.ParsePatFile("\n*ANSI36,ANSI36\n45, 0,0, .21875,.125, .3125,-.0625,0,-.0625\n"),!1),i(N.ParsePatFile("\n*ANSI37,ANSI37\n45, 0,0, 0,.125\n135, 0,0, 0,.125\n"),!1),i(N.ParsePatFile("\n*ANSI38,ANSI38\n45, 0,0, 0,.125\n135, 0,0, .25,.125, .3125,-.1875\n"),!1),i(N.ParsePatFile("\n*AR-B816C,AR-B816C\n0, 0,0, 8,8, 15.625,-.375\n0, -8,.375, 8,8, 15.625,-.375\n90, 0,0, 8,8, -8.375,7.625\n90, -.375,0, 8,8, -8.375,7.625\n"),!1),i(N.ParsePatFile("\n*AR-B816,AR-B816\n0, 0,0, 0,8\n90, 0,0, 8,8, 8,-8\n"),!1),i(N.ParsePatFile("\n*AR-B88,AR-B88\n0, 0,0, 0,8\n90, 0,0, 8,4, 8,-8\n"),!1),i(N.ParsePatFile("\n*AR-BRELM,AR-BRELM\n0, 0,0, 0,5.334, 7.625,-.375\n0, 0,2.25, 0,5.334, 7.625,-.375\n0, 2,2.667, 0,5.334, 3.625,-.375\n0, 2,4.917, 0,5.334, 3.625,-.375\n90, 0,0, 0,8, 2.25,-3.084\n90, -.375,0, 0,8, 2.25,-3.084\n90, 2,2.667, 0,4, 2.25,-3.084\n90, 1.625,2.667, 0,4, 2.25,-3.084\n"),!1),i(N.ParsePatFile("\n*AR-BRSTD,AR-BRSTD\n0, 0,0, 0,2.667\n90, 0,0, 2.667,4, 2.667,-2.667\n"),!1),i(N.ParsePatFile("\n*AR-CONC-01,AR-CONC-01\n;Optimize to replace existing AR-CONC Pattern\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n243.434949,0.3,0.8,8.9442719,4.472136,0.2236068,-22.137073\n90,0.3,0.6,0,10,0.2,-9.8\n0,0.2,0.6,0,10,0.1,-9.9\n315,0.1,0.1,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,0.3,0.2,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,0.2,0,8.9442719,4.472136,0.2236068,-22.137073\n45,2,0.4,7.0710678,7.0710678,0.2828427,-13.8592929\n161.565051,2.3,0.3,9.486833,3.1622777,0.3162278,-31.3065488\n288.434949,2.2,0.6,22.1359436,3.1622777,0.3162278,-31.3065488\n315,2.3,0.9,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,2.5,1,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,2.4,0.8,8.9442719,4.472136,0.2236068,-22.137073\n270,4.1,0.6,0,10,0.2,-9.8\n45,3.9,0.4,7.0710678,7.0710678,0.2828427,-13.8592929\n180,4.1,0.4,0,10,0.2,-9.8\n333.434949,3.9,0.2,8.9442719,4.472136,0.2236068,-22.137073\n225,4,0.3,7.0710678,7.0710678,0.1414214,-14.0007143\n116.565051,4.1,0.1,13.4164079,4.472136,0.2236068,-22.137073\n198.434949,6.3,0.8,22.1359436,3.1622777,0.3162278,-31.3065488\n63.434949,6.2,0.6,8.9442719,4.472136,0.2236068,-22.137073\n333.434949,6,0.7,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,5.7,0,13.4164079,4.472136,0.2236068,-22.137073\n251.565051,5.8,0.3,9.486833,3.1622777,0.3162278,-31.3065488\n116.565051,5.9,0.1,13.4164079,4.472136,0.2236068,-22.137073\n45,6.7,0.1,7.0710678,7.0710678,0.2828427,-13.8592929\n161.565051,7,0,9.486833,3.1622777,0.3162278,-31.3065488\n288.434949,6.9,0.3,22.1359436,3.1622777,0.3162278,-31.3065488\n315,3,2.8,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,3.2,2.9,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,3.1,2.7,8.9442719,4.472136,0.2236068,-22.137073\n45,1.1,0.8,7.0710678,7.0710678,0.2828427,-13.8592929\n180,1.3,0.8,0,10,0.2,-9.8\n270,1.3,1,0,10,0.2,-9.8\n225,1.8,2.4,7.0710678,7.0710678,0.1414214,-14.0007143\n270,1.8,2.6,0,10,0.2,-9.8\n71.565051,1.7,2.3,9.486833,3.1622777,0.3162278,-31.3065488\n198.434949,1,2.1,22.1359436,3.1622777,0.3162278,-31.3065488\n63.434949,0.9,1.9,8.9442719,4.472136,0.2236068,-22.137073\n333.434949,0.7,2,8.9442719,4.472136,0.2236068,-22.137073\n0,3.5,2.2,0,10,0.2,-9.8\n225,3.7,2.4,7.0710678,7.0710678,0.2828427,-13.8592929\n90,3.7,2.2,0,10,0.2,-9.8\n315,4.5,1.7,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,4.7,1.8,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,4.6,1.6,8.9442719,4.472136,0.2236068,-22.137073\n315,5.5,2.1,7.0710678,7.0710678,0.1414214,-14.0007143\n270,5.5,2.3,0,10,0.2,-9.8\n108.434949,5.6,2,22.1359436,3.1622777,0.3162278,-31.3065488\n206.565051,6.9,2.7,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,6.8,2.5,8.9442719,4.472136,0.2236068,-22.137073\n315,6.7,2.6,7.0710678,7.0710678,0.1414214,-14.0007143\n333.434949,7.3,1.9,8.9442719,4.472136,0.2236068,-22.137073\n225,7.4,2,7.0710678,7.0710678,0.1414214,-14.0007143\n116.565051,7.5,1.8,13.4164079,4.472136,0.2236068,-22.137073\n26.565051,8.2,1.5,13.4164079,4.472136,0.2236068,-22.137073\n153.434949,8.4,1.4,8.9442719,4.472136,0.2236068,-22.137073\n270,8.4,1.6,0,10,0.2,-9.8\n180,9.3,1.7,0,10,0.1,-9.9\n270,9.3,1.8,0,10,0.1,-9.9\n45,9.2,1.7,7.0710678,7.0710678,0.1414214,-14.0007143\n153.434949,9.3,2.4,8.9442719,4.472136,0.2236068,-22.137073\n270,9.3,2.7,0,10,0.3,-9.7\n45,9.1,2.5,7.0710678,7.0710678,0.2828427,-13.8592929\n206.565051,9.1,3.5,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,9,3.3,8.9442719,4.472136,0.2236068,-22.137073\n315,8.9,3.4,7.0710678,7.0710678,0.1414214,-14.0007143\n180,6.5,2.9,0,10,0.2,-9.8\n270,6.5,3.2,0,10,0.3,-9.7\n56.309932,6.3,2.9,22.1880078,2.773501,0.3605551,-35.6949576\n198.434949,5.4,3.8,22.1359436,3.1622777,0.3162278,-31.3065488\n71.565051,5.3,3.5,9.486833,3.1622777,0.3162278,-31.3065488\n315,5.1,3.7,7.0710678,7.0710678,0.2828427,-13.8592929\n180,3.8,3.3,0,10,0.3,-9.7\n270,3.8,3.6,0,10,0.3,-9.7\n45,3.5,3.3,7.0710678,7.0710678,0.4242641,-13.7178716\n225,3.3,4.3,7.0710678,7.0710678,0.2828427,-13.8592929\n90,3.3,4.1,0,10,0.2,-9.8\n0,3.1,4.1,0,10,0.2,-9.8\n206.565051,1.6,3.9,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,1.5,3.7,8.9442719,4.472136,0.2236068,-22.137073\n315,1.4,3.8,7.0710678,7.0710678,0.1414214,-14.0007143\n108.434949,1,3.7,22.1359436,3.1622777,0.3162278,-31.3065488\n341.565051,0.7,3.8,9.486833,3.1622777,0.3162278,-31.3065488\n225,0.9,4,7.0710678,7.0710678,0.2828427,-13.8592929\n270,1.5,4.5,0,10,0.2,-9.8\n45,1.3,4.3,7.0710678,7.0710678,0.2828427,-13.8592929\n180,1.5,4.3,0,10,0.2,-9.8\n315,3.6,4.7,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,3.8,4.8,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,3.7,4.6,8.9442719,4.472136,0.2236068,-22.137073\n0,5.1,4,0,10,0.1,-9.9\n225,5.2,4.1,7.0710678,7.0710678,0.1414214,-14.0007143\n90,5.2,4,0,10,0.1,-9.9\n0,6.9,3.8,0,10,0.2,-9.8\n243.434949,7,4,8.9442719,4.472136,0.2236068,-22.137073\n116.565051,7.1,3.8,13.4164079,4.472136,0.2236068,-22.137073\n26.565051,7.3,4.5,13.4164079,4.472136,0.2236068,-22.137073\n116.565051,7.4,4.3,13.4164079,4.472136,0.2236068,-22.137073\n251.565051,7.5,4.6,9.486833,3.1622777,0.3162278,-31.3065488\n63.434949,8.8,3.6,8.9442719,4.472136,0.2236068,-22.137073\n180,9,3.6,0,10,0.2,-9.8\n296.565051,8.9,3.8,13.4164079,4.472136,0.2236068,-22.137073\n180,9,5.4,0,10,0.3,-9.7\n270,9,5.7,0,10,0.3,-9.7\n45,8.7,5.4,7.0710678,7.0710678,0.4242641,-13.7178716\n180,8.6,5.6,0,10,0.2,-9.8\n270,8.6,5.8,0,10,0.2,-9.8\n45,8.4,5.6,7.0710678,7.0710678,0.2828427,-13.8592929\n243.434949,8.2,6.5,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,8,6.4,13.4164079,4.472136,0.2236068,-22.137073\n135,8.1,6.3,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,6.7,6,8.9442719,4.472136,0.2236068,-22.137073\n116.565051,6.8,5.8,13.4164079,4.472136,0.2236068,-22.137073\n0,6.6,5.8,0,10,0.2,-9.8\n225,6.2,6.1,7.0710678,7.0710678,0.2828427,-13.8592929\n108.434949,6.3,5.8,22.1359436,3.1622777,0.3162278,-31.3065488\n341.565051,6,5.9,9.486833,3.1622777,0.3162278,-31.3065488\n135,5.9,5.4,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,6,5.6,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,5.8,5.5,13.4164079,4.472136,0.2236068,-22.137073\n180,4.8,6,0,10,0.1,-9.9\n270,4.8,6.1,0,10,0.1,-9.9\n45,4.7,6,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,4.4,6.7,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,4.3,6.5,8.9442719,4.472136,0.2236068,-22.137073\n315,4.2,6.6,7.0710678,7.0710678,0.1414214,-14.0007143\n225,3.4,6.5,7.0710678,7.0710678,0.2828427,-13.8592929\n90,3.4,6.2,0,10,0.3,-9.7\n333.434949,3.2,6.3,8.9442719,4.472136,0.2236068,-22.137073\n180,3,6.1,0,10,0.2,-9.8\n270,3,6.3,0,10,0.2,-9.8\n45,2.8,6.1,7.0710678,7.0710678,0.2828427,-13.8592929\n135,2.1,5.6,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,2.2,5.8,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,2,5.7,13.4164079,4.472136,0.2236068,-22.137073\n180,1.1,6.3,0,10,0.2,-9.8\n270,1.1,6.5,0,10,0.2,-9.8\n45,0.9,6.3,7.0710678,7.0710678,0.2828427,-13.8592929\n270,0.6,7,0,10,0.3,-9.7\n45,0.4,6.8,7.0710678,7.0710678,0.2828427,-13.8592929\n153.434949,0.6,6.7,8.9442719,4.472136,0.2236068,-22.137073\n243.434949,8.2,7.8,8.9442719,4.472136,0.2236068,-22.137073\n90,8.2,7.6,0,10,0.2,-9.8\n0,8.1,7.6,0,10,0.1,-9.9\n135,8.7,8.2,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,8.8,8.4,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,8.6,8.3,13.4164079,4.472136,0.2236068,-22.137073\n180,8.6,8.4,0,10,0.2,-9.8\n251.565051,8.7,8.7,9.486833,3.1622777,0.3162278,-31.3065488\n45,8.4,8.4,7.0710678,7.0710678,0.4242641,-13.7178716\n153.434949,7.2,9.2,8.9442719,4.472136,0.2236068,-22.137073\n135,6.5,7.3,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,6.6,7.5,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,6.4,7.4,13.4164079,4.472136,0.2236068,-22.137073\n135,6.3,7.7,7.0710678,7.0710678,0.1414214,-14.0007143\n251.565051,6.4,8,9.486833,3.1622777,0.3162278,-31.3065488\n45,6.2,7.8,7.0710678,7.0710678,0.2828427,-13.8592929\n26.565051,2.6,7.6,13.4164079,4.472136,0.2236068,-22.137073\n153.434949,2.8,7.5,8.9442719,4.472136,0.2236068,-22.137073\n270,2.8,7.7,0,10,0.2,-9.8\n90,4.5,7.9,0,10,0.2,-9.8\n0,4.3,7.9,0,10,0.2,-9.8\n225,4.5,8.1,7.0710678,7.0710678,0.2828427,-13.8592929\n63.434949,4.9,8.3,8.9442719,4.472136,0.2236068,-22.137073\n315,4.8,8.4,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,5,8.5,13.4164079,4.472136,0.2236068,-22.137073\n153.434949,5.8,8.8,8.9442719,4.472136,0.2236068,-22.137073\n270,5.8,9.1,0,10,0.3,-9.7\n45,5.6,8.9,7.0710678,7.0710678,0.2828427,-13.8592929\n0,2.8,9.3,0,10,0.3,-9.7\n135,2.6,8,7.0710678,7.0710678,0.1414214,-14.0007143\n270,2.6,8.2,0,10,0.2,-9.8\n45,2.5,8.1,7.0710678,7.0710678,0.1414214,-14.0007143\n116.565051,0.8,8.2,13.4164079,4.472136,0.2236068,-22.137073\n333.434949,0.6,8.3,8.9442719,4.472136,0.2236068,-22.137073\n225,0.7,8.4,7.0710678,7.0710678,0.1414214,-14.0007143\n135,1.2,8.6,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,1.3,8.8,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,1.1,8.7,13.4164079,4.472136,0.2236068,-22.137073\n0,8.74875,8.58939,0,10,0,-10\n0,8.12326,9.16255,0,10,0,-10\n0,8.22334,7.41455,0,10,0,-10\n0,7.2264,8.32807,0,10,0,-10\n0,6.60091,8.90123,0,10,0,-10\n0,8.74106,5.28385,0,10,0,-10\n0,8.11556,5.85701,0,10,0,-10\n0,6.70099,7.15323,0,10,0,-10\n0,5.70405,8.06676,0,10,0,-10\n0,5.07855,8.63992,0,10,0,-10\n0,8.21564,4.10901,0,10,0,-10\n0,7.2187,5.02254,0,10,0,-10\n0,6.59321,5.5957,0,10,0,-10\n0,5.17863,6.89192,0,10,0,-10\n0,4.18169,7.80544,0,10,0,-10\n0,3.5562,8.3786,0,10,0,-10\n0,8.73336,1.97832,0,10,0,-10\n0,8.10787,2.55148,0,10,0,-10\n0,6.69329,3.8477,0,10,0,-10\n0,5.69635,4.76122,0,10,0,-10\n0,5.07086,5.33438,0,10,0,-10\n0,3.65628,6.6306,0,10,0,-10\n0,2.65934,7.54413,0,10,0,-10\n0,2.03385,8.11729,0,10,0,-10\n0,8.20795,0.80348,0,10,0,-10\n0,7.21101,1.717,0,10,0,-10\n0,6.58551,2.29016,0,10,0,-10\n0,5.17094,3.58638,0,10,0,-10\n0,4.174,4.49991,0,10,0,-10\n0,3.5485,5.07307,0,10,0,-10\n0,2.13393,6.36929,0,10,0,-10\n0,1.13699,7.28282,0,10,0,-10\n0,0.51149,7.85597,0,10,0,-10\n0,6.68559,0.54216,0,10,0,-10\n0,5.68865,1.45569,0,10,0,-10\n0,5.06316,2.02885,0,10,0,-10\n0,3.53626,3.22649,0,10,0,-10\n0,2.65164,4.23859,0,10,0,-10\n0,2.02615,4.81175,0,10,0,-10\n0,0.61157,6.10797,0,10,0,-10\n0,5.16324,0.28085,0,10,0,-10\n0,4.1663,1.19437,0,10,0,-10\n0,3.54081,1.76753,0,10,0,-10\n0,2.12623,3.06375,0,10,0,-10\n0,1.12929,3.97728,0,10,0,-10\n0,0.5038,4.55044,0,10,0,-10\n0,3.64089,0.01953,0,10,0,-10\n0,2.64395,0.93306,0,10,0,-10\n0,2.01845,1.50622,0,10,0,-10\n0,0.60388,2.80244,0,10,0,-10\n0,1.12159,0.67174,0,10,0,-10\n0,0.4961,1.2449,0,10,0,-10\n0,9.15644,8.35141,0,10,0,-10\n0,8.31335,8.05964,0,10,0,-10\n0,7.76295,8.41028,0,10,0,-10\n0,8.6371,7.02451,0,10,0,-10\n0,6.91985,8.11852,0,10,0,-10\n0,6.36945,8.46916,0,10,0,-10\n0,7.2436,7.08339,0,10,0,-10\n0,5.52636,8.17739,0,10,0,-10\n0,4.97596,8.52804,0,10,0,-10\n0,8.67916,5.33996,0,10,0,-10\n0,8.12876,5.69061,0,10,0,-10\n0,5.85011,7.14227,0,10,0,-10\n0,4.13287,8.23627,0,10,0,-10\n0,3.58247,8.58691,0,10,0,-10\n0,9.00291,4.30484,0,10,0,-10\n0,7.28566,5.39884,0,10,0,-10\n0,6.73527,5.74948,0,10,0,-10\n0,4.45662,7.20114,0,10,0,-10\n0,2.73937,8.29515,0,10,0,-10\n0,2.18897,8.64579,0,10,0,-10\n0,7.60942,4.36371,0,10,0,-10\n0,5.89217,5.45772,0,10,0,-10\n0,5.34177,5.80836,0,10,0,-10\n0,3.06312,7.26002,0,10,0,-10\n0,1.34588,8.35403,0,10,0,-10\n0,0.79548,8.70467,0,10,0,-10\n0,9.04497,2.62029,0,10,0,-10\n0,8.49457,2.97093,0,10,0,-10\n0,6.21592,4.42259,0,10,0,-10\n0,4.49868,5.5166,0,10,0,-10\n0,3.94828,5.86724,0,10,0,-10\n0,1.66963,7.3189,0,10,0,-10\n0,9.36872,1.58516,0,10,0,-10\n0,7.65148,2.67917,0,10,0,-10\n0,7.10108,3.02981,0,10,0,-10\n0,4.82243,4.48147,0,10,0,-10\n0,3.10518,5.57547,0,10,0,-10\n0,2.55479,5.92612,0,10,0,-10\n0,0.27613,7.37778,0,10,0,-10\n0,7.97523,1.64404,0,10,0,-10\n0,6.25798,2.73804,0,10,0,-10\n0,5.70758,3.08869,0,10,0,-10\n0,3.42893,4.54035,0,10,0,-10\n0,1.71169,5.63435,0,10,0,-10\n0,1.16129,5.98499,0,10,0,-10\n0,8.86038,0.25125,0,10,0,-10\n0,6.58173,1.70292,0,10,0,-10\n0,4.86449,2.79692,0,10,0,-10\n0,4.31409,3.14756,0,10,0,-10\n0,2.03544,4.59922,0,10,0,-10\n0,0.3182,5.69323,0,10,0,-10\n0,7.46689,0.31013,0,10,0,-10\n0,5.18824,1.76179,0,10,0,-10\n0,3.471,2.8558,0,10,0,-10\n0,2.9206,3.20644,0,10,0,-10\n0,0.64195,4.6581,0,10,0,-10\n0,6.6238,0.01837,0,10,0,-10\n0,6.0734,0.36901,0,10,0,-10\n0,3.79475,1.82067,0,10,0,-10\n0,2.0775,2.91468,0,10,0,-10\n0,1.5271,3.26532,0,10,0,-10\n0,5.2303,0.07724,0,10,0,-10\n0,4.6799,0.42789,0,10,0,-10\n0,2.40125,1.87955,0,10,0,-10\n0,0.68401,2.97355,0,10,0,-10\n0,0.13361,3.3242,0,10,0,-10\n0,3.83681,0.13612,0,10,0,-10\n0,3.28641,0.48676,0,10,0,-10\n0,1.00776,1.93842,0,10,0,-10\n0,2.44331,0.195,0,10,0,-10\n0,1.89292,0.54564,0,10,0,-10\n0,1.04982,0.25388,0,10,0,-10\n0,0.49942,0.60452,0,10,0,-10\n0,6.42555,9.30607,0,10,0,-10\n0,4.77695,9.08903,0,10,0,-10\n0,3.7883,8.95887,0,10,0,-10\n0,3.13481,8.87284,0,10,0,-10\n0,1.48621,8.6558,0,10,0,-10\n0,0.49757,8.52564,0,10,0,-10\n0,9.02957,8.70973,0,10,0,-10\n0,7.38097,8.49269,0,10,0,-10\n0,6.39232,8.36253,0,10,0,-10\n0,5.73883,8.2765,0,10,0,-10\n0,4.09023,8.05946,0,10,0,-10\n0,3.10158,7.9293,0,10,0,-10\n0,2.4481,7.84327,0,10,0,-10\n0,0.79949,7.62622,0,10,0,-10\n0,8.99634,7.76619,0,10,0,-10\n0,8.34285,7.68016,0,10,0,-10\n0,6.69425,7.46312,0,10,0,-10\n0,5.7056,7.33296,0,10,0,-10\n0,5.05211,7.24692,0,10,0,-10\n0,3.40351,7.02988,0,10,0,-10\n0,2.41487,6.89972,0,10,0,-10\n0,1.76138,6.81369,0,10,0,-10\n0,0.11277,6.59665,0,10,0,-10\n0,9.29827,6.86677,0,10,0,-10\n0,8.30962,6.73662,0,10,0,-10\n0,7.65613,6.65058,0,10,0,-10\n0,6.00753,6.43354,0,10,0,-10\n0,5.01888,6.30338,0,10,0,-10\n0,4.3654,6.21735,0,10,0,-10\n0,2.71679,6.00031,0,10,0,-10\n0,1.72815,5.87015,0,10,0,-10\n0,1.07466,5.78412,0,10,0,-10\n0,8.61155,5.8372,0,10,0,-10\n0,7.6229,5.70704,0,10,0,-10\n0,6.96941,5.62101,0,10,0,-10\n0,5.32081,5.40397,0,10,0,-10\n0,4.33217,5.27381,0,10,0,-10\n0,3.67868,5.18777,0,10,0,-10\n0,2.03007,4.97073,0,10,0,-10\n0,1.04143,4.84057,0,10,0,-10\n0,0.38794,4.75454,0,10,0,-10\n0,7.92483,4.80762,0,10,0,-10\n0,6.93618,4.67747,0,10,0,-10\n0,6.2827,4.59143,0,10,0,-10\n0,4.63409,4.37439,0,10,0,-10\n0,3.64545,4.24423,0,10,0,-10\n0,2.99196,4.1582,0,10,0,-10\n0,1.34336,3.94116,0,10,0,-10\n0,0.35471,3.811,0,10,0,-10\n0,8.88671,3.99509,0,10,0,-10\n0,7.23811,3.77805,0,10,0,-10\n0,6.24947,3.64789,0,10,0,-10\n0,5.59598,3.56186,0,10,0,-10\n0,3.94737,3.34482,0,10,0,-10\n0,2.95873,3.21466,0,10,0,-10\n0,2.30524,3.12862,0,10,0,-10\n0,0.65664,2.91158,0,10,0,-10\n0,8.85348,3.05155,0,10,0,-10\n0,8.19999,2.96552,0,10,0,-10\n0,6.55139,2.74847,0,10,0,-10\n0,5.56275,2.61832,0,10,0,-10\n0,4.90926,2.53228,0,10,0,-10\n0,3.26065,2.31524,0,10,0,-10\n0,2.27201,2.18508,0,10,0,-10\n0,1.61852,2.09905,0,10,0,-10\n0,9.15541,2.15213,0,10,0,-10\n0,8.16676,2.02197,0,10,0,-10\n0,7.51328,1.93594,0,10,0,-10\n0,5.86467,1.7189,0,10,0,-10\n0,4.87603,1.58874,0,10,0,-10\n0,4.22254,1.50271,0,10,0,-10\n0,2.57394,1.28567,0,10,0,-10\n0,1.58529,1.15551,0,10,0,-10\n0,0.9318,1.06947,0,10,0,-10\n0,8.46869,1.12256,0,10,0,-10\n0,7.48005,0.9924,0,10,0,-10\n0,6.82656,0.90637,0,10,0,-10\n0,5.17795,0.68932,0,10,0,-10\n0,4.18931,0.55917,0,10,0,-10\n0,3.53582,0.47313,0,10,0,-10\n0,1.88722,0.25609,0,10,0,-10\n0,0.89857,0.12593,0,10,0,-10\n0,0.24508,0.0399,0,10,0,-10\n0,7.78197,0.09298,0,10,0,-10\n0,1.25458,8.906,0,10,0,-10\n0,2.59486,9.0898,0,10,0,-10\n0,1.22284,8.03701,0,10,0,-10\n0,3.91339,9.25692,0,10,0,-10\n0,2.56312,8.22081,0,10,0,-10\n0,1.19109,7.16803,0,10,0,-10\n0,3.88165,8.38793,0,10,0,-10\n0,2.53137,7.35183,0,10,0,-10\n0,1.15935,6.29904,0,10,0,-10\n0,5.23746,8.58365,0,10,0,-10\n0,3.84991,7.51894,0,10,0,-10\n0,2.49963,6.48284,0,10,0,-10\n0,1.12761,5.43005,0,10,0,-10\n0,6.57774,8.76745,0,10,0,-10\n0,5.20572,7.71466,0,10,0,-10\n0,3.81816,6.64995,0,10,0,-10\n0,2.46789,5.61385,0,10,0,-10\n0,1.09587,4.56106,0,10,0,-10\n0,7.89627,8.93456,0,10,0,-10\n0,6.546,7.89846,0,10,0,-10\n0,5.17398,6.84567,0,10,0,-10\n0,3.78642,5.78096,0,10,0,-10\n0,2.43615,4.74486,0,10,0,-10\n0,1.06413,3.69207,0,10,0,-10\n0,9.25208,9.13028,0,10,0,-10\n0,7.86453,8.06557,0,10,0,-10\n0,6.51425,7.02947,0,10,0,-10\n0,5.14223,5.97668,0,10,0,-10\n0,3.75468,4.91198,0,10,0,-10\n0,2.4044,3.87587,0,10,0,-10\n0,1.03238,2.82308,0,10,0,-10\n0,9.22034,8.26129,0,10,0,-10\n0,7.83279,7.19659,0,10,0,-10\n0,6.48251,6.16048,0,10,0,-10\n0,5.11049,5.10769,0,10,0,-10\n0,3.72294,4.04299,0,10,0,-10\n0,2.37266,3.00688,0,10,0,-10\n0,1.00064,1.9541,0,10,0,-10\n0,9.1886,7.3923,0,10,0,-10\n0,7.80105,6.3276,0,10,0,-10\n0,6.45077,5.29149,0,10,0,-10\n0,5.07875,4.23871,0,10,0,-10\n0,3.6912,3.174,0,10,0,-10\n0,2.34092,2.1379,0,10,0,-10\n0,0.9689,1.08511,0,10,0,-10\n0,9.15686,6.52332,0,10,0,-10\n0,7.7693,5.45861,0,10,0,-10\n0,6.41903,4.42251,0,10,0,-10\n0,5.04701,3.36972,0,10,0,-10\n0,2.30918,1.26891,0,10,0,-10\n0,0.93716,0.21612,0,10,0,-10\n0,9.12511,5.65433,0,10,0,-10\n0,7.73756,4.58962,0,10,0,-10\n0,6.38729,3.55352,0,10,0,-10\n0,5.01527,2.50073,0,10,0,-10\n0,3.62771,1.43602,0,10,0,-10\n0,2.27744,0.39992,0,10,0,-10\n0,9.09337,4.78534,0,10,0,-10\n0,7.70582,3.72063,0,10,0,-10\n0,6.35554,2.68453,0,10,0,-10\n0,4.98352,1.63174,0,10,0,-10\n0,3.59597,0.56703,0,10,0,-10\n0,9.06163,3.91635,0,10,0,-10\n0,7.67408,2.85164,0,10,0,-10\n0,6.3238,1.81554,0,10,0,-10\n0,4.95178,0.76275,0,10,0,-10\n0,9.02989,3.04736,0,10,0,-10\n0,7.64234,1.98266,0,10,0,-10\n0,6.29206,0.94655,0,10,0,-10\n0,8.99815,2.17837,0,10,0,-10\n0,7.61059,1.11367,0,10,0,-10\n0,6.26032,0.07756,0,10,0,-10\n0,8.9664,1.30939,0,10,0,-10\n0,7.57885,0.24468,0,10,0,-10\n0,8.93466,0.4404,0,10,0,-10\n206.565051,10,0.6,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,9.9,0.4,8.9442719,4.472136,0.2236068,-22.137073\n315,9.8,0.5,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,9.7,5.4,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,9.6,5.2,8.9442719,4.472136,0.2236068,-22.137073\n315,9.5,5.3,7.0710678,7.0710678,0.1414214,-14.0007143\n153.434949,10,7.2,8.9442719,4.472136,0.2236068,-22.137073\n288.434949,9.9,7.5,22.1359436,3.1622777,0.3162278,-31.3065488\n63.434949,9.8,7.3,8.9442719,4.472136,0.2236068,-22.137073\n135,9.7,9.3,7.0710678,7.0710678,0.1414214,-14.0007143\n270,9.7,9.5,0,10,0.2,-9.8\n45,9.6,9.4,7.0710678,7.0710678,0.1414214,-14.0007143\n0,7.7,9.6,0,10,0.2,-9.8\n270,7.2,9.4,0,10,0.2,-9.8\n26.565051,7,9.3,13.4164079,4.472136,0.2236068,-22.137073\n0,9.50621,9.4965,0,10,0,-10\n0,9.74569,7.67586,0,10,0,-10\n0,9.63792,6.11833,0,10,0,-10\n0,9.738,4.37033,0,10,0,-10\n0,9.63022,2.81279,0,10,0,-10\n0,9.7303,1.06479,0,10,0,-10\n0,9.70684,8.00076,0,10,0,-10\n0,9.52225,5.63173,0,10,0,-10\n0,9.88807,2.91205,0,10,0,-10\n0,8.06768,9.52227,0,10,0,-10\n0,7.07904,9.39211,0,10,0,-10\n0,9.68306,8.79577,0,10,0,-10\n0,9.98498,7.89635,0,10,0,-10\n0,9.57343,5.02467,0,10,0,-10\n0,9.5402,4.08112,0,10,0,-10\n0,9.84213,3.18171,0,10,0,-10\n0,9.43058,0.31003,0,10,0,-10\n243.434949,7.8,9.8,8.9442719,4.472136,0.2236068,-22.137073\n116.565051,7.9,9.6,13.4164079,4.472136,0.2236068,-22.137073\n180,6,9.7,0,10,0.2,-9.8\n270,6,9.9,0,10,0.2,-9.8\n45,5.8,9.7,7.0710678,7.0710678,0.2828427,-13.8592929\n296.565051,4.1,10,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,4,9.8,8.9442719,4.472136,0.2236068,-22.137073\n180,4.2,9.8,0,10,0.2,-9.8\n135,3.4,9.4,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,3.5,9.6,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,3.3,9.5,13.4164079,4.472136,0.2236068,-22.137073\n116.565051,3.1,9.3,13.4164079,4.472136,0.2236068,-22.137073\n225,3,9.5,7.0710678,7.0710678,0.2828427,-13.8592929\n45,0,9.7,7.0710678,7.0710678,0.2828427,-13.8592929\n161.565051,0.3,9.6,9.486833,3.1622777,0.3162278,-31.3065488\n288.434949,0.2,9.9,22.1359436,3.1622777,0.3162278,-31.3065488\n0,3.66398,9.93614,0,10,0,-10\n0,2.14162,9.67482,0,10,0,-10\n0,0.61927,9.41351,0,10,0,-10\n0,6.87779,9.80307,0,10,0,-10\n0,5.4843,9.86194,0,10,0,-10\n0,2.69731,9.9797,0,10,0,-10\n0,4.47502,9.98845,0,10,0,-10\n0,3.82153,9.90242,0,10,0,-10\n0,2.17293,9.68537,0,10,0,-10\n0,1.18429,9.55522,0,10,0,-10\n0,0.5308,9.46918,0,10,0,-10\n0,1.28632,9.77499,0,10,0,-10\n0,2.6266,9.95879,0,10,0,-10\n0,5.2692,9.45264,0,10,0,-10\n0,6.60948,9.63644,0,10,0,-10\n0,7.92801,9.80355,0,10,0,-10\n0,9.66478,9.68531,0,10,0,-10\n0,8.27128,9.74419,0,10,0,-10\n0,9.71629,9.73931,0,10,0,-10\n0,9.28383,9.99927,0,10,0,-10\n"),!1),i(N.ParsePatFile("\n*AR-CONC,AR-CONC\n50, 0,0, 4.12975034,-5.89789472, .75,-8.25\n355, 0,0, -2.03781207,7.3723684, .6,-6.6\n100.4514, .5977168,-.0522934, 5.7305871,-6.9397673, .6374019,-7.01142112\n46.1842, 0,2, 6.19462551,-8.84684208, 1.125,-12.375\n96.6356, .88936745,1.86206693, 8.59588071,-10.40965104, .95610288,-10.51713\n351.1842, 0,2, 7.74328189,11.0585526, .9,-9.9\n21, 1,1.5, 4.12975034,-5.89789472, .75,-8.25\n326, 1,1.5, -2.03781207,7.3723684, .6,-6.6\n71.4514, 1.49742233,1.16448394, 5.7305871,-6.9397673, .6374019,-7.01142112\n37.5, 0,0, 2.123,2.567, 0,-6.52,0,-6.7,0,-6.625\n7.5, 0,0, 3.123,3.567, 0,-3.82,0,-6.37,0,-2.525\n-32.5, -2.23,0, 4.6234,2.678, 0,-2.5,0,-7.8,0,-10.35\n-42.5, -3.23,0, 3.6234,4.678, 0,-3.25,0,-5.18,0,-7.35\n"),!1),i(N.ParsePatFile("\n*AR-HBONE,AR-HBONE\n45, 0,0, 4,4, 12,-4\n135, 2.82842713,2.82842713, 4,-4, 12,-4\n"),!1),i(N.ParsePatFile("\n*AR-PARQ1,AR-PARQ1\n90, 0,0, 12,12, 12,-12\n90, 2,0, 12,12, 12,-12\n90, 4,0, 12,12, 12,-12\n90, 6,0, 12,12, 12,-12\n90, 8,0, 12,12, 12,-12\n90, 10,0, 12,12, 12,-12\n90, 12,0, 12,12, 12,-12\n0, 0,12, 12,-12, 12,-12\n0, 0,14, 12,-12, 12,-12\n0, 0,16, 12,-12, 12,-12\n0, 0,18, 12,-12, 12,-12\n0, 0,20, 12,-12, 12,-12\n0, 0,22, 12,-12, 12,-12\n0, 0,24, 12,-12, 12,-12\n"),!1),i(N.ParsePatFile("\n*AR-RROOF,AR-RROOF\n0, 0,0, 2.2,1, 15,-2,5,-1\n0, 1.33,.5, -1,1.33, 3,-.33,6,-.75\n0, .5,.85, 5.2,.67, 8,-1.4,4,-1\n"),!1),i(N.ParsePatFile("\n*AR-RSHKE,AR-RSHKE\n0, 0,0, 25.5,12, 6,-5,7,-3,9,-4\n0, 6,.5, 25.5,12, 5,-19,4,-6\n0, 18,-.75, 25.5,12, 3,-31\n90, 0,0, 12,8.5, 11.5,-36.5\n90, 6,0, 12,8.5, 11.25,-36.75\n90, 11,0, 12,8.5, 10.5,-37.5\n90, 18,-.75, 12,8.5, 11.5,-36.5\n90, 21,-.75, 12,8.5, 11.5,-36.5\n90, 30,0, 12,8.5, 11,-37\n"),!1),i(N.ParsePatFile("\n*AR-SAND,AR-SAND\n37.5, 0,0, 1.123,1.567, 0,-1.52,0,-1.7,0,-1.625\n7.5, 0,0, 2.123,2.567, 0,-.82,0,-1.37,0,-.525\n-32.5, -1.23,0, 2.6234,1.678, 0,-.5,0,-1.8,0,-2.35\n-42.5, -1.23,0, 1.6234,2.678, 0,-.25,0,-1.18,0,-1.35\n"),!1),i(N.ParsePatFile("\n*BARBWIRE,BARBWIRE\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n315,0.3,0.56,0.70710678,0.70710678,0.01414214,-1.40007143\n288.434949,0.26,0.68,2.21359436,0.31622777,0.12649111,-3.03578655\n158.198591,0.31,0.66,3.15682075,0.18569534,0.05385165,-5.33131316\n116.565051,0.32,0.64,1.34164079,0.4472136,0.02236068,-2.2137073\n116.565051,0.34,0.6,1.34164079,0.4472136,0.04472136,-2.19134662\n111.801409,0.44,0.39,2.22834406,0.18569534,0.05385165,-5.33131316\n156.801409,0.51,0.36,5.38356375,0.13130643,0.07615773,-7.53961537\n289.653824,0.46,0.5,11.70450662,0.06726728,0.14866069,-14.71740806\n194.036243,0.31,0.36,3.15296313,0.24253563,0.04123106,-4.08187457\n251.565051,0.32,0.39,0.9486833,0.31622777,0.03162278,-3.13065488\n254.054604,0.34,0.46,4.12081692,0.13736056,0.0728011,-7.20730879\n74.744881,0.34,0.46,4.12217269,0.0877058,0.11401754,-11.28773671\n135,0.36,0.44,0.70710678,0.70710678,0.02828427,-1.38592929\n180,0.39,0.44,0,1,0.03,-0.97\n270,0.39,0.45,0,1,0.01,-0.99\n74.054604,0.39,0.45,4.12081692,0.13736056,0.1456022,-7.13450769\n161.565051,0.42,0.44,0.9486833,0.31622777,0.03162278,-3.13065488\n198.434949,0.45,0.45,2.21359436,0.31622777,0.03162278,-3.13065488\n258.231711,0.5,0.69,5.09885635,0.04079085,0.24515301,-24.27014833\n21.801409,0.45,0.67,2.22834406,0.18569534,0.05385165,-5.33131316\n75.963757,0.43,0.59,0.9701425,0.24253563,0.08246211,-4.04064351\n341.565051,0.4,0.6,0.9486833,0.31622777,0.03162278,-3.13065488\n45,0.37,0.57,0.70710678,0.70710678,0.04242641,-1.37178716\n288.434949,0.36,0.6,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.34,0.6,0,1,0.02,-0.98\n26.565051,0.32,0.59,1.34164079,0.4472136,0.02236068,-2.2137073\n78.231711,0.27,0.35,5.09885635,0.04079085,0.24515301,-24.27014833\n4.085617,0.78,0.48,13.03821015,0.07124705,0.14035669,-13.89531216\n0,0.69,0.48,0,1,0.09,-0.91\n354.289407,0.59,0.49,0.99503719,0.09950372,0.10049876,-9.94937686\n356.185925,0.47,0.55,0.99778516,0.06651901,0.15033296,-14.88296341\n351.469234,0.8,0.55,7.07089492,0.04944682,0.20223748,-20.02151093\n0,0.66,0.55,0,1,0.14,-0.86\n14.036243,0.46,0.5,3.15296313,0.24253563,0.20615528,-3.91695034\n189.865807,0.7,0.51,17.26262336,0.04283529,0.23345235,-23.11178271\n180,0.8,0.51,0,1,0.1,-0.9\n171.469234,1,0.48,7.07089492,0.04944682,0.20223748,-20.02151093\n186.115504,1,0.56,9.05531551,0.03551104,0.15644586,-28.00380982\n5.52754,0.13777778,0.53333333,10.04982433,0.03210806,0.17302679,-30.97179621\n3.691386,0,0.48,15.03326191,0.03219114,0.1515339,-30.91291524\n348.310631,0,0.52,5.0989077,0.0337676,0.29614186,-29.31804393\n348.690068,0,0.56,0.98058068,0.19611614,0.30594117,-4.79307834\n"),!1),i(N.ParsePatFile("\n*BLOCKS-01,BLOCKS-01 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.31,0.66,1,1,0.22,-0.78\n180,0.08,0.09,0,1,0.57,-0.43\n270,0.08,0.09,1,1,0.21,-0.79\n180,0.08,0.88,0,1,0.57,-0.43\n270,0.51,0.09,1,1,0.21,-0.79\n270,0.89,0.32,1,1,0.2,-0.8\n0,0.49,0.32,0,1,0.4,-0.6\n90,0.49,0.12,1,1,0.2,-0.8\n180,0.89,0.12,0,1,0.4,-0.6\n270,0.69,0.84,1,1,0.48,-0.52\n0,0.48,0.84,0,1,0.21,-0.79\n90,0.48,0.36,1,1,0.48,-0.52\n180,0.69,0.36,0,1,0.21,-0.79\n270,0.12,0.03,1,1,0.33,-0.67\n0,0.12,0.7,0,1,0.32,-0.68\n270,0.44,0.03,1,1,0.33,-0.67\n0,0.12,0.03,0,1,0.32,-0.68\n270,0.45,0.67,1,1,0.24,-0.76\n0,0.36,0.67,0,1,0.09,-0.91\n90,0.36,0.43,1,1,0.24,-0.76\n180,0.45,0.43,0,1,0.09,-0.91\n270,0.45,0.4,1,1,0.33,-0.67\n0,0.11,0.4,0,1,0.34,-0.66\n90,0.11,0.07,1,1,0.33,-0.67\n180,0.45,0.07,0,1,0.34,-0.66\n270,0.89,0.41,1,1,0.06,-0.94\n0,0.73,0.41,0,1,0.16,-0.84\n90,0.73,0.35,1,1,0.06,-0.94\n180,0.89,0.35,0,1,0.16,-0.84\n180,0.07,0.4,0,1,0.14,-0.86\n270,0.93,0.4,1,1,0.27,-0.73\n180,0.07,0.13,0,1,0.14,-0.86\n270,0.07,0.4,1,1,0.27,-0.73\n180,0.08,0.81,0,1,0.34,-0.66\n270,0.74,0.81,1,1,0.1,-0.9\n180,0.08,0.71,0,1,0.34,-0.66\n270,0.08,0.81,1,1,0.1,-0.9\n180,0.31,0.66,0,1,0.59,-0.41\n270,0.72,0.66,1,1,0.22,-0.78\n180,0.31,0.44,0,1,0.59,-0.41\n"),!1),i(N.ParsePatFile("\n*BLOCKS-02,BLOCKS-02 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.32,0.18,0,1,0.49,-0.51\n270,0.32,0.55,1,1,0.37,-0.63\n0,0.37,0.96,0,1,0.42,-0.58\n0,0.17,0.98,0,1,0.17,-0.83\n90,0.82,0,1,1,0.15,-0.85\n180,0.92,0,0,1,0.1,-0.9\n180,0.32,0.55,0,1,0.49,-0.51\n270,0.83,0.55,1,1,0.37,-0.63\n180,0.13,0.8,0,1,0.18,-0.82\n90,0.14,0.59,1,1,0.17,-0.83\n270,0.13,0.15,1,1,0.35,-0.65\n180,0.71,0.59,0,1,0.57,-0.43\n270,0.92,0.15,1,1,0.15,-0.85\n0,0.82,0.15,0,1,0.1,-0.9\n270,0.71,0.76,1,1,0.17,-0.83\n0,0.14,0.76,0,1,0.57,-0.43\n180,0.08,0.59,0,1,0.32,-0.68\n270,0.08,0.76,1,1,0.17,-0.83\n180,0.13,0.15,0,1,0.18,-0.82\n270,0.95,0.15,1,1,0.35,-0.65\n90,0.18,0.8,1,1,0.13,-0.87\n180,0.91,0.8,0,1,0.73,-0.27\n180,0.08,0.76,0,1,0.32,-0.68\n270,0.76,0.76,1,1,0.17,-0.83\n270,0.34,0.15,1,1,0.17,-0.83\n0,0.17,0.15,0,1,0.17,-0.83\n270,0.91,0.93,1,1,0.13,-0.87\n0,0.18,0.93,0,1,0.73,-0.27\n0,0.37,0.55,0,1,0.42,-0.58\n270,0.37,0.55,1,1,0.59,-0.41\n270,0.17,0.15,1,1,0.17,-0.83\n270,0.79,0.55,1,1,0.59,-0.41\n"),!1),i(N.ParsePatFile("\n*BOXJOIN-01,BOXJOIN-01 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n90,0.15000001,0.15,1,1,0.7,-0.3\n0,0.15000001,0.85,0,1,0.7,-0.3\n270,0.45000001,0.15,1,1,0.3,-0.7\n180,0.15000001,0.45,0,1,0.3,-0.7\n270,0.55000001,0.15,1,1,0.3,-0.7\n180,0.85000001,0.15,0,1,0.7,-0.3\n270,0.85000001,0.85,1,1,0.7,-0.3\n180,0.15000001,0.55,0,1,0.3,-0.7\n"),!1),i(N.ParsePatFile("\n*BOXJOIN-02,BOXJOIN-02 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n90,0.15000001,0.55,1,1,0.3,-0.7\n270,0.85000001,0.85,1,1,0.3,-0.7\n0,0.55000001,0.85,0,1,0.3,-0.7\n180,0.15000001,0.55,0,1,0.3,-0.7\n90,0.15000001,0.15,1,1,0.3,-0.7\n180,0.45000001,0.15,0,1,0.3,-0.7\n180,0.15000001,0.45,0,1,0.3,-0.7\n180,0.85000001,0.15,0,1,0.3,-0.7\n270,0.85000001,0.45,1,1,0.3,-0.7\n270,0.45000001,0.15,1,1,0.3,-0.7\n270,0.55000001,0.15,1,1,0.3,-0.7\n0,0.15000001,0.85,0,1,0.3,-0.7\n"),!1),i(N.ParsePatFile("\n*BOX,BOX\n90, 0,0, 0,1\n90, .25,0, 0,1\n0, 0,0, 0,1, -.25,.25\n0, 0,.25, 0,1, -.25,.25\n0, 0,.5, 0,1, .25,-.25\n0, 0,.75, 0,1, .25,-.25\n90, .5,0, 0,1, .25,-.25\n90, .75,0, 0,1, .25,-.25\n"),!1),i(N.ParsePatFile("\n*BOX-OVERLAP,BOX-OVERLAP verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.2,0.7,0,1,0.4,-0.6\n90,0.2,0.2,1,1,0.6,-0.4\n270,0.3,0.2,1,1,0.4,-0.6\n180,0.2,0.3,0,1,0.4,-0.6\n0,0.2,0.8,0,1,0.6,-0.4\n180,0.8,0.2,0,1,0.6,-0.4\n270,0.8,0.8,1,1,0.6,-0.4\n270,0.7,0.2,1,1,0.4,-0.6\n"),!1),i(N.ParsePatFile("\n*BRASS,BRASS\n0, 0,0, 0,.25\n0, 0,.125, 0,.25, .125,-.0625\n"),!1),i(N.ParsePatFile("\n*BRICK,BRICK\n0, 0,0, 0,.25\n90, 0,0, 0,.5, .25,-.25\n90, .25,0, 0,.5, -.25,.25\n"),!1),i(N.ParsePatFile("\n*BRSTONE,BRSTONE\n0, 0,0, 0,.33\n90, .9,0, .33,.5, .33,-.33\n90, .8,0, .33,.5, .33,-.33\n0, .9,.055, .5,.33, -.9,.1\n0, .9,.11, .5,.33, -.9,.1\n0, .9,.165, .5,.33, -.9,.1\n0, .9,.22, .5,.33, -.9,.1\n0, .9,.275, .5,.33, -.9,.1\n"),!1),i(N.ParsePatFile("\n*BUBBLES-01,BUBBLES-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n0,0.058964,0.016739,0,1,0,-1\n0,0.062236,0.033193,0,1,0,-1\n0,0.067629,0.049078,0,1,0,-1\n0,0.075048,0.064123,0,1,0,-1\n0,0.084368,0.078071,0,1,0,-1\n0,0.095429,0.090684,0,1,0,-1\n0,0.108041,0.101745,0,1,0,-1\n0,0.12199,0.111065,0,1,0,-1\n0,0.137035,0.118484,0,1,0,-1\n0,0.15292,0.123876,0,1,0,-1\n0,0.169373,0.127149,0,1,0,-1\n0,0.186113,0.128246,0,1,0,-1\n0,0.202852,0.127149,0,1,0,-1\n0,0.219305,0.123876,0,1,0,-1\n0,0.23519,0.118484,0,1,0,-1\n0,0.250236,0.111065,0,1,0,-1\n0,0.264184,0.101745,0,1,0,-1\n0,0.276796,0.090684,0,1,0,-1\n0,0.287857,0.078071,0,1,0,-1\n0,0.297177,0.064123,0,1,0,-1\n0,0.304597,0.049078,0,1,0,-1\n0,0.309989,0.033193,0,1,0,-1\n0,0.313262,0.016739,0,1,0,-1\n0,0.120008,0.220248,0,1,0,-1\n0,0.117478,0.203192,0,1,0,-1\n0,0.113288,0.186467,0,1,0,-1\n0,0.10748,0.170233,0,1,0,-1\n0,0.100108,0.154647,0,1,0,-1\n0,0.091244,0.139858,0,1,0,-1\n0,0.080973,0.126009,0,1,0,-1\n0,0.069394,0.113234,0,1,0,-1\n0,0.056618,0.101655,0,1,0,-1\n0,0.04277,0.091384,0,1,0,-1\n0,0.027981,0.08252,0,1,0,-1\n0,0.012394,0.075148,0,1,0,-1\n0,0.012394,0.39979,0,1,0,-1\n0,0.027981,0.392418,0,1,0,-1\n0,0.04277,0.383554,0,1,0,-1\n0,0.056618,0.373283,0,1,0,-1\n0,0.069394,0.361704,0,1,0,-1\n0,0.080973,0.348929,0,1,0,-1\n0,0.091244,0.33508,0,1,0,-1\n0,0.100108,0.320291,0,1,0,-1\n0,0.10748,0.304704,0,1,0,-1\n0,0.113288,0.28847,0,1,0,-1\n0,0.117478,0.271745,0,1,0,-1\n0,0.120008,0.25469,0,1,0,-1\n0,0.120854,0.237469,0,1,0,-1\n0,0.738076,0.372319,0,1,0,-1\n0,0.732613,0.356706,0,1,0,-1\n0,0.723812,0.3427,0,1,0,-1\n0,0.712116,0.331003,0,1,0,-1\n0,0.69811,0.322203,0,1,0,-1\n0,0.682497,0.316739,0,1,0,-1\n0,0.666059,0.314887,0,1,0,-1\n0,0.649622,0.316739,0,1,0,-1\n0,0.634009,0.322203,0,1,0,-1\n0,0.620003,0.331003,0,1,0,-1\n0,0.608306,0.3427,0,1,0,-1\n0,0.599506,0.356706,0,1,0,-1\n0,0.594042,0.372319,0,1,0,-1\n0,0.59219,0.388756,0,1,0,-1\n0,0.594042,0.405194,0,1,0,-1\n0,0.599506,0.420807,0,1,0,-1\n0,0.608306,0.434813,0,1,0,-1\n0,0.620003,0.44651,0,1,0,-1\n0,0.634009,0.45531,0,1,0,-1\n0,0.649622,0.460773,0,1,0,-1\n0,0.666059,0.462625,0,1,0,-1\n0,0.682497,0.460773,0,1,0,-1\n0,0.69811,0.45531,0,1,0,-1\n0,0.712116,0.44651,0,1,0,-1\n0,0.723812,0.434813,0,1,0,-1\n0,0.732613,0.420807,0,1,0,-1\n0,0.738076,0.405194,0,1,0,-1\n0,0.739928,0.388756,0,1,0,-1\n0,0.834916,0.831041,0,1,0,-1\n0,0.821448,0.840826,0,1,0,-1\n0,0.810309,0.853198,0,1,0,-1\n0,0.462763,0.750408,0,1,0,-1\n0,0.458683,0.734294,0,1,0,-1\n0,0.452005,0.71907,0,1,0,-1\n0,0.442913,0.705153,0,1,0,-1\n0,0.431654,0.692923,0,1,0,-1\n0,0.418536,0.682713,0,1,0,-1\n0,0.403916,0.674801,0,1,0,-1\n0,0.388193,0.669403,0,1,0,-1\n0,0.371796,0.666667,0,1,0,-1\n0,0.355172,0.666667,0,1,0,-1\n0,0.338776,0.669403,0,1,0,-1\n0,0.323053,0.674801,0,1,0,-1\n0,0.308433,0.682713,0,1,0,-1\n0,0.295314,0.692923,0,1,0,-1\n0,0.284056,0.705153,0,1,0,-1\n0,0.274963,0.71907,0,1,0,-1\n0,0.268286,0.734294,0,1,0,-1\n0,0.264205,0.750408,0,1,0,-1\n0,0.262832,0.766975,0,1,0,-1\n0,0.264205,0.783542,0,1,0,-1\n0,0.268286,0.799657,0,1,0,-1\n0,0.274963,0.81488,0,1,0,-1\n0,0.284056,0.828797,0,1,0,-1\n0,0.295314,0.841027,0,1,0,-1\n0,0.308433,0.851238,0,1,0,-1\n0,0.323053,0.85915,0,1,0,-1\n0,0.403916,0.85915,0,1,0,-1\n0,0.418536,0.851238,0,1,0,-1\n0,0.431654,0.841027,0,1,0,-1\n0,0.442913,0.828797,0,1,0,-1\n0,0.452005,0.81488,0,1,0,-1\n0,0.458683,0.799657,0,1,0,-1\n0,0.462763,0.783542,0,1,0,-1\n0,0.464136,0.766975,0,1,0,-1\n0,0.821196,0.648394,0,1,0,-1\n0,0.818556,0.631724,0,1,0,-1\n0,0.814188,0.615423,0,1,0,-1\n0,0.808139,0.599667,0,1,0,-1\n0,0.800477,0.584629,0,1,0,-1\n0,0.791286,0.570475,0,1,0,-1\n0,0.780665,0.557359,0,1,0,-1\n0,0.768731,0.545425,0,1,0,-1\n0,0.755615,0.534804,0,1,0,-1\n0,0.741461,0.525612,0,1,0,-1\n0,0.726423,0.51795,0,1,0,-1\n0,0.710667,0.511902,0,1,0,-1\n0,0.694365,0.507534,0,1,0,-1\n0,0.677696,0.504894,0,1,0,-1\n0,0.660842,0.504011,0,1,0,-1\n0,0.643989,0.504894,0,1,0,-1\n0,0.627319,0.507534,0,1,0,-1\n0,0.611018,0.511902,0,1,0,-1\n0,0.595262,0.51795,0,1,0,-1\n0,0.580224,0.525612,0,1,0,-1\n0,0.56607,0.534804,0,1,0,-1\n0,0.552954,0.545425,0,1,0,-1\n0,0.54102,0.557359,0,1,0,-1\n0,0.530399,0.570475,0,1,0,-1\n0,0.521207,0.584629,0,1,0,-1\n0,0.513545,0.599667,0,1,0,-1\n0,0.507497,0.615423,0,1,0,-1\n0,0.503129,0.631724,0,1,0,-1\n0,0.500489,0.648394,0,1,0,-1\n0,0.499606,0.665247,0,1,0,-1\n0,0.500489,0.682101,0,1,0,-1\n0,0.503129,0.69877,0,1,0,-1\n0,0.507497,0.715072,0,1,0,-1\n0,0.513545,0.730828,0,1,0,-1\n0,0.521207,0.745866,0,1,0,-1\n0,0.530399,0.76002,0,1,0,-1\n0,0.54102,0.773136,0,1,0,-1\n0,0.552954,0.785069,0,1,0,-1\n0,0.56607,0.795691,0,1,0,-1\n0,0.580224,0.804882,0,1,0,-1\n0,0.595262,0.812544,0,1,0,-1\n0,0.611018,0.818592,0,1,0,-1\n0,0.627319,0.822961,0,1,0,-1\n0,0.643989,0.825601,0,1,0,-1\n0,0.660842,0.826484,0,1,0,-1\n0,0.677696,0.825601,0,1,0,-1\n0,0.694365,0.822961,0,1,0,-1\n0,0.710667,0.818592,0,1,0,-1\n0,0.726423,0.812544,0,1,0,-1\n0,0.741461,0.804882,0,1,0,-1\n0,0.755615,0.795691,0,1,0,-1\n0,0.768731,0.785069,0,1,0,-1\n0,0.780665,0.773136,0,1,0,-1\n0,0.791286,0.76002,0,1,0,-1\n0,0.800477,0.745866,0,1,0,-1\n0,0.808139,0.730828,0,1,0,-1\n0,0.814188,0.715072,0,1,0,-1\n0,0.818556,0.69877,0,1,0,-1\n0,0.821196,0.682101,0,1,0,-1\n0,0.822079,0.665247,0,1,0,-1\n0,0.524311,0.381738,0,1,0,-1\n0,0.521577,0.364477,0,1,0,-1\n0,0.517054,0.347597,0,1,0,-1\n0,0.510791,0.331282,0,1,0,-1\n0,0.502858,0.315711,0,1,0,-1\n0,0.49334,0.301054,0,1,0,-1\n0,0.482342,0.287473,0,1,0,-1\n0,0.469984,0.275116,0,1,0,-1\n0,0.456403,0.264118,0,1,0,-1\n0,0.441747,0.2546,0,1,0,-1\n0,0.426175,0.246666,0,1,0,-1\n0,0.40986,0.240403,0,1,0,-1\n0,0.39298,0.23588,0,1,0,-1\n0,0.375719,0.233146,0,1,0,-1\n0,0.358267,0.232232,0,1,0,-1\n0,0.340816,0.233146,0,1,0,-1\n0,0.323555,0.23588,0,1,0,-1\n0,0.306674,0.240403,0,1,0,-1\n0,0.290359,0.246666,0,1,0,-1\n0,0.274788,0.2546,0,1,0,-1\n0,0.260132,0.264118,0,1,0,-1\n0,0.246551,0.275116,0,1,0,-1\n0,0.234193,0.287473,0,1,0,-1\n0,0.223195,0.301054,0,1,0,-1\n0,0.213677,0.315711,0,1,0,-1\n0,0.205743,0.331282,0,1,0,-1\n0,0.199481,0.347597,0,1,0,-1\n0,0.194958,0.364477,0,1,0,-1\n0,0.192224,0.381738,0,1,0,-1\n0,0.191309,0.39919,0,1,0,-1\n0,0.192224,0.416642,0,1,0,-1\n0,0.194958,0.433903,0,1,0,-1\n0,0.199481,0.450783,0,1,0,-1\n0,0.205743,0.467098,0,1,0,-1\n0,0.213677,0.482669,0,1,0,-1\n0,0.223195,0.497326,0,1,0,-1\n0,0.234193,0.510907,0,1,0,-1\n0,0.246551,0.523264,0,1,0,-1\n0,0.260132,0.534262,0,1,0,-1\n0,0.274788,0.54378,0,1,0,-1\n0,0.290359,0.551714,0,1,0,-1\n0,0.306674,0.557977,0,1,0,-1\n0,0.323555,0.5625,0,1,0,-1\n0,0.340816,0.565234,0,1,0,-1\n0,0.358267,0.566148,0,1,0,-1\n0,0.375719,0.565234,0,1,0,-1\n0,0.39298,0.5625,0,1,0,-1\n0,0.40986,0.557977,0,1,0,-1\n0,0.426175,0.551714,0,1,0,-1\n0,0.441747,0.54378,0,1,0,-1\n0,0.456403,0.534262,0,1,0,-1\n0,0.469984,0.523264,0,1,0,-1\n0,0.482342,0.510907,0,1,0,-1\n0,0.49334,0.497326,0,1,0,-1\n0,0.502858,0.482669,0,1,0,-1\n0,0.510791,0.467098,0,1,0,-1\n0,0.517054,0.450783,0,1,0,-1\n0,0.521577,0.433903,0,1,0,-1\n0,0.524311,0.416642,0,1,0,-1\n0,0.525226,0.39919,0,1,0,-1\n0,0.847548,0.091384,0,1,0,-1\n0,0.833699,0.101655,0,1,0,-1\n0,0.820923,0.113234,0,1,0,-1\n0,0.809345,0.126009,0,1,0,-1\n0,0.799074,0.139858,0,1,0,-1\n0,0.790209,0.154647,0,1,0,-1\n0,0.782838,0.170233,0,1,0,-1\n0,0.777029,0.186467,0,1,0,-1\n0,0.77284,0.203192,0,1,0,-1\n0,0.77031,0.220248,0,1,0,-1\n0,0.769464,0.237469,0,1,0,-1\n0,0.77031,0.25469,0,1,0,-1\n0,0.77284,0.271745,0,1,0,-1\n0,0.777029,0.28847,0,1,0,-1\n0,0.782838,0.304704,0,1,0,-1\n0,0.790209,0.320291,0,1,0,-1\n0,0.799074,0.33508,0,1,0,-1\n0,0.809345,0.348929,0,1,0,-1\n0,0.820923,0.361704,0,1,0,-1\n0,0.833699,0.373283,0,1,0,-1\n0,0.847548,0.383554,0,1,0,-1\n0,0.241252,0.63247,0,1,0,-1\n0,0.238633,0.614814,0,1,0,-1\n0,0.234297,0.5975,0,1,0,-1\n0,0.228283,0.580695,0,1,0,-1\n0,0.220652,0.56456,0,1,0,-1\n0,0.211476,0.54925,0,1,0,-1\n0,0.200843,0.534914,0,1,0,-1\n0,0.188857,0.521689,0,1,0,-1\n0,0.175632,0.509702,0,1,0,-1\n0,0.161296,0.49907,0,1,0,-1\n0,0.145986,0.489894,0,1,0,-1\n0,0.129851,0.482262,0,1,0,-1\n0,0.113046,0.476249,0,1,0,-1\n0,0.095732,0.471912,0,1,0,-1\n0,0.078076,0.469293,0,1,0,-1\n0,0.060249,0.468417,0,1,0,-1\n0,0.042421,0.469293,0,1,0,-1\n0,0.024766,0.471912,0,1,0,-1\n0,0.007452,0.476249,0,1,0,-1\n0,0.007452,0.824345,0,1,0,-1\n0,0.024766,0.828682,0,1,0,-1\n0,0.042421,0.831301,0,1,0,-1\n0,0.060249,0.832177,0,1,0,-1\n0,0.078076,0.831301,0,1,0,-1\n0,0.095732,0.828682,0,1,0,-1\n0,0.113046,0.824345,0,1,0,-1\n0,0.129851,0.818332,0,1,0,-1\n0,0.145986,0.8107,0,1,0,-1\n0,0.161296,0.801524,0,1,0,-1\n0,0.175632,0.790892,0,1,0,-1\n0,0.188857,0.778905,0,1,0,-1\n0,0.200843,0.76568,0,1,0,-1\n0,0.211476,0.751344,0,1,0,-1\n0,0.220652,0.736034,0,1,0,-1\n0,0.228283,0.719899,0,1,0,-1\n0,0.234297,0.703094,0,1,0,-1\n0,0.238633,0.68578,0,1,0,-1\n0,0.241252,0.668124,0,1,0,-1\n0,0.242128,0.650297,0,1,0,-1\n0,0.771442,0.048085,0,1,0,-1\n0,0.768672,0.029409,0,1,0,-1\n0,0.764084,0.011095,0,1,0,-1\n0,0.39588,0.011095,0,1,0,-1\n0,0.391292,0.029409,0,1,0,-1\n0,0.388522,0.048085,0,1,0,-1\n0,0.387595,0.066942,0,1,0,-1\n0,0.388522,0.085799,0,1,0,-1\n0,0.391292,0.104475,0,1,0,-1\n0,0.39588,0.122789,0,1,0,-1\n0,0.40224,0.140565,0,1,0,-1\n0,0.410312,0.157632,0,1,0,-1\n0,0.420018,0.173826,0,1,0,-1\n0,0.431265,0.18899,0,1,0,-1\n0,0.443944,0.20298,0,1,0,-1\n0,0.457933,0.215659,0,1,0,-1\n0,0.473098,0.226905,0,1,0,-1\n0,0.489292,0.236612,0,1,0,-1\n0,0.506359,0.244684,0,1,0,-1\n0,0.524135,0.251044,0,1,0,-1\n0,0.542449,0.255632,0,1,0,-1\n0,0.561125,0.258402,0,1,0,-1\n0,0.579982,0.259328,0,1,0,-1\n0,0.598839,0.258402,0,1,0,-1\n0,0.617515,0.255632,0,1,0,-1\n0,0.635829,0.251044,0,1,0,-1\n0,0.653605,0.244684,0,1,0,-1\n0,0.670672,0.236612,0,1,0,-1\n0,0.686866,0.226905,0,1,0,-1\n0,0.702031,0.215659,0,1,0,-1\n0,0.71602,0.20298,0,1,0,-1\n0,0.728699,0.18899,0,1,0,-1\n0,0.739945,0.173826,0,1,0,-1\n0,0.749652,0.157632,0,1,0,-1\n0,0.757724,0.140565,0,1,0,-1\n0,0.764084,0.122789,0,1,0,-1\n0,0.768672,0.104475,0,1,0,-1\n0,0.771442,0.085799,0,1,0,-1\n0,0.772368,0.066942,0,1,0,-1\n0,0.990646,0.482262,0,1,0,-1\n0,0.974511,0.489894,0,1,0,-1\n0,0.959202,0.49907,0,1,0,-1\n0,0.944866,0.509702,0,1,0,-1\n0,0.93164,0.521689,0,1,0,-1\n0,0.919654,0.534914,0,1,0,-1\n0,0.909021,0.54925,0,1,0,-1\n0,0.899845,0.56456,0,1,0,-1\n0,0.892214,0.580695,0,1,0,-1\n0,0.886201,0.5975,0,1,0,-1\n0,0.881864,0.614814,0,1,0,-1\n0,0.879245,0.63247,0,1,0,-1\n0,0.878369,0.650297,0,1,0,-1\n0,0.879245,0.668124,0,1,0,-1\n0,0.881864,0.68578,0,1,0,-1\n0,0.886201,0.703094,0,1,0,-1\n0,0.892214,0.719899,0,1,0,-1\n0,0.899845,0.736034,0,1,0,-1\n0,0.909021,0.751344,0,1,0,-1\n0,0.919654,0.76568,0,1,0,-1\n0,0.93164,0.778905,0,1,0,-1\n0,0.944866,0.790892,0,1,0,-1\n0,0.959202,0.801524,0,1,0,-1\n0,0.974511,0.8107,0,1,0,-1\n0,0.990646,0.818332,0,1,0,-1\n0,0.947478,0.867615,0,1,0,-1\n0,0.939155,0.853198,0,1,0,-1\n0,0.928015,0.840826,0,1,0,-1\n0,0.914547,0.831041,0,1,0,-1\n0,0.899339,0.82427,0,1,0,-1\n0,0.883055,0.820809,0,1,0,-1\n0,0.866408,0.820809,0,1,0,-1\n0,0.850124,0.82427,0,1,0,-1\n0,0.801985,0.867615,0,1,0,-1\n0,0.99616,0.069339,0,1,0,-1\n0,0.979435,0.06515,0,1,0,-1\n0,0.96238,0.06262,0,1,0,-1\n0,0.945159,0.061774,0,1,0,-1\n0,0.927938,0.06262,0,1,0,-1\n0,0.910882,0.06515,0,1,0,-1\n0,0.894157,0.069339,0,1,0,-1\n0,0.877923,0.075148,0,1,0,-1\n0,0.862337,0.08252,0,1,0,-1\n0,0.862337,0.392418,0,1,0,-1\n0,0.877923,0.39979,0,1,0,-1\n0,0.894157,0.405599,0,1,0,-1\n0,0.910882,0.409788,0,1,0,-1\n0,0.927938,0.412318,0,1,0,-1\n0,0.945159,0.413164,0,1,0,-1\n0,0.96238,0.412318,0,1,0,-1\n0,0.979435,0.409788,0,1,0,-1\n0,0.99616,0.405599,0,1,0,-1\n0,0.757724,0.993319,0,1,0,-1\n0,0.749652,0.976251,0,1,0,-1\n0,0.739945,0.960058,0,1,0,-1\n0,0.728699,0.944893,0,1,0,-1\n0,0.71602,0.930904,0,1,0,-1\n0,0.702031,0.918225,0,1,0,-1\n0,0.686866,0.906978,0,1,0,-1\n0,0.670672,0.897272,0,1,0,-1\n0,0.653605,0.8892,0,1,0,-1\n0,0.635829,0.882839,0,1,0,-1\n0,0.617515,0.878252,0,1,0,-1\n0,0.598839,0.875482,0,1,0,-1\n0,0.579982,0.874555,0,1,0,-1\n0,0.561125,0.875482,0,1,0,-1\n0,0.542449,0.878252,0,1,0,-1\n0,0.524135,0.882839,0,1,0,-1\n0,0.506359,0.8892,0,1,0,-1\n0,0.489292,0.897272,0,1,0,-1\n0,0.473098,0.906978,0,1,0,-1\n0,0.457933,0.918225,0,1,0,-1\n0,0.443944,0.930904,0,1,0,-1\n0,0.431265,0.944893,0,1,0,-1\n0,0.420018,0.960058,0,1,0,-1\n0,0.410312,0.976251,0,1,0,-1\n0,0.40224,0.993319,0,1,0,-1\n0,0.796841,0.883448,0,1,0,-1\n0,0.795101,0.900004,0,1,0,-1\n0,0.796841,0.91656,0,1,0,-1\n0,0.801985,0.932393,0,1,0,-1\n0,0.810309,0.94681,0,1,0,-1\n0,0.821448,0.959181,0,1,0,-1\n0,0.834916,0.968966,0,1,0,-1\n0,0.338776,0.864547,0,1,0,-1\n0,0.355172,0.867283,0,1,0,-1\n0,0.371796,0.867283,0,1,0,-1\n0,0.388193,0.864547,0,1,0,-1\n0,0.313262,0.983261,0,1,0,-1\n0,0.309989,0.966807,0,1,0,-1\n0,0.304597,0.950922,0,1,0,-1\n0,0.297177,0.935877,0,1,0,-1\n0,0.287857,0.921929,0,1,0,-1\n0,0.276796,0.909316,0,1,0,-1\n0,0.264184,0.898255,0,1,0,-1\n0,0.250236,0.888935,0,1,0,-1\n0,0.23519,0.881516,0,1,0,-1\n0,0.219305,0.876124,0,1,0,-1\n0,0.202852,0.872851,0,1,0,-1\n0,0.186113,0.871754,0,1,0,-1\n0,0.169373,0.872851,0,1,0,-1\n0,0.15292,0.876124,0,1,0,-1\n0,0.137035,0.881516,0,1,0,-1\n0,0.12199,0.888935,0,1,0,-1\n0,0.108041,0.898255,0,1,0,-1\n0,0.095429,0.909316,0,1,0,-1\n0,0.084368,0.921929,0,1,0,-1\n0,0.075048,0.935877,0,1,0,-1\n0,0.067629,0.950922,0,1,0,-1\n0,0.062236,0.966807,0,1,0,-1\n0,0.058964,0.983261,0,1,0,-1\n0,0.057866,1,0,1,0,-1\n0,0.314359,1,0,1,0,-1\n0,0.952623,0.883448,0,1,0,-1\n0,0.850124,0.975738,0,1,0,-1\n0,0.866408,0.979199,0,1,0,-1\n0,0.883055,0.979199,0,1,0,-1\n0,0.899339,0.975738,0,1,0,-1\n0,0.914547,0.968966,0,1,0,-1\n0,0.928015,0.959181,0,1,0,-1\n0,0.939155,0.94681,0,1,0,-1\n0,0.947478,0.932393,0,1,0,-1\n0,0.952623,0.91656,0,1,0,-1\n0,0.954363,0.900004,0,1,0,-1\n"),!1),i(N.ParsePatFile("\n*BUBBLES-02,BUBBLES-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n0,0.01243,0.139689,0,1,0,-1\n0,0.004689,0.124495,0,1,0,-1\n0,0.004689,0.188567,0,1,0,-1\n0,0.01243,0.173373,0,1,0,-1\n0,0.015098,0.156531,0,1,0,-1\n0,0.039159,0.550628,0,1,0,-1\n0,0.03308,0.534599,0,1,0,-1\n0,0.023341,0.52049,0,1,0,-1\n0,0.010509,0.509122,0,1,0,-1\n0,0.010509,0.626172,0,1,0,-1\n0,0.023341,0.614804,0,1,0,-1\n0,0.03308,0.600695,0,1,0,-1\n0,0.039159,0.584666,0,1,0,-1\n0,0.041226,0.567647,0,1,0,-1\n0,0.012655,0.061217,0,1,0,-1\n0,0.029343,0.064052,0,1,0,-1\n0,0.046244,0.065001,0,1,0,-1\n0,0.063146,0.064052,0,1,0,-1\n0,0.079834,0.061217,0,1,0,-1\n0,0.0961,0.05653,0,1,0,-1\n0,0.11174,0.050052,0,1,0,-1\n0,0.126555,0.041864,0,1,0,-1\n0,0.140361,0.032069,0,1,0,-1\n0,0.152983,0.020789,0,1,0,-1\n0,0.164263,0.008167,0,1,0,-1\n0,0.211752,0.623376,0,1,0,-1\n0,0.203326,0.608782,0,1,0,-1\n0,0.190416,0.597949,0,1,0,-1\n0,0.17458,0.592185,0,1,0,-1\n0,0.157727,0.592185,0,1,0,-1\n0,0.141891,0.597949,0,1,0,-1\n0,0.128981,0.608782,0,1,0,-1\n0,0.120555,0.623376,0,1,0,-1\n0,0.117628,0.639973,0,1,0,-1\n0,0.120555,0.65657,0,1,0,-1\n0,0.128981,0.671164,0,1,0,-1\n0,0.141891,0.681997,0,1,0,-1\n0,0.157727,0.687761,0,1,0,-1\n0,0.17458,0.687761,0,1,0,-1\n0,0.190416,0.681997,0,1,0,-1\n0,0.203326,0.671164,0,1,0,-1\n0,0.211752,0.65657,0,1,0,-1\n0,0.214678,0.639973,0,1,0,-1\n0,0.063146,0.764048,0,1,0,-1\n0,0.046244,0.763099,0,1,0,-1\n0,0.029343,0.764048,0,1,0,-1\n0,0.3178,0.248563,0,1,0,-1\n0,0.314583,0.232388,0,1,0,-1\n0,0.309282,0.216771,0,1,0,-1\n0,0.301988,0.20198,0,1,0,-1\n0,0.292825,0.188268,0,1,0,-1\n0,0.281951,0.175868,0,1,0,-1\n0,0.269552,0.164994,0,1,0,-1\n0,0.255839,0.155832,0,1,0,-1\n0,0.241048,0.148538,0,1,0,-1\n0,0.225431,0.143237,0,1,0,-1\n0,0.209256,0.140019,0,1,0,-1\n0,0.1928,0.138941,0,1,0,-1\n0,0.176343,0.140019,0,1,0,-1\n0,0.160168,0.143237,0,1,0,-1\n0,0.144551,0.148538,0,1,0,-1\n0,0.12976,0.155832,0,1,0,-1\n0,0.116047,0.164994,0,1,0,-1\n0,0.103648,0.175868,0,1,0,-1\n0,0.092774,0.188268,0,1,0,-1\n0,0.083612,0.20198,0,1,0,-1\n0,0.076318,0.216771,0,1,0,-1\n0,0.071016,0.232388,0,1,0,-1\n0,0.067799,0.248563,0,1,0,-1\n0,0.06672,0.26502,0,1,0,-1\n0,0.067799,0.281477,0,1,0,-1\n0,0.071016,0.297652,0,1,0,-1\n0,0.076318,0.313268,0,1,0,-1\n0,0.083612,0.32806,0,1,0,-1\n0,0.092774,0.341772,0,1,0,-1\n0,0.103648,0.354171,0,1,0,-1\n0,0.116047,0.365045,0,1,0,-1\n0,0.12976,0.374208,0,1,0,-1\n0,0.144551,0.381502,0,1,0,-1\n0,0.160168,0.386803,0,1,0,-1\n0,0.176343,0.390021,0,1,0,-1\n0,0.1928,0.391099,0,1,0,-1\n0,0.209256,0.390021,0,1,0,-1\n0,0.225431,0.386803,0,1,0,-1\n0,0.241048,0.381502,0,1,0,-1\n0,0.255839,0.374208,0,1,0,-1\n0,0.269552,0.365045,0,1,0,-1\n0,0.281951,0.354171,0,1,0,-1\n0,0.292825,0.341772,0,1,0,-1\n0,0.301988,0.32806,0,1,0,-1\n0,0.309282,0.313268,0,1,0,-1\n0,0.314583,0.297652,0,1,0,-1\n0,0.3178,0.281477,0,1,0,-1\n0,0.318879,0.26502,0,1,0,-1\n0,0.710254,0.515012,0,1,0,-1\n0,0.707834,0.498698,0,1,0,-1\n0,0.703826,0.482701,0,1,0,-1\n0,0.69827,0.467173,0,1,0,-1\n0,0.691219,0.452264,0,1,0,-1\n0,0.682741,0.438119,0,1,0,-1\n0,0.672916,0.424872,0,1,0,-1\n0,0.661841,0.412653,0,1,0,-1\n0,0.649621,0.401577,0,1,0,-1\n0,0.636375,0.391753,0,1,0,-1\n0,0.622229,0.383274,0,1,0,-1\n0,0.607321,0.376223,0,1,0,-1\n0,0.591793,0.370667,0,1,0,-1\n0,0.575795,0.36666,0,1,0,-1\n0,0.559482,0.36424,0,1,0,-1\n0,0.54301,0.363431,0,1,0,-1\n0,0.526538,0.36424,0,1,0,-1\n0,0.510224,0.36666,0,1,0,-1\n0,0.494226,0.370667,0,1,0,-1\n0,0.478698,0.376223,0,1,0,-1\n0,0.46379,0.383274,0,1,0,-1\n0,0.449644,0.391753,0,1,0,-1\n0,0.436398,0.401577,0,1,0,-1\n0,0.424178,0.412653,0,1,0,-1\n0,0.413103,0.424872,0,1,0,-1\n0,0.403279,0.438119,0,1,0,-1\n0,0.3948,0.452264,0,1,0,-1\n0,0.387749,0.467173,0,1,0,-1\n0,0.382193,0.482701,0,1,0,-1\n0,0.378186,0.498698,0,1,0,-1\n0,0.375766,0.515012,0,1,0,-1\n0,0.374957,0.531484,0,1,0,-1\n0,0.375766,0.547956,0,1,0,-1\n0,0.378186,0.56427,0,1,0,-1\n0,0.382193,0.580267,0,1,0,-1\n0,0.387749,0.595795,0,1,0,-1\n0,0.3948,0.610704,0,1,0,-1\n0,0.403279,0.624849,0,1,0,-1\n0,0.413103,0.638096,0,1,0,-1\n0,0.424178,0.650315,0,1,0,-1\n0,0.436398,0.661391,0,1,0,-1\n0,0.449644,0.671215,0,1,0,-1\n0,0.46379,0.679694,0,1,0,-1\n0,0.478698,0.686745,0,1,0,-1\n0,0.494226,0.692301,0,1,0,-1\n0,0.510224,0.696308,0,1,0,-1\n0,0.526538,0.698728,0,1,0,-1\n0,0.54301,0.699537,0,1,0,-1\n0,0.559482,0.698728,0,1,0,-1\n0,0.575795,0.696308,0,1,0,-1\n0,0.591793,0.692301,0,1,0,-1\n0,0.607321,0.686745,0,1,0,-1\n0,0.622229,0.679694,0,1,0,-1\n0,0.636375,0.671215,0,1,0,-1\n0,0.649621,0.661391,0,1,0,-1\n0,0.661841,0.650315,0,1,0,-1\n0,0.672916,0.638096,0,1,0,-1\n0,0.682741,0.624849,0,1,0,-1\n0,0.691219,0.610704,0,1,0,-1\n0,0.69827,0.595795,0,1,0,-1\n0,0.703826,0.580267,0,1,0,-1\n0,0.707834,0.56427,0,1,0,-1\n0,0.710254,0.547956,0,1,0,-1\n0,0.711063,0.531484,0,1,0,-1\n0,0.353512,0.012986,0,1,0,-1\n0,0.351649,0.029516,0,1,0,-1\n0,0.351027,0.046139,0,1,0,-1\n0,0.351649,0.062761,0,1,0,-1\n0,0.353512,0.079291,0,1,0,-1\n0,0.356604,0.095635,0,1,0,-1\n0,0.360909,0.111703,0,1,0,-1\n0,0.366403,0.127404,0,1,0,-1\n0,0.373055,0.14265,0,1,0,-1\n0,0.380828,0.157356,0,1,0,-1\n0,0.389678,0.171441,0,1,0,-1\n0,0.399556,0.184825,0,1,0,-1\n0,0.410406,0.197433,0,1,0,-1\n0,0.422168,0.209196,0,1,0,-1\n0,0.434776,0.220046,0,1,0,-1\n0,0.44816,0.229924,0,1,0,-1\n0,0.462245,0.238774,0,1,0,-1\n0,0.476951,0.246546,0,1,0,-1\n0,0.492198,0.253198,0,1,0,-1\n0,0.507899,0.258692,0,1,0,-1\n0,0.523966,0.262997,0,1,0,-1\n0,0.54031,0.26609,0,1,0,-1\n0,0.55684,0.267952,0,1,0,-1\n0,0.573463,0.268574,0,1,0,-1\n0,0.590085,0.267952,0,1,0,-1\n0,0.606615,0.26609,0,1,0,-1\n0,0.622959,0.262997,0,1,0,-1\n0,0.639027,0.258692,0,1,0,-1\n0,0.654727,0.253198,0,1,0,-1\n0,0.669974,0.246546,0,1,0,-1\n0,0.68468,0.238774,0,1,0,-1\n0,0.698765,0.229924,0,1,0,-1\n0,0.712149,0.220046,0,1,0,-1\n0,0.724757,0.209196,0,1,0,-1\n0,0.736519,0.197433,0,1,0,-1\n0,0.74737,0.184825,0,1,0,-1\n0,0.757248,0.171441,0,1,0,-1\n0,0.766098,0.157356,0,1,0,-1\n0,0.77387,0.14265,0,1,0,-1\n0,0.780522,0.127404,0,1,0,-1\n0,0.928226,0.008167,0,1,0,-1\n0,0.939506,0.020789,0,1,0,-1\n0,0.952128,0.032069,0,1,0,-1\n0,0.965934,0.041864,0,1,0,-1\n0,0.980749,0.050052,0,1,0,-1\n0,0.996388,0.05653,0,1,0,-1\n0,0.992631,0.112437,0,1,0,-1\n0,0.977438,0.104696,0,1,0,-1\n0,0.960595,0.102028,0,1,0,-1\n0,0.943753,0.104696,0,1,0,-1\n0,0.928559,0.112437,0,1,0,-1\n0,0.916502,0.124495,0,1,0,-1\n0,0.90876,0.139689,0,1,0,-1\n0,0.906093,0.156531,0,1,0,-1\n0,0.90876,0.173373,0,1,0,-1\n0,0.916502,0.188567,0,1,0,-1\n0,0.928559,0.200625,0,1,0,-1\n0,0.943753,0.208366,0,1,0,-1\n0,0.960595,0.211034,0,1,0,-1\n0,0.977438,0.208366,0,1,0,-1\n0,0.992631,0.200625,0,1,0,-1\n0,0.995329,0.501155,0,1,0,-1\n0,0.978684,0.497052,0,1,0,-1\n0,0.96154,0.497052,0,1,0,-1\n0,0.944895,0.501155,0,1,0,-1\n0,0.929715,0.509122,0,1,0,-1\n0,0.916882,0.52049,0,1,0,-1\n0,0.907144,0.534599,0,1,0,-1\n0,0.901065,0.550628,0,1,0,-1\n0,0.898998,0.567647,0,1,0,-1\n0,0.901065,0.584666,0,1,0,-1\n0,0.907144,0.600695,0,1,0,-1\n0,0.916882,0.614804,0,1,0,-1\n0,0.929715,0.626172,0,1,0,-1\n0,0.944895,0.634139,0,1,0,-1\n0,0.96154,0.638242,0,1,0,-1\n0,0.978684,0.638242,0,1,0,-1\n0,0.995329,0.634139,0,1,0,-1\n0,0.795276,0.029516,0,1,0,-1\n0,0.793414,0.012986,0,1,0,-1\n0,0.786016,0.111703,0,1,0,-1\n0,0.790321,0.095635,0,1,0,-1\n0,0.793414,0.079291,0,1,0,-1\n0,0.795276,0.062761,0,1,0,-1\n0,0.795898,0.046139,0,1,0,-1\n0,0.790321,0.996642,0,1,0,-1\n0,0.786016,0.980575,0,1,0,-1\n0,0.780522,0.964874,0,1,0,-1\n0,0.77387,0.949628,0,1,0,-1\n0,0.766098,0.934921,0,1,0,-1\n0,0.757248,0.920836,0,1,0,-1\n0,0.74737,0.907452,0,1,0,-1\n0,0.736519,0.894844,0,1,0,-1\n0,0.724757,0.883082,0,1,0,-1\n0,0.712149,0.872232,0,1,0,-1\n0,0.698765,0.862354,0,1,0,-1\n0,0.68468,0.853504,0,1,0,-1\n0,0.669974,0.845731,0,1,0,-1\n0,0.654727,0.839079,0,1,0,-1\n0,0.639027,0.833585,0,1,0,-1\n0,0.622959,0.82928,0,1,0,-1\n0,0.606615,0.826188,0,1,0,-1\n0,0.590085,0.824325,0,1,0,-1\n0,0.573463,0.823703,0,1,0,-1\n0,0.55684,0.824325,0,1,0,-1\n0,0.54031,0.826188,0,1,0,-1\n0,0.523966,0.82928,0,1,0,-1\n0,0.507899,0.833585,0,1,0,-1\n0,0.492198,0.839079,0,1,0,-1\n0,0.476951,0.845731,0,1,0,-1\n0,0.462245,0.853504,0,1,0,-1\n0,0.44816,0.862354,0,1,0,-1\n0,0.434776,0.872232,0,1,0,-1\n0,0.422168,0.883082,0,1,0,-1\n0,0.410406,0.894844,0,1,0,-1\n0,0.399556,0.907452,0,1,0,-1\n0,0.389678,0.920836,0,1,0,-1\n0,0.380828,0.934921,0,1,0,-1\n0,0.373055,0.949628,0,1,0,-1\n0,0.366403,0.964874,0,1,0,-1\n0,0.360909,0.980575,0,1,0,-1\n0,0.356604,0.996642,0,1,0,-1\n0,0.196246,0.897149,0,1,0,-1\n0,0.193411,0.880461,0,1,0,-1\n0,0.188725,0.864194,0,1,0,-1\n0,0.182247,0.848555,0,1,0,-1\n0,0.174058,0.83374,0,1,0,-1\n0,0.164263,0.819934,0,1,0,-1\n0,0.152983,0.807312,0,1,0,-1\n0,0.140361,0.796032,0,1,0,-1\n0,0.126555,0.786236,0,1,0,-1\n0,0.11174,0.778048,0,1,0,-1\n0,0.0961,0.77157,0,1,0,-1\n0,0.079834,0.766884,0,1,0,-1\n0,0.012655,0.766884,0,1,0,-1\n0,0.174058,0.994361,0,1,0,-1\n0,0.182247,0.979545,0,1,0,-1\n0,0.188725,0.963906,0,1,0,-1\n0,0.193411,0.94764,0,1,0,-1\n0,0.196246,0.930951,0,1,0,-1\n0,0.197195,0.91405,0,1,0,-1\n0,0.996388,0.77157,0,1,0,-1\n0,0.980749,0.778048,0,1,0,-1\n0,0.965934,0.786236,0,1,0,-1\n0,0.952128,0.796032,0,1,0,-1\n0,0.939506,0.807312,0,1,0,-1\n0,0.928226,0.819934,0,1,0,-1\n0,0.918431,0.83374,0,1,0,-1\n0,0.910242,0.848555,0,1,0,-1\n0,0.903764,0.864194,0,1,0,-1\n0,0.899078,0.880461,0,1,0,-1\n0,0.896243,0.897149,0,1,0,-1\n0,0.895293,0.91405,0,1,0,-1\n0,0.896243,0.930951,0,1,0,-1\n0,0.899078,0.94764,0,1,0,-1\n0,0.903764,0.963906,0,1,0,-1\n0,0.910242,0.979545,0,1,0,-1\n0,0.918431,0.994361,0,1,0,-1\n"),!1),i(N.ParsePatFile("\n*BUBBLES-03,BUBBLES-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n0,0.401131,0.163621,0,1,0,-1\n0,0.397069,0.144076,0,1,0,-1\n0,0.390384,0.125265,0,1,0,-1\n0,0.3812,0.107541,0,1,0,-1\n0,0.369688,0.091232,0,1,0,-1\n0,0.356062,0.076642,0,1,0,-1\n0,0.340577,0.064044,0,1,0,-1\n0,0.32352,0.053672,0,1,0,-1\n0,0.30521,0.045718,0,1,0,-1\n0,0.285988,0.040333,0,1,0,-1\n0,0.266211,0.037614,0,1,0,-1\n0,0.246248,0.037614,0,1,0,-1\n0,0.226471,0.040333,0,1,0,-1\n0,0.207249,0.045718,0,1,0,-1\n0,0.188938,0.053672,0,1,0,-1\n0,0.171882,0.064044,0,1,0,-1\n0,0.156397,0.076642,0,1,0,-1\n0,0.142771,0.091232,0,1,0,-1\n0,0.131259,0.107541,0,1,0,-1\n0,0.122075,0.125265,0,1,0,-1\n0,0.115389,0.144076,0,1,0,-1\n0,0.111328,0.163621,0,1,0,-1\n0,0.109966,0.183537,0,1,0,-1\n0,0.111328,0.203453,0,1,0,-1\n0,0.115389,0.222999,0,1,0,-1\n0,0.122075,0.241809,0,1,0,-1\n0,0.131259,0.259533,0,1,0,-1\n0,0.142771,0.275842,0,1,0,-1\n0,0.156397,0.290432,0,1,0,-1\n0,0.171882,0.30303,0,1,0,-1\n0,0.188938,0.313403,0,1,0,-1\n0,0.207249,0.321356,0,1,0,-1\n0,0.226471,0.326742,0,1,0,-1\n0,0.246248,0.32946,0,1,0,-1\n0,0.266211,0.32946,0,1,0,-1\n0,0.285988,0.326742,0,1,0,-1\n0,0.30521,0.321356,0,1,0,-1\n0,0.32352,0.313403,0,1,0,-1\n0,0.340577,0.30303,0,1,0,-1\n0,0.356062,0.290432,0,1,0,-1\n0,0.369688,0.275842,0,1,0,-1\n0,0.3812,0.259533,0,1,0,-1\n0,0.390384,0.241809,0,1,0,-1\n0,0.397069,0.222999,0,1,0,-1\n0,0.401131,0.203453,0,1,0,-1\n0,0.402493,0.183537,0,1,0,-1\n0,0.717102,0.580347,0,1,0,-1\n0,0.69634,0.588567,0,1,0,-1\n0,0.676773,0.599325,0,1,0,-1\n0,0.658707,0.61245,0,1,0,-1\n0,0.64243,0.627736,0,1,0,-1\n0,0.628196,0.644941,0,1,0,-1\n0,0.616231,0.663795,0,1,0,-1\n0,0.606724,0.684,0,1,0,-1\n0,0.599823,0.705237,0,1,0,-1\n0,0.595639,0.727171,0,1,0,-1\n0,0.594237,0.749457,0,1,0,-1\n0,0.595639,0.771743,0,1,0,-1\n0,0.599823,0.793677,0,1,0,-1\n0,0.606724,0.814914,0,1,0,-1\n0,0.713243,0.02088,0,1,0,-1\n0,0.688246,0.022108,0,1,0,-1\n0,0.663491,0.02578,0,1,0,-1\n0,0.639215,0.031861,0,1,0,-1\n0,0.615651,0.040292,0,1,0,-1\n0,0.593028,0.050992,0,1,0,-1\n0,0.571562,0.063858,0,1,0,-1\n0,0.551461,0.078766,0,1,0,-1\n0,0.532918,0.095573,0,1,0,-1\n0,0.516111,0.114116,0,1,0,-1\n0,0.501203,0.134218,0,1,0,-1\n0,0.488337,0.155683,0,1,0,-1\n0,0.477637,0.178307,0,1,0,-1\n0,0.469206,0.20187,0,1,0,-1\n0,0.463125,0.226146,0,1,0,-1\n0,0.459453,0.250902,0,1,0,-1\n0,0.458225,0.275898,0,1,0,-1\n0,0.459453,0.300894,0,1,0,-1\n0,0.463125,0.325649,0,1,0,-1\n0,0.469206,0.349926,0,1,0,-1\n0,0.477637,0.373489,0,1,0,-1\n0,0.488337,0.396113,0,1,0,-1\n0,0.501203,0.417578,0,1,0,-1\n0,0.516111,0.43768,0,1,0,-1\n0,0.532918,0.456223,0,1,0,-1\n0,0.551461,0.473029,0,1,0,-1\n0,0.571562,0.487938,0,1,0,-1\n0,0.593028,0.500804,0,1,0,-1\n0,0.615651,0.511504,0,1,0,-1\n0,0.639215,0.519935,0,1,0,-1\n0,0.663491,0.526016,0,1,0,-1\n0,0.688246,0.529688,0,1,0,-1\n0,0.713243,0.530916,0,1,0,-1\n0,0.563094,0.659436,0,1,0,-1\n0,0.558843,0.630776,0,1,0,-1\n0,0.551803,0.602671,0,1,0,-1\n0,0.542042,0.575392,0,1,0,-1\n0,0.529655,0.5492,0,1,0,-1\n0,0.514759,0.524349,0,1,0,-1\n0,0.4975,0.501077,0,1,0,-1\n0,0.478043,0.479609,0,1,0,-1\n0,0.456575,0.460152,0,1,0,-1\n0,0.433303,0.442893,0,1,0,-1\n0,0.408452,0.427998,0,1,0,-1\n0,0.382261,0.41561,0,1,0,-1\n0,0.354981,0.405849,0,1,0,-1\n0,0.326876,0.398809,0,1,0,-1\n0,0.298216,0.394558,0,1,0,-1\n0,0.269278,0.393136,0,1,0,-1\n0,0.240339,0.394558,0,1,0,-1\n0,0.21168,0.398809,0,1,0,-1\n0,0.183575,0.405849,0,1,0,-1\n0,0.156295,0.41561,0,1,0,-1\n0,0.130104,0.427998,0,1,0,-1\n0,0.105252,0.442893,0,1,0,-1\n0,0.081981,0.460152,0,1,0,-1\n0,0.060513,0.479609,0,1,0,-1\n0,0.041056,0.501077,0,1,0,-1\n0,0.023796,0.524349,0,1,0,-1\n0,0.008901,0.5492,0,1,0,-1\n0,0.542042,0.801357,0,1,0,-1\n0,0.551803,0.774077,0,1,0,-1\n0,0.558843,0.745972,0,1,0,-1\n0,0.563094,0.717313,0,1,0,-1\n0,0.564516,0.688374,0,1,0,-1\n0,0.996513,0.575392,0,1,0,-1\n0,0.986753,0.602671,0,1,0,-1\n0,0.979713,0.630776,0,1,0,-1\n0,0.975461,0.659436,0,1,0,-1\n0,0.97404,0.688374,0,1,0,-1\n0,0.975461,0.717313,0,1,0,-1\n0,0.979713,0.745972,0,1,0,-1\n0,0.986753,0.774077,0,1,0,-1\n0,0.996513,0.801357,0,1,0,-1\n0,0.94846,0.727171,0,1,0,-1\n0,0.944275,0.705237,0,1,0,-1\n0,0.937375,0.684,0,1,0,-1\n0,0.927868,0.663795,0,1,0,-1\n0,0.915903,0.644941,0,1,0,-1\n0,0.901669,0.627736,0,1,0,-1\n0,0.885391,0.61245,0,1,0,-1\n0,0.867326,0.599325,0,1,0,-1\n0,0.847758,0.588567,0,1,0,-1\n0,0.826996,0.580347,0,1,0,-1\n0,0.805368,0.574794,0,1,0,-1\n0,0.783214,0.571995,0,1,0,-1\n0,0.760884,0.571995,0,1,0,-1\n0,0.738731,0.574794,0,1,0,-1\n0,0.616231,0.835119,0,1,0,-1\n0,0.628196,0.853972,0,1,0,-1\n0,0.64243,0.871178,0,1,0,-1\n0,0.658707,0.886464,0,1,0,-1\n0,0.676773,0.899589,0,1,0,-1\n0,0.69634,0.910346,0,1,0,-1\n0,0.717102,0.918566,0,1,0,-1\n0,0.738731,0.92412,0,1,0,-1\n0,0.760884,0.926918,0,1,0,-1\n0,0.783214,0.926918,0,1,0,-1\n0,0.805368,0.92412,0,1,0,-1\n0,0.826996,0.918566,0,1,0,-1\n0,0.847758,0.910346,0,1,0,-1\n0,0.867326,0.899589,0,1,0,-1\n0,0.885391,0.886464,0,1,0,-1\n0,0.901669,0.871178,0,1,0,-1\n0,0.915903,0.853972,0,1,0,-1\n0,0.927868,0.835119,0,1,0,-1\n0,0.937375,0.814914,0,1,0,-1\n0,0.944275,0.793677,0,1,0,-1\n0,0.94846,0.771743,0,1,0,-1\n0,0.949862,0.749457,0,1,0,-1\n0,0.967032,0.250902,0,1,0,-1\n0,0.96336,0.226146,0,1,0,-1\n0,0.957279,0.20187,0,1,0,-1\n0,0.948848,0.178307,0,1,0,-1\n0,0.938148,0.155683,0,1,0,-1\n0,0.925282,0.134218,0,1,0,-1\n0,0.910374,0.114116,0,1,0,-1\n0,0.893567,0.095573,0,1,0,-1\n0,0.875024,0.078766,0,1,0,-1\n0,0.854923,0.063858,0,1,0,-1\n0,0.833457,0.050992,0,1,0,-1\n0,0.810834,0.040292,0,1,0,-1\n0,0.78727,0.031861,0,1,0,-1\n0,0.762994,0.02578,0,1,0,-1\n0,0.738239,0.022108,0,1,0,-1\n0,0.738239,0.529688,0,1,0,-1\n0,0.762994,0.526016,0,1,0,-1\n0,0.78727,0.519935,0,1,0,-1\n0,0.810834,0.511504,0,1,0,-1\n0,0.833457,0.500804,0,1,0,-1\n0,0.854923,0.487938,0,1,0,-1\n0,0.875024,0.473029,0,1,0,-1\n0,0.893567,0.456223,0,1,0,-1\n0,0.910374,0.43768,0,1,0,-1\n0,0.925282,0.417578,0,1,0,-1\n0,0.938148,0.396113,0,1,0,-1\n0,0.948848,0.373489,0,1,0,-1\n0,0.957279,0.349926,0,1,0,-1\n0,0.96336,0.325649,0,1,0,-1\n0,0.967032,0.300894,0,1,0,-1\n0,0.96826,0.275898,0,1,0,-1\n0,0.4975,0.875671,0,1,0,-1\n0,0.514759,0.8524,0,1,0,-1\n0,0.529655,0.827549,0,1,0,-1\n0,0.008901,0.827549,0,1,0,-1\n0,0.023796,0.8524,0,1,0,-1\n0,0.041056,0.875671,0,1,0,-1\n0,0.060513,0.897139,0,1,0,-1\n0,0.081981,0.916597,0,1,0,-1\n0,0.105252,0.933856,0,1,0,-1\n0,0.130104,0.948751,0,1,0,-1\n0,0.156295,0.961139,0,1,0,-1\n0,0.183575,0.9709,0,1,0,-1\n0,0.21168,0.97794,0,1,0,-1\n0,0.240339,0.982191,0,1,0,-1\n0,0.269278,0.983612,0,1,0,-1\n0,0.298216,0.982191,0,1,0,-1\n0,0.326876,0.97794,0,1,0,-1\n0,0.354981,0.9709,0,1,0,-1\n0,0.382261,0.961139,0,1,0,-1\n0,0.408452,0.948751,0,1,0,-1\n0,0.433303,0.933856,0,1,0,-1\n0,0.456575,0.916597,0,1,0,-1\n0,0.478043,0.897139,0,1,0,-1\n"),!1),i(N.ParsePatFile("\n*CELTIC-01,CELTIC PATTERN 01\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n135,0.36,0.42222222,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.42222222,0.39111111,0.70710678,0.70710678,0.25848681,-1.15572675\n315,0.39111111,0.57777778,0.70710678,0.70710678,0.08799551,-1.32621805\n315,0.30166667,0.63611111,0.70710678,0.70710678,0.25848681,-1.15572675\n225,0.76055556,0.42611111,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.86555556,0.5,0.70710678,0.70710678,0.28048569,-1.13372787\n225,0.85388889,0.33277778,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.99,0.5,0.70710678,0.70710678,0.3684812,-1.04573236\n225,0.76055556,0.72944444,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.85388889,0.63611111,0.70710678,0.70710678,0.08799551,-1.32621805\n90,0.99,0.90200449,0,1,0.08799551,-0.91200449\n0,0.90200449,0.88000561,0,1,0.08799551,-0.91200449\n0,0.83978227,0.90200449,0,1,0.15021773,-0.84978227\n0,0.80333333,0.99,0,1,0.18666667,-0.81333333\n90,0.90200449,0.83978227,0,1,0.04022334,-0.95977666\n90,0.99,0.80333333,0,1,0.07667228,-0.92332772\n180,0.09799551,0.99,0,1,0.08799551,-0.91200449\n90,0.11999439,0.90200449,0,1,0.08799551,-0.91200449\n90,0.09799551,0.83978227,0,1,0.15021773,-0.84978227\n90,0.01,0.80333333,0,1,0.18666667,-0.81333333\n180,0.16021773,0.90200449,0,1,0.04022334,-0.95977666\n180,0.19666667,0.99,0,1,0.07667228,-0.92332772\n270,0.01,0.09799551,0,1,0.08799551,-0.91200449\n180,0.09799551,0.11999439,0,1,0.08799551,-0.91200449\n180,0.16021773,0.09799551,0,1,0.15021773,-0.84978227\n180,0.19666667,0.01,0,1,0.18666667,-0.81333333\n270,0.09799551,0.16021773,0,1,0.04022334,-0.95977666\n270,0.01,0.19666667,0,1,0.07667228,-0.92332772\n45,0.70222222,0.51555556,0.70710678,0.70710678,0.40697924,-1.00723433\n45,0.51555556,0.29777778,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.42611111,0.23944444,0.70710678,0.70710678,0.25848681,-1.15572675\n45,0.19666667,0.01,0.70710678,0.70710678,0.19249018,-1.22172338\n45,0.64,0.57777778,0.70710678,0.70710678,0.3705303,-1.04368326\n45,0.42222222,0.39111111,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.36388889,0.30166667,0.70710678,0.70710678,0.25848681,-1.15572675\n45,0.16021773,0.09799551,0.70710678,0.70710678,0.15604125,-1.25817232\n45,0.66722222,0.85388889,0.70710678,0.70710678,0.19249018,-1.22172338\n45,0.42222222,0.64,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.14611111,0.36388889,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.39111111,0.57777778,0.70710678,0.70710678,0.25848681,-1.15572675\n45,0.01,0.19666667,0.70710678,0.70710678,0.40697924,-1.00723433\n45,0.72944444,0.79166667,0.70710678,0.70710678,0.15604125,-1.25817232\n45,0.23944444,0.27055556,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.51555556,0.54666667,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.45333333,0.51555556,0.70710678,0.70710678,0.25848681,-1.15572675\n45,0.09799551,0.16021773,0.70710678,0.70710678,0.3705303,-1.04368326\n0,0.90200449,0.01,0,1,0.08799551,-0.91200449\n135,0.70222222,0.51555556,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.42611111,0.79166667,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.48444444,0.70222222,0.70710678,0.70710678,0.40697924,-1.00723433\n135,0.76055556,0.42611111,0.70710678,0.70710678,0.25848681,-1.15572675\n135,0.99,0.19666667,0.70710678,0.70710678,0.19249018,-1.22172338\n135,0.33277778,0.69833333,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.42222222,0.64,0.70710678,0.70710678,0.3705303,-1.04368326\n135,0.60888889,0.42222222,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.69833333,0.36388889,0.70710678,0.70710678,0.25848681,-1.15572675\n135,0.90200449,0.16021773,0.70710678,0.70710678,0.15604125,-1.25817232\n135,0.63611111,0.14611111,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.14611111,0.66722222,0.70710678,0.70710678,0.19249018,-1.22172338\n135,0.80333333,0.01,0.70710678,0.70710678,0.40697924,-1.00723433\n135,0.72944444,0.23944444,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.20833333,0.72944444,0.70710678,0.70710678,0.15604125,-1.25817232\n135,0.83978227,0.09799551,0.70710678,0.70710678,0.3705303,-1.04368326\n270,0.88000561,0.09799551,0,1,0.08799551,-0.91200449\n270,0.90200449,0.16021773,0,1,0.15021773,-0.84978227\n270,0.99,0.19666667,0,1,0.18666667,-0.81333333\n0,0.83978227,0.09799551,0,1,0.04022334,-0.95977666\n0,0.80333333,0.01,0,1,0.07667228,-0.92332772\n135,0.99,0.5,0.70710678,0.70710678,0.19249018,-1.22172338\n45,0.5,0.01,0.70710678,0.70710678,0.19249018,-1.22172338\n315,0.27055556,0.20833333,0.70710678,0.70710678,0.08799551,-1.32621805\n315,0.23944444,0.27055556,0.70710678,0.70710678,0.3684812,-1.04573236\n315,0.01,0.5,0.70710678,0.70710678,0.19249018,-1.22172338\n225,0.20833333,0.72944444,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.27055556,0.76055556,0.70710678,0.70710678,0.3684812,-1.04573236\n225,0.5,0.99,0.70710678,0.70710678,0.19249018,-1.22172338\n135,0.72944444,0.79166667,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.76055556,0.72944444,0.70710678,0.70710678,0.3684812,-1.04573236\n135,0.86555556,0.5,0.70710678,0.70710678,0.10449467,-1.30971889\n45,0.5,0.13444444,0.70710678,0.70710678,0.10449467,-1.30971889\n315,0.36388889,0.30166667,0.70710678,0.70710678,0.08799551,-1.32621805\n315,0.30166667,0.33277778,0.70710678,0.70710678,0.28048569,-1.13372787\n315,0.13444444,0.5,0.70710678,0.70710678,0.10449467,-1.30971889\n225,0.30166667,0.63611111,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.33277778,0.69833333,0.70710678,0.70710678,0.28048569,-1.13372787\n225,0.5,0.86555556,0.70710678,0.70710678,0.10449467,-1.30971889\n135,0.63611111,0.69833333,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.69833333,0.66722222,0.70710678,0.70710678,0.28048569,-1.13372787\n"),!1),i(N.ParsePatFile("\n*CELTIC-02,CELTIC PATTERN 02\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n180,0.438471,0.01545916,0,1,0.12305799,-0.87694201\n270,0.98454084,0.438471,0,1,0.12305799,-0.87694201\n270,0.01545916,0.68458699,0,1,0.12305799,-0.87694201\n180,0.68458699,0.98454084,0,1,0.12305799,-0.87694201\n90,0.98454084,0.4692355,0,1,0.51530534,-0.48469466\n270,0.98454084,0.28464852,0,1,0.26918936,-0.73081064\n180,0.438471,0.28464852,0,1,0.12305799,-0.87694201\n180,0.5307645,0.31541301,0,1,0.36148285,-0.63851715\n0,0.31541301,0.4692355,0,1,0.12305799,-0.87694201\n0,0.16928165,0.438471,0,1,0.36148285,-0.63851715\n270,0.83071835,0.68458699,0,1,0.12305799,-0.87694201\n270,0.86148285,0.86148285,0,1,0.39224735,-0.60775265\n270,0.5307645,0.98454084,0,1,0.12305799,-0.87694201\n270,0.71535148,0.98454084,0,1,0.12305799,-0.87694201\n90,0.68458699,0.71535148,0,1,0.26918936,-0.73081064\n90,0.71535148,0.31541301,0,1,0.12305799,-0.87694201\n90,0.68458699,0.16928165,0,1,0.36148285,-0.63851715\n90,0.561529,0.71535148,0,1,0.26918936,-0.73081064\n90,0.5307645,0.31541301,0,1,0.12305799,-0.87694201\n90,0.561529,0.16928165,0,1,0.36148285,-0.63851715\n90,0.28464852,0.561529,0,1,0.12305799,-0.87694201\n90,0.28464852,0.01545916,0,1,0.12305799,-0.87694201\n90,0.31541301,0.4692355,0,1,0.36148285,-0.63851715\n90,0.31541301,0.01545916,0,1,0.26918936,-0.73081064\n90,0.4692355,0.01545916,0,1,0.12305799,-0.87694201\n90,0.4692355,0.561529,0,1,0.12305799,-0.87694201\n90,0.438471,0.4692355,0,1,0.36148285,-0.63851715\n90,0.438471,0.01545916,0,1,0.26918936,-0.73081064\n180,0.68458699,0.71535148,0,1,0.12305799,-0.87694201\n180,0.13851715,0.71535148,0,1,0.12305799,-0.87694201\n180,0.28464852,0.68458699,0,1,0.26918936,-0.73081064\n180,0.83071835,0.68458699,0,1,0.36148285,-0.63851715\n180,0.13851715,0.5307645,0,1,0.12305799,-0.87694201\n180,0.28464852,0.561529,0,1,0.26918936,-0.73081064\n180,0.68458699,0.5307645,0,1,0.12305799,-0.87694201\n180,0.83071835,0.561529,0,1,0.36148285,-0.63851715\n180,0.98454084,0.28464852,0,1,0.12305799,-0.87694201\n180,0.98454084,0.31541301,0,1,0.26918936,-0.73081064\n180,0.98454084,0.4692355,0,1,0.12305799,-0.87694201\n180,0.98454084,0.438471,0,1,0.26918936,-0.73081064\n180,0.98454084,0.98454084,0,1,0.26918936,-0.73081064\n0,0.4692355,0.01545916,0,1,0.51530534,-0.48469466\n0,0.01545916,0.01545916,0,1,0.26918936,-0.73081064\n270,0.01545916,0.5307645,0,1,0.51530534,-0.48469466\n270,0.01545916,0.98454084,0,1,0.26918936,-0.73081064\n180,0.5307645,0.98454084,0,1,0.51530534,-0.48469466\n180,0.86148285,0.86148285,0,1,0.14613136,-0.85386864\n90,0.86148285,0.13851715,0,1,0.14613136,-0.85386864\n0,0.561529,0.16928165,0,1,0.12305799,-0.87694201\n0,0.4692355,0.13851715,0,1,0.39224735,-0.60775265\n0,0.13851715,0.13851715,0,1,0.14613136,-0.85386864\n270,0.16928165,0.438471,0,1,0.12305799,-0.87694201\n270,0.13851715,0.5307645,0,1,0.39224735,-0.60775265\n270,0.13851715,0.86148285,0,1,0.14613136,-0.85386864\n180,0.438471,0.83071835,0,1,0.12305799,-0.87694201\n180,0.5307645,0.86148285,0,1,0.39224735,-0.60775265\n"),!1),i(N.ParsePatFile("\n*CELTIC-03,CELTIC-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n90,6.35,13.97,0,25.4,5.08,-20.32\n90,19.05,6.35,0,25.4,5.08,-20.32\n0,6.35,6.35,0,25.4,12.7,-12.7\n270,6.35,11.43,0,25.4,5.08,-20.32\n90,3.81,3.81,0,25.4,7.62,-17.78\n180,21.59,3.81,0,25.4,17.78,-7.62\n270,21.59,11.43,0,25.4,7.62,-17.78\n270,21.59,21.59,0,25.4,7.62,-17.78\n0,3.81,21.59,0,25.4,17.78,-7.62\n90,3.81,13.97,0,25.4,7.62,-17.78\n270,19.05,19.05,0,25.4,5.08,-20.32\n0,6.35,19.05,0,25.4,12.7,-12.7\n90,13.97,6.35,0,25.4,12.7,-12.7\n90,11.43,6.35,0,25.4,12.7,-12.7\n270,13.97,3.81,0,25.4,7.62,-17.78\n90,11.43,-3.81,0,25.4,7.62,-17.78\n180,11.43,11.43,0,25.4,22.86,-2.54\n0,-11.43,13.97,0,25.4,22.86,-2.54\n"),!1),i(N.ParsePatFile("\n*CELTIC-04,CELTIC-04\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n45,3.81,13.97,17.960512212,17.960512212,12.57235865,-23.348666028\n135,21.59,13.97,17.960512212,17.960512212,12.57235865,-23.348666028\n45,12.7,2.54,17.960512212,17.960512212,12.57235865,-23.348666028\n315,3.81,11.43,17.960512212,17.960512212,12.57235865,-23.348666028\n135,12.7,5.08,17.960512212,17.960512212,8.980256106,-26.940768318\n225,19.05,11.43,17.960512212,17.960512212,8.980256106,-26.940768318\n315,12.7,20.32,17.960512212,17.960512212,8.980256106,-26.940768318\n45,6.35,13.97,17.960512212,17.960512212,8.980256106,-26.940768318\n90,13.97,6.35,0,25.4,12.7,-12.7\n90,11.43,6.35,0,25.4,12.7,-12.7\n270,13.97,3.81,0,25.4,7.62,-17.78\n90,11.43,-3.81,0,25.4,7.62,-17.78\n180,11.43,11.43,0,25.4,22.86,-2.54\n0,-11.43,13.97,0,25.4,22.86,-2.54\n"),!1),i(N.ParsePatFile("\n*CIRCLES-02,CIRCLES-02\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n0,0.959092,0.471116,0,1,0,-1\n0,0.956373,0.442347,0,1,0,-1\n0,0.951852,0.413805,0,1,0,-1\n0,0.945548,0.385603,0,1,0,-1\n0,0.937486,0.357852,0,1,0,-1\n0,0.927697,0.330663,0,1,0,-1\n0,0.91622,0.304142,0,1,0,-1\n0,0.903101,0.278393,0,1,0,-1\n0,0.888391,0.25352,0,1,0,-1\n0,0.872148,0.229619,0,1,0,-1\n0,0.854436,0.206785,0,1,0,-1\n0,0.835326,0.185108,0,1,0,-1\n0,0.814892,0.164674,0,1,0,-1\n0,0.793215,0.145564,0,1,0,-1\n0,0.770381,0.127852,0,1,0,-1\n0,0.74648,0.111609,0,1,0,-1\n0,0.721607,0.096899,0,1,0,-1\n0,0.695858,0.08378,0,1,0,-1\n0,0.669337,0.072303,0,1,0,-1\n0,0.642148,0.062514,0,1,0,-1\n0,0.614397,0.054452,0,1,0,-1\n0,0.586195,0.048148,0,1,0,-1\n0,0.557653,0.043627,0,1,0,-1\n0,0.528884,0.040908,0,1,0,-1\n0,0.5,0.04,0,1,0,-1\n0,0.471116,0.040908,0,1,0,-1\n0,0.442347,0.043627,0,1,0,-1\n0,0.413805,0.048148,0,1,0,-1\n0,0.385603,0.054452,0,1,0,-1\n0,0.357852,0.062514,0,1,0,-1\n0,0.330663,0.072303,0,1,0,-1\n0,0.304142,0.08378,0,1,0,-1\n0,0.278393,0.096899,0,1,0,-1\n0,0.25352,0.111609,0,1,0,-1\n0,0.229619,0.127852,0,1,0,-1\n0,0.206785,0.145564,0,1,0,-1\n0,0.185108,0.164674,0,1,0,-1\n0,0.164674,0.185108,0,1,0,-1\n0,0.145564,0.206785,0,1,0,-1\n0,0.127852,0.229619,0,1,0,-1\n0,0.111609,0.25352,0,1,0,-1\n0,0.096899,0.278393,0,1,0,-1\n0,0.08378,0.304142,0,1,0,-1\n0,0.072303,0.330663,0,1,0,-1\n0,0.062514,0.357852,0,1,0,-1\n0,0.054452,0.385603,0,1,0,-1\n0,0.048148,0.413805,0,1,0,-1\n0,0.043627,0.442347,0,1,0,-1\n0,0.040908,0.471116,0,1,0,-1\n0,0.04,0.5,0,1,0,-1\n0,0.040908,0.528884,0,1,0,-1\n0,0.043627,0.557653,0,1,0,-1\n0,0.048148,0.586195,0,1,0,-1\n0,0.054452,0.614397,0,1,0,-1\n0,0.062514,0.642148,0,1,0,-1\n0,0.072303,0.669337,0,1,0,-1\n0,0.08378,0.695858,0,1,0,-1\n0,0.096899,0.721607,0,1,0,-1\n0,0.111609,0.74648,0,1,0,-1\n0,0.127852,0.770381,0,1,0,-1\n0,0.145564,0.793215,0,1,0,-1\n0,0.164674,0.814892,0,1,0,-1\n0,0.185108,0.835326,0,1,0,-1\n0,0.206785,0.854436,0,1,0,-1\n0,0.229619,0.872148,0,1,0,-1\n0,0.25352,0.888391,0,1,0,-1\n0,0.278393,0.903101,0,1,0,-1\n0,0.304142,0.91622,0,1,0,-1\n0,0.330663,0.927697,0,1,0,-1\n0,0.357852,0.937486,0,1,0,-1\n0,0.385603,0.945548,0,1,0,-1\n0,0.413805,0.951852,0,1,0,-1\n0,0.442347,0.956373,0,1,0,-1\n0,0.471116,0.959092,0,1,0,-1\n0,0.5,0.96,0,1,0,-1\n0,0.528884,0.959092,0,1,0,-1\n0,0.557653,0.956373,0,1,0,-1\n0,0.586195,0.951852,0,1,0,-1\n0,0.614397,0.945548,0,1,0,-1\n0,0.642148,0.937486,0,1,0,-1\n0,0.669337,0.927697,0,1,0,-1\n0,0.695858,0.91622,0,1,0,-1\n0,0.721607,0.903101,0,1,0,-1\n0,0.74648,0.888391,0,1,0,-1\n0,0.770381,0.872148,0,1,0,-1\n0,0.793215,0.854436,0,1,0,-1\n0,0.814892,0.835326,0,1,0,-1\n0,0.835326,0.814892,0,1,0,-1\n0,0.854436,0.793215,0,1,0,-1\n0,0.872148,0.770381,0,1,0,-1\n0,0.888391,0.74648,0,1,0,-1\n0,0.903101,0.721607,0,1,0,-1\n0,0.91622,0.695858,0,1,0,-1\n0,0.927697,0.669337,0,1,0,-1\n0,0.937486,0.642148,0,1,0,-1\n0,0.945548,0.614397,0,1,0,-1\n0,0.951852,0.586195,0,1,0,-1\n0,0.956373,0.557653,0,1,0,-1\n0,0.959092,0.528884,0,1,0,-1\n0,0.96,0.5,0,1,0,-1\n"),!1),i(N.ParsePatFile("\n*CIRCLES,CIRCLES\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n0,0.934583,0.431169,0,1,0,-1\n0,0.918465,0.364033,0,1,0,-1\n0,0.892043,0.300244,0,1,0,-1\n0,0.855967,0.241374,0,1,0,-1\n0,0.811127,0.188873,0,1,0,-1\n0,0.758626,0.144033,0,1,0,-1\n0,0.699756,0.107957,0,1,0,-1\n0,0.635967,0.081535,0,1,0,-1\n0,0.568831,0.065417,0,1,0,-1\n0,0.5,0.06,0,1,0,-1\n0,0.431169,0.065417,0,1,0,-1\n0,0.364033,0.081535,0,1,0,-1\n0,0.300244,0.107957,0,1,0,-1\n0,0.241374,0.144033,0,1,0,-1\n0,0.188873,0.188873,0,1,0,-1\n0,0.144033,0.241374,0,1,0,-1\n0,0.107957,0.300244,0,1,0,-1\n0,0.081535,0.364033,0,1,0,-1\n0,0.065417,0.431169,0,1,0,-1\n0,0.06,0.5,0,1,0,-1\n0,0.065417,0.568831,0,1,0,-1\n0,0.081535,0.635967,0,1,0,-1\n0,0.107957,0.699756,0,1,0,-1\n0,0.144033,0.758626,0,1,0,-1\n0,0.188873,0.811127,0,1,0,-1\n0,0.241374,0.855967,0,1,0,-1\n0,0.300244,0.892043,0,1,0,-1\n0,0.364033,0.918465,0,1,0,-1\n0,0.431169,0.934583,0,1,0,-1\n0,0.5,0.94,0,1,0,-1\n0,0.568831,0.934583,0,1,0,-1\n0,0.635967,0.918465,0,1,0,-1\n0,0.699756,0.892043,0,1,0,-1\n0,0.758626,0.855967,0,1,0,-1\n0,0.811127,0.811127,0,1,0,-1\n0,0.855967,0.758626,0,1,0,-1\n0,0.892043,0.699756,0,1,0,-1\n0,0.918465,0.635967,0,1,0,-1\n0,0.934583,0.568831,0,1,0,-1\n0,0.94,0.5,0,1,0,-1\n"),!1),i(N.ParsePatFile("\n*CLAY,CLAY\n0, 0,0, 0,.1875\n0, 0,.03125, 0,.1875\n0, 0,.0625, 0,.1875\n0, 0,.125, 0,.1875, .1875,-.125\n"),!1),i(N.ParsePatFile("\n*CORK,CORK\n0, 0,0, 0,.125\n135, .0625,-.0625, 0,.35355339, .1767767,-.1767767\n135, .09375,-.0625, 0,.35355339, .1767767,-.1767767\n135, .125,-.0625, 0,.35355339, .1767767,-.1767767\n"),!1),i(N.ParsePatFile("\n*CROSS,CROSS\n0, 0,0, .25,.25, .125,-.375\n90, .0625,-.0625, .25,.25, .125,-.375\n"),!1),i(N.ParsePatFile("\n*DASH,DASH\n0, 0,0, .125,.125, .125,-.125\n"),!1),i(N.ParsePatFile("\n*DOLMIT,DOLMIT\n0, 0,0, 0,.25\n45, 0,0, 0,.70710678, .35355339,-.70710768\n"),!1),i(N.ParsePatFile("\n*DOTS,DOTS\n0, 0,0, .03125,.0625, 0,-.0625\n"),!1),i(N.ParsePatFile("\n*EARTH,EARTH\n0, 0,0, .25,.25, .25,-.25\n0, 0,.09375, .25,.25, .25,-.25\n0, 0,.1875, .25,.25, .25,-.25\n90, .03125,.21875, .25,.25, .25,-.25\n90, .125,.21875, .25,.25, .25,-.25\n90, .21875,.21875, .25,.25, .25,-.25\n"),!1),i(N.ParsePatFile("\n*ESCHER,ESCHER\n60, 0,0, -.6,1.03923048, 1.1,-.1\n180, 0,0, -.6,1.03923048, 1.1,-.1\n300, 0,0, .6,1.03923048, 1.1,-.1\n60, .1,0, -.6,1.03923048, .2,-1\n300, .1,0, .6,1.03923048, .2,-1\n60, -.05,.08660254, -.6,1.03923048, .2,-1\n180, -.05,.08660254, -.6,1.03923048, .2,-1\n300, -.05,-.08660254, .6,1.03923048, .2,-1\n180, -.05,-.08660254, -.6,1.03923048, .2,-1\n60, -.4,0, -.6,1.03923048, .2,-1\n300, -.4,0, .6,1.03923048, .2,-1\n60, .2,-.34641016, -.6,1.03923048, .2,-1\n180, .2,-.34641016, -.6,1.03923048, .2,-1\n300, .2,.34641016, .6,1.03923048, .2,-1\n180, .2,.34641016, -.6,1.03923048, .2,-1\n0, .2,.17320508, -.6,1.03923048, .7,-.5\n0, .2,-.17320508, -.6,1.03923048, .7,-.5\n120, .05,.25980762, .6,1.03923048, .7,-.5\n120, -.25,.08660254, .6,1.03923048, .7,-.5\n240, -.25,-.08660254, .6,1.03923048, .7,-.5\n240, .05,-.25980762, .6,1.03923048, .7,-.5\n"),!1),i(N.ParsePatFile("\n*EXPLOSION,EXPLOSION\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n270,0.45,0.11,0,1,0.11,-0.89\n143.130102,0.49,0.08,3.6,0.2,0.05,-4.95\n270,0.49,0.17,0,1,0.09,-0.91\n112.380135,0.56,0,12.99988621,0.05439283,0.18384776,-18.20092855\n75.256437,0.51,0.81,4.12279145,0.05089866,0.19646883,-19.45041388\n287.525568,0.45,1,3.16187936,0.05018856,0.19924859,-19.72561026\n135,0.06,0.49,0.70710678,0.70710678,0.08485281,-1.32936075\n26.565051,0,0.46,1.34164079,0.4472136,0.06708204,-2.16898594\n353.884496,0.72,0.49,19.10494017,0.03551104,0.28160256,-27.87865312\n192.094757,1,0.55,9.2192799,0.06984303,0.28635642,-14.03146464\n3.691386,0.69,0.38,15.03326191,0.03219114,0.31064449,-30.75380464\n136.080924,0.96,0.12,36.06936773,0.02667853,0.3748333,-37.10849633\n336.037511,0.87,0.16,7.61509624,0.10153462,0.09848858,-9.75036922\n123.690068,0.97,0.01,1.38675049,0.2773501,0.18027756,-3.42527371\n324.462322,0.62,0.26,3.6036768,0.11624764,0.43011626,-8.172209\n117.645975,0.73,0.05,21.47086912,0.04218245,0.23706539,-23.46947379\n326.309932,0.55,0.17,2.21880078,0.2773501,0.21633308,-3.3892182\n106.38954,0.6,0,10.44015399,0.05643326,0.17720045,-17.5428447\n153.434949,0.12,0.34,0.89442719,0.4472136,0.13416408,-2.1019039\n64.798876,0.04,0.17,16.55285979,0.05322463,0.18788294,-18.60041129\n202.619865,0.16,0.22,7.61538462,0.07692308,0.13,-12.87\n59.036243,0.1,0.12,2.22948161,0.17149859,0.11661904,-5.71433286\n211.75948,0.31,0.25,9.43389425,0.04048882,0.24698178,-24.45119629\n79.215702,0.27,0.04,16.27875339,0.04677803,0.21377558,-21.16378274\n212.471192,0.38,0.11,3.60473545,0.0766965,0.13038405,-12.90802076\n63.434949,0.35,0.05,0.89442719,0.4472136,0.06708204,-2.16898594\n135,0.4,0,0.70710678,0.70710678,0.07071068,-1.34350288\n74.357754,0.33,0.75,18.68150198,0.03851856,0.2596151,-25.70189487\n333.434949,0.03,0.9,0.89442719,0.4472136,0.3354102,-1.90065778\n110.556045,0.18,0.5,5.38389277,0.11704115,0.42720019,-8.11680356\n330.945396,0,0.6,2.23395748,0.09712859,0.2059126,-10.08971754\n99.462322,0.63,0.82,5.09636861,0.16439899,0.18248288,-5.90027965\n222.70939,0.76,0.94,1.41308355,0.05652334,0.17691806,-17.51488795\n74.744881,0.73,0.83,4.12217269,0.0877058,0.11401754,-11.28773671\n208.61046,0.95,0.95,10.29532081,0.07980869,0.25059928,-12.2793648\n62.744672,0.78,0.62,2.2359057,0.02693862,0.37121422,-36.75020816\n212.275644,0.97,0.74,13.03832887,0.04449942,0.22472205,-22.247483\n55.00798,0.9,0.64,3.60462045,0.08192319,0.12206556,-12.08449006\n158.198591,1,0.6,3.15682075,0.18569534,0.1077033,-5.27746151\n51.911227,0.59,0.51,29.20615599,0.02127178,0.47010637,-46.54053072\n153.434949,0.65,0.48,0.89442719,0.4472136,0.06708204,-2.16898594\n35.537678,0.58,0.43,4.99864847,0.11624764,0.08602325,-8.51630201\n129.289407,0.76,0.21,7.80993275,0.07035975,0.28425341,-13.928417\n322.30576,0.54,0.38,16.40118003,0.0359675,0.27802878,-27.52484877\n77.905243,0.51,0.24,5.09854116,0.06984303,0.14317821,-14.17464285\n282.994617,0.48,0.37,4.12242429,0.07495317,0.13341664,-13.20824742\n62.525568,0.35,0.12,2.23578634,0.03548867,0.28178006,-27.89622555\n267.137595,0.36,0.32,0.99875234,0.04993762,0.20024984,-19.82473455\n12.994617,0.1,0.26,4.12242429,0.07495317,0.26683328,-13.07483078\n211.75948,0.31,0.39,9.43389425,0.04048882,0.24698178,-24.45119629\n318.366461,0.22,0.47,10.62982142,0.08304548,0.12041595,-11.92117863\n189.462322,0.28,0.48,5.09636861,0.16439899,0.06082763,-6.0219349\n297.299572,0.12,0.79,32.64964285,0.02866518,0.34885527,-34.53667181\n132.273689,0.32,0.57,1.41261287,0.06726728,0.29732137,-14.56874737\n282.994617,0.29,0.7,4.12242429,0.07495317,0.13341664,-13.20824742\n140.194429,0.41,0.6,6.401844,0.12803688,0.15620499,-7.65404468\n268.363423,0.42,0.95,0.99959209,0.02855977,0.35014283,-34.66413997\n102.200469,0.5,0.58,23.53718977,0.0264166,0.37854986,-37.4764366\n250.016893,0.58,0.8,3.16112333,0.08543577,0.234094,-11.47060591\n84.559668,0.56,0.59,11.04525929,0.04740455,0.21095023,-20.88407288\n222.184443,0.88,0.88,14.86605071,0.02315584,0.43185646,-42.75378931\n"),!1),i(N.ParsePatFile("\n*FLEX,FLEX\n0, 0,0, 0,.25, .25,-.25\n45, .25,0, .1767767,.1767767, .0625,-.22855339,.0625,-.35355339\n"),!1),i(N.ParsePatFile("\n*GRASS,GRASS\n90, 0,0, .70710678,.70710678, .1875,-1.22671356\n45, 0,0, 0,1, .1875,-.8125\n135, 0,0, 0,1, .1875,-.8125\n"),!1),i(N.ParsePatFile("\n*GRATE,GRATE\n0, 0,0, 0,.03125\n90, 0,0, 0,.125\n"),!1),i(N.ParsePatFile("\n*GRAVEL-01,GRAVEL-01\n;Optimize to replace existing GRAVEL Pattern\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n159.443955,0.16,0.13,3.16011097,0.11704115,0.17088007,-8.37312367\n114.775141,0.22,0,2.23497695,0.06984303,0.14317821,-14.17464285\n249.443955,0.32,0.08,3.16011097,0.11704115,0.08544004,-8.45856371\n186.009006,0.51,0.1,9.05523386,0.05234239,0.19104973,-18.91392344\n165.963757,0.71,0.05,0.9701425,0.24253563,0.20615528,-3.91695034\n101.309932,0.72,0,4.11843884,0.19611614,0.0509902,-5.04802932\n243.434949,0.84,0.14,0.89442719,0.4472136,0.15652476,-2.07954322\n355.426079,0.49,0.13,13.03834384,0.03987261,0.25079872,-24.82907368\n300.256437,0.42,0.25,5.83050758,0.07198158,0.13892444,-13.75351955\n228.012788,0.6,0.45,12.04136517,0.07432941,0.26907248,-13.18455157\n180,0.86,0.45,0,1,0.26,-0.74\n303.690068,0.62,0.62,1.38675049,0.2773501,0.14422205,-3.46132922\n225,0.72,0.72,0.70710678,0.70710678,0.14142136,-1.27279221\n110.224859,0.08,0.23,8.54386101,0.04938648,0.20248457,-20.04597216\n177.273689,0.29,0.22,0.99886814,0.04756515,0.21023796,-20.81355808\n217.69424,0.51,0.39,11.40169752,0.0359675,0.27802878,-27.52484877\n252.255328,0.59,0.64,23.08676133,0.03809697,0.26248809,-25.9863214\n301.429566,0.48,0.82,15.26426391,0.04740455,0.21095023,-20.88407288\n355.236358,0.24,0.84,0.99654576,0.08304548,0.24083189,-11.80076269\n43.66778,0.02,0.63,1.41383129,0.0328798,0.30413813,-30.10967452\n87.273689,0.01,0.42,0.99886814,0.04756515,0.21023796,-20.81355808\n30.963757,0.62,0.71,3.60147029,0.17149859,0.17492856,-5.65602334\n291.801409,0.58,0.81,2.22834406,0.18569534,0.1077033,-5.27746151\n203.198591,0.65,0.84,2.23220936,0.13130643,0.07615773,-7.53961537\n161.565051,0.77,0.8,0.9486833,0.31622777,0.12649111,-3.03578655\n4.969741,0.4,0.88,11.04527609,0.04331481,0.23086793,-22.85592483\n16.38954,0,0.81,10.44015399,0.05643326,0.17720045,-17.5428447\n197.354025,1,0.19,3.16171493,0.059655,0.16763055,-16.59542407\n74.054604,0.95,0.22,4.12081692,0.13736056,0.1456022,-7.13450769\n27.645975,0.74,0.11,21.47086912,0.04218245,0.23706539,-23.46947379\n145.304846,0.99,0.36,3.60499653,0.06324555,0.15811388,-15.65327442\n353.157227,0.7,0.5,17.1171967,0.03971507,0.25179357,-24.92756306\n171.469234,0.92,0.69,7.07089492,0.04944682,0.20223748,-20.02151093\n138.814075,1,0.62,9.21906451,0.09407209,0.10630146,-10.52384435\n90,1,0.56,0,1,0.06,-0.94\n60.945396,0.95,0.47,2.23395748,0.09712859,0.1029563,-10.19267384\n343.61046,0.83,0.86,7.27989116,0.05643326,0.17720045,-17.5428447\n293.198591,0.77,1,2.23220936,0.13130643,0.15231546,-7.46345764\n48.012788,0.63,0.9,12.04136517,0.07432941,0.13453624,-13.31908781\n312.510447,0.29,1,1.41287877,0.06142951,0.16278821,-16.11603239\n70.346176,0.17,0.86,3.16156213,0.06726728,0.14866069,-14.71740806\n"),!1),i(N.ParsePatFile("\n*GRAVEL,GRAVEL\n228.0128, .72,1, 12.041365,.074329, .134536,-13.319088\n184.9697, .63,.9, -12.041517,.043315, .230868,-22.855925\n132.5104, .4,.88, -14.865942,.06143, .162788,-16.116032\n267.2737, .01,.63, -20.024928,.047565, .210238,-20.813558\n292.8337, 0,.42, -12.99991,.048507, .206155,-20.409373\n357.2737, .08,.23, -20.024928,.047565, .210238,-20.813558\n37.6942, .29,.22, -16.40118,.035968, .278029,-27.524849\n72.2553, .51,.39, 23.086761,.038097, .262488,-25.986321\n121.4296, .59,.64, 15.264264,.047405, .21095,-20.884073\n175.2364, .48,.82, -11.045049,.083045, .240832,-11.800763\n222.3974, .24,.84, 16.278789,.032108, .311448,-30.833375\n138.8141, 1,.62, 9.219065,.094072, .106301,-10.523844\n171.4692, .92,.69, -13.152853,.049447, .202237,-20.021511\n225, .72,.72, .707107,.707107, .141421,-1.272792\n203.1986, .65,.84, -5.383564,.131306, .076158,-7.539615\n291.8014, .58,.81, -3.156821,.185695, .107703,-5.277462\n30.9638, .62,.71, 3.60147,.171499, .174929,-5.656023\n161.5651, .77,.8, -2.213594,.316228, .126491,-3.035787\n16.3895, 0,.81, 10.440154,.056433, .1772,-17.542845\n70.3462, .17,.86, -11.704507,.067267, .148661,-14.717408\n293.1986, .77,1, -5.383564,.131306, .152315,-7.463458\n343.6105, .83,.86, -10.440154,.056433, .1772,-17.542845\n339.444, 0,.19, -5.383893,.117041, .17088,-8.373124\n294.7751, .16,.13, -12.082844,.069843, .143178,-14.174643\n66.8014, .78,0, 5.383564,.131306, .152315,-7.463458\n17.354, .84,.14, -13.60134,.059655, .167631,-16.595424\n69.444, .29,0, -5.383893,.117041, .08544,-8.458564\n101.3099, .72,0, 4.118439,.196116, .05099,-5.048029\n165.9638, .71,.05, -3.152963,.242536, .206155,-3.91695\n186.009, .51,.1, -10.049739,.052342, .19105,-18.913923\n303.6901, .62,.62, -2.218801,.27735, .144222,-3.461329\n353.1572, .7,.5, 17.117197,.039715, .251794,-24.927563\n60.9454, .95,.47, -8.061673,.097129, .102956,-10.192674\n90, 1,.56, 1,1, .06,-.94\n120.2564, .49,.13, -8.061936,.071982, .138924,-13.75352\n48.0128, .42,.25, 12.041365,.074329, .269072,-13.184552\n0, .6,.45, 1,1, .26,-.74\n325.3048, .86,.45, -12.206392,.063246, .158114,-15.653274\n254.0546, .99,.36, 4.120817,.137361, .145602,-7.134508\n207.646, .95,.22, 21.470869,.042182, .237065,-23.469474\n175.4261, .74,.11, 13.038344,.039873, .250799,-24.829074\n"),!1),i(N.ParsePatFile("\n*HATCH-DOTS,HATCH-DOTS verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n225,0.56554781,0.11554781,0.70710678,0.70710678,0.45245257,-0.96176099\n225,0.25036388,0.20036388,0.70710678,0.70710678,0.6374253,-0.77678826\n225,0.12918503,0.37918503,0.70710678,0.70710678,0.71894383,-0.69526973\n225,0.75438447,0.20438447,0.70710678,0.70710678,0.45245257,-0.96176099\n225,0.30962291,0.15962291,0.70710678,0.70710678,0.6636138,-0.75059977\n225,0.11186858,0.46186858,0.70710678,0.70710678,0.81138689,-0.60282667\n225,0.37918503,0.12918503,0.70710678,0.70710678,0.71894383,-0.69526973\n225,0.11554781,0.56554781,0.70710678,0.70710678,0.45245257,-0.96176099\n225,0.20036388,0.25036388,0.70710678,0.70710678,0.6374253,-0.77678826\n225,0.46186859,0.11186859,0.70710678,0.70710678,0.8113869,-0.60282666\n225,0.20438447,0.75438447,0.70710678,0.70710678,0.45245257,-0.96176099\n225,0.15962291,0.30962291,0.70710678,0.70710678,0.6636138,-0.75059977\n"),!1),i(N.ParsePatFile("\n*HATCH-SQRS,HATCH-SQRS verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n225,0.11,0.36,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.86,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.26,0.70710678,0.70710678,0.52325902,-0.89095454\n225,0.76,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.56,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.46,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.26,0.11,0.70710678,0.70710678,0.52325902,-0.89095454\n225,0.11,0.76,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.16,0.70710678,0.70710678,0.38183766,-1.0323759\n225,0.16,0.11,0.70710678,0.70710678,0.38183766,-1.0323759\n225,0.46,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.56,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.36,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.86,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.66,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.66,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n"),!1),i(N.ParsePatFile("\n*HEXAGONS,HEXAGONS verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n239.931417,0.21999999,0.99999998,8.06212908,0.04554875,0.21954496,-21.73495344\n239.931417,0.89,0.19,8.06212908,0.04554875,0.21954496,-21.73495344\n300.068583,0.78000001,0.99999998,13.89236932,0.04554875,0.21954496,-21.73495344\n60.068488,0.12,0.5,8.06221498,0.02626129,0.38078866,-37.69807687\n119.931512,0.31,0.17,30.01665055,0.02626129,0.38078865,-37.69807687\n300.068583,0.11,0.19,13.89236932,0.04554875,0.21954496,-21.73495344\n180,0.11,0.19,0,1,0.21999996,-0.78000004\n299.931512,0.69,0.83,30.01665055,0.02626129,0.38078865,-37.69807687\n0,0.31,0.83,0,1,0.38,-0.62\n180,0.69,0.17,0,1,0.38,-0.62\n240.068488,0.88,0.5,8.06221498,0.02626129,0.38078866,-37.69807687\n180,0.11,0.81,0,1,0.21999996,-0.78000004\n"),!1),i(N.ParsePatFile("\n*HEXJOIN-01,HEXJOIN-01 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n45,0.15,0.65,0.70710678,0.70710678,0.28284271,-1.13137085\n270,0.85,0.65,1,1,0.3,-0.7\n315,0.65,0.85,0.70710678,0.70710678,0.28284271,-1.13137085\n180,0.65,0.15,0,1,0.3,-0.7\n270,0.55,0.15,1,1,0.3,-0.7\n90,0.15,0.35,1,1,0.3,-0.7\n135,0.35,0.15,0.70710678,0.70710678,0.28284271,-1.13137085\n180,0.15,0.55,0,1,0.3,-0.7\n270,0.45,0.15,1,1,0.3,-0.7\n180,0.15,0.45,0,1,0.3,-0.7\n225,0.85,0.35,0.70710678,0.70710678,0.28284271,-1.13137085\n0,0.35,0.85,0,1,0.3,-0.7\n"),!1),i(N.ParsePatFile("\n*HEXJOIN-02,HEXJOIN-02 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.85,0.45,1,1,0.1,-0.9\n315,0.65,0.85,0.70710678,0.70710678,0.28284271,-1.13137085\n270,0.55,0.15,1,1,0.3,-0.7\n180,0.15,0.55,0,1,0.3,-0.7\n180,0.65,0.15,0,1,0.1,-0.9\n45,0.15,0.65,0.70710678,0.70710678,0.28284271,-1.13137085\n90,0.15,0.55,1,1,0.1,-0.9\n180,0.15,0.45,0,1,0.3,-0.7\n180,0.45,0.15,0,1,0.1,-0.9\n270,0.45,0.15,1,1,0.3,-0.7\n90,0.15,0.35,1,1,0.1,-0.9\n0,0.55,0.85,0,1,0.1,-0.9\n135,0.35,0.15,0.70710678,0.70710678,0.28284271,-1.13137085\n0,0.35,0.85,0,1,0.1,-0.9\n225,0.85,0.35,0.70710678,0.70710678,0.28284271,-1.13137085\n270,0.85,0.65,1,1,0.1,-0.9\n"),!1),i(N.ParsePatFile("\n*HEX,HEX\n0, 0,0, 0,.21650635, .125,-.25\n120, 0,0, 0,.21650635, .125,-.25\n60, .125,0, 0,.21650635, .125,-.25\n"),!1),i(N.ParsePatFile("\n*HOLLY,HOLLY\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n99.462322,0.8,0.11,5.09636861,0.16439899,0.06082763,-6.0219349\n74.744881,0.67,0.08,4.12217269,0.0877058,0.11401754,-11.28773671\n68.198591,0.53,0.15,3.15682075,0.18569534,0.1077033,-5.27746151\n270,0.58,0.37,0,1,0.07,-0.93\n248.198591,0.75,0.35,3.15682075,0.18569534,0.1077033,-5.27746151\n45,0.8,0.2,0.70710678,0.70710678,0.08485281,-1.32936075\n351.869898,0.9,0.13,0.98994949,0.14142136,0.07071068,-7.00035713\n0,0.86,0.13,0,1,0.04,-0.96\n26.565051,0.82,0.11,1.34164079,0.4472136,0.04472136,-2.19134662\n45,0.8,0.09,0.70710678,0.70710678,0.02828427,-1.38592929\n341.565051,0.77,0.1,0.9486833,0.31622777,0.03162278,-3.13065488\n0,0.73,0.1,0,1,0.04,-0.96\n26.565051,0.71,0.09,1.34164079,0.4472136,0.02236068,-2.2137073\n26.565051,0.69,0.08,1.34164079,0.4472136,0.02236068,-2.2137073\n53.130102,0.66,0.04,3.6,0.2,0.05,-4.95\n270,0.66,0.08,0,1,0.04,-0.96\n303.690068,0.64,0.11,1.38675049,0.2773501,0.03605551,-3.56949576\n315,0.62,0.13,0.70710678,0.70710678,0.02828427,-1.38592929\n345.963757,0.58,0.14,0.9701425,0.24253563,0.04123106,-4.08187457\n0,0.54,0.14,0,1,0.04,-0.96\n33.690068,0.51,0.12,1.38675049,0.2773501,0.03605551,-3.56949576\n255.963757,0.52,0.16,0.9701425,0.24253563,0.04123106,-4.08187457\n281.309932,0.51,0.21,4.11843884,0.19611614,0.0509902,-5.04802932\n284.036243,0.5,0.25,3.15296313,0.24253563,0.04123106,-4.08187457\n296.565051,0.48,0.29,1.34164079,0.4472136,0.04472136,-2.19134662\n303.690068,0.46,0.32,1.38675049,0.2773501,0.03605551,-3.56949576\n180,0.5,0.32,0,1,0.04,-0.96\n180,0.53,0.32,0,1,0.03,-0.97\n213.690068,0.56,0.34,1.38675049,0.2773501,0.03605551,-3.56949576\n243.434949,0.57,0.36,0.89442719,0.4472136,0.02236068,-2.2137073\n251.565051,0.58,0.39,0.9486833,0.31622777,0.03162278,-3.13065488\n108.434949,0.59,0.36,2.21359436,0.31622777,0.03162278,-3.13065488\n135,0.61,0.34,0.70710678,0.70710678,0.02828427,-1.38592929\n153.434949,0.63,0.33,0.89442719,0.4472136,0.02236068,-2.2137073\n161.565051,0.66,0.32,0.9486833,0.31622777,0.03162278,-3.13065488\n180,0.69,0.32,0,1,0.03,-0.97\n198.434949,0.72,0.33,2.21359436,0.31622777,0.03162278,-3.13065488\n225,0.74,0.35,0.70710678,0.70710678,0.02828427,-1.38592929\n251.565051,0.75,0.38,0.9486833,0.31622777,0.03162278,-3.13065488\n108.434949,0.76,0.35,2.21359436,0.31622777,0.03162278,-3.13065488\n116.565051,0.78,0.31,1.34164079,0.4472136,0.04472136,-2.19134662\n135,0.81,0.28,0.70710678,0.70710678,0.04242641,-1.37178716\n161.565051,0.84,0.27,0.9486833,0.31622777,0.03162278,-3.13065488\n180,0.87,0.27,0,1,0.03,-0.97\n90,0.87,0.24,0,1,0.03,-0.97\n111.801409,0.89,0.19,2.22834406,0.18569534,0.05385165,-5.33131316\n126.869898,0.92,0.15,1.4,0.2,0.05,-4.95\n149.036243,0.97,0.12,2.22948161,0.17149859,0.05830952,-5.77264238\n338.587031,0.46,0.32,24.69817132,0.01825438,0.54781384,-54.23356986\n338.198591,0.8,0.69,3.15682075,0.18569534,0.05385165,-5.33131316\n323.972627,0.71,0.62,8.60201108,0.07352146,0.13601471,-13.4654558\n315,0.6,0.53,0.70710678,0.70710678,0.11313708,-1.30107648\n135,0.58,0.55,0.70710678,0.70710678,0.07071068,-1.34350288\n126.869898,0.68,0.65,1.4,0.2,0.1,-4.9\n105.945396,0.77,0.72,3.15929297,0.13736056,0.0728011,-7.20730879\n30.963757,0.87,0.8,3.60147029,0.17149859,0.05830952,-5.77264238\n14.036243,0.83,0.79,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.8,0.79,0,1,0.03,-0.97\n341.565051,0.77,0.8,0.9486833,0.31622777,0.03162278,-3.13065488\n333.434949,0.75,0.81,0.89442719,0.4472136,0.02236068,-2.2137073\n63.434949,0.74,0.79,0.89442719,0.4472136,0.02236068,-2.2137073\n45,0.72,0.77,0.70710678,0.70710678,0.02828427,-1.38592929\n33.690068,0.69,0.75,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.66,0.74,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.63,0.74,0,1,0.03,-0.97\n341.565051,0.6,0.75,0.9486833,0.31622777,0.03162278,-3.13065488\n108.434949,0.61,0.72,2.21359436,0.31622777,0.03162278,-3.13065488\n90,0.61,0.69,0,1,0.03,-0.97\n75.963757,0.6,0.65,0.9701425,0.24253563,0.04123106,-4.08187457\n45,0.57,0.62,0.70710678,0.70710678,0.04242641,-1.37178716\n14.036243,0.53,0.61,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.5,0.61,0,1,0.03,-0.97\n126.869898,0.53,0.57,1.4,0.2,0.05,-4.95\n90,0.53,0.54,0,1,0.03,-0.97\n75.963757,0.52,0.5,0.9701425,0.24253563,0.04123106,-4.08187457\n56.309932,0.5,0.47,2.21880078,0.2773501,0.03605551,-3.56949576\n191.309932,0.55,0.48,4.11843884,0.19611614,0.0509902,-5.04802932\n168.690068,0.6,0.47,0.98058068,0.19611614,0.0509902,-5.04802932\n161.565051,0.66,0.45,0.9486833,0.31622777,0.06324555,-3.09903211\n143.130102,0.7,0.42,3.6,0.2,0.05,-4.95\n270,0.7,0.43,0,1,0.01,-0.99\n270,0.7,0.46,0,1,0.03,-0.97\n243.434949,0.72,0.5,0.89442719,0.4472136,0.04472136,-2.19134662\n213.690068,0.75,0.52,1.38675049,0.2773501,0.03605551,-3.56949576\n198.434949,0.78,0.53,2.21359436,0.31622777,0.03162278,-3.13065488\n180,0.82,0.53,0,1,0.04,-0.96\n146.309932,0.85,0.51,2.21880078,0.2773501,0.03605551,-3.56949576\n303.690068,0.83,0.54,1.38675049,0.2773501,0.03605551,-3.56949576\n270,0.83,0.57,0,1,0.03,-0.97\n270,0.83,0.61,0,1,0.04,-0.96\n243.434949,0.85,0.65,0.89442719,0.4472136,0.04472136,-2.19134662\n225,0.87,0.67,0.70710678,0.70710678,0.02828427,-1.38592929\n296.565051,0.86,0.69,1.34164079,0.4472136,0.02236068,-2.2137073\n270,0.86,0.71,0,1,0.02,-0.98\n255.963757,0.87,0.75,0.9701425,0.24253563,0.04123106,-4.08187457\n243.434949,0.89,0.79,0.89442719,0.4472136,0.04472136,-2.19134662\n233.130102,0.92,0.83,3.6,0.2,0.05,-4.95\n40.601295,0.5,0.47,1.41004798,0.10846523,0.55317267,-8.66637179\n195.945396,0.26,0.54,3.15929297,0.13736056,0.0728011,-7.20730879\n5.194429,0.29,0.55,10.04946781,0.09053575,0.11045361,-10.93490741\n19.983107,0.28,0.68,8.54357658,0.08543577,0.117047,-11.58765291\n185.710593,0.23,0.68,9.05483843,0.09950372,0.10049876,-9.94937686\n164.054604,0.22,0.79,4.12081692,0.13736056,0.0728011,-7.20730879\n45,0.27,0.79,0.70710678,0.70710678,0.05656854,-1.35764502\n90,0.21,0.92,0,1,0.04,-0.96\n75.963757,0.2,0.88,0.9701425,0.24253563,0.04123106,-4.08187457\n243.434949,0.31,0.47,0.89442719,0.4472136,0.04472136,-2.19134662\n236.309932,0.33,0.5,2.21880078,0.2773501,0.03605551,-3.56949576\n225,0.36,0.53,0.70710678,0.70710678,0.04242641,-1.37178716\n213.690068,0.39,0.55,1.38675049,0.2773501,0.03605551,-3.56949576\n189.462322,0.45,0.56,5.09636861,0.16439899,0.06082763,-6.0219349\n333.434949,0.43,0.57,0.89442719,0.4472136,0.02236068,-2.2137073\n326.309932,0.4,0.59,2.21880078,0.2773501,0.03605551,-3.56949576\n303.690068,0.38,0.62,1.38675049,0.2773501,0.03605551,-3.56949576\n270,0.38,0.66,0,1,0.04,-0.96\n251.565051,0.39,0.69,0.9486833,0.31622777,0.03162278,-3.13065488\n236.309932,0.41,0.72,2.21880078,0.2773501,0.03605551,-3.56949576\n213.690068,0.44,0.74,1.38675049,0.2773501,0.03605551,-3.56949576\n0,0.4,0.74,0,1,0.04,-0.96\n333.434949,0.36,0.76,0.89442719,0.4472136,0.04472136,-2.19134662\n306.869898,0.33,0.8,1.4,0.2,0.05,-4.95\n284.036243,0.32,0.84,3.15296313,0.24253563,0.04123106,-4.08187457\n341.565051,0.29,0.85,0.9486833,0.31622777,0.03162278,-3.13065488\n326.309932,0.26,0.87,2.21880078,0.2773501,0.03605551,-3.56949576\n303.690068,0.24,0.9,1.38675049,0.2773501,0.03605551,-3.56949576\n296.565051,0.21,0.96,1.34164079,0.4472136,0.06708204,-2.16898594\n56.309932,0.18,0.85,2.21880078,0.2773501,0.03605551,-3.56949576\n45,0.16,0.83,0.70710678,0.70710678,0.02828427,-1.38592929\n33.690068,0.13,0.81,1.38675049,0.2773501,0.03605551,-3.56949576\n116.565051,0.14,0.79,1.34164079,0.4472136,0.02236068,-2.2137073\n108.434949,0.15,0.76,2.21359436,0.31622777,0.03162278,-3.13065488\n90,0.15,0.72,0,1,0.04,-0.96\n63.434949,0.13,0.68,0.89442719,0.4472136,0.04472136,-2.19134662\n33.690068,0.1,0.66,1.38675049,0.2773501,0.03605551,-3.56949576\n165.963757,0.14,0.65,0.9701425,0.24253563,0.04123106,-4.08187457\n143.130102,0.18,0.62,3.6,0.2,0.05,-4.95\n116.565051,0.2,0.58,1.34164079,0.4472136,0.04472136,-2.19134662\n75.963757,0.19,0.54,0.9701425,0.24253563,0.04123106,-4.08187457\n63.434949,0.17,0.5,0.89442719,0.4472136,0.04472136,-2.19134662\n180,0.21,0.5,0,1,0.04,-0.96\n165.963757,0.25,0.49,0.9701425,0.24253563,0.04123106,-4.08187457\n135,0.27,0.47,0.70710678,0.70710678,0.02828427,-1.38592929\n116.565051,0.29,0.43,1.34164079,0.4472136,0.04472136,-2.19134662\n278.583621,0.21,0.96,33.37663332,0.01865659,0.53600373,-53.0643694\n104.036243,0.3,0.2,3.15296313,0.24253563,0.04123106,-4.08187457\n123.690068,0.32,0.17,1.38675049,0.2773501,0.03605551,-3.56949576\n153.434949,0.36,0.15,0.89442719,0.4472136,0.04472136,-2.19134662\n180,0.39,0.15,0,1,0.03,-0.97\n206.565051,0.43,0.17,1.34164079,0.4472136,0.04472136,-2.19134662\n236.309932,0.45,0.2,2.21880078,0.2773501,0.03605551,-3.56949576\n255.963757,0.46,0.24,0.9701425,0.24253563,0.04123106,-4.08187457\n288.434949,0.45,0.27,2.21359436,0.31622777,0.03162278,-3.13065488\n303.690068,0.43,0.3,1.38675049,0.2773501,0.03605551,-3.56949576\n333.434949,0.39,0.32,0.89442719,0.4472136,0.04472136,-2.19134662\n0,0.36,0.32,0,1,0.03,-0.97\n26.565051,0.32,0.3,1.34164079,0.4472136,0.04472136,-2.19134662\n56.309932,0.3,0.27,2.21880078,0.2773501,0.03605551,-3.56949576\n71.565051,0.29,0.24,0.9486833,0.31622777,0.03162278,-3.13065488\n104.036243,0.16,0.31,3.15296313,0.24253563,0.04123106,-4.08187457\n123.690068,0.18,0.28,1.38675049,0.2773501,0.03605551,-3.56949576\n153.434949,0.22,0.26,0.89442719,0.4472136,0.04472136,-2.19134662\n180,0.25,0.26,0,1,0.03,-0.97\n206.565051,0.29,0.28,1.34164079,0.4472136,0.04472136,-2.19134662\n236.309932,0.31,0.31,2.21880078,0.2773501,0.03605551,-3.56949576\n255.963757,0.32,0.35,0.9701425,0.24253563,0.04123106,-4.08187457\n288.434949,0.31,0.38,2.21359436,0.31622777,0.03162278,-3.13065488\n303.690068,0.29,0.41,1.38675049,0.2773501,0.03605551,-3.56949576\n333.434949,0.25,0.43,0.89442719,0.4472136,0.04472136,-2.19134662\n0,0.22,0.43,0,1,0.03,-0.97\n26.565051,0.18,0.41,1.34164079,0.4472136,0.04472136,-2.19134662\n56.309932,0.16,0.38,2.21880078,0.2773501,0.03605551,-3.56949576\n71.565051,0.15,0.35,0.9486833,0.31622777,0.03162278,-3.13065488\n104.036243,0.34,0.38,3.15296313,0.24253563,0.04123106,-4.08187457\n123.690068,0.36,0.35,1.38675049,0.2773501,0.03605551,-3.56949576\n153.434949,0.4,0.33,0.89442719,0.4472136,0.04472136,-2.19134662\n180,0.43,0.33,0,1,0.03,-0.97\n206.565051,0.47,0.35,1.34164079,0.4472136,0.04472136,-2.19134662\n236.309932,0.49,0.38,2.21880078,0.2773501,0.03605551,-3.56949576\n255.963757,0.5,0.42,0.9701425,0.24253563,0.04123106,-4.08187457\n288.434949,0.49,0.45,2.21359436,0.31622777,0.03162278,-3.13065488\n303.690068,0.47,0.48,1.38675049,0.2773501,0.03605551,-3.56949576\n333.434949,0.43,0.5,0.89442719,0.4472136,0.04472136,-2.19134662\n0,0.4,0.5,0,1,0.03,-0.97\n26.565051,0.36,0.48,1.34164079,0.4472136,0.04472136,-2.19134662\n56.309932,0.34,0.45,2.21880078,0.2773501,0.03605551,-3.56949576\n71.565051,0.33,0.42,0.9486833,0.31622777,0.03162278,-3.13065488\n"),!1),i(N.ParsePatFile("\n*HONEY,HONEY\n0, 0,0, .1875,.10825317, .125,-.25\n120, 0,0, .1875,.10825317, .125,-.25\n60, 0,0, .1875,.10825317, -.25,.125\n"),!1),i(N.ParsePatFile("\n*HOUND,HOUND\n0, 0,0, .25,.0625, 1,-.5\n90, 0,0, -.25,.0625, 1,-.5\n"),!1),i(N.ParsePatFile("\n*INSUL,INSUL\n0, 0,0, 0,.375\n0, 0,.125, 0,.375, .125,-.125\n0, 0,.25, 0,.375, .125,-.125\n"),!1),i(N.ParsePatFile("\n*LATTICE-01,LATTICE-01 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.08514719,0.4,0,1,0.17029438,-0.82970562\n270,0.6,0.08514719,1,1,0.17029438,-0.82970562\n270,0.4,0.08514719,1,1,0.17029438,-0.82970562\n135,0.5,0.2679899,0.70710678,0.70710678,0.32811183,-1.08610173\n225,0.7320101,0.5,0.70710678,0.70710678,0.32811183,-1.08610173\n45,0.08514719,0.6,0.70710678,0.70710678,0.44526911,-0.96894445\n180,0.08514719,0.6,0,1,0.17029438,-0.82970562\n315,0.5,0.7320101,0.70710678,0.70710678,0.32811183,-1.08610173\n45,0.2679899,0.5,0.70710678,0.70710678,0.32811183,-1.08610173\n315,0.6,0.91485281,0.70710678,0.70710678,0.44526911,-0.96894445\n45,0.6,0.08514719,0.70710678,0.70710678,0.44526911,-0.96894445\n315,0.08514719,0.4,0.70710678,0.70710678,0.44526911,-0.96894445\n"),!1),i(N.ParsePatFile("\n*LATTICE-02,LATTICE-02 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.38333333,0.38333333,0,1,0.76666666,-0.23333334\n270,0.61666667,1,1,1,1;,0 Removed 0 IT RENDERS A POINT\n180,0.38333333,0.61666667,0,1,0.76666666,-0.23333334\n270,0.38333333,1,1,1,1,;0 Removed 0 IT RENDERS A POINT\n"),!1),i(N.ParsePatFile("\n*LATTICE-03,LATTICE-03 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.38333333,0.38333333,0,1,0.76666666,-0.23333334\n180,0.38333333,0.61666667,0,1,0.76666666,-0.23333334\n270,0.61666667,0.38333333,1,1,0.76666666,-0.23333334\n270,0.38333333,0.38333333,1,1,0.76666666,-0.23333334\n"),!1),i(N.ParsePatFile("\n*LATTICE-04,LATTICE-04 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n296.565051,0.15333333,0.46,1.34164079,0.4472136,1.13294111,-1.10312687\n296.565051,0.34000001,0.55333333,1.34164079,0.4472136,1.13294111,-1.10312687\n206.565051,0.46,0.84666667,1.34164079,0.4472136,1.13294111,-1.10312687\n206.565051,0.55333333,0.65999999,1.34164079,0.4472136,1.13294111,-1.10312687\n"),!1),i(N.ParsePatFile("\n*LATTICE-05,LATTICE-05\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n0,0.775,0.075,0,1,0.15,-0.85\n180,0.225,0.925,0,1,0.15,-0.85\n180,0.625,0.225,0,1,0.4,-0.6\n180,0.625,0.075,0,1,0.55,-0.45\n270,0.625,0.225,0,1,0.15,-0.85\n270,0.775,0.775,0,1,0.7,-0.3\n270,0.925,0.925,0,1,0.85,-0.15\n0,0.375,0.775,0,1,0.4,-0.6\n0,0.375,0.925,0,1,0.55,-0.45\n90,0.375,0.775,0,1,0.15,-0.85\n90,0.225,0.225,0,1,0.7,-0.3\n90,0.075,0.075,0,1,0.85,-0.15\n"),!1),i(N.ParsePatFile("\n*LATTICE-06,LATTICE-06\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n180,0.625,0.375,0,1,0.25,-0.75\n270,0.625,0.625,0,1,0.25,-0.75\n0,0.375,0.625,0,1,0.25,-0.75\n90,0.375,0.375,0,1,0.25,-0.75\n0,0.775,0.075,0,1,0.15,-0.85\n180,0.225,0.925,0,1,0.15,-0.85\n180,0.625,0.225,0,1,0.4,-0.6\n180,0.625,0.075,0,1,0.55,-0.45\n270,0.625,0.225,0,1,0.15,-0.85\n270,0.775,0.775,0,1,0.7,-0.3\n270,0.925,0.925,0,1,0.85,-0.15\n0,0.375,0.775,0,1,0.4,-0.6\n0,0.375,0.925,0,1,0.55,-0.45\n90,0.375,0.775,0,1,0.15,-0.85\n90,0.225,0.225,0,1,0.7,-0.3\n90,0.075,0.075,0,1,0.85,-0.15\n"),!1),i(N.ParsePatFile("\n*LATTICE-07, verbose comment\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.69166667,0.69166666,1,1,0.88333333,-0.11666667\n270,0.80833334,0.69166666,1,1,0.88333333,-0.11666667\n270,0.19166666,0.19166667,1,1,0.88333333,-0.11666667\n270,0.30833333,0.19166667,1,1,0.88333333,-0.11666667\n180,0.69166667,0.30833333,0,1,0.88333333,-0.11666667\n180,0.69166667,0.19166666,0,1,0.88333333,-0.11666667\n180,0.19166667,0.80833334,0,1,0.88333333,-0.11666667\n180,0.19166667,0.69166667,0,1,0.88333333,-0.11666667\n"),!1),i(N.ParsePatFile("\n*LEAF-01,LEAF-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n83.659808,0.9,0.2,0.99388373,0.11043153,0.09055385,-8.96483129\n26.565051,0.88,0.19,1.34164079,0.4472136,0.02236068,-2.2137073\n14.036243,0.84,0.18,3.15296313,0.24253563,0.04123106,-4.08187457\n315,0.84,0.18,0.70710678,0.70710678,0.05656854,-1.35764502\n83.659808,0.84,0.18,0.99388373,0.11043153,0.09055385,-8.96483129\n0,0.79,0.18,0,1,0.05,-0.95\n345.963757,0.82,0.12,0.9701425,0.24253563,0.04123106,-4.08187457\n326.309932,0.79,0.14,2.21880078,0.2773501,0.03605551,-3.56949576\n303.690068,0.77,0.17,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.74,0.16,2.21359436,0.31622777,0.03162278,-3.13065488\n288.434949,0.73,0.19,2.21359436,0.31622777,0.03162278,-3.13065488\n180,0.77,0.19,0,1,0.04,-0.96\n258.690068,0.78,0.24,0.98058068,0.19611614,0.0509902,-5.04802932\n243.434949,0.79,0.26,0.89442719,0.4472136,0.02236068,-2.2137073\n225,0.82,0.29,0.70710678,0.70710678,0.04242641,-1.37178716\n213.690068,0.85,0.31,1.38675049,0.2773501,0.03605551,-3.56949576\n191.309932,0.9,0.32,4.11843884,0.19611614,0.0509902,-5.04802932\n128.659808,0.3,0.42,1.40556386,0.15617376,0.06403124,-6.339093\n143.130102,0.34,0.39,3.6,0.2,0.05,-4.95\n153.434949,0.38,0.37,0.89442719,0.4472136,0.04472136,-2.19134662\n192.528808,0.38,0.37,4.1216787,0.10846523,0.09219544,-9.12734901\n105.945396,0.38,0.37,3.15929297,0.13736056,0.0728011,-7.20730879\n153.434949,0.42,0.35,0.89442719,0.4472136,0.04472136,-2.19134662\n149.036243,0.47,0.32,2.22948161,0.17149859,0.05830952,-5.77264238\n95.710593,0.47,0.32,9.05483843,0.09950372,0.10049876,-9.94937686\n194.931417,0.47,0.32,11.40157229,0.06441566,0.15524175,-15.36893295\n135,0.51,0.28,0.70710678,0.70710678,0.05656854,-1.35764502\n123.690068,0.53,0.25,1.38675049,0.2773501,0.03605551,-3.56949576\n199.653824,0.53,0.25,11.70450662,0.06726728,0.14866069,-14.71740806\n71.565051,0.53,0.25,0.9486833,0.31622777,0.09486833,-3.06740933\n119.054604,0.58,0.16,8.06167266,0.09712859,0.1029563,-10.19267384\n288.434949,0.58,0.14,2.21359436,0.31622777,0.06324555,-3.09903211\n21.801409,0.53,0.12,2.22834406,0.18569534,0.05385165,-5.33131316\n11.309932,0.48,0.11,4.11843884,0.19611614,0.0509902,-5.04802932\n0,0.45,0.11,0,1,0.03,-0.97\n341.565051,0.39,0.13,0.9486833,0.31622777,0.06324555,-3.09903211\n326.309932,0.33,0.17,2.21880078,0.2773501,0.07211103,-3.53344025\n308.659808,0.29,0.22,1.40556386,0.15617376,0.06403124,-6.339093\n300.963757,0.26,0.27,3.60147029,0.17149859,0.05830952,-5.77264238\n285.945396,0.24,0.34,3.15929297,0.13736056,0.0728011,-7.20730879\n270,0.24,0.41,0,1,0.07,-0.93\n279.462322,0.23,0.47,5.09636861,0.16439899,0.06082763,-6.0219349\n285.945396,0.21,0.54,3.15929297,0.13736056,0.0728011,-7.20730879\n123.690068,0.23,0.51,1.38675049,0.2773501,0.03605551,-3.56949576\n161.565051,0.26,0.5,0.9486833,0.31622777,0.03162278,-3.13065488\n171.869898,0.33,0.49,0.98994949,0.14142136,0.07071068,-7.00035713\n171.869898,0.4,0.48,0.98994949,0.14142136,0.07071068,-7.00035713\n161.565051,0.46,0.46,0.9486833,0.31622777,0.06324555,-3.09903211\n161.565051,0.52,0.44,0.9486833,0.31622777,0.06324555,-3.09903211\n146.309932,0.58,0.4,2.21880078,0.2773501,0.07211103,-3.53344025\n119.744881,0.62,0.33,5.82963253,0.12403473,0.08062258,-7.98163517\n111.801409,0.64,0.28,2.22834406,0.18569534,0.05385165,-5.33131316\n90,0.64,0.24,0,1,0.04,-0.96\n75.963757,0.63,0.2,0.9701425,0.24253563,0.04123106,-4.08187457\n56.309932,0.61,0.17,2.21880078,0.2773501,0.03605551,-3.56949576\n63.434949,0.6,0.15,0.89442719,0.4472136,0.02236068,-2.2137073\n126.869898,0.63,0.11,1.4,0.2,0.05,-4.95\n45,0.6,0.08,0.70710678,0.70710678,0.04242641,-1.37178716\n233.130102,0.89,0.04,3.6,0.2,0.05,-4.95\n258.690068,0.07,0.05,0.98058068,0.19611614,0.0509902,-5.04802932\n258.690068,0.14,0.05,0.98058068,0.19611614,0.0509902,-5.04802932\n198.434949,0.26,0.02,2.21359436,0.31622777,0.06324555,-3.09903211\n225,0.31,0.02,0.70710678,0.70710678,0.02828427,-1.38592929\n198.434949,0.34,0.03,2.21359436,0.31622777,0.03162278,-3.13065488\n348.690068,0.29,0.04,0.98058068,0.19611614,0.0509902,-5.04802932\n345.963757,0.25,0.05,0.9701425,0.24253563,0.04123106,-4.08187457\n333.434949,0.21,0.07,0.89442719,0.4472136,0.04472136,-2.19134662\n333.434949,0.15,0.1,0.89442719,0.4472136,0.06708204,-2.16898594\n348.690068,0.1,0.11,0.98058068,0.19611614,0.0509902,-5.04802932\n0,0.07,0.11,0,1,0.03,-0.97\n8.130102,0,0.1,6.08111832,0.14142136,0.07071068,-7.00035713\n236.309932,0.02,0.23,2.21880078,0.2773501,0.03605551,-3.56949576\n236.309932,0.04,0.26,2.21880078,0.2773501,0.03605551,-3.56949576\n213.690068,0.07,0.28,1.38675049,0.2773501,0.03605551,-3.56949576\n0,0.03,0.28,0,1,0.04,-0.96\n326.309932,0,0.3,2.21880078,0.2773501,0.03605551,-3.56949576\n18.434949,0,0.26,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0,0.55,0,1,0.07,-0.93\n14.036243,0.1,0.61,3.15296313,0.24253563,0.04123106,-4.08187457\n21.801409,0.05,0.59,2.22834406,0.18569534,0.05385165,-5.33131316\n30.963757,0,0.56,3.60147029,0.17149859,0.05830952,-5.77264238\n254.054604,0.02,0.66,4.12081692,0.13736056,0.0728011,-7.20730879\n158.198591,0.05,0.69,3.15682075,0.18569534,0.05385165,-5.33131316\n153.434949,0.11,0.66,0.89442719,0.4472136,0.06708204,-2.16898594\n158.198591,0.16,0.64,3.15682075,0.18569534,0.05385165,-5.33131316\n180,0.21,0.64,0,1,0.05,-0.95\n33.690068,0.18,0.62,1.38675049,0.2773501,0.03605551,-3.56949576\n45,0.16,0.6,0.70710678,0.70710678,0.02828427,-1.38592929\n53.130102,0.13,0.56,3.6,0.2,0.05,-4.95\n56.309932,0.09,0.5,2.21880078,0.2773501,0.07211103,-3.53344025\n51.340192,0.05,0.45,4.99756038,0.15617376,0.06403124,-6.339093\n38.659808,0,0.41,1.40556386,0.15617376,0.06403124,-6.339093\n180,0.82,0.48,0,1,0.1,-0.9\n310.601295,0.82,0.48,1.41004798,0.10846523,0.09219544,-9.12734901\n82.405357,0.82,0.48,8.06198693,0.06608186,0.15132746,-14.98141849\n180,0.84,0.48,0,1,0.02,-0.98\n194.036243,0.88,0.49,3.15296313,0.24253563,0.04123106,-4.08187457\n198.434949,0.91,0.5,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.83,0.37,0,1,0.08,-0.92\n348.690068,0.78,0.38,0.98058068,0.19611614,0.0509902,-5.04802932\n321.340192,0.73,0.42,4.99756038,0.15617376,0.06403124,-6.339093\n300.963757,0.7,0.47,3.60147029,0.17149859,0.05830952,-5.77264238\n21.801409,0.65,0.45,2.22834406,0.18569534,0.05385165,-5.33131316\n284.036243,0.64,0.49,3.15296313,0.24253563,0.04123106,-4.08187457\n180,0.7,0.49,0,1,0.06,-0.94\n261.869898,0.71,0.56,0.98994949,0.14142136,0.07071068,-7.00035713\n248.198591,0.73,0.61,3.15682075,0.18569534,0.05385165,-5.33131316\n225,0.77,0.65,0.70710678,0.70710678,0.05656854,-1.35764502\n216.869898,0.81,0.68,1.4,0.2,0.05,-4.95\n198.434949,0.9,0.71,2.21359436,0.31622777,0.09486833,-3.06740933\n153.434949,0.36,0.65,0.89442719,0.4472136,0.06708204,-2.16898594\n170.537678,0.42,0.64,0.98639392,0.16439899,0.06082763,-6.0219349\n188.130102,0.49,0.65,6.08111832,0.14142136,0.07071068,-7.00035713\n201.801409,0.54,0.67,2.22834406,0.18569534,0.05385165,-5.33131316\n219.805571,0.6,0.72,1.40840568,0.12803688,0.0781025,-7.73214718\n18.434949,0.97,0.25,2.21359436,0.31622777,0.03162278,-3.13065488\n33.690068,0.94,0.23,1.38675049,0.2773501,0.03605551,-3.56949576\n0,0.94,0.23,0,1,0.04,-0.96\n80.537678,0.94,0.23,0.98639392,0.16439899,0.06082763,-6.0219349\n36.869898,0.9,0.2,1.4,0.2,0.05,-4.95\n341.565051,0.9,0.2,0.9486833,0.31622777,0.06324555,-3.09903211\n53.130102,0.97,0.16,3.6,0.2,0.05,-4.95\n38.659808,0.92,0.12,1.40556386,0.15617376,0.06403124,-6.339093\n9.462322,0.86,0.11,5.09636861,0.16439899,0.06082763,-6.0219349\n180,0.95,0.32,0,1,0.05,-0.95\n158.198591,1,0.3,3.15682075,0.18569534,0.05385165,-5.33131316\n216.869898,0.93,0.07,1.4,0.2,0.05,-4.95\n206.565051,0.97,0.09,1.34164079,0.4472136,0.04472136,-2.19134662\n198.434949,1,0.1,2.21359436,0.31622777,0.03162278,-3.13065488\n90,0.97,0,0,1,0.02,-0.98\n26.565051,0.96,0.53,1.34164079,0.4472136,0.04472136,-2.19134662\n56.309932,0.96,0.53,2.21880078,0.2773501,0.07211103,-3.53344025\n36.869898,0.96,0.53,1.4,0.2,0.05,-4.95\n30.963757,0.91,0.5,3.60147029,0.17149859,0.05830952,-5.77264238\n78.690068,0.91,0.5,0.98058068,0.19611614,0.15297059,-4.94604893\n156.037511,1,0.46,7.61509624,0.10153462,0.09848858,-9.75036922\n30.963757,0.95,0.38,3.60147029,0.17149859,0.05830952,-5.77264238\n14.036243,0.91,0.37,3.15296313,0.24253563,0.04123106,-4.08187457\n180,1,0.71,0,1,0.1,-0.9\n0,0.86,0.87,0,1,0.09,-0.91\n11.309932,0.95,0.87,4.11843884,0.19611614,0.0509902,-5.04802932\n135,1,0.82,0.70710678,0.70710678,0.07071068,-1.34350288\n0,0.96,0.76,0,1,0.04,-0.96\n345.963757,0.92,0.77,0.9701425,0.24253563,0.04123106,-4.08187457\n333.434949,0.88,0.79,0.89442719,0.4472136,0.04472136,-2.19134662\n315,0.86,0.81,0.70710678,0.70710678,0.02828427,-1.38592929\n306.869898,0.83,0.85,1.4,0.2,0.05,-4.95\n11.309932,0.78,0.84,4.11843884,0.19611614,0.0509902,-5.04802932\n284.036243,0.77,0.88,3.15296313,0.24253563,0.04123106,-4.08187457\n180,0.83,0.88,0,1,0.06,-0.94\n14.036243,0.65,0.89,3.15296313,0.24253563,0.04123106,-4.08187457\n18.434949,0.62,0.88,2.21359436,0.31622777,0.03162278,-3.13065488\n33.690068,0.59,0.86,1.38675049,0.2773501,0.03605551,-3.56949576\n230.194429,0.65,0.78,6.401844,0.12803688,0.0781025,-7.73214718\n239.036243,0.68,0.83,2.22948161,0.17149859,0.05830952,-5.77264238\n236.309932,0.72,0.89,2.21880078,0.2773501,0.07211103,-3.53344025\n213.690068,0.75,0.91,1.38675049,0.2773501,0.03605551,-3.56949576\n198.434949,0.78,0.92,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.74,0.92,0,1,0.04,-0.96\n345.963757,0.7,0.93,0.9701425,0.24253563,0.04123106,-4.08187457\n261.869898,0.84,0.95,0.98994949,0.14142136,0.07071068,-7.00035713\n248.198591,0.86,1,3.15682075,0.18569534,0.05385165,-5.33131316\n36.869898,0.55,0.83,1.4,0.2,0.05,-4.95\n0,0.55,0.83,0,1,0.08,-0.92\n78.690068,0.55,0.83,0.98058068,0.19611614,0.10198039,-4.99703912\n33.690068,0.52,0.81,1.38675049,0.2773501,0.03605551,-3.56949576\n30.963757,0.47,0.78,3.60147029,0.17149859,0.05830952,-5.77264238\n336.037511,0.47,0.78,7.61509624,0.10153462,0.09848858,-9.75036922\n79.380345,0.47,0.78,11.18017113,0.06142951,0.16278821,-16.11603239\n26.565051,0.43,0.76,1.34164079,0.4472136,0.04472136,-2.19134662\n9.462322,0.37,0.75,5.09636861,0.16439899,0.06082763,-6.0219349\n318.814075,0.37,0.75,9.21906451,0.09407209,0.10630146,-10.52384435\n82.405357,0.37,0.75,8.06198693,0.06608186,0.15132746,-14.98141849\n0,0.33,0.75,0,1,0.04,-0.96\n0,0.29,0.75,0,1,0.04,-0.96\n0,0.2,0.76,0,1,0.06,-0.94\n104.036243,0.21,0.72,3.15296313,0.24253563,0.04123106,-4.08187457\n201.801409,0.26,0.74,2.22834406,0.18569534,0.05385165,-5.33131316\n123.690068,0.3,0.68,1.38675049,0.2773501,0.07211103,-3.53344025\n338.198591,0.65,0.95,3.15682075,0.18569534,0.05385165,-5.33131316\n333.434949,0.59,0.98,0.89442719,0.4472136,0.06708204,-2.16898594\n348.690068,0.54,0.99,0.98058068,0.19611614,0.0509902,-5.04802932\n0,0.46,0.99,0,1,0.08,-0.92\n18.434949,0.4,0.97,2.21359436,0.31622777,0.06324555,-3.09903211\n26.565051,0.34,0.94,1.34164079,0.4472136,0.06708204,-2.16898594\n45,0.29,0.89,0.70710678,0.70710678,0.07071068,-1.34350288\n71.565051,0.27,0.83,0.9486833,0.31622777,0.06324555,-3.09903211\n81.869898,0.26,0.76,0.98994949,0.14142136,0.07071068,-7.00035713\n;0,0.2,0.76,0,1,0.06,-0.94\n315,0,0.82,0.70710678,0.70710678,0.02828427,-1.38592929\n198.434949,0.03,0.89,2.21359436,0.31622777,0.03162278,-3.13065488\n343.300756,0.03,0.89,7.27947977,0.09578263,0.10440307,-10.33590344\n74.744881,0.03,0.89,4.12217269,0.0877058,0.11401754,-11.28773671\n206.565051,0.05,0.9,1.34164079,0.4472136,0.02236068,-2.2137073\n213.690068,0.08,0.92,1.38675049,0.2773501,0.03605551,-3.56949576\n216.869898,0.12,0.95,1.4,0.2,0.05,-4.95\n352.874984,0.12,0.95,0.99227788,0.12403473,0.08062258,-7.98163517\n78.690068,0.12,0.95,0.98058068,0.19611614,0.0509902,-5.04802932\n213.690068,0.15,0.97,1.38675049,0.2773501,0.03605551,-3.56949576\n213.690068,0.18,0.99,1.38675049,0.2773501,0.03605551,-3.56949576\n206.565051,0.2,1,1.34164079,0.4472136,0.02236068,-2.2137073\n45,0.28,0.99,0.70710678,0.70710678,0.01414214,-1.40007143\n56.309932,0.26,0.96,2.21880078,0.2773501,0.03605551,-3.56949576\n56.309932,0.22,0.9,2.21880078,0.2773501,0.07211103,-3.53344025\n53.130102,0.19,0.86,3.6,0.2,0.05,-4.95\n45,0.14,0.81,0.70710678,0.70710678,0.07071068,-1.34350288\n36.869898,0.1,0.78,1.4,0.2,0.05,-4.95\n18.434949,0.04,0.76,2.21359436,0.31622777,0.06324555,-3.09903211\n0,0,0.76,0,1,0.04,-0.96\n81.253838,0.95,0.87,7.07065907,0.07602859,0.13152946,-13.02141697\n"),!1),i(N.ParsePatFile("\n*LEAF-02,LEAF-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n303.690068,0.77,0.17,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.74,0.16,2.21359436,0.31622777,0.03162278,-3.13065488\n288.434949,0.73,0.19,2.21359436,0.31622777,0.03162278,-3.13065488\n180,0.77,0.19,0,1,0.04,-0.96\n258.690068,0.78,0.24,0.98058068,0.19611614,0.0509902,-5.04802932\n243.434949,0.79,0.26,0.89442719,0.4472136,0.02236068,-2.2137073\n288.434949,0.58,0.14,2.21359436,0.31622777,0.06324555,-3.09903211\n21.801409,0.53,0.12,2.22834406,0.18569534,0.05385165,-5.33131316\n11.309932,0.48,0.11,4.11843884,0.19611614,0.0509902,-5.04802932\n0,0.45,0.11,0,1,0.03,-0.97\n341.565051,0.39,0.13,0.9486833,0.31622777,0.06324555,-3.09903211\n326.309932,0.33,0.17,2.21880078,0.2773501,0.07211103,-3.53344025\n308.659808,0.29,0.22,1.40556386,0.15617376,0.06403124,-6.339093\n300.963757,0.26,0.27,3.60147029,0.17149859,0.05830952,-5.77264238\n285.945396,0.24,0.34,3.15929297,0.13736056,0.0728011,-7.20730879\n270,0.24,0.41,0,1,0.07,-0.93\n279.462322,0.23,0.47,5.09636861,0.16439899,0.06082763,-6.0219349\n285.945396,0.21,0.54,3.15929297,0.13736056,0.0728011,-7.20730879\n123.690068,0.23,0.51,1.38675049,0.2773501,0.03605551,-3.56949576\n161.565051,0.26,0.5,0.9486833,0.31622777,0.03162278,-3.13065488\n171.869898,0.33,0.49,0.98994949,0.14142136,0.07071068,-7.00035713\n171.869898,0.4,0.48,0.98994949,0.14142136,0.07071068,-7.00035713\n161.565051,0.46,0.46,0.9486833,0.31622777,0.06324555,-3.09903211\n161.565051,0.52,0.44,0.9486833,0.31622777,0.06324555,-3.09903211\n146.309932,0.58,0.4,2.21880078,0.2773501,0.07211103,-3.53344025\n119.744881,0.62,0.33,5.82963253,0.12403473,0.08062258,-7.98163517\n111.801409,0.64,0.28,2.22834406,0.18569534,0.05385165,-5.33131316\n90,0.64,0.24,0,1,0.04,-0.96\n75.963757,0.63,0.2,0.9701425,0.24253563,0.04123106,-4.08187457\n56.309932,0.61,0.17,2.21880078,0.2773501,0.03605551,-3.56949576\n63.434949,0.6,0.15,0.89442719,0.4472136,0.02236068,-2.2137073\n126.869898,0.63,0.11,1.4,0.2,0.05,-4.95\n45,0.6,0.08,0.70710678,0.70710678,0.04242641,-1.37178716\n225,0.31,0.02,0.70710678,0.70710678,0.02828427,-1.38592929\n198.434949,0.34,0.03,2.21359436,0.31622777,0.03162278,-3.13065488\n348.690068,0.29,0.04,0.98058068,0.19611614,0.0509902,-5.04802932\n345.963757,0.25,0.05,0.9701425,0.24253563,0.04123106,-4.08187457\n333.434949,0.21,0.07,0.89442719,0.4472136,0.04472136,-2.19134662\n333.434949,0.15,0.1,0.89442719,0.4472136,0.06708204,-2.16898594\n348.690068,0.1,0.11,0.98058068,0.19611614,0.0509902,-5.04802932\n0,0.07,0.11,0,1,0.03,-0.97\n8.130102,0,0.1,6.08111832,0.14142136,0.07071068,-7.00035713\n236.309932,0.02,0.23,2.21880078,0.2773501,0.03605551,-3.56949576\n236.309932,0.04,0.26,2.21880078,0.2773501,0.03605551,-3.56949576\n213.690068,0.07,0.28,1.38675049,0.2773501,0.03605551,-3.56949576\n0,0.03,0.28,0,1,0.04,-0.96\n326.309932,0,0.3,2.21880078,0.2773501,0.03605551,-3.56949576\n158.198591,0.05,0.69,3.15682075,0.18569534,0.05385165,-5.33131316\n153.434949,0.11,0.66,0.89442719,0.4472136,0.06708204,-2.16898594\n158.198591,0.16,0.64,3.15682075,0.18569534,0.05385165,-5.33131316\n180,0.21,0.64,0,1,0.05,-0.95\n33.690068,0.18,0.62,1.38675049,0.2773501,0.03605551,-3.56949576\n45,0.16,0.6,0.70710678,0.70710678,0.02828427,-1.38592929\n53.130102,0.13,0.56,3.6,0.2,0.05,-4.95\n56.309932,0.09,0.5,2.21880078,0.2773501,0.07211103,-3.53344025\n51.340192,0.05,0.45,4.99756038,0.15617376,0.06403124,-6.339093\n38.659808,0,0.41,1.40556386,0.15617376,0.06403124,-6.339093\n321.340192,0.73,0.42,4.99756038,0.15617376,0.06403124,-6.339093\n300.963757,0.7,0.47,3.60147029,0.17149859,0.05830952,-5.77264238\n21.801409,0.65,0.45,2.22834406,0.18569534,0.05385165,-5.33131316\n284.036243,0.64,0.49,3.15296313,0.24253563,0.04123106,-4.08187457\n180,0.7,0.49,0,1,0.06,-0.94\n261.869898,0.71,0.56,0.98994949,0.14142136,0.07071068,-7.00035713\n248.198591,0.73,0.61,3.15682075,0.18569534,0.05385165,-5.33131316\n225,0.77,0.65,0.70710678,0.70710678,0.05656854,-1.35764502\n284.036243,0.77,0.88,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.2,0.76,0,1,0.06,-0.94\n104.036243,0.21,0.72,3.15296313,0.24253563,0.04123106,-4.08187457\n201.801409,0.26,0.74,2.22834406,0.18569534,0.05385165,-5.33131316\n123.690068,0.3,0.68,1.38675049,0.2773501,0.07211103,-3.53344025\n153.434949,0.36,0.65,0.89442719,0.4472136,0.06708204,-2.16898594\n170.537678,0.42,0.64,0.98639392,0.16439899,0.06082763,-6.0219349\n188.130102,0.49,0.65,6.08111832,0.14142136,0.07071068,-7.00035713\n201.801409,0.54,0.67,2.22834406,0.18569534,0.05385165,-5.33131316\n219.805571,0.6,0.72,1.40840568,0.12803688,0.0781025,-7.73214718\n230.194429,0.65,0.78,6.401844,0.12803688,0.0781025,-7.73214718\n239.036243,0.68,0.83,2.22948161,0.17149859,0.05830952,-5.77264238\n236.309932,0.72,0.89,2.21880078,0.2773501,0.07211103,-3.53344025\n213.690068,0.75,0.91,1.38675049,0.2773501,0.03605551,-3.56949576\n198.434949,0.78,0.92,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.74,0.92,0,1,0.04,-0.96\n345.963757,0.7,0.93,0.9701425,0.24253563,0.04123106,-4.08187457\n338.198591,0.65,0.95,3.15682075,0.18569534,0.05385165,-5.33131316\n45,0.29,0.89,0.70710678,0.70710678,0.07071068,-1.34350288\n71.565051,0.27,0.83,0.9486833,0.31622777,0.06324555,-3.09903211\n81.869898,0.26,0.76,0.98994949,0.14142136,0.07071068,-7.00035713\n;0,0.2,0.76,0,1,0.06,-0.94\n53.130102,0.19,0.86,3.6,0.2,0.05,-4.95\n45,0.14,0.81,0.70710678,0.70710678,0.07071068,-1.34350288\n36.869898,0.1,0.78,1.4,0.2,0.05,-4.95\n18.434949,0.04,0.76,2.21359436,0.31622777,0.06324555,-3.09903211\n0,0,0.76,0,1,0.04,-0.96\n0,0.96,0.76,0,1,0.04,-0.96\n345.963757,0.92,0.77,0.9701425,0.24253563,0.04123106,-4.08187457\n333.434949,0.88,0.79,0.89442719,0.4472136,0.04472136,-2.19134662\n315,0.86,0.81,0.70710678,0.70710678,0.02828427,-1.38592929\n306.869898,0.83,0.85,1.4,0.2,0.05,-4.95\n11.309932,0.78,0.84,4.11843884,0.19611614,0.0509902,-5.04802932\n180,0.83,0.88,0,1,0.06,-0.94\n261.869898,0.84,0.95,0.98994949,0.14142136,0.07071068,-7.00035713\n248.198591,0.86,1,3.15682075,0.18569534,0.05385165,-5.33131316\n333.434949,0.59,0.98,0.89442719,0.4472136,0.06708204,-2.16898594\n348.690068,0.54,0.99,0.98058068,0.19611614,0.0509902,-5.04802932\n0,0.46,0.99,0,1,0.08,-0.92\n18.434949,0.4,0.97,2.21359436,0.31622777,0.06324555,-3.09903211\n26.565051,0.34,0.94,1.34164079,0.4472136,0.06708204,-2.16898594\n45,0.28,0.99,0.70710678,0.70710678,0.01414214,-1.40007143\n56.309932,0.26,0.96,2.21880078,0.2773501,0.03605551,-3.56949576\n56.309932,0.22,0.9,2.21880078,0.2773501,0.07211103,-3.53344025\n53.130102,0.97,0.16,3.6,0.2,0.05,-4.95\n38.659808,0.92,0.12,1.40556386,0.15617376,0.06403124,-6.339093\n9.462322,0.86,0.11,5.09636861,0.16439899,0.06082763,-6.0219349\n345.963757,0.82,0.12,0.9701425,0.24253563,0.04123106,-4.08187457\n326.309932,0.79,0.14,2.21880078,0.2773501,0.03605551,-3.56949576\n225,0.82,0.29,0.70710678,0.70710678,0.04242641,-1.37178716\n213.690068,0.85,0.31,1.38675049,0.2773501,0.03605551,-3.56949576\n191.309932,0.9,0.32,4.11843884,0.19611614,0.0509902,-5.04802932\n180,0.95,0.32,0,1,0.05,-0.95\n158.198591,1,0.3,3.15682075,0.18569534,0.05385165,-5.33131316\n233.130102,0.89,0.04,3.6,0.2,0.05,-4.95\n216.869898,0.93,0.07,1.4,0.2,0.05,-4.95\n206.565051,0.97,0.09,1.34164079,0.4472136,0.04472136,-2.19134662\n198.434949,1,0.1,2.21359436,0.31622777,0.03162278,-3.13065488\n30.963757,0.95,0.38,3.60147029,0.17149859,0.05830952,-5.77264238\n14.036243,0.91,0.37,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.83,0.37,0,1,0.08,-0.92\n348.690068,0.78,0.38,0.98058068,0.19611614,0.0509902,-5.04802932\n216.869898,0.81,0.68,1.4,0.2,0.05,-4.95\n198.434949,0.9,0.71,2.21359436,0.31622777,0.09486833,-3.06740933\n180,1,0.71,0,1,0.1,-0.9\n"),!1),i(N.ParsePatFile("\n*LEAF-03,LEAF-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n344.054604,0.86,0.38,4.12081692,0.13736056,0.0728011,-7.20730879\n338.198591,0.81,0.4,3.15682075,0.18569534,0.05385165,-5.33131316\n326.309932,0.75,0.44,2.21880078,0.2773501,0.07211103,-3.53344025\n320.194429,0.69,0.49,6.401844,0.12803688,0.0781025,-7.73214718\n308.659808,0.65,0.54,1.40556386,0.15617376,0.06403124,-6.339093\n300.963757,0.62,0.59,3.60147029,0.17149859,0.05830952,-5.77264238\n293.198591,0.59,0.66,2.23220936,0.13130643,0.07615773,-7.53961537\n281.309932,0.58,0.71,4.11843884,0.19611614,0.0509902,-5.04802932\n276.340192,0.57,0.8,8.0615014,0.11043153,0.09055385,-8.96483129\n270,0.57,0.85,0,1,0.05,-0.95\n257.471192,0.59,0.94,5.09786576,0.10846523,0.09219544,-9.12734901\n164.054604,0.66,0.92,4.12081692,0.13736056,0.0728011,-7.20730879\n158.198591,0.71,0.9,3.15682075,0.18569534,0.05385165,-5.33131316\n146.309932,0.77,0.86,2.21880078,0.2773501,0.07211103,-3.53344025\n140.194429,0.83,0.81,6.401844,0.12803688,0.0781025,-7.73214718\n125.537678,0.88,0.74,4.99864847,0.11624764,0.08602325,-8.51630201\n116.565051,0.92,0.66,1.34164079,0.4472136,0.08944272,-2.14662526\n105.945396,0.94,0.59,3.15929297,0.13736056,0.0728011,-7.20730879\n97.125016,0.95,0.51,7.06997987,0.12403473,0.08062258,-7.98163517\n90,0.95,0.45,0,1,0.06,-0.94\n77.471192,0.93,0.36,5.09786576,0.10846523,0.09219544,-9.12734901\n195.945396,0.14,0.38,3.15929297,0.13736056,0.0728011,-7.20730879\n201.801409,0.19,0.4,2.22834406,0.18569534,0.05385165,-5.33131316\n213.690068,0.25,0.44,1.38675049,0.2773501,0.07211103,-3.53344025\n219.805571,0.31,0.49,1.40840568,0.12803688,0.0781025,-7.73214718\n231.340192,0.35,0.54,4.99756038,0.15617376,0.06403124,-6.339093\n239.036243,0.38,0.59,2.22948161,0.17149859,0.05830952,-5.77264238\n246.801409,0.41,0.66,5.38356375,0.13130643,0.07615773,-7.53961537\n258.690068,0.42,0.71,0.98058068,0.19611614,0.0509902,-5.04802932\n263.659808,0.43,0.8,0.99388373,0.11043153,0.09055385,-8.96483129\n270,0.43,0.85,0,1,0.05,-0.95\n282.528808,0.41,0.94,4.1216787,0.10846523,0.09219544,-9.12734901\n15.945396,0.34,0.92,3.15929297,0.13736056,0.0728011,-7.20730879\n21.801409,0.29,0.9,2.22834406,0.18569534,0.05385165,-5.33131316\n33.690068,0.23,0.86,1.38675049,0.2773501,0.07211103,-3.53344025\n39.805571,0.17,0.81,1.40840568,0.12803688,0.0781025,-7.73214718\n54.462322,0.12,0.74,3.6036768,0.11624764,0.08602325,-8.51630201\n63.434949,0.08,0.66,0.89442719,0.4472136,0.08944272,-2.14662526\n74.054604,0.06,0.59,4.12081692,0.13736056,0.0728011,-7.20730879\n82.874984,0.05,0.51,0.99227788,0.12403473,0.08062258,-7.98163517\n90,0.05,0.45,0,1,0.06,-0.94\n102.528808,0.07,0.36,4.1216787,0.10846523,0.09219544,-9.12734901\n128.659808,0.21,0.15,1.40556386,0.15617376,0.06403124,-6.339093\n146.309932,0.27,0.11,2.21880078,0.2773501,0.07211103,-3.53344025\n153.434949,0.33,0.08,0.89442719,0.4472136,0.06708204,-2.16898594\n164.054604,0.4,0.06,4.12081692,0.13736056,0.0728011,-7.20730879\n171.869898,0.47,0.05,0.98994949,0.14142136,0.07071068,-7.00035713\n180,0.53,0.05,0,1,0.06,-0.94\n188.130102,0.6,0.06,6.08111832,0.14142136,0.07071068,-7.00035713\n195.945396,0.67,0.08,3.15929297,0.13736056,0.0728011,-7.20730879\n206.565051,0.73,0.11,1.34164079,0.4472136,0.06708204,-2.16898594\n218.659808,0.78,0.15,1.40556386,0.15617376,0.06403124,-6.339093\n225,0.83,0.2,0.70710678,0.70710678,0.07071068,-1.34350288\n315,0.78,0.25,0.70710678,0.70710678,0.07071068,-1.34350288\n321.340192,0.73,0.29,4.99756038,0.15617376,0.06403124,-6.339093\n336.801409,0.66,0.32,5.38356375,0.13130643,0.07615773,-7.53961537\n341.565051,0.6,0.34,0.9486833,0.31622777,0.06324555,-3.09903211\n351.869898,0.53,0.35,0.98994949,0.14142136,0.07071068,-7.00035713\n0,0.47,0.35,0,1,0.06,-0.94\n8.130102,0.4,0.34,6.08111832,0.14142136,0.07071068,-7.00035713\n18.434949,0.34,0.32,2.21359436,0.31622777,0.06324555,-3.09903211\n23.198591,0.27,0.29,2.23220936,0.13130643,0.07615773,-7.53961537\n38.659808,0.22,0.25,1.40556386,0.15617376,0.06403124,-6.339093\n45,0.17,0.2,0.70710678,0.70710678,0.07071068,-1.34350288\n"),!1),i(N.ParsePatFile("\n*LINE,LINE\n0, 0,0, 0,.125\n"),!1),i(N.ParsePatFile("\n*LOOPLINKS,LOOPLINKS\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n206.565051,0.53,0.67,1.34164079,0.4472136,0.02236068,-2.2137073\n243.434949,0.54,0.69,0.89442719,0.4472136,0.02236068,-2.2137073\n116.565051,0.47,0.67,1.34164079,0.4472136,0.02236068,-2.2137073\n153.434949,0.49,0.66,0.89442719,0.4472136,0.02236068,-2.2137073\n180,0.51,0.66,0,1,0.02,-0.98\n258.690068,0.19,0.59,0.98058068,0.19611614,0.0509902,-5.04802932\n251.565051,0.2,0.62,0.9486833,0.31622777,0.03162278,-3.13065488\n243.434949,0.22,0.66,0.89442719,0.4472136,0.04472136,-2.19134662\n230.194429,0.27,0.72,6.401844,0.12803688,0.0781025,-7.73214718\n225,0.31,0.76,0.70710678,0.70710678,0.05656854,-1.35764502\n209.744881,0.38,0.8,5.82963253,0.12403473,0.08062258,-7.98163517\n194.036243,0.46,0.82,3.15296313,0.24253563,0.08246211,-4.04064351\n251.565051,0.28,0.6,0.9486833,0.31622777,0.06324555,-3.09903211\n239.036243,0.31,0.65,2.22948161,0.17149859,0.05830952,-5.77264238\n225,0.35,0.69,0.70710678,0.70710678,0.05656854,-1.35764502\n210.963757,0.4,0.72,3.60147029,0.17149859,0.05830952,-5.77264238\n198.434949,0.46,0.74,2.21359436,0.31622777,0.06324555,-3.09903211\n116.565051,0.67,0.47,1.34164079,0.4472136,0.02236068,-2.2137073\n153.434949,0.69,0.46,0.89442719,0.4472136,0.02236068,-2.2137073\n26.565051,0.67,0.53,1.34164079,0.4472136,0.02236068,-2.2137073\n63.434949,0.66,0.51,0.89442719,0.4472136,0.02236068,-2.2137073\n90,0.66,0.49,0,1,0.02,-0.98\n168.690068,0.59,0.81,0.98058068,0.19611614,0.0509902,-5.04802932\n161.565051,0.62,0.8,0.9486833,0.31622777,0.03162278,-3.13065488\n153.434949,0.66,0.78,0.89442719,0.4472136,0.04472136,-2.19134662\n140.194429,0.72,0.73,6.401844,0.12803688,0.0781025,-7.73214718\n135,0.76,0.69,0.70710678,0.70710678,0.05656854,-1.35764502\n119.744881,0.8,0.62,5.82963253,0.12403473,0.08062258,-7.98163517\n104.036243,0.82,0.54,3.15296313,0.24253563,0.08246211,-4.04064351\n161.565051,0.6,0.72,0.9486833,0.31622777,0.06324555,-3.09903211\n149.036243,0.65,0.69,2.22948161,0.17149859,0.05830952,-5.77264238\n135,0.69,0.65,0.70710678,0.70710678,0.05656854,-1.35764502\n120.963757,0.72,0.6,3.60147029,0.17149859,0.05830952,-5.77264238\n108.434949,0.74,0.54,2.21359436,0.31622777,0.06324555,-3.09903211\n26.565051,0.47,0.33,1.34164079,0.4472136,0.02236068,-2.2137073\n63.434949,0.46,0.31,0.89442719,0.4472136,0.02236068,-2.2137073\n296.565051,0.53,0.33,1.34164079,0.4472136,0.02236068,-2.2137073\n333.434949,0.51,0.34,0.89442719,0.4472136,0.02236068,-2.2137073\n0,0.49,0.34,0,1,0.02,-0.98\n78.690068,0.81,0.41,0.98058068,0.19611614,0.0509902,-5.04802932\n71.565051,0.8,0.38,0.9486833,0.31622777,0.03162278,-3.13065488\n63.434949,0.78,0.34,0.89442719,0.4472136,0.04472136,-2.19134662\n50.194429,0.73,0.28,6.401844,0.12803688,0.0781025,-7.73214718\n45,0.69,0.24,0.70710678,0.70710678,0.05656854,-1.35764502\n29.744881,0.62,0.2,5.82963253,0.12403473,0.08062258,-7.98163517\n14.036243,0.54,0.18,3.15296313,0.24253563,0.08246211,-4.04064351\n71.565051,0.72,0.4,0.9486833,0.31622777,0.06324555,-3.09903211\n59.036243,0.69,0.35,2.22948161,0.17149859,0.05830952,-5.77264238\n45,0.65,0.31,0.70710678,0.70710678,0.05656854,-1.35764502\n30.963757,0.6,0.28,3.60147029,0.17149859,0.05830952,-5.77264238\n18.434949,0.54,0.26,2.21359436,0.31622777,0.06324555,-3.09903211\n296.565051,0.33,0.53,1.34164079,0.4472136,0.02236068,-2.2137073\n333.434949,0.31,0.54,0.89442719,0.4472136,0.02236068,-2.2137073\n206.565051,0.33,0.47,1.34164079,0.4472136,0.02236068,-2.2137073\n243.434949,0.34,0.49,0.89442719,0.4472136,0.02236068,-2.2137073\n270,0.34,0.51,0,1,0.02,-0.98\n348.690068,0.41,0.19,0.98058068,0.19611614,0.0509902,-5.04802932\n341.565051,0.38,0.2,0.9486833,0.31622777,0.03162278,-3.13065488\n333.434949,0.34,0.22,0.89442719,0.4472136,0.04472136,-2.19134662\n320.194429,0.28,0.27,6.401844,0.12803688,0.0781025,-7.73214718\n315,0.24,0.31,0.70710678,0.70710678,0.05656854,-1.35764502\n299.744881,0.2,0.38,5.82963253,0.12403473,0.08062258,-7.98163517\n284.036243,0.18,0.46,3.15296313,0.24253563,0.08246211,-4.04064351\n341.565051,0.4,0.28,0.9486833,0.31622777,0.06324555,-3.09903211\n329.036243,0.35,0.31,2.22948161,0.17149859,0.05830952,-5.77264238\n315,0.31,0.35,0.70710678,0.70710678,0.05656854,-1.35764502\n300.963757,0.28,0.4,3.60147029,0.17149859,0.05830952,-5.77264238\n288.434949,0.26,0.46,2.21359436,0.31622777,0.06324555,-3.09903211\n90,0.46,-0.31,0,1,0.62,-0.38\n270,0.54,0.31,0,1,0.62,-0.38\n180,0.31,0.46,0,1,0.62,-0.38\n0,-0.31,0.54,0,1,0.62,-0.38\n"),!1),i(N.ParsePatFile("\n*MAZE-01,MAZE-01 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.95,0.92,0,1,0.25,-0.75\n90,0.95,0.55,1,1,0.37,-0.63\n90,0.83,0.55,1,1,0.25,-0.75\n0,0.7,0.42,0,1,0.11,-0.89\n180,0.57,0.8,0,1,0.38,-0.62\n270,0.57,0.92,1,1,0.12,-0.88\n0,0.07,0.92,0,1,0.5,-0.5\n90,0.95,0.29,1,1,0.13,-0.87\n180,0.45,0.05,0,1,0.38,-0.62\n0,0.7,0.29,0,1,0.25,-0.75\n270,0.45,0.17,1,1,0.12,-0.88\n0,0.19,0.17,0,1,0.26,-0.74\n90,0.7,0.17,1,1,0.12,-0.88\n270,0.19,0.8,1,1,0.63,-0.37\n0,0.31,0.29,0,1,0.26,-0.74\n270,0.31,0.68,1,1,0.39,-0.61\n180,0.7,0.68,0,1,0.39,-0.61\n270,0.7,0.92,1,1,0.24,-0.76\n180,0.95,0.17,0,1,0.25,-0.75\n90,0.95,0.05,1,1,0.12,-0.88\n0,0.57,0.05,0,1,0.38,-0.62\n270,0.57,0.42,1,1,0.37,-0.63\n270,0.7,0.55,1,1,0.13,-0.87\n0,0.45,0.55,0,1,0.25,-0.75\n90,0.45,0.42,1,1,0.13,-0.87\n90,0.07,0.05,1,1,0.87,-0.13\n"),!1),i(N.ParsePatFile("\n*MAZE-02,MAZE-02 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.89999999,0.1,1,1,0.1,-0.9\n0,0.69999999,0.1,0,1,0.2,-0.8\n90,0,0.3,1,1,0.5,-0.5\n270,0.89999999,0.9,1,1,0.5,-0.5\n270,0.29999999,0.9,1,1,0.1,-0.9\n180,0.29999999,0.9,0,1,0.4,-0.6\n0,0.19999999,0.2,0,1,0.15,-0.85\n90,0.19999999,0.3,1,1,0.2,-0.8\n180,0.49999999,0.3,0,1,0.3,-0.7\n90,0.49999999,0.1,1,1,0.2,-0.8\n270,0.69999999,0.2,1,1,0.1,-0.9\n0,0.59999999,0.2,0,1,0.1,-0.9\n270,0.59999999,0.3,1,1,0.1,-0.9\n180,0.69999999,0.3,0,1,0.1,-0.9\n270,0.59999999,0.6,1,1,0.1,-0.9\n0,0.29999999,0.6,0,1,0.3,-0.7\n90,0.29999999,0.4,1,1,0.2,-0.8\n180,0.69999999,0.4,0,1,0.4,-0.6\n180,0.59999999,0.5,0,1,0.2,-0.8\n270,0.79999999,0.8,1,1,0.5,-0.5\n0,0.09999999,0.1,0,1,0.4,-0.6\n0,0.09999999,0.8,0,1,0.7,-0.3\n270,0.09999999,0.2,1,1,0.1,-0.9\n90,0.09999999,0.3,1,1,0.5,-0.5\n180,0.09999999,0.2,0,1,0.3,-0.7\n180,0,0.3,0,1,0.20000001,-0.79999999\n180,0.29999999,0,0,1,0.3,-0.7\n270,0.69999999,0.7,1,1,0.2,-0.8\n0,0.39999999,0,0,1,0.4,-0.6\n0,0.19999999,0.7,0,1,0.5,-0.5\n90,0.19999999,0.6,1,1,0.1,-0.9\n270,0.59999999,0.1,1,1,0.1,-0.9\n0,0.39999999,0.9,0,1,0.4,-0.6\n270,0.39999999,1,1,1,0.1,-0.9\n"),!1),i(N.ParsePatFile("\n*MUDST,MUDST\n0, 0,0, .5,.25, .25,-.25,0,-.25,0,-.25\n"),!1),i(N.ParsePatFile("\n*NET3,NET3\n0, 0,0, 0,.125\n60, 0,0, 0,.125\n120, 0,0, 0,.125\n"),!1),i(N.ParsePatFile("\n*NET,NET\n0, 0,0, 0,.125\n90, 0,0, 0,.125\n"),!1),i(N.ParsePatFile("\n*PLASTI,PLASTI\n0, 0,0, 0,.25\n0, 0,.03125, 0,.25\n0, 0,.0625, 0,.25\n0, 0,.15625, 0,.25\n"),!1),i(N.ParsePatFile("\n*PLAST,PLAST\n0, 0,0, 0,.25\n0, 0,.03125, 0,.25\n0, 0,.0625, 0,.25\n"),!1),i(N.ParsePatFile("\n*QCAD-LOGO,QCAD-LOGO\n;By John Hyslop, Line 101 modified by CVH to fix left side of pencil drift when hatching far from Origin\n;Developed in inch as imperial QCAD3 pattern\n243.434949,0.8,0.36,0.89442719,0.4472136,0.02236068,-2.2137073\n248.198591,0.82,0.41,3.15682075,0.18569534,0.05385165,-5.33131316\n263.659808,0.83,0.5,0.99388373,0.11043153,0.09055385,-8.96483129\n276.340192,0.82,0.59,8.0615014,0.11043153,0.09055385,-8.96483129\n290.556045,0.79,0.67,5.38389277,0.11704115,0.08544004,-8.45856371\n310.601295,0.73,0.74,1.41004798,0.10846523,0.09219544,-9.12734901\n324.462322,0.66,0.79,3.6036768,0.11624764,0.08602325,-8.51630201\n336.801409,0.59,0.82,5.38356375,0.13130643,0.07615773,-7.53961537\n351.869898,0.52,0.83,0.98994949,0.14142136,0.07071068,-7.00035713\n26.565051,0.61,0.18,1.34164079,0.4472136,0.06708204,-2.16898594\n7.125016,0.53,0.17,7.06997987,0.12403473,0.08062258,-7.98163517\n0,0.45,0.17,0,1,0.08,-0.92\n344.054604,0.38,0.19,4.12081692,0.13736056,0.0728011,-7.20730879\n336.801409,0.31,0.22,5.38356375,0.13130643,0.07615773,-7.53961537\n320.194429,0.25,0.27,6.401844,0.12803688,0.0781025,-7.73214718\n308.659808,0.21,0.32,1.40556386,0.15617376,0.06403124,-6.339093\n293.198591,0.18,0.39,2.23220936,0.13130643,0.07615773,-7.53961537\n285.945396,0.16,0.46,3.15929297,0.13736056,0.0728011,-7.20730879\n270,0.16,0.52,0,1,0.06,-0.94\n261.869898,0.17,0.59,0.98994949,0.14142136,0.07071068,-7.00035713\n246.801409,0.2,0.66,5.38356375,0.13130643,0.07615773,-7.53961537\n234.462322,0.25,0.73,3.6036768,0.11624764,0.08602325,-8.51630201\n219.805571,0.31,0.78,1.40840568,0.12803688,0.0781025,-7.73214718\n206.565051,0.37,0.81,1.34164079,0.4472136,0.06708204,-2.16898594\n195.945396,0.44,0.83,3.15929297,0.13736056,0.0728011,-7.20730879\n180,0.48,0.83,0,1,0.04,-0.96\n180,0.52,0.83,0,1,0.04,-0.96\n233.130102,0.92,0.27,3.6,0.2,0.05,-4.95\n248.198591,0.94,0.32,3.15682075,0.18569534,0.05385165,-5.33131316\n248.198591,0.96,0.37,3.15682075,0.18569534,0.05385165,-5.33131316\n260.537678,0.97,0.43,0.98639392,0.16439899,0.06082763,-6.0219349\n261.869898,0.98,0.5,0.98994949,0.14142136,0.07071068,-7.00035713\n278.130102,0.97,0.57,6.08111832,0.14142136,0.07071068,-7.00035713\n279.462322,0.96,0.63,5.09636861,0.16439899,0.06082763,-6.0219349\n288.434949,0.94,0.69,2.21359436,0.31622777,0.06324555,-3.09903211\n299.744881,0.9,0.76,5.82963253,0.12403473,0.08062258,-7.98163517\n308.659808,0.86,0.81,1.40556386,0.15617376,0.06403124,-6.339093\n315,0.81,0.86,0.70710678,0.70710678,0.07071068,-1.34350288\n321.340192,0.76,0.9,4.99756038,0.15617376,0.06403124,-6.339093\n329.036243,0.71,0.93,2.22948161,0.17149859,0.05830952,-5.77264238\n338.198591,0.66,0.95,3.15682075,0.18569534,0.05385165,-5.33131316\n338.198591,0.61,0.97,3.15682075,0.18569534,0.05385165,-5.33131316\n350.537678,0.55,0.98,0.98639392,0.16439899,0.06082763,-6.0219349\n0,0.5,0.98,0,1,0.05,-0.95\n0,0.45,0.98,0,1,0.05,-0.95\n11.309932,0.4,0.97,4.11843884,0.19611614,0.0509902,-5.04802932\n14.036243,0.36,0.96,3.15296313,0.24253563,0.04123106,-4.08187457\n21.801409,0.31,0.94,2.22834406,0.18569534,0.05385165,-5.33131316\n21.801409,0.26,0.92,2.22834406,0.18569534,0.05385165,-5.33131316\n36.869898,0.22,0.89,1.4,0.2,0.05,-4.95\n36.869898,0.18,0.86,1.4,0.2,0.05,-4.95\n33.690068,0.75,0.09,1.38675049,0.2773501,0.03605551,-3.56949576\n26.565051,0.69,0.06,1.34164079,0.4472136,0.06708204,-2.16898594\n21.801409,0.64,0.04,2.22834406,0.18569534,0.05385165,-5.33131316\n11.309932,0.59,0.03,4.11843884,0.19611614,0.0509902,-5.04802932\n8.130102,0.52,0.02,6.08111832,0.14142136,0.07071068,-7.00035713\n0,0.46,0.02,0,1,0.06,-0.94\n350.537678,0.4,0.03,0.98639392,0.16439899,0.06082763,-6.0219349\n348.690068,0.35,0.04,0.98058068,0.19611614,0.0509902,-5.04802932\n338.198591,0.3,0.06,3.15682075,0.18569534,0.05385165,-5.33131316\n333.434949,0.26,0.08,0.89442719,0.4472136,0.04472136,-2.19134662\n323.130102,0.22,0.11,3.6,0.2,0.05,-4.95\n323.130102,0.18,0.14,3.6,0.2,0.05,-4.95\n315,0.14,0.18,0.70710678,0.70710678,0.05656854,-1.35764502\n306.869898,0.11,0.22,1.4,0.2,0.05,-4.95\n306.869898,0.08,0.26,1.4,0.2,0.05,-4.95\n296.565051,0.06,0.3,1.34164079,0.4472136,0.04472136,-2.19134662\n291.801409,0.04,0.35,2.22834406,0.18569534,0.05385165,-5.33131316\n281.309932,0.03,0.4,4.11843884,0.19611614,0.0509902,-5.04802932\n281.309932,0.02,0.45,4.11843884,0.19611614,0.0509902,-5.04802932\n270,0.02,0.5,0,1,0.05,-0.95\n270,0.02,0.55,0,1,0.05,-0.95\n258.690068,0.03,0.6,0.98058068,0.19611614,0.0509902,-5.04802932\n258.690068,0.04,0.65,0.98058068,0.19611614,0.0509902,-5.04802932\n248.198591,0.06,0.7,3.15682075,0.18569534,0.05385165,-5.33131316\n243.434949,0.08,0.74,0.89442719,0.4472136,0.04472136,-2.19134662\n233.130102,0.11,0.78,3.6,0.2,0.05,-4.95\n233.130102,0.14,0.82,3.6,0.2,0.05,-4.95\n225,0.18,0.86,0.70710678,0.70710678,0.05656854,-1.35764502\n0,0.35,0.21,0,1,0.29,-0.71\n180,0.56,0.39,0,1,0.04,-0.96\n270,0.56,0.44,0,1,0.05,-0.95\n180,0.62,0.44,0,1,0.06,-0.94\n270,0.62,0.48,0,1,0.04,-0.96\n270,0.98,0.11,0,1,0.01,-0.99\n270,0.98,0.13,0,1,0.02,-0.98\n45,0.82,0.08,0.70710678,0.70710678,0.14142136,-1.27279221\n225,0.9,0.2,0.70710678,0.70710678,0.14142136,-1.27279221\n45,0.79,0.11,0.70710678,0.70710678,0.14142136,-1.27279221\n0,0.544133,0.559775,0,1,0,-1\n0,0.590298,0.634752,0,1,0,-1\n0,0.640323,0.720624,0,1,0,-1\n135,0.98,0.13,0.70710678,0.70710678,0.49497475,-0.91923882\n56.309932,0.96,0.07,2.21880078,0.2773501,0.03605551,-3.56949576\n45,0.94,0.05,0.70710678,0.70710678,0.02828427,-1.38592929\n33.690068,0.91,0.03,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.88,0.02,2.21359436,0.31622777,0.03162278,-3.13065488\n135.806929,0.88,0.02,-1.41407331,0.01991653,0.50209561,-49.70746523\n289.983107,0.48,0.48,8.54357658,0.08543577,0.117047,-11.58765291\n338.198591,0.53,0.52,3.15682075,0.18569534,0.1077033,-5.27746151\n105.945396,0.48,0.48,3.15929297,0.13736056,0.0728011,-7.20730879\n218.659808,0.53,0.52,1.40556386,0.15617376,0.06403124,-6.339093\n336.801409,0.46,0.55,5.38356375,0.13130643,0.07615773,-7.53961537\n56.309932,0.66,0.755,2.21880078,0.2773501,0.01802776,-3.58752352\n239.036243,0.475,0.435,2.22948161,0.17149859,0.02915476,-5.80179714\n236.309932,0.57,0.6,2.21880078,0.2773501,0.01802776,-3.58752352\n236.309932,0.62,0.68,2.21880078,0.2773501,0.01802776,-3.58752352\n0,0.46,0.41,0,1,0,-1\n0,0.49,0.34,0,1,0.02,-0.98\n0,0.54,0.34,0,1,0,-1\n0,0.45,0.34,0,1,0,-1\n0,0.36,0.34,0,1,0,-1\n0,0.27,0.34,0,1,0,-1\n180,0.24,0.34,0,1,0.03,-0.97\n180,0.33,0.34,0,1,0.03,-0.97\n180,0.42,0.34,0,1,0.03,-0.97\n239.036243,0.45,0.39,2.22948161,0.17149859,0.05830952,-5.77264238\n0,0.44,0.44,0,1,0.05,-0.95\n341.565051,0.41,0.45,0.9486833,0.31622777,0.03162278,-3.13065488\n315,0.39,0.47,0.70710678,0.70710678,0.02828427,-1.38592929\n296.565051,0.38,0.49,1.34164079,0.4472136,0.02236068,-2.2137073\n180,0.38,0.49,0,1,0.21,-0.79\n240.068488,0.57,0.82,8.06221498,0.02626129,0.38078866,-37.69807687\n0,0.63,0.49,0,1,0.18,-0.82\n240.255119,0.75,0.7,2.23262522,0.12403473,0.24186773,-7.82039002\n"),!1),i(N.ParsePatFile("\n*REDBACK,REDBACK\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n63.434949,0.73,0.78,0.89442719,0.4472136,0.02236068,-2.2137073\n33.690068,0.7,0.76,1.38675049,0.2773501,0.03605551,-3.56949576\n75.963757,0.69,0.72,0.9701425,0.24253563,0.04123106,-4.08187457\n0,0.66,0.72,0,1,0.03,-0.97\n108.434949,0.67,0.69,2.21359436,0.31622777,0.03162278,-3.13065488\n90,0.67,0.68,0,1,0.01,-0.99\n0,0.54,0.57,0,1,0.01,-0.99\n270,0.54,0.58,0,1,0.01,-0.99\n225,0.55,0.59,0.70710678,0.70710678,0.01414214,-1.40007143\n180,0.56,0.59,0,1,0.01,-0.99\n315,0.55,0.6,0.70710678,0.70710678,0.01414214,-1.40007143\n15.524111,0.37,0.55,7.27991309,0.05352877,0.18681542,-18.49472628\n0,0.35,0.55,0,1,0.02,-0.98\n45,0.34,0.54,0.70710678,0.70710678,0.01414214,-1.40007143\n0,0.31,0.54,0,1,0.03,-0.97\n26.565051,0.19,0.48,1.34164079,0.4472136,0.13416408,-2.1019039\n0,0.18,0.48,0,1,0.01,-0.99\n33.690068,0.15,0.46,1.38675049,0.2773501,0.03605551,-3.56949576\n32.005383,0.07,0.41,3.60399279,0.10599979,0.09433981,-9.33964132\n45,0.06,0.4,0.70710678,0.70710678,0.01414214,-1.40007143\n270,0.06,0.41,0,1,0.01,-0.99\n225,0.07,0.42,0.70710678,0.70710678,0.01414214,-1.40007143\n213.690068,0.16,0.48,1.38675049,0.2773501,0.10816654,-3.49738474\n243.434949,0.17,0.5,0.89442719,0.4472136,0.02236068,-2.2137073\n205.016893,0.32,0.57,2.23525175,0.06041221,0.16552945,-16.3874159\n189.462322,0.38,0.58,5.09636861,0.16439899,0.06082763,-6.0219349\n194.036243,0.42,0.59,3.15296313,0.24253563,0.04123106,-4.08187457\n194.036243,0.5,0.61,3.15296313,0.24253563,0.08246211,-4.04064351\n198.434949,0.56,0.63,2.21359436,0.31622777,0.06324555,-3.09903211\n6.340192,0.47,0.62,8.0615014,0.11043153,0.09055385,-8.96483129\n315,0.46,0.63,0.70710678,0.70710678,0.01414214,-1.40007143\n45,0.45,0.62,0.70710678,0.70710678,0.01414214,-1.40007143\n23.198591,0.38,0.59,2.23220936,0.13130643,0.07615773,-7.53961537\n0,0.35,0.59,0,1,0.03,-0.97\n45,0.32,0.56,0.70710678,0.70710678,0.04242641,-1.37178716\n236.309932,0.34,0.59,2.21880078,0.2773501,0.03605551,-3.56949576\n206.565051,0.36,0.6,1.34164079,0.4472136,0.02236068,-2.2137073\n206.565051,0.42,0.63,1.34164079,0.4472136,0.06708204,-2.16898594\n206.565051,0.44,0.64,1.34164079,0.4472136,0.02236068,-2.2137073\n206.565051,0.46,0.65,1.34164079,0.4472136,0.02236068,-2.2137073\n180,0.57,0.65,0,1,0.11,-0.89\n225,0.58,0.66,0.70710678,0.70710678,0.01414214,-1.40007143\n321.340192,0.53,0.7,4.99756038,0.15617376,0.06403124,-6.339093\n296.565051,0.52,0.72,1.34164079,0.4472136,0.02236068,-2.2137073\n285.945396,0.5,0.79,3.15929297,0.13736056,0.0728011,-7.20730879\n254.054604,0.52,0.86,4.12081692,0.13736056,0.0728011,-7.20730879\n135,0.53,0.85,0.70710678,0.70710678,0.01414214,-1.40007143\n90,0.53,0.82,0,1,0.03,-0.97\n71.565051,0.52,0.79,0.9486833,0.31622777,0.03162278,-3.13065488\n105.945396,0.54,0.72,3.15929297,0.13736056,0.0728011,-7.20730879\n135,0.58,0.68,0.70710678,0.70710678,0.05656854,-1.35764502\n180,0.59,0.68,0,1,0.01,-0.99\n270,0.59,0.69,0,1,0.01,-0.99\n270,0.59,0.71,0,1,0.02,-0.98\n296.565051,0.58,0.73,1.34164079,0.4472136,0.02236068,-2.2137073\n278.130102,0.57,0.8,6.08111832,0.14142136,0.07071068,-7.00035713\n251.565051,0.58,0.83,0.9486833,0.31622777,0.03162278,-3.13065488\n225,0.59,0.84,0.70710678,0.70710678,0.01414214,-1.40007143\n225,0.6,0.85,0.70710678,0.70710678,0.01414214,-1.40007143\n243.434949,0.61,0.87,0.89442719,0.4472136,0.02236068,-2.2137073\n243.434949,0.63,0.91,0.89442719,0.4472136,0.04472136,-2.19134662\n243.434949,0.65,0.95,0.89442719,0.4472136,0.04472136,-2.19134662\n225,0.66,0.96,0.70710678,0.70710678,0.01414214,-1.40007143\n168.690068,0.81,0.93,0.98058068,0.19611614,0.15297059,-4.94604893\n355.601295,0.68,0.94,0.99705449,0.0766965,0.13038405,-12.90802076\n56.309932,0.66,0.91,2.21880078,0.2773501,0.03605551,-3.56949576\n56.309932,0.64,0.88,2.21880078,0.2773501,0.03605551,-3.56949576\n63.434949,0.63,0.86,0.89442719,0.4472136,0.02236068,-2.2137073\n56.309932,0.61,0.83,2.21880078,0.2773501,0.03605551,-3.56949576\n71.565051,0.6,0.8,0.9486833,0.31622777,0.03162278,-3.13065488\n90,0.6,0.79,0,1,0.01,-0.99\n90,0.6,0.77,0,1,0.02,-0.98\n90,0.6,0.74,0,1,0.03,-0.97\n225,0.61,0.75,0.70710678,0.70710678,0.01414214,-1.40007143\n243.434949,0.62,0.77,0.89442719,0.4472136,0.02236068,-2.2137073\n225,0.63,0.78,0.70710678,0.70710678,0.01414214,-1.40007143\n206.565051,0.65,0.79,1.34164079,0.4472136,0.02236068,-2.2137073\n206.565051,0.67,0.8,1.34164079,0.4472136,0.02236068,-2.2137073\n180,0.69,0.8,0,1,0.02,-0.98\n180,0.71,0.8,0,1,0.02,-0.98\n180,0.74,0.8,0,1,0.03,-0.97\n153.434949,0.76,0.79,0.89442719,0.4472136,0.02236068,-2.2137073\n135,0.77,0.78,0.70710678,0.70710678,0.01414214,-1.40007143\n135,0.56,0.56,0.70710678,0.70710678,0.01414214,-1.40007143\n26.565051,0.77,0.74,1.34164079,0.4472136,0.02236068,-2.2137073\n56.309932,0.75,0.71,2.21880078,0.2773501,0.03605551,-3.56949576\n14.036243,0.71,0.7,3.15296313,0.24253563,0.04123106,-4.08187457\n90,0.71,0.67,0,1,0.03,-0.97\n341.565051,0.68,0.68,0.9486833,0.31622777,0.03162278,-3.13065488\n0,0.67,0.68,0,1,0.01,-0.99\n90,0.56,0.55,0,1,0.01,-0.99\n180,0.57,0.55,0,1,0.01,-0.99\n225,0.58,0.56,0.70710678,0.70710678,0.01414214,-1.40007143\n270,0.58,0.57,0,1,0.01,-0.99\n135,0.59,0.56,0.70710678,0.70710678,0.01414214,-1.40007143\n74.475889,0.54,0.38,11.4016286,0.05352877,0.18681542,-18.49472628\n90,0.54,0.36,0,1,0.02,-0.98\n45,0.53,0.35,0.70710678,0.70710678,0.01414214,-1.40007143\n90,0.53,0.32,0,1,0.03,-0.97\n63.434949,0.47,0.2,0.89442719,0.4472136,0.13416408,-2.1019039\n90,0.47,0.19,0,1,0.01,-0.99\n56.309932,0.45,0.16,2.21880078,0.2773501,0.03605551,-3.56949576\n57.994617,0.4,0.08,5.82998834,0.10599979,0.09433981,-9.33964132\n45,0.39,0.07,0.70710678,0.70710678,0.01414214,-1.40007143\n180,0.4,0.07,0,1,0.01,-0.99\n225,0.41,0.08,0.70710678,0.70710678,0.01414214,-1.40007143\n236.309932,0.47,0.17,2.21880078,0.2773501,0.10816654,-3.49738474\n206.565051,0.49,0.18,1.34164079,0.4472136,0.02236068,-2.2137073\n244.983107,0.56,0.33,14.31769361,0.06041221,0.16552945,-16.3874159\n260.537678,0.57,0.39,0.98639392,0.16439899,0.06082763,-6.0219349\n255.963757,0.58,0.43,0.9701425,0.24253563,0.04123106,-4.08187457\n255.963757,0.6,0.51,0.9701425,0.24253563,0.08246211,-4.04064351\n251.565051,0.62,0.57,0.9486833,0.31622777,0.06324555,-3.09903211\n83.659808,0.61,0.48,0.99388373,0.11043153,0.09055385,-8.96483129\n135,0.62,0.47,0.70710678,0.70710678,0.01414214,-1.40007143\n45,0.61,0.46,0.70710678,0.70710678,0.01414214,-1.40007143\n66.801409,0.58,0.39,5.38356375,0.13130643,0.07615773,-7.53961537\n90,0.58,0.36,0,1,0.03,-0.97\n45,0.55,0.33,0.70710678,0.70710678,0.04242641,-1.37178716\n213.690068,0.58,0.35,1.38675049,0.2773501,0.03605551,-3.56949576\n243.434949,0.59,0.37,0.89442719,0.4472136,0.02236068,-2.2137073\n243.434949,0.62,0.43,0.89442719,0.4472136,0.06708204,-2.16898594\n243.434949,0.63,0.45,0.89442719,0.4472136,0.02236068,-2.2137073\n243.434949,0.64,0.47,0.89442719,0.4472136,0.02236068,-2.2137073\n270,0.64,0.58,0,1,0.11,-0.89\n225,0.65,0.59,0.70710678,0.70710678,0.01414214,-1.40007143\n128.659808,0.69,0.54,1.40556386,0.15617376,0.06403124,-6.339093\n153.434949,0.71,0.53,0.89442719,0.4472136,0.02236068,-2.2137073\n164.054604,0.78,0.51,4.12081692,0.13736056,0.0728011,-7.20730879\n195.945396,0.85,0.53,3.15929297,0.13736056,0.0728011,-7.20730879\n315,0.84,0.54,0.70710678,0.70710678,0.01414214,-1.40007143\n0,0.81,0.54,0,1,0.03,-0.97\n18.434949,0.78,0.53,2.21359436,0.31622777,0.03162278,-3.13065488\n344.054604,0.71,0.55,4.12081692,0.13736056,0.0728011,-7.20730879\n315,0.67,0.59,0.70710678,0.70710678,0.05656854,-1.35764502\n270,0.67,0.6,0,1,0.01,-0.99\n180,0.68,0.6,0,1,0.01,-0.99\n180,0.7,0.6,0,1,0.02,-0.98\n153.434949,0.72,0.59,0.89442719,0.4472136,0.02236068,-2.2137073\n171.869898,0.79,0.58,0.98994949,0.14142136,0.07071068,-7.00035713\n198.434949,0.82,0.59,2.21359436,0.31622777,0.03162278,-3.13065488\n225,0.83,0.6,0.70710678,0.70710678,0.01414214,-1.40007143\n225,0.84,0.61,0.70710678,0.70710678,0.01414214,-1.40007143\n206.565051,0.86,0.62,1.34164079,0.4472136,0.02236068,-2.2137073\n206.565051,0.9,0.64,1.34164079,0.4472136,0.04472136,-2.19134662\n206.565051,0.94,0.66,1.34164079,0.4472136,0.04472136,-2.19134662\n225,0.95,0.67,0.70710678,0.70710678,0.01414214,-1.40007143\n281.309932,0.92,0.82,4.11843884,0.19611614,0.15297059,-4.94604893\n94.398705,0.93,0.69,12.04135032,0.0766965,0.13038405,-12.90802076\n33.690068,0.9,0.67,1.38675049,0.2773501,0.03605551,-3.56949576\n33.690068,0.87,0.65,1.38675049,0.2773501,0.03605551,-3.56949576\n26.565051,0.85,0.64,1.34164079,0.4472136,0.02236068,-2.2137073\n33.690068,0.82,0.62,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.79,0.61,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.78,0.61,0,1,0.01,-0.99\n0,0.76,0.61,0,1,0.02,-0.98\n0,0.73,0.61,0,1,0.03,-0.97\n225,0.74,0.62,0.70710678,0.70710678,0.01414214,-1.40007143\n206.565051,0.76,0.63,1.34164079,0.4472136,0.02236068,-2.2137073\n225,0.77,0.64,0.70710678,0.70710678,0.01414214,-1.40007143\n243.434949,0.78,0.66,0.89442719,0.4472136,0.02236068,-2.2137073\n243.434949,0.79,0.68,0.89442719,0.4472136,0.02236068,-2.2137073\n270,0.79,0.7,0,1,0.02,-0.98\n270,0.79,0.72,0,1,0.02,-0.98\n270,0.79,0.75,0,1,0.03,-0.97\n296.565051,0.78,0.77,1.34164079,0.4472136,0.02236068,-2.2137073\n315,0.77,0.78,0.70710678,0.70710678,0.01414214,-1.40007143\n"),!1),i(N.ParsePatFile("\n*SACNCR,SACNCR\n45, 0,0, 0,.09375\n45, .06629126,0, 0,.09375, 0,-.09375\n"),!1),i(N.ParsePatFile("\n*SCAFFOLD, verbose comment\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.76,0.84,1,1,0.02,-0.98\n326.3099325,0.26,0.16,2.21880078,0.2773501,0.57688819,-3.02866309\n90,0.24,0.49,1,1,0.02,-0.98\n270,0.25,0.16,1,1,0.32,-0.68\n146.3099325,0.24,0.84,2.21880078,0.2773501,0.5768882,-3.02866307\n180,0.76,0.49,0,1,0.02,-0.98\n270,0.74,0.18,1,1,0.02,-0.98\n0,0.74,0.84,0,1,0.02,-0.98\n90,0.25,0.51,1,1,0.31,-0.69\n270,0.76,0.51,1,1,0.02,-0.98\n0,0.26,0.17,0,1,0.48,-0.52\n0,0.24,0.51,0,1,0.02,-0.98\n180,0.76,0.18,0,1,0.02,-0.98\n90,0.74,0.82,1,1,0.02,-0.98\n212.855722,0.24,0.49,20.24844917,0.01750082,0.57140178,-56.56877673\n147.144278,0.24,0.18,36.89172934,0.01750082,0.57140178,-56.56877673\n213.6900675,0.24,0.16,1.38675049,0.2773501,0.57688818,-3.02866309\n180,0.24,0.17,0,1,0.48,-0.52\n0,0.26,0.83,0,1,0.48,-0.52\n90,0.26,0.16,1,1,0.02,-0.98\n180,0.76,0.82,0,1,0.02,-0.98\n90,0.74,0.49,1,1,0.02,-0.98\n147.144278,0.74,0.18,36.89172934,0.01750082,0.57140179,-56.56877672\n0,0.24,0.16,0,1,0.02,-0.98\n0,0.26,0.5,0,1,0.48,-0.52\n270,0.26,0.84,1,1,0.02,-0.98\n90,0.75,0.18,1,1,0.31,-0.69\n212.855722,0.74,0.82,20.24844917,0.01750082,0.57140179,-56.56877672\n180,0.26,0.49,0,1,0.02,-0.98\n270,0.24,0.18,1,1,0.02,-0.98\n0,0.24,0.84,0,1,0.02,-0.98\n270,0.26,0.51,1,1,0.02,-0.98\n270,0.75,0.82,1,1,0.31,-0.69\n32.855722,0.26,0.18,20.24844917,0.01750082,0.57140179,-56.56877672\n180,0.26,0.18,0,1,0.02,-0.98\n0,0.74,0.51,0,1,0.02,-0.98\n90,0.76,0.16,1,1,0.02,-0.98\n90,0.24,0.82,1,1,0.02,-0.98\n180,0.24,0.83,0,1,0.48,-0.52\n147.144278,0.24,0.51,36.89172934,0.01750082,0.57140178,-56.56877673\n180,0.24,0.5,0,1,0.48,-0.52\n270,0.25,0.49,1,1,0.31,-0.69\n212.855722,0.24,0.82,20.24844917,0.01750082,0.57140179,-56.56877672\n0,0.74,0.16,0,1,0.02,-0.98\n270,0.75,0.16,1,1,0.32,-0.68\n180,0.26,0.82,0,1,0.02,-0.98\n213.6900675,0.74,0.16,1.38675049,0.2773501,0.57688819,-3.02866309\n327.144278,0.26,0.82,36.89172934,0.01750082,0.57140179,-56.56877672\n"),!1),i(N.ParsePatFile("\n*SQUARE,SQUARE\n0, 0,0, 0,.125, .125,-.125\n90, 0,0, 0,.125, .125,-.125\n"),!1),i(N.ParsePatFile("\n*SQUIGGLE-01,SQUIGGLE-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n45,0.11,-0.39,0.70710678,0.70710678,1.11722871,-0.29698485\n56.309932,0.07,0.55,2.21880078,0.2773501,0.07211103,-3.53344025\n81.869898,0.06,0.48,0.98994949,0.14142136,0.07071068,-7.00035713\n99.462322,0.07,0.42,5.09636861,0.16439899,0.06082763,-6.0219349\n123.690068,0.11,0.36,1.38675049,0.2773501,0.07211103,-3.53344025\n146.309932,0.17,0.32,2.21880078,0.2773501,0.07211103,-3.53344025\n170.537678,0.23,0.31,0.98639392,0.16439899,0.06082763,-6.0219349\n188.130102,0.3,0.32,6.08111832,0.14142136,0.07071068,-7.00035713\n213.690068,0.36,0.36,1.38675049,0.2773501,0.07211103,-3.53344025\n225,0.65,0.65,0.70710678,0.70710678,0.41012193,-1.00409163\n213.690068,0.71,0.69,1.38675049,0.2773501,0.07211103,-3.53344025\n189.462322,0.77,0.7,5.09636861,0.16439899,0.06082763,-6.0219349\n171.869898,0.84,0.69,0.98994949,0.14142136,0.07071068,-7.00035713\n146.309932,0.9,0.65,2.21880078,0.2773501,0.07211103,-3.53344025\n123.690068,0.94,0.59,1.38675049,0.2773501,0.07211103,-3.53344025\n99.462322,0.95,0.53,5.09636861,0.16439899,0.06082763,-6.0219349\n81.869898,0.94,0.46,0.98994949,0.14142136,0.07071068,-7.00035713\n56.309932,0.9,0.4,2.21880078,0.2773501,0.07211103,-3.53344025\n"),!1),i(N.ParsePatFile("\n*SQUIGGLE-02,SQUIGGLE-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n75.963757,0.99,0.16,0.9701425,0.24253563,0.04123106,-4.08187457\n63.434949,0.97,0.12,0.89442719,0.4472136,0.04472136,-2.19134662\n45,0.94,0.09,0.70710678,0.70710678,0.04242641,-1.37178716\n14.036243,0.9,0.08,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.85,0.08,0,1,0.05,-0.95\n345.963757,0.81,0.09,0.9701425,0.24253563,0.04123106,-4.08187457\n315,0.78,0.12,0.70710678,0.70710678,0.04242641,-1.37178716\n296.565051,0.76,0.16,1.34164079,0.4472136,0.04472136,-2.19134662\n284.036243,0.75,0.2,3.15296313,0.24253563,0.04123106,-4.08187457\n281.309932,0.74,0.85,4.11843884,0.19611614,0.0509902,-5.04802932\n303.690068,0.72,0.88,1.38675049,0.2773501,0.03605551,-3.56949576\n315,0.69,0.91,0.70710678,0.70710678,0.04242641,-1.37178716\n345.963757,0.65,0.92,0.9701425,0.24253563,0.04123106,-4.08187457\n0,0.6,0.92,0,1,0.05,-0.95\n14.036243,0.56,0.91,3.15296313,0.24253563,0.04123106,-4.08187457\n45,0.53,0.88,0.70710678,0.70710678,0.04242641,-1.37178716\n56.309932,0.51,0.85,2.21880078,0.2773501,0.03605551,-3.56949576\n78.690068,0.5,0.8,0.98058068,0.19611614,0.0509902,-5.04802932\n75.963757,0.49,0.16,0.9701425,0.24253563,0.04123106,-4.08187457\n63.434949,0.47,0.12,0.89442719,0.4472136,0.04472136,-2.19134662\n45,0.44,0.09,0.70710678,0.70710678,0.04242641,-1.37178716\n14.036243,0.4,0.08,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.35,0.08,0,1,0.05,-0.95\n345.963757,0.31,0.09,0.9701425,0.24253563,0.04123106,-4.08187457\n315,0.28,0.12,0.70710678,0.70710678,0.04242641,-1.37178716\n296.565051,0.26,0.16,1.34164079,0.4472136,0.04472136,-2.19134662\n284.036243,0.25,0.2,3.15296313,0.24253563,0.04123106,-4.08187457\n281.309932,0.24,0.85,4.11843884,0.19611614,0.0509902,-5.04802932\n303.690068,0.22,0.88,1.38675049,0.2773501,0.03605551,-3.56949576\n315,0.19,0.91,0.70710678,0.70710678,0.04242641,-1.37178716\n345.963757,0.15,0.92,0.9701425,0.24253563,0.04123106,-4.08187457\n0,0.1,0.92,0,1,0.05,-0.95\n14.036243,0.06,0.91,3.15296313,0.24253563,0.04123106,-4.08187457\n45,0.03,0.88,0.70710678,0.70710678,0.04242641,-1.37178716\n56.309932,0.01,0.85,2.21880078,0.2773501,0.03605551,-3.56949576\n78.690068,0,0.8,0.98058068,0.19611614,0.0509902,-5.04802932\n270,0.75,0.8,0,1,0.6,-0.4\n270,0.5,0.8,0,1,0.6,-0.4\n270,0.25,0.8,0,1,0.6,-0.4\n270,0,0.8,0,1,0.6,-0.4\n"),!1),i(N.ParsePatFile("\n*STARS,STARS\n0, 0,0, 0,.21650635, .125,-.125\n60, 0,0, 0,.21650635, .125,-.125\n120, .0625,.10825318, 0,.21650635, .125,-.125\n"),!1),i(N.ParsePatFile("\n*STEEL,STEEL\n45, 0,0, 0,.125\n45, 0,.0625, 0,.125\n"),!1),i(N.ParsePatFile("\n*SWAMP,SWAMP\n0, 0,0, .5,.8660254, .125,-.875\n90, .0625,0, .8660254,.5, .0625,-1.66955081\n90, .078125,0, .8660254,.5, .05,-1.68205081\n90, .046875,0, .8660254,.5, .05,-1.68205081\n60, .09375,0, .5,.8660254, .04,-.96\n120, .03125,0, .5,.8660254, .04,-.96\n"),!1),i(N.ParsePatFile("\n*TRANS,TRANS\n0, 0,0, 0,.25\n0, 0,.125, 0,.25, .125,-.125\n"),!1),i(N.ParsePatFile("\n*TRIANG,TRIANG\n60, 0,0, .1875,.32475953, .1875,-.1875\n120, 0,0, .1875,.32475953, .1875,-.1875\n0, -.09375,.16237976, .1875,.32475953, .1875,-.1875\n"),!1),i(N.ParsePatFile("\n*TRI-OVERLAP,TRI-OVERLAP verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n59.641885,0.09000001,0.15,47.50789248,0.01232691,0.81123363,-80.31212922\n300.358115,0.5,0.85000001,33.61547037,0.01232691,0.81123363,-80.31212922\n180,0.35942857,0.61,0,1,0.71885753,-0.28114247\n59.036243,0.89518072,0.17530121,2.22948161,0.17149859,0.20373205,-5.62721984\n180,0.91,0.15,0,1,0.81999999,-0.18000001\n300.963757,0,0.35,3.60147029,0.17149859,0.20373206,-5.62721983\n300.784147,0.12,0.15,5.83092324,0.01827876,0.5470832,-54.16123426\n239.215853,0.88,0.15,48.87739422,0.01827876,0.5470832,-54.16123426\n"),!1),i(N.ParsePatFile("\n*WEATHERBOARD,WEATHERBOARD\n; By John Hyslop,    Manually Entered QCAD3 pattern\n; Developed in inch as imperial QCAD3 pattern\n; Imperial Hatch Scale 1 Makes 6inch horizontally placed boards\n; with a 0.5in offset line to simulate a rounded edge\n0,0,0,0,6\n0,0,0.5,0,6\n"),!1),i(N.ParsePatFile("\n*WEAVING,WEAVING\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n90,0.9,0.2,0,1,0.05,-0.95\n75.963757,0.88,0.12,0.9701425,0.24253563,0.08246211,-4.04064351\n66.801409,0.85,0.05,5.38356375,0.13130643,0.07615773,-7.53961537\n54.462322,0.8,-0.02,3.6036768,0.11624764,0.08602325,-8.51630201\n56.309932,0.76,-0.08,2.21880078,0.2773501,0.07211103,-3.53344025\n90,0.79,0.22,0,1,0.07,-0.93\n80.537678,0.78,0.16,0.98639392,0.16439899,0.06082763,-6.0219349\n63.434949,0.75,0.1,0.89442719,0.4472136,0.06708204,-2.16898594\n56.309932,0.71,0.04,2.21880078,0.2773501,0.07211103,-3.53344025\n56.309932,0.67,-0.02,2.21880078,0.2773501,0.07211103,-3.53344025\n333.434949,0.86,0.27,0.89442719,0.4472136,0.06708204,-2.16898594\n344.054604,0.79,0.29,4.12081692,0.13736056,0.0728011,-7.20730879\n0,0.71,0.29,0,1,0.08,-0.92\n9.462322,0.65,0.28,5.09636861,0.16439899,0.06082763,-6.0219349\n26.565051,0.59,0.25,1.34164079,0.4472136,0.06708204,-2.16898594\n38.659808,0.54,0.21,1.40556386,0.15617376,0.06403124,-6.339093\n36.869898,0.46,0.15,1.4,0.2,0.1,-4.9\n20.556045,0.38,0.12,5.38389277,0.11704115,0.08544004,-8.45856371\n330.255119,0.91,0.37,2.23262522,0.12403473,0.08062258,-7.98163517\n344.054604,0.84,0.39,4.12081692,0.13736056,0.0728011,-7.20730879\n352.874984,0.76,0.4,0.99227788,0.12403473,0.08062258,-7.98163517\n0,0.69,0.4,0,1,0.07,-0.93\n14.036243,0.61,0.38,3.15296313,0.24253563,0.08246211,-4.04064351\n26.565051,0.53,0.34,1.34164079,0.4472136,0.08944272,-2.14662526\n33.690068,0.47,0.3,1.38675049,0.2773501,0.07211103,-3.53344025\n35.537678,0.4,0.25,4.99864847,0.11624764,0.08602325,-8.51630201\n0,0.2,0.1,0,1,0.05,-0.95\n348.690068,0.15,0.11,0.98058068,0.19611614,0.0509902,-5.04802932\n341.565051,0.12,0.12,0.9486833,0.31622777,0.03162278,-3.13065488\n336.801409,0.05,0.15,5.38356375,0.13130643,0.07615773,-7.53961537\n326.309932,-0.01,0.19,2.21880078,0.2773501,0.07211103,-3.53344025\n324.462322,-0.08,0.24,3.6036768,0.11624764,0.08602325,-8.51630201\n0,0.22,0.21,0,1,0.07,-0.93\n350.537678,0.16,0.22,0.98639392,0.16439899,0.06082763,-6.0219349\n333.434949,0.1,0.25,0.89442719,0.4472136,0.06708204,-2.16898594\n326.309932,0.04,0.29,2.21880078,0.2773501,0.07211103,-3.53344025\n326.309932,-0.02,0.33,2.21880078,0.2773501,0.07211103,-3.53344025\n60.255119,0.63,0.91,2.23262522,0.12403473,0.08062258,-7.98163517\n180,0.79,0.79,0,1,0.08,-0.92\n164.054604,0.86,0.77,4.12081692,0.13736056,0.0728011,-7.20730879\n153.434949,0.92,0.74,0.89442719,0.4472136,0.06708204,-2.16898594\n330.255119,0.91,0.87,2.23262522,0.12403473,0.08062258,-7.98163517\n345.963757,0.83,0.89,0.9701425,0.24253563,0.08246211,-4.04064351\n352.874984,0.75,0.9,0.99227788,0.12403473,0.08062258,-7.98163517\n60.255119,0.72,0.85,2.23262522,0.12403473,0.08062258,-7.98163517\n80.537678,0.71,0.79,0.98639392,0.16439899,0.06082763,-6.0219349\n90,0.71,0.71,0,1,0.08,-0.92\n104.036243,0.73,0.63,3.15296313,0.24253563,0.08246211,-4.04064351\n116.565051,0.76,0.57,1.34164079,0.4472136,0.06708204,-2.16898594\n129.805571,0.81,0.51,1.40840568,0.12803688,0.0781025,-7.73214718\n123.690068,0.85,0.45,1.38675049,0.2773501,0.07211103,-3.53344025\n113.198591,0.88,0.38,2.23220936,0.13130643,0.07615773,-7.53961537\n309.805571,0.71,0.46,1.40840568,0.12803688,0.0781025,-7.73214718\n305.537678,0.66,0.53,4.99864847,0.11624764,0.08602325,-8.51630201\n299.744881,0.62,0.6,5.82963253,0.12403473,0.08062258,-7.98163517\n285.945396,0.6,0.67,3.15929297,0.13736056,0.0728011,-7.20730879\n270,0.6,0.76,0,1,0.09,-0.91\n74.054604,0.61,0.84,4.12081692,0.13736056,0.0728011,-7.20730879\n82.874984,0.6,0.76,0.99227788,0.12403473,0.08062258,-7.98163517\n39.805571,0.54,0.71,1.40840568,0.12803688,0.0781025,-7.73214718\n35.537678,0.47,0.66,4.99864847,0.11624764,0.08602325,-8.51630201\n33.690068,0.41,0.62,1.38675049,0.2773501,0.07211103,-3.53344025\n15.945396,0.34,0.6,3.15929297,0.13736056,0.0728011,-7.20730879\n6.340192,0.25,0.59,8.0615014,0.11043153,0.09055385,-8.96483129\n350.537678,0.19,0.6,0.98639392,0.16439899,0.06082763,-6.0219349\n344.054604,0.12,0.62,4.12081692,0.13736056,0.0728011,-7.20730879\n23.198591,0.55,0.85,2.23220936,0.13130643,0.07615773,-7.53961537\n29.744881,0.48,0.81,5.82963253,0.12403473,0.08062258,-7.98163517\n39.805571,0.42,0.76,1.40840568,0.12803688,0.0781025,-7.73214718\n29.744881,0.35,0.72,5.82963253,0.12403473,0.08062258,-7.98163517\n7.125016,0.27,0.71,7.06997987,0.12403473,0.08062258,-7.98163517\n0,0.21,0.71,0,1,0.06,-0.94\n344.054604,0.14,0.73,4.12081692,0.13736056,0.0728011,-7.20730879\n333.434949,0.1,0.75,0.89442719,0.4472136,0.04472136,-2.19134662\n234.462322,0.31,-0.01,3.6036768,0.11624764,0.08602325,-8.51630201\n240.255119,0.35,0.06,2.23262522,0.12403473,0.08062258,-7.98163517\n243.434949,0.39,0.14,0.89442719,0.4472136,0.08944272,-2.14662526\n262.874984,0.4,0.22,0.99227788,0.12403473,0.08062258,-7.98163517\n270,0.4,0.3,0,1,0.08,-0.92\n282.528808,0.38,0.39,4.1216787,0.10846523,0.09219544,-9.12734901\n293.198591,0.35,0.46,2.23220936,0.13130643,0.07615773,-7.53961537\n309.805571,0.3,0.52,1.40840568,0.12803688,0.0781025,-7.73214718\n305.537678,0.25,0.59,4.99864847,0.11624764,0.08602325,-8.51630201\n270,0.21,0.78,0,1,0.07,-0.93\n254.054604,0.23,0.85,4.12081692,0.13736056,0.0728011,-7.20730879\n246.801409,0.26,0.92,5.38356375,0.13130643,0.07615773,-7.53961537\n236.309932,0.21,0.04,2.21880078,0.2773501,0.07211103,-3.53344025\n234.462322,0.26,0.11,3.6036768,0.11624764,0.08602325,-8.51630201\n249.443955,0.29,0.19,3.16011097,0.11704115,0.08544004,-8.45856371\n270,0.29,0.27,0,1,0.08,-0.92\n278.130102,0.28,0.34,6.08111832,0.14142136,0.07071068,-7.00035713\n296.565051,0.24,0.42,1.34164079,0.4472136,0.08944272,-2.14662526\n309.805571,0.19,0.48,1.40840568,0.12803688,0.0781025,-7.73214718\n303.690068,0.15,0.54,1.38675049,0.2773501,0.07211103,-3.53344025\n290.556045,0.12,0.62,5.38389277,0.11704115,0.08544004,-8.45856371\n341.565051,0.06,0.64,0.9486833,0.31622777,0.06324555,-3.09903211\n324.462322,-0.01,0.69,3.6036768,0.11624764,0.08602325,-8.51630201\n324.462322,-0.08,0.74,3.6036768,0.11624764,0.08602325,-8.51630201\n146.309932,0.04,0.79,2.21880078,0.2773501,0.07211103,-3.53344025\n146.309932,0.1,0.75,2.21880078,0.2773501,0.07211103,-3.53344025\n262.874984,0.11,0.83,0.99227788,0.12403473,0.08062258,-7.98163517\n255.963757,0.13,0.91,0.9701425,0.24253563,0.08246211,-4.04064351\n240.255119,0.17,0.98,2.23262522,0.12403473,0.08062258,-7.98163517\n"),!1),i(N.ParsePatFile("\n*WIRE-FENCE,WIRE-FENCE verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n315,0.46,0.5,0.70710678,0.70710678,0.04673053,-1.36748303\n315,0.52571429,0.56428571,0.70710678,0.70710678,0.04848732,-1.36572624\n3.731397,0.50267394,0.56278308,15.03328073,0.02169305,0.02308929,-46.074633\n183.17983,0.46361415,0.56023571,17.02929602,0.05547002,0.90614559,-17.12161079\n183.17983,0.46120401,0.52006684,17.02929602,0.05547002,0.90600202,-17.12175436\n153.434949,0.52,0.51,0.89442719,0.4472136,0.02236068,-2.2137073\n266.593556,0.52,0.51,17.02938222,0.01188373,1.01178655,-83.1368914\n266.593556,0.56,0.53,17.02938222,0.01188373,1.01178655,-83.1368914\n2.602562,0.49304348,0.46695652,21.02374701,0.04540766,0.02449081,-21.99822474\n"),!1),i(N.ParsePatFile("\n*XMASTREE-01,XMASTREE-01\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n180,0.04,0.95,0,1,0.04,-0.96\n90,0.04,0.82,0,1,0.13,-0.87\n180,0.33,0.82,0,1,0.29,-0.71\n49.763642,0.22,0.69,7.81002892,0.05872202,0.17029386,-16.8590925\n180,0.28,0.69,0,1,0.06,-0.94\n51.340192,0.16,0.54,4.99756038,0.15617376,0.19209373,-6.21103051\n180,0.22,0.54,0,1,0.06,-0.94\n52.431408,0.12,0.41,4.99962824,0.06097108,0.16401219,-16.23720727\n180,0.17,0.41,0,1,0.05,-0.95\n53.130102,0.08,0.29,3.6,0.2,0.15,-4.85\n180,0.13,0.29,0,1,0.05,-0.95\n53.972627,0.05,0.18,8.60201108,0.07352146,0.13601471,-13.4654558\n180,0.1,0.18,0,1,0.05,-0.95\n54.462322,0,0.04,3.6036768,0.11624764,0.17204651,-8.43027876\n0,0.96,0.95,0,1,0.04,-0.96\n90,0.96,0.82,0,1,0.13,-0.87\n0,0.67,0.82,0,1,0.29,-0.71\n130.236358,0.78,0.69,9.21935745,0.05872202,0.17029386,-16.8590925\n0,0.72,0.69,0,1,0.06,-0.94\n128.659808,0.84,0.54,1.40556386,0.15617376,0.19209373,-6.21103051\n0,0.78,0.54,0,1,0.06,-0.94\n127.568592,0.88,0.41,11.40159123,0.06097108,0.16401219,-16.23720727\n0,0.83,0.41,0,1,0.05,-0.95\n126.869898,0.92,0.29,1.4,0.2,0.15,-4.85\n0,0.87,0.29,0,1,0.05,-0.95\n126.027373,0.95,0.18,4.99945943,0.07352146,0.13601471,-13.4654558\n0,0.9,0.18,0,1,0.05,-0.95\n125.537678,1,0.04,4.99864847,0.11624764,0.17204651,-8.43027876\n0,0.46,0.04,0,1,0.04,-0.96\n270,0.46,0.17,0,1,0.13,-0.87\n0,0.17,0.17,0,1,0.29,-0.71\n229.763642,0.28,0.3,7.81002892,0.05872202,0.17029386,-16.8590925\n0,0.22,0.3,0,1,0.06,-0.94\n231.340192,0.34,0.45,4.99756038,0.15617376,0.19209373,-6.21103051\n0,0.28,0.45,0,1,0.06,-0.94\n232.431408,0.38,0.58,4.99962824,0.06097108,0.16401219,-16.23720727\n0,0.33,0.58,0,1,0.05,-0.95\n233.130102,0.42,0.7,3.6,0.2,0.15,-4.85\n0,0.37,0.7,0,1,0.05,-0.95\n233.972627,0.45,0.81,8.60201108,0.07352146,0.13601471,-13.4654558\n0,0.4,0.81,0,1,0.05,-0.95\n234.462322,0.5,0.95,3.6036768,0.11624764,0.17204651,-8.43027876\n180,0.54,0.04,0,1,0.04,-0.96\n270,0.54,0.17,0,1,0.13,-0.87\n180,0.83,0.17,0,1,0.29,-0.71\n310.236358,0.72,0.3,9.21935745,0.05872202,0.17029386,-16.8590925\n180,0.78,0.3,0,1,0.06,-0.94\n308.659808,0.66,0.45,1.40556386,0.15617376,0.19209373,-6.21103051\n180,0.72,0.45,0,1,0.06,-0.94\n307.568592,0.62,0.58,11.40159123,0.06097108,0.16401219,-16.23720727\n180,0.67,0.58,0,1,0.05,-0.95\n306.869898,0.58,0.7,1.4,0.2,0.15,-4.85\n180,0.63,0.7,0,1,0.05,-0.95\n306.027373,0.55,0.81,4.99945943,0.07352146,0.13601471,-13.4654558\n180,0.6,0.81,0,1,0.05,-0.95\n305.537678,0.5,0.95,4.99864847,0.11624764,0.17204651,-8.43027876\n"),!1),i(N.ParsePatFile("\n*XMASTREE-02,XMASTREE-02\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n180,0.04,0.26,0,1,0.04,-0.96\n90,0.04,0.13,0,1,0.13,-0.87\n180,0.33,0.13,0,1,0.29,-0.71\n49.763642,0.22,0,7.81002892,0.05872202,0.17029386,-16.8590925\n180,0.28,1,0,1,0.06,-0.94\n51.340192,0.16,0.85,4.99756038,0.15617376,0.19209373,-6.21103051\n180,0.22,0.85,0,1,0.06,-0.94\n52.431408,0.12,0.72,4.99962824,0.06097108,0.16401219,-16.23720727\n180,0.17,0.72,0,1,0.05,-0.95\n53.130102,0.08,0.6,3.6,0.2,0.15,-4.85\n180,0.13,0.6,0,1,0.05,-0.95\n53.972627,0.05,0.49,8.60201108,0.07352146,0.13601471,-13.4654558\n180,0.1,0.49,0,1,0.05,-0.95\n54.462322,0,0.35,3.6036768,0.11624764,0.17204651,-8.43027876\n0,0.96,0.26,0,1,0.04,-0.96\n90,0.96,0.13,0,1,0.13,-0.87\n0,0.67,0.13,0,1,0.29,-0.71\n130.236358,0.78,0,9.21935745,0.05872202,0.17029386,-16.8590925\n0,0.72,1,0,1,0.06,-0.94\n128.659808,0.84,0.85,1.40556386,0.15617376,0.19209373,-6.21103051\n0,0.78,0.85,0,1,0.06,-0.94\n127.568592,0.88,0.72,11.40159123,0.06097108,0.16401219,-16.23720727\n0,0.83,0.72,0,1,0.05,-0.95\n126.869898,0.92,0.6,1.4,0.2,0.15,-4.85\n0,0.87,0.6,0,1,0.05,-0.95\n126.027373,0.95,0.49,4.99945943,0.07352146,0.13601471,-13.4654558\n0,0.9,0.49,0,1,0.05,-0.95\n125.537678,1,0.35,4.99864847,0.11624764,0.17204651,-8.43027876\n0,0.46,0.09,0,1,0.04,-0.96\n270,0.46,0.22,0,1,0.13,-0.87\n0,0.17,0.22,0,1,0.29,-0.71\n229.763642,0.28,0.35,7.81002892,0.05872202,0.17029386,-16.8590925\n0,0.22,0.35,0,1,0.06,-0.94\n231.340192,0.34,0.5,4.99756038,0.15617376,0.19209373,-6.21103051\n0,0.28,0.5,0,1,0.06,-0.94\n232.431408,0.38,0.63,4.99962824,0.06097108,0.16401219,-16.23720727\n0,0.33,0.63,0,1,0.05,-0.95\n233.130102,0.42,0.75,3.6,0.2,0.15,-4.85\n0,0.37,0.75,0,1,0.05,-0.95\n233.972627,0.45,0.86,8.60201108,0.07352146,0.13601471,-13.4654558\n0,0.4,0.86,0,1,0.05,-0.95\n234.462322,0.5,1,3.6036768,0.11624764,0.17204651,-8.43027876\n180,0.54,0.09,0,1,0.04,-0.96\n270,0.54,0.22,0,1,0.13,-0.87\n180,0.83,0.22,0,1,0.29,-0.71\n310.236358,0.72,0.35,9.21935745,0.05872202,0.17029386,-16.8590925\n180,0.78,0.35,0,1,0.06,-0.94\n308.659808,0.66,0.5,1.40556386,0.15617376,0.19209373,-6.21103051\n180,0.72,0.5,0,1,0.06,-0.94\n307.568592,0.62,0.63,11.40159123,0.06097108,0.16401219,-16.23720727\n180,0.67,0.63,0,1,0.05,-0.95\n306.869898,0.58,0.75,1.4,0.2,0.15,-4.85\n180,0.63,0.75,0,1,0.05,-0.95\n306.027373,0.55,0.86,4.99945943,0.07352146,0.13601471,-13.4654558\n180,0.6,0.86,0,1,0.05,-0.95\n305.537678,0.5,1,4.99864847,0.11624764,0.17204651,-8.43027876\n"),!1),i(N.ParsePatFile("\n*ZIGZAG,ZIGZAG\n0, 0,0, .125,.125, .125,-.125\n90, .125,0, .125,.125, .125,-.125\n"),!1);var Q9=F().mark(vh);function F(){F=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new k(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=p,function(e,t){if(s===d)throw new Error("Generator is already running");if(s===y){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===p)throw s=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=d;n=h(i,o,a);if("normal"===n.type){if(s=a.done?y:f,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=y,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var p="suspendedStart",f="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var t={},x=(o(t,r,function(){return this}),Object.getPrototypeOf),x=x&&x(x(O([]))),w=(x&&x!==e&&l.call(x,r)&&(t=x),b.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==K9(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(K9(t)+" is not iterable")}return c(w,"constructor",{value:g.prototype=b,configurable:!0}),c(b,"constructor",{value:g,configurable:!0}),g.displayName=o(b,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,o(e,i,"GeneratorFunction")),e.prototype=Object.create(w),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(w),o(w,i,"Generator"),o(w,r,function(){return this}),o(w,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,E(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function U(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,i=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw i}}};if(Array.isArray(e)||(a=$9(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function J9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||$9(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $9(e,t){var n;if(e)return"string"==typeof e?eh(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eh(e,t):void 0}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function th(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function nh(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){th(r,t,n,i,o,"next",e)}function o(e){th(r,t,n,i,o,"throw",e)}i(void 0)})}}function rh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ih(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=K9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=K9(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==K9(e)?e:String(e)}(r.key),r)}}function oh(e,t,n){t&&ih(e.prototype,t),n&&ih(e,n),Object.defineProperty(e,"prototype",{writable:!1})}var ah=65536,sh=15*Math.PI/180,uh="__point_shape",lh={DIMTXT:function(){return 2.5},DIMASZ:2.5,DIMCLRD:0,DIMCLRE:0,DIMCLRT:0,DIMDEC:2,DIMDLE:0,DIMDSEP:".".charCodeAt(0),DIMEXE:1.25,DIMEXO:.625,DIMFXL:1,DIMFXLON:!1,DIMGAP:.625,DIMLFAC:1,DIMRND:0,DIMSAH:0,DIMSCALE:1,DIMSD1:0,DIMSD2:0,DIMSE1:0,DIMSE2:0,DIMSOXD:!1,DIMTSZ:0,DIMZIN:8},ch=function(){function t(e){rh(this,t),this.options=Object.create(t.DefaultOptions),e&&Object.assign(this.options,e.sceneOptions),this.origin=null,this.batches=new f9(function(e,t){return e.key.Compare(t.key)}),this.layers=new Map,this.blocks=new Map,this.dimStyles=new Map,this.vars=new Map,this.fontStyles=new Map,this.inserts=new Map,this.bounds=null,this.pointShapeBlock=null,this.numBlocksFlattened=0,this.numEntitiesFiltered=0}var n,r;return oh(t,[{key:"Build",value:(r=nh(F().mark(function e(t,n){var r,i,o,a,s,u,l,c,h,p,f,d,y,v,m,g,b,x,w,_,S,T,E,k,O,P,M,A;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(x=t.header||{},r=0,i=Object.entries(x);r<i.length;r++)a=J9(i[r],2),o=a[0],a=a[1],o.startsWith("$")&&this.vars.set(o.slice(1),a);if(this.angBase=null!=(x=this.vars.get("ANGBASE"))?x:0,this.angDir=null!=(x=this.vars.get("ANGDIR"))?x:0,this.pdSize=null!=(x=this.vars.get("PDSIZE"))?x:0,this.isMetric=1==(null!=(x=this.vars.get("MEASUREMENT"))?x:1),t.tables&&t.tables.layer)for(s=0,u=Object.entries(t.tables.layer.layers);s<u.length;s++)l=J9(u[s],2),(l=l[1]).displayName=t9(l.name),this.layers.set(l.name,l);if(t.tables&&t.tables.dimstyle)for(c=0,h=Object.entries(t.tables.dimstyle.dimStyles);c<h.length;c++)p=J9(h[c],2),p=p[1],this.dimStyles.set(p.name,p);if(t.tables&&t.tables.style)for(f=0,d=Object.entries(t.tables.style.styles);f<d.length;f++)y=J9(d[f],2),y=y[1],this.fontStyles.set(y.styleName,y);if(t.blocks)for(v=0,m=Object.entries(t.blocks);v<m.length;v++)g=J9(m[v],2),g=g[1],this.blocks.set(g.name,new ph(g));return this.textRenderer=new n9(n,this.options.textOptions),this.hasMissingChars=!1,e.next=14,this._FetchFonts(t);case 14:b=U(t.entities),e.prev=15,b.s();case 17:if((x=b.n()).done){e.next=24;break}if(w=x.value,this._FilterEntity(w)){e.next=21;break}return e.abrupt("continue",22);case 21:"INSERT"===w.type?(this.inserts.set(w.handle,w),null!=(_=this.blocks.get(w.name))&&_.RegisterInsert(w)):"DIMENSION"==w.type&&null!==(null!=(_=w.block)?_:null)&&null!=(T=this.blocks.get(w.block))&&T.RegisterInsert(w);case 22:e.next=17;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(15),b.e(e.t0);case 29:return e.prev=29,b.f(),e.finish(29);case 32:S=U(this.blocks.values()),e.prev=33,S.s();case 35:if((T=S.n()).done){e.next=60;break}if(!(E=T.value).data.hasOwnProperty("entities")){e.next=57;break}k=E.DefinitionContext(),O=U(E.data.entities),e.prev=40,O.s();case 42:if((P=O.n()).done){e.next=49;break}if(P=P.value,this._FilterEntity(P)){e.next=46;break}return e.abrupt("continue",47);case 46:this._ProcessDxfEntity(P,k);case 47:e.next=42;break;case 49:e.next=54;break;case 51:e.prev=51,e.t1=e.catch(40),O.e(e.t1);case 54:return e.prev=54,O.f(),e.finish(54);case 57:E.SetFlatten()&&this.numBlocksFlattened++;case 58:e.next=35;break;case 60:e.next=65;break;case 62:e.prev=62,e.t2=e.catch(33),S.e(e.t2);case 65:return e.prev=65,S.f(),e.finish(65);case 68:"".concat(this.numBlocksFlattened," blocks flattened"),M=U(t.entities),e.prev=70,M.s();case 72:if((A=M.n()).done){e.next=80;break}if(A=A.value,this._FilterEntity(A)){e.next=77;break}return this.numEntitiesFiltered++,e.abrupt("continue",78);case 77:this._ProcessDxfEntity(A);case 78:e.next=72;break;case 80:e.next=85;break;case 82:e.prev=82,e.t3=e.catch(70),M.e(e.t3);case 85:return e.prev=85,M.f(),e.finish(85);case 88:"".concat(this.numEntitiesFiltered," entities filtered"),this.scene=this._BuildScene(),delete this.batches,delete this.layers,delete this.blocks,delete this.textRenderer;case 94:case"end":return e.stop()}},e,this,[[15,26,29,32],[33,62,65,68],[40,51,54,57],[70,82,85,88]])})),function(e,t){return r.apply(this,arguments)})},{key:"_FilterEntity",value:function(e){return!this.options.suppressPaperSpace||!e.inPaperSpace}},{key:"_FetchFonts",value:(n=nh(F().mark(function e(t){var n,r,i,o,a,s,u,l=this;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=function(e){return"TEXT"===e.type||"MTEXT"===e.type||"DIMENSION"===e.type||"ATTDEF"===e.type||"ATTRIB"===e.type},r=function(){var t=nh(F().mark(function e(t){var n,r,i,o,a;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l._FilterEntity(t)){e.next=2;break}return e.abrupt("return");case 2:if("TEXT"===t.type||"ATTRIB"===t.type||"ATTDEF"===t.type)return e.next=5,l.textRenderer.FetchFonts(t9(t.text));e.next=8;break;case 5:n=e.sent,e.next=61;break;case 8:if("MTEXT"!==t.type){e.next=34;break}(r=new W7).Parse(t.text),n=!0,r=U(r.GetText()),e.prev=13,r.s();case 15:if((i=r.n()).done){e.next=24;break}return i=i.value,e.next=19,l.textRenderer.FetchFonts(t9(i));case 19:if(e.sent){e.next=22;break}return n=!1,e.abrupt("break",24);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),r.e(e.t0);case 29:return e.prev=29,r.f(),e.finish(29);case 32:e.next=61;break;case 34:if("DIMENSION"!==t.type){e.next=60;break}if(n=!0,!(i=l._CreateLinearDimension(t))){e.next=58;break}o=U(i.GetTexts()),e.prev=39,o.s();case 41:if((a=o.n()).done){e.next=50;break}return a=a.value,e.next=45,l.textRenderer.FetchFonts(a);case 45:if(e.sent){e.next=48;break}return n=!1,e.abrupt("break",50);case 48:e.next=41;break;case 50:e.next=55;break;case 52:e.prev=52,e.t1=e.catch(39),o.e(e.t1);case 55:return e.prev=55,o.f(),e.finish(55);case 58:e.next=61;break;case 60:throw new Error("Bad entity type");case 61:return n||(l.hasMissingChars=!0),e.abrupt("return",n);case 63:case"end":return e.stop()}},e,null,[[13,26,29,32],[39,52,55,58]])}));return function(e){return t.apply(this,arguments)}}(),i=U(t.entities),e.prev=3,i.s();case 5:if((a=i.n()).done)e.next=14;else{if(a=a.value,n(a))return e.next=10,r(a);e.next=12}break;case 10:if(e.sent){e.next=12;break}return e.abrupt("return");case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:o=U(this.blocks.values()),e.prev=23,o.s();case 25:if((a=o.n()).done){e.next=50;break}if(!(s=a.value).data.hasOwnProperty("entities")){e.next=48;break}s=U(s.data.entities),e.prev=29,s.s();case 31:if((u=s.n()).done)e.next=40;else{if(u=u.value,n(u))return e.next=36,r(u);e.next=38}break;case 36:if(e.sent){e.next=38;break}return e.abrupt("return");case 38:e.next=31;break;case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(29),s.e(e.t1);case 45:return e.prev=45,s.f(),e.finish(45);case 48:e.next=25;break;case 50:e.next=55;break;case 52:e.prev=52,e.t2=e.catch(23),o.e(e.t2);case 55:return e.prev=55,o.f(),e.finish(55);case 58:case"end":return e.stop()}},e,this,[[3,16,19,22],[23,52,55,58],[29,42,45,48]])})),function(e){return n.apply(this,arguments)})},{key:"_ProcessDxfEntity",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;switch(e.type){case"LINE":t=this._DecomposeLine(e,n);break;case"POLYLINE":case"LWPOLYLINE":t=this._DecomposePolyline(e,n);break;case"ARC":t=this._DecomposeArc(e,n);break;case"CIRCLE":t=this._DecomposeCircle(e,n);break;case"ELLIPSE":t=this._DecomposeEllipse(e,n);break;case"POINT":t=this._DecomposePoint(e,n);break;case"SPLINE":t=this._DecomposeSpline(e,n);break;case"INSERT":return void this._ProcessInsert(e,n);case"TEXT":t=this._DecomposeText(e,n);break;case"MTEXT":t=this._DecomposeMText(e,n);break;case"3DFACE":t=this._Decompose3DFace(e,n);break;case"SOLID":t=this._DecomposeSolid(e,n);break;case"DIMENSION":t=this._DecomposeDimension(e,n);break;case"ATTRIB":t=this._DecomposeAttribute(e,n);break;case"HATCH":t=this._DecomposeHatch(e,n);break;default:return void e.type}var r,i=U(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;this._ProcessEntity(o,n)}}catch(e){i.e(e)}finally{i.f()}}},{key:"_ProcessEntity",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;switch(e.type){case B.Type.POINTS:this._ProcessPoints(e,t);break;case B.Type.LINE_SEGMENTS:this._ProcessLineSegments(e,t);break;case B.Type.POLYLINE:this._ProcessPolyline(e,t);break;case B.Type.TRIANGLES:this._ProcessTriangles(e,t);break;default:throw new Error("Unhandled entity type: "+e.type)}}},{key:"_GetLineType",value:function(e){return 0}},{key:"_IsPlainLine",value:function(e){return!Boolean(e.startWidth||e.endWidth)}},{key:"_DecomposeLine",value:F().mark(function e(t,n){var r,i;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(2!==t.vertices.length)return e.abrupt("return");e.next=2;break;case 2:return r=this._GetEntityLayer(t,n),i=this._GetEntityColor(t,n),e.next=6,new B({type:B.Type.LINE_SEGMENTS,vertices:t.vertices,layer:r,color:i,lineType:this._GetLineType(t,t.vertices[0])});case 6:case"end":return e.stop()}},e,this)})},{key:"_GenerateBulgeVertices",value:function(e,t,n,r){var r=4*Math.atan(r),i=Math.abs(r);if(i<this.options.arcTessellationAngle)e.push(new j(n.x,n.y));else{var o=r/2,a=Math.sin(o),o=Math.cos(o),s={x:n.x-t.x,y:n.y-t.y},u=s.x*s.x+s.y*s.y;if(!(u<2*Number.MIN_VALUE)){var u=Math.sqrt(u),l=u/2/a;s.x/=u,s.y/=u;var c=(s.x*a-s.y*o)*l+t.x,h=(s.x*o+s.y*a)*l+t.y,p=Math.floor(i/this.options.arcTessellationAngle);if(1<(p=p<this.options.minArcTessellationSubdivisions?this.options.minArcTessellationSubdivisions:p)){var f=Math.atan2(t.y-h,t.x-c),d=r/p;r<0&&(l=-l);for(var y=1;y<p;y++){var v=f+y*d,v=new j(c+l*Math.cos(v),h+l*Math.sin(v));e.push(v)}}e.push(new j(n.x,n.y))}}}},{key:"_GenerateArcVertices",value:function(e){var t=e.vertices,n=e.center,r=e.radius,i=e.startAngle,o=void 0===i?null:i,i=e.endAngle,a=void 0===i?null:i,i=e.tessellationAngle,i=void 0===i?null:i,s=e.yRadius,u=void 0===s?null:s,s=e.transform,l=void 0===s?null:s,s=e.rotation,s=void 0===s?null:s,e=e.ccwAngleDir,c=void 0===e||e;if(n&&r){i=i||this.options.arcTessellationAngle,null===u&&(u=r),null==o?o=0:o+=this.angBase;var h=!1;for(null==a?(a=o+2*Math.PI,h=!0):a+=this.angBase,c||(e=o,o=-a,a=-e);a<=o;)a+=2*Math.PI;var e=a-o,p=Math.floor(e/i),f=e/(p=0===p?1:p),d=null;s&&(d=(new X8).makeRotation(s));for(var y=0;y<=p&&(y!==p||!h);y++){var v=void 0,v=c?o+y*f:o+(p-y)*f,v=new j(r*Math.cos(v),u*Math.sin(v));d&&v.applyMatrix3(d),v.add(n),l&&v.applyMatrix3(l),t.push(v)}}}},{key:"_DecomposeArc",value:F().mark(function e(t,n){var r,i,o,a;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._GetEntityColor(t,n),i=this._GetEntityLayer(t,n),o=this._GetLineType(t,null,n),a=[],this._GenerateArcVertices({vertices:a,center:t.center,radius:t.radius,startAngle:t.startAngle,endAngle:t.endAngle,transform:this._GetEntityExtrusionTransform(t)}),e.next=7,new B({type:B.Type.POLYLINE,vertices:a,layer:i,color:r,lineType:o,shape:void 0===t.endAngle});case 7:case"end":return e.stop()}},e,this)})},{key:"_DecomposeCircle",value:F().mark(function e(t,n){var r,i,o,a;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._GetEntityColor(t,n),i=this._GetEntityLayer(t,n),o=this._GetLineType(t,null,n),a=[],this._GenerateArcVertices({vertices:a,center:t.center,radius:t.radius,transform:this._GetEntityExtrusionTransform(t)}),e.next=7,new B({type:B.Type.POLYLINE,vertices:a,layer:i,color:r,lineType:o,shape:!0});case 7:case"end":return e.stop()}},e,this)})},{key:"_DecomposeEllipse",value:F().mark(function e(t,n){var r,i,o,a,s,u,l,c,h,p;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=this._GetEntityColor(t,n),i=this._GetEntityLayer(t,n),o=this._GetLineType(t,null,n),a=[],s=Math.sqrt(t.majorAxisEndPoint.x*t.majorAxisEndPoint.x+t.majorAxisEndPoint.y*t.majorAxisEndPoint.y),u=s*t.axisRatio,l=Math.atan2(t.majorAxisEndPoint.y,t.majorAxisEndPoint.x),c=null!=(p=t.startAngle)?p:0,h=null!=(p=t.endAngle)?p:c+2*Math.PI;h<=c;)h+=2*Math.PI;return p=null===(null!=(p=t.endAngle)?p:null)||Math.abs(h-c-2*Math.PI)<1e-6,this._GenerateArcVertices({vertices:a,center:t.center,radius:s,startAngle:t.startAngle,endAngle:p?null:t.endAngle,yRadius:u,rotation:l,ccwAngleDir:!this._GetEntityExtrusionTransform(t)}),e.next=14,new B({type:B.Type.POLYLINE,vertices:a,layer:i,color:r,lineType:o,shape:p});case 14:case"end":return e.stop()}},e,this)})},{key:"_DecomposePoint",value:F().mark(function e(t,n){var r,i,o,a;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pdMode===mh.NONE)return e.abrupt("return");e.next=2;break;case 2:if(this.pdMode!==mh.DOT&&this.pdSize<=0)return e.abrupt("return");e.next=4;break;case 4:if(r=this._GetEntityColor(t,n),i=this._GetEntityLayer(t,n),o=this.pdMode&mh.MARK_MASK,0!=(this.pdMode&mh.SHAPE_MASK))return a=new T(i,uh,T.GeometryType.POINT_INSTANCE,r,0),this._GetBatch(a).PushVertex(this._TransformVertex(t.position)),this._CreatePointShapeBlock(),e.abrupt("return");e.next=14;break;case 14:if(o===mh.DOT)return e.next=17,new B({type:B.Type.POINTS,vertices:[t.position],layer:i,color:r,lineType:null});e.next=18;break;case 17:return e.abrupt("return");case 18:return a=[],this._CreatePointMarker(a,o,t.position),e.next=22,new B({type:B.Type.LINE_SEGMENTS,vertices:a,layer:i,color:r,lineType:null});case 22:case"end":return e.stop()}},e,this)})},{key:"_DecomposeAttribute",value:F().mark(function e(t,n){var r,i;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.textRenderer.canRender){e.next=2;break}return e.abrupt("return");case 2:return i=this.inserts.get(t.ownerHandle),r=this._GetEntityLayer(null!=i?i:t,n),i=this._GetEntityColor(null!=i?i:t,n),e.delegateYield(this.textRenderer.Render({text:t9(t.text),fontSize:t.textHeight*t.scale,startPos:t.startPoint,endPos:t.endPoint,rotation:t.rotation,hAlign:t.horizontalJustification,vAlign:t.verticalJustification,color:i,layer:r}),"t0",6);case 6:case"end":return e.stop()}},e,this)})},{key:"_CreatePointMarker",value:function(r,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=this;function t(e,t){var n;r.push({x:(null!=(n=null==i?void 0:i.x)?n:0)+e*o.pdSize*.5,y:(null!=(n=null==i?void 0:i.y)?n:0)+t*o.pdSize*.5})}switch(e){case mh.PLUS:t(0,1.5),t(0,-1.5),t(-1.5,0),t(1.5,0);break;case mh.CROSS:t(-1,1),t(1,-1),t(1,1),t(-1,-1);break;case mh.TICK:t(0,1),t(0,0);break;default:console.warn("Unsupported point display type: "+e)}}},{key:"_CreatePointShapeBlock",value:function(){var e,t,n;this.pointShapeBlock||(this.pointShapeBlock=new ph({name:uh,position:{x:0,y:0}}),this.pointShapeBlock.offset=new j(0,0),e=this.pointShapeBlock.DefinitionContext(),(n=this.pdMode&mh.MARK_MASK)!==mh.DOT&&n!==mh.NONE&&(this._CreatePointMarker(t=[],n),n=new B({type:B.Type.LINE_SEGMENTS,vertices:t,color:gh.BY_BLOCK}),this._ProcessEntity(n,e)),this.pdMode&mh.SQUARE&&(t=.5*this.pdSize,n=new B({type:B.Type.POLYLINE,vertices:[{x:-t,y:t},{x:t,y:t},{x:t,y:-t},{x:-t,y:-t}],color:gh.BY_BLOCK,shape:!0}),this._ProcessEntity(n,e)),this.pdMode&mh.CIRCLE&&(this._GenerateArcVertices({vertices:t=[],center:{x:0,y:0},radius:.5*this.pdSize,tessellationAngle:sh}),n=new B({type:B.Type.POLYLINE,vertices:t,color:gh.BY_BLOCK,shape:!0}),this._ProcessEntity(n,e)))}},{key:"_Decompose3DFace",value:F().mark(function e(t,n){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._DecomposeFace(t,t.vertices,n,this.options.wireframeMesh),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"_DecomposeSolid",value:F().mark(function e(t,n){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._DecomposeFace(t,t.points,n,!1,this._GetEntityExtrusionTransform(t)),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"_DecomposeFace",value:function(p,f,d,y){var v=this,m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;return F().mark(function e(){var t,n,r,i,o,a,s,u,l,c,h;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e,t,n){t=(new j).subVectors(t,e),n=(new j).subVectors(n,e);return Math.abs(t.cross(n))>Number.EPSILON},t=v._GetEntityLayer(p,d),n=v._GetEntityColor(p,d),r=new j(f[0].x,f[0].y),i=new j(f[1].x,f[1].y),o=new j(f[2].x,f[2].y),a=null,s=l(r,i,o),u=!1,3<f.length&&(a=new j(f[3].x,f[3].y),u=l(i,a,o),m)&&a.applyMatrix3(m),m&&(r.applyMatrix3(m),i.applyMatrix3(m),o.applyMatrix3(m)),s||u){e.next=13;break}return e.abrupt("return");case 13:if(y)return l=[],s&&!u?l.push(r,i,o):!s&&u?l.push(i,a,o):l.push(r,i,a,o),e.next=18,new B({type:B.Type.POLYLINE,vertices:l,layer:t,color:n,shape:!0});e.next=20;break;case 18:e.next=26;break;case 20:return c=[],h=[],s&&(c.push(r,i,o),h.push(0,1,2)),u&&(s?h.push(1,2,3):(c.push(i,o),h.push(0,1,2)),c.push(a)),e.next=26,new B({type:B.Type.TRIANGLES,vertices:c,indices:h,layer:t,color:n});case 26:case"end":return e.stop()}},e)})()}},{key:"_DecomposeText",value:F().mark(function e(t,n){var r,i;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.textRenderer.canRender){e.next=2;break}return e.abrupt("return");case 2:return r=this._GetEntityLayer(t,n),i=this._GetEntityColor(t,n),e.delegateYield(this.textRenderer.Render({text:t9(t.text),fontSize:t.textHeight,startPos:t.startPoint,endPos:t.endPoint,rotation:t.rotation,hAlign:t.halign,vAlign:t.valign,widthFactor:t.xScale,color:i,layer:r}),"t0",5);case 5:case"end":return e.stop()}},e,this)})},{key:"_DecomposeMText",value:F().mark(function e(t,n){var r,i,o;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.textRenderer.canRender){e.next=2;break}return e.abrupt("return");case 2:return r=this._GetEntityLayer(t,n),i=this._GetEntityColor(t,n),(o=new W7).Parse(t9(t.text)),e.delegateYield(this.textRenderer.RenderMText({formattedText:o.GetContent(),fontSize:t.height,position:t.position,rotation:t.rotation,direction:t.direction,attachment:t.attachmentPoint,lineSpacing:t.lineSpacing,width:t.width,color:i,layer:r}),"t0",7);case 7:case"end":return e.stop()}},e,this)})},{key:"_CreateLinearDimension",value:function(t){var n,r=this,e=15&(t.dimensionType||0);return(0==e||1==e)&&t.linearOrAngularPoint1&&t.linearOrAngularPoint2&&t.anchorPoint?(n=null,t.hasOwnProperty("styleName")&&(n=this.dimStyles.get(t.styleName)),(e=new E9({p1:(new j).copy(t.linearOrAngularPoint1),p2:(new j).copy(t.linearOrAngularPoint2),anchor:(new j).copy(t.anchorPoint),isAligned:1==e,angle:t.angle,text:t.text,textAnchor:t.middleOfText?(new j).copy(t.middleOfText):null,textRotation:t.textRotation},function(e){return r._GetDimStyleValue(e,t,n)},function(e,t){return r.textRenderer.GetLineWidth(e,t)})).IsValid?e:(console.warn("Invalid dimension geometry detected for "+t.handle),null)):null}},{key:"_DecomposeDimension",value:F().mark(function e(t,n){var r,i,o,a,s,u,l,c,h,p,f,d,y,v,m;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(null!=(l=t.block)?l:null)&&this.blocks.has(t.block))return l={name:t.block,position:{x:0,y:0},layer:t.layer,color:t.color,colorIndex:t.colorIndex},this._ProcessInsert(l,n),e.abrupt("return");e.next=4;break;case 4:if(r=this._CreateLinearDimension(t)){e.next=7;break}return e.abrupt("return");case 7:i=this._GetEntityLayer(t,n),o=this._GetEntityColor(t,n),a=this._GetEntityExtrusionTransform(t),s=r.GenerateLayout(),u=U(s.lines),e.prev=12,u.s();case 14:if((l=u.n()).done){e.next=23;break}return h=l.value,p=[],a&&(h.start.applyMatrix3(a),h.end.applyMatrix3(a)),p.push(h.start,h.end),e.next=21,new B({type:B.Type.LINE_SEGMENTS,vertices:p,layer:i,color:null!=(p=h.color)?p:o});case 21:e.next=14;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(12),u.e(e.t0);case 28:return e.prev=28,u.f(),e.finish(28);case 31:c=U(s.triangles),e.prev=32,c.s();case 34:if((h=c.n()).done){e.next=41;break}if(p=h.value,a){f=U(p.vertices);try{for(f.s();!(d=f.n()).done;)d.value.applyMatrix3(a)}catch(e){f.e(e)}finally{f.f()}}return e.next=39,new B({type:B.Type.TRIANGLES,vertices:p.vertices,indices:p.indices,layer:i,color:null!=(v=p.color)?v:o});case 39:e.next=34;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(32),c.e(e.t1);case 46:return e.prev=46,c.f(),e.finish(46);case 49:if(!this.textRenderer.canRender){e.next=67;break}y=U(s.texts),e.prev=51,y.s();case 53:if((v=y.n()).done){e.next=59;break}return m=v.value,a&&m.position.applyMatrix3(a),e.delegateYield(this.textRenderer.Render({text:m.text,fontSize:m.size,startPos:m.position,rotation:m.angle,hAlign:o9.CENTER,vAlign:a9.MIDDLE,color:null!=(m=m.color)?m:o,layer:i}),"t2",57);case 57:e.next=53;break;case 59:e.next=64;break;case 61:e.prev=61,e.t3=e.catch(51),y.e(e.t3);case 64:return e.prev=64,y.f(),e.finish(64);case 67:case"end":return e.stop()}},e,this,[[12,25,28,31],[32,43,46,49],[51,61,64,67]])})},{key:"_DecomposeHatch",value:F().mark(function e(t,n){var r,i,S,T,E,k,o,a,s,u,O,P,M,l,c,A,R,h,p,C,f,d,y,L,v,I;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isSolid)return e.abrupt("return");e.next=2;break;case 2:if((r=null!=(r=t.hatchStyle)?r:0)!=U9.ODD_PARITY&&r!=U9.THROUGH_ENTIRE_AREA)return e.abrupt("return");e.next=5;break;case 5:if(0==(i=this._GetHatchBoundaryLoops(t)).length)return console.warn("HATCH entity with empty boundary loops array (perhaps some loop types are not implemented yet)"),e.abrupt("return");e.next=9;break;case 9:if(S=new G9(i,r),T=this._GetEntityLayer(t,n),E=this._GetEntityColor(t,n),k=this._GetEntityExtrusionTransform(t),o=null,!t.patternName||(o=Z9(t.patternName,this.isMetric))||("Hatch pattern with name ".concat(t.patternName," not found "),"(metric: ".concat(this.isMetric,")")),o=null==(o=null==o&&t.definitionLines?new N(t.definitionLines,null,!1):o)?Z9("ANSI31"):o){e.next=19;break}return e.abrupt("return");case 19:a=t.seedPoints||[{x:0,y:0}],a=U(a),e.prev=21,a.s();case 23:if((s=a.n()).done){e.next=67;break}s=s.value,s=S.GetPatternTransform({seedPoint:s,angle:t.patternAngle,scale:t.patternScale}),u=U(o.lines),e.prev=27,u.s();case 29:if((l=u.n()).done)e.next=57;else{if(O=l.value,M=P=void 0,(M=o.offsetInLineSpace?(P=O.offset.x,O.offset.y):(l=Math.sin(-(null!=(l=O.angle)?l:0)),c=Math.cos(-(null!=(c=O.angle)?c:0)),P=O.offset.x*c-O.offset.y*l,O.offset.x*l+O.offset.y*c))<0&&(M=-M,P=-P),c=S.GetLineTransform({patTransform:s,basePoint:O.base,angle:null!=(l=O.angle)?l:0}),A=S.GetBoundingBox(c),R=.05*(A.max.x-A.min.x),p=h=void 0,2e4<(p=0==M?h=0:(h=Math.ceil(A.min.y/M),Math.floor(A.max.y/M)))-h)return console.warn("Too many lines produced by hatching pattern"),e.abrupt("continue",55);e.next=43}break;case 43:if(C=void 0,O.dashes&&1<O.dashes.length){C=0,f=U(O.dashes);try{for(f.s();!(d=f.n()).done;)(y=d.value)<0?C-=y:C+=y}catch(e){f.e(e)}finally{f.f()}}else C=null;L=c.clone().invert(),v=F().mark(function e(){var s,t,n,r,i,o,u,a,l,c,h,p,f,d,y,v,m,g,b,x,w,_;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(t,n){var r,i,o,a;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=U(u),e.prev=1,r.s();case 3:if((o=r.n()).done)e.next=16;else{if((i=o.value)[0]>=n)return e.abrupt("return");e.next=7}break;case 7:if(i[1]<=t)return e.abrupt("continue",14);e.next=9;break;case 9:return o=Math.max(t,i[0]),a=Math.min(n,i[1]),e.next=13,[o,a];case 13:t=a;case 14:e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:case"end":return e.stop()}},s,null,[[1,18,21,24]])},l=function(e){var t=o.clone().multiplyScalar(e[0]).add(i),n=o.clone().multiplyScalar(e[1]).add(i);return k&&(t.applyMatrix3(k),n.applyMatrix3(k)),e[1]-e[0]<=Number.EPSILON?new B({type:B.Type.POINTS,vertices:[t],layer:T,color:E}):new B({type:B.Type.LINE_SEGMENTS,vertices:[t,n],layer:T,color:E})},a=function(e){return(e-n)/r},s=F().mark(c),v=I*M,t=I*P,n=A.min.x-R,m=A.max.x+R,r=m-n,i=new j(n,v).applyMatrix3(L),v=new j(m,v).applyMatrix3(L),o=v.clone().sub(i),u=S.ClipLine([i,v]),null===C)e.next=64;else{if(h=Math.floor((n-t)/C),2e4<=(p=Math.floor((m-t)/C))-h)return console.warn("Too many segments produced by hatching pattern line"),e.abrupt("return",1);e.next=19}break;case 19:f=h;case 20:if(!(f<=p)){e.next=62;break}d=a(t+f*C),y=U(O.dashes),e.prev=23,y.s();case 25:if((v=y.n()).done){e.next=51;break}if(m=v.value,g=(m=(b=m<0)?-m:m)/r,b){e.next=48;break}b=U(c(d,d+g)),e.prev=32,b.s();case 34:if((w=b.n()).done){e.next=40;break}return w=w.value,e.next=38,l(w);case 38:e.next=34;break;case 40:e.next=45;break;case 42:e.prev=42,e.t0=e.catch(32),b.e(e.t0);case 45:return e.prev=45,b.f(),e.finish(45);case 48:d+=g;case 49:e.next=25;break;case 51:e.next=56;break;case 53:e.prev=53,e.t1=e.catch(23),y.e(e.t1);case 56:return e.prev=56,y.f(),e.finish(56);case 59:f++,e.next=20;break;case 62:e.next=81;break;case 64:x=U(u),e.prev=65,x.s();case 67:if((w=x.n()).done){e.next=73;break}return _=w.value,e.next=71,l(_);case 71:e.next=67;break;case 73:e.next=78;break;case 75:e.prev=75,e.t2=e.catch(65),x.e(e.t2);case 78:return e.prev=78,x.f(),e.finish(78);case 81:case"end":return e.stop()}},e,null,[[23,53,56,59],[32,42,45,48],[65,75,78,81]])}),I=h;case 48:if(I<=p)return e.delegateYield(v(),"t0",50);e.next=55;break;case 50:if(e.t0)return e.abrupt("continue",52);e.next=52;break;case 52:I++,e.next=48;break;case 55:e.next=29;break;case 57:e.next=62;break;case 59:e.prev=59,e.t1=e.catch(27),u.e(e.t1);case 62:return e.prev=62,u.f(),e.finish(62);case 65:e.next=23;break;case 67:e.next=72;break;case 69:e.prev=69,e.t2=e.catch(21),a.e(e.t2);case 72:return e.prev=72,a.f(),e.finish(72);case 75:case"end":return e.stop()}},e,this,[[21,69,72,75],[27,59,62,65]])})},{key:"_GetHatchBoundaryLoops",value:function(e){if(!e.boundaryLoops)return[];function t(e,t){var n,r=t.length;if(0!=r){0!=e.length&&(n=e[e.length-1]).x==t[0].x&&n.y==t[0].y||e.push(t[0]);for(var i=1;i<r;i++)e.push(t[i])}}var n,r=[],i=U(e.boundaryLoops);try{for(i.s();!(n=i.n()).done;){var o,a,s=n.value,u=[];if(2&s.type)for(var l=0;l<s.polyline.vertices.length;l++){var c,h,p,f=s.polyline.vertices[l];0==(null!=(c=f.bulge)?c:0)?u.push(new j(f.x,f.y)):(0==(null!=(h=s.polyline.vertices[0==l?s.polyline.vertices.length-1:l-1].bulge)?h:0)&&u.push(new j(f.x,f.y)),p=s.polyline.vertices[l==s.polyline.vertices.length-1?0:l+1],this._GenerateBulgeVertices(u,f,p,f.bulge))}else if(s.edges&&0<s.edges.length){var d,y=U(s.edges);try{for(y.s();!(d=y.n()).done;){var v=d.value;switch(v.type){case 1:t(u,[new j(v.start.x,v.start.y),new j(v.end.x,v.end.y)]);break;case 2:var m=[];this._GenerateArcVertices({vertices:m,center:v.start,radius:v.radius,startAngle:v.startAngle,endAngle:v.endAngle,ccwAngleDir:v.isCcw}),t(u,m);break;case 3:var g=v.start,b=v.end,x=Math.sqrt(b.x*b.x+b.y*b.y),w=x*v.radius,_=Math.atan2(b.y,b.x),S=[];if(this._GenerateArcVertices({vertices:S,center:g,radius:x,startAngle:v.startAngle,endAngle:v.endAngle,yRadius:w,ccwAngleDir:v.isCcw}),0!==_){var T,E=Math.cos(_),k=Math.sin(_),O=U(S);try{for(O.s();!(T=O.n()).done;){var P=T.value,M=P.x-g.x,A=P.y-g.y;P.x=M*E-A*k+g.x,P.y=M*k+A*E+g.y}}catch(e){O.e(e)}finally{O.f()}}t(u,S);break;case 4:for(var R=v.controlPoints.map(function(e){return[e.x,e.y]}),C=4*R.length,L=1/C,I=0;I<=C;I++){var D=this._InterpolateSpline(I*L,v.degreeOfSplineCurve,R,v.knotValues);u.push(new j(D[0],D[1]))}break;default:console.warn("Unhandled hatch boundary loop edge type: "+v.type)}}}catch(e){y.e(e)}finally{y.f()}}2<u.length&&(o=u[0],(a=u[u.length-1]).x==o.x)&&a.y==o.y&&(u.length=u.length-1),2<u.length&&r.push(u)}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"_GetDimStyleValue",value:function(e,t,n){var t=null==t||null==(t=t.xdata)||null==(t=t.ACAD)||null==(t=t.DSTYLE)?void 0:t.values;if(t){var r,i=!0,o=!1,a=U(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(i){if(1070!=s.code)break;R8.get(s.value)==e&&(o=!0)}else if(o)return s.value;i=!i}}catch(e){a.e(e)}finally{a.f()}}return n&&n.hasOwnProperty(e)?n[e]:this.vars.has(e)?this.vars.get(e):lh.hasOwnProperty(e)?(t=lh[e])instanceof Function?t.call(this):t:null}},{key:"_ProcessInsert",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t)if(t.name===e.name)console.warn("Recursive block reference: "+t.name);else{var n=this.blocks.get(e.name);if(n){var r=t.NestedBlockContext(n,e);if(n.data.entities){var i,o=U(n.data.entities);try{for(o.s();!(i=o.n()).done;){var a=i.value;this._ProcessDxfEntity(a,r)}}catch(e){o.e(e)}finally{o.f()}}}else console.warn("Unresolved nested block reference: "+e.name)}else{t=this.blocks.get(e.name);if(t){if(t.HasGeometry()){var s=this._GetEntityLayer(e,null),u=this._GetEntityColor(e,null),l=this._GetLineType(e,null,null),c=t.InstantiationContext().GetInsertionTransform(e),n=t.bounds;if(this._UpdateBounds(new j(n.minX,n.minY).applyMatrix3(c)),this._UpdateBounds(new j(n.maxX,n.maxY).applyMatrix3(c)),this._UpdateBounds(new j(n.minX,n.maxY).applyMatrix3(c)),this._UpdateBounds(new j(n.maxX,n.minY).applyMatrix3(c)),c.translate(-this.origin.x,-this.origin.y),t.flatten){var h,p=U(t.batches);try{for(p.s();!(h=p.n()).done;){var f=h.value;this._FlattenBatch(f,s,u,l,c)}}catch(e){p.e(e)}finally{p.f()}}else{n=new T(s,e.name,T.GeometryType.BLOCK_INSTANCE,u,l);this._GetBatch(n).PushInstanceTransform(c)}}}else console.warn("Unresolved block reference in INSERT: "+e.name)}}},{key:"_FlattenBatch",value:function(e,t,n,r,i){var o=this.layers.get(t),n=(o=e.key.color===gh.BY_BLOCK?n:e.key.color===gh.BY_LAYER?null!=(n=null==o?void 0:o.color)?n:0:e.key.color,new T(t,null,e.key.geometryType,o,0));this._GetBatch(n).Merge(e,i)}},{key:"_GenerateShapedPolyline",value:F().mark(function e(t,n,r,i,o){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new B({type:B.Type.POLYLINE,vertices:t,layer:n,color:r,lineType:i,shape:o});case 2:case"end":return e.stop()}},e)})},{key:"_MirrorEntityVertices",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!e.extrusionDirection||0<=e.extrusionDirection.z)return null!=(t=n)?t:e.vertices;for(var r=(n=n&&n!==e.vertices?n:e.vertices.slice()).length,i=0;i<r;i++){var o,a=n[i],s={x:-a.x};for(o in a)a.hasOwnProperty(o)&&"x"!==o&&(s[o]=a[o]);n[i]=s}return n}},{key:"_DecomposePolyline",value:function(m){var g=this,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return F().mark(function e(){var i,o,a,s,u,l,c,h,p,f,t,n,r,d,y,v;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(t){var n,r;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===c)return e.abrupt("return");e.next=2;break;case 2:if(n=!1,r=f,t===a&&0===c?(n=!0,null===r&&(r=o)):t===a-1&&0===c?null===r&&(r=o):t===a?null===r&&(r=o.slice(c,t)).push(o[0]):null===r&&(r=o.slice(c,t+1)),h)return e.next=8,new B({type:B.Type.POLYLINE,vertices:r,layer:u,color:s,lineType:p,shape:n});e.next=10;break;case 8:e.next=11;break;case 10:return e.delegateYield(l._GenerateShapedPolyline(r,u,s,p,n),"t0",11);case 11:(c=t)!==a&&(h=l._IsPlainLine(o[t]),p=l._GetLineType(m,o[t])),f=null;case 14:case"end":return e.stop()}},i)},i=F().mark(t),m.isPolyfaceMesh)return e.delegateYield(g._DecomposePolyfaceMesh(m,b),"t0",4);e.next=5;break;case 4:return e.abrupt("return");case 5:if((a=(m.includesCurveFitVertices||m.includesSplineFitVertices?o=m.vertices.filter(function(e){return e.splineVertex||e.curveFittingVertex}):(o=m.vertices,m.vertices)).length)<2)return e.abrupt("return");e.next=8;break;case 8:o=g._MirrorEntityVertices(m,o),s=g._GetEntityColor(m,b),u=g._GetEntityLayer(m,b),c=0,h=(l=g)._IsPlainLine(o[0]),p=g._GetLineType(m,o[0],b),f=null,n=1;case 17:if(!(n<=a)){e.next=39;break}if(r=o[n-1],d=void 0,n!==a){e.next=27;break}if(m.shape){e.next=24;break}return e.delegateYield(t(n-1),"t1",23);case 23:return e.abrupt("break",39);case 24:d=o[0],e.next=28;break;case 27:d=o[n];case 28:if(Boolean(r.bulge)&&h?(null===f&&(f=o.slice(c,n)),g._GenerateBulgeVertices(f,r,d,r.bulge)):null!==f&&f.push(d),n===a)return e.delegateYield(t(n),"t2",31);e.next=32;break;case 31:return e.abrupt("break",39);case 32:if(y=g._IsPlainLine(d),v=g._GetLineType(m,d),y!==h||h&&v!==p)return e.delegateYield(t(n),"t3",36);e.next=36;break;case 36:n++,e.next=17;break;case 39:case"end":return e.stop()}},e)})()}},{key:"_DecomposePolyfaceMesh",value:function(T){var E=this,k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return F().mark(function e(){var t,n,r,i,o,a,s,u,l,c,h,p,f,d,y,v,m,g,b,x,w,_,S;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=E._GetEntityLayer(T,k),n=E._GetEntityColor(T,k),r=[],i=[],o=U(T.vertices),e.prev=5,o.s();case 7:if((a=o.n()).done){e.next=36;break}if(!(a=a.value).faces){e.next=33;break}s={indices:[],hiddenEdges:[]},u=U(a.faces),e.prev=12,u.s();case 14:if((v=u.n()).done)e.next=22;else{if(0==(l=v.value))return e.abrupt("break",22);e.next=18}break;case 18:s.indices.push(l<0?-l-1:l-1),s.hiddenEdges.push(l<0);case 20:e.next=14;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(12),u.e(e.t0);case 27:return e.prev=27,u.f(),e.finish(27);case 30:3!=s.indices.length&&4!=s.indices.length||i.push(s),e.next=34;break;case 33:r.push(new j(a.x,a.y));case 34:e.next=7;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(5),o.e(e.t1);case 41:return e.prev=41,o.f(),e.finish(41);case 44:c=[],h=function(e,t){if(0<c.length){var n=c[c.length-1];if(n.indices[n.indices.length-1]==e)return void n.indices.push(t);n.indices[0]==n.indices[n.indices.length-1]&&(n.isClosed=!0)}c.push({indices:[e,t],isClosed:!1})},p=0,f=i;case 47:if(!(p<f.length)){e.next=68;break}if(d=f[p],!E.options.wireframeMesh){e.next=61;break}y=0;case 51:if(y<d.indices.length){if(d.hiddenEdges[y])return e.abrupt("continue",56);e.next=54}else e.next=59;break;case 54:v=y<d.indices.length-1?y+1:0,h(d.indices[y],d.indices[v]);case 56:y++,e.next=51;break;case 59:e.next=65;break;case 61:return g=void 0,g=3==d.indices.length?d.indices:[d.indices[0],d.indices[1],d.indices[2],d.indices[0],d.indices[2],d.indices[3]],e.next=65,new B({type:B.Type.TRIANGLES,vertices:r,indices:g,layer:t,color:n});case 65:p++,e.next=47;break;case 68:if(!E.options.wireframeMesh){e.next=94;break}m=U(c),e.prev=70,m.s();case 72:if((g=m.n()).done)e.next=86;else{if(2==(b=g.value).length)return e.next=77,new B({type:B.Type.LINE_SEGMENTS,vertices:[r[b.indices[0]],r[b.indices[1]]],layer:t,color:n});e.next=79}break;case 77:e.next=84;break;case 79:x=[],w=U(b.indices);try{for(w.s();!(_=w.n()).done;)S=_.value,x.push(r[S])}catch(e){w.e(e)}finally{w.f()}return e.next=84,new B({type:B.Type.POLYLINE,vertices:x,layer:t,color:n,shape:b.isClosed});case 84:e.next=72;break;case 86:e.next=91;break;case 88:e.prev=88,e.t2=e.catch(70),m.e(e.t2);case 91:return e.prev=91,m.f(),e.finish(91);case 94:case"end":return e.stop()}},e,null,[[5,38,41,44],[12,24,27,30],[70,88,91,94]])})()}},{key:"_DecomposeSpline",value:function(c){var h=this,p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return F().mark(function e(){var t,n,r,i,o,a,s,u,l;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h._GetEntityColor(c,p),n=h._GetEntityLayer(c,p),r=h._GetLineType(c,null,p),c.controlPoints){e.next=5;break}return e.abrupt("return");case 5:for(i=c.controlPoints.map(function(e){return[e.x,e.y]}),o=[],a=4*i.length,s=1/a,u=0;u<=a;u++)l=h._InterpolateSpline(u*s,c.degreeOfSplineCurve,i,c.knotValues),o.push({x:l[0],y:l[1]});return e.next=12,new B({type:B.Type.POLYLINE,vertices:o,layer:n,color:t,lineType:r});case 12:case"end":return e.stop()}},e)})()}},{key:"_InterpolateSpline",value:function(e,t,n){var r,i,o,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,u=n.length,l=n[0].length;if(t<1)throw new Error("Degree must be at least 1 (linear)");if(u-1<t)throw new Error("Degree must be less than or equal to point count - 1");if(!s)for(s=[],y=0;y<u;y++)s[y]=1;if(a){if(a.length!==u+t+1)throw new Error("Bad knot vector length")}else for(a=[],y=0;y<u+t+1;y++)a[y]=y;var c=[t,a.length-1-t],h=a[c[0]],p=a[c[1]];for((e=e*(p-h)+h)<h?e=h:p<e&&(e=p),i=c[0];i<c[1]&&!(e>=a[i]&&e<=a[i+1]);i++);for(var f,d=[],y=0;y<u;y++){for(d[y]=[],r=0;r<l;r++)d[y][r]=n[y][r]*s[y];d[y][l]=s[y]}for(o=1;o<=t+1;o++)for(y=i;i-t-1+o<y;y--)for(f=(e-a[y])/(a[y+t+1-o]-a[y]),r=0;r<l+1;r++)d[y][r]=(1-f)*d[y-1][r]+f*d[y][r];var v=[];for(y=0;y<l;y++)v[y]=d[i][y]/d[i][l];return v}},{key:"_ProcessPoints",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=new T(e.layer,null==n?void 0:n.name,T.GeometryType.POINTS,e.color,0),i=this._GetBatch(r),o=U(e.vertices);try{for(o.s();!(t=o.n()).done;){var a=t.value;i.PushVertex(this._TransformVertex(a,n))}}catch(e){o.e(e)}finally{o.f()}}},{key:"_ProcessLineSegments",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(e.vertices.length%2!=0)throw Error("Even number of vertices expected");var n,r=new T(e.layer,null==t?void 0:t.name,T.GeometryType.LINES,e.color,e.lineType),i=this._GetBatch(r),o=U(e.vertices);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.PushVertex(this._TransformVertex(a,t))}}catch(e){o.e(e)}finally{o.f()}}},{key:"_ProcessPolyline",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!(e.vertices.length<2)){var n=e.vertices.length;if(n<=3){var r,i=new T(e.layer,null==t?void 0:t.name,T.GeometryType.LINES,e.color,e.lineType),o=this._GetBatch(i),a=null,s=U(e.vertices);try{for(s.s();!(r=s.n()).done;){var u=r.value;null!==a&&(o.PushVertex(this._TransformVertex(a,t)),o.PushVertex(this._TransformVertex(u,t))),a=u}}catch(e){s.e(e)}finally{s.f()}e.shape&&2<n&&(o.PushVertex(this._TransformVertex(e.vertices[n-1],t)),o.PushVertex(this._TransformVertex(e.vertices[0],t)))}else{var l,i=new T(e.layer,null==t?void 0:t.name,T.GeometryType.INDEXED_LINES,e.color,e.lineType),c=this._GetBatch(i),h=U(e._IterateLineChunks());try{for(h.s();!(l=h.n()).done;){var p,f=l.value,d=c.PushChunk(f.verticesCount),y=U(f.vertices);try{for(y.s();!(p=y.n()).done;){var v=p.value;d.PushVertex(this._TransformVertex(v,t))}}catch(e){y.e(e)}finally{y.f()}var m,g=U(f.indices);try{for(g.s();!(m=g.n()).done;){var b=m.value;d.PushIndex(b)}}catch(e){g.e(e)}finally{g.f()}d.Finish()}}catch(e){h.e(e)}finally{h.f()}}}}},{key:"_ProcessTriangles",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!(e.vertices.length<3))if(e.indices.length%3!=0)console.error("Unexpected size of indices array: "+e.indices.length);else{var n,r=new T(e.layer,null==t?void 0:t.name,T.GeometryType.INDEXED_TRIANGLES,e.color,0),i=this._GetBatch(r).PushChunk(e.vertices.length),o=U(e.vertices);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.PushVertex(this._TransformVertex(a,t))}}catch(e){o.e(e)}finally{o.f()}var s,u=U(e.indices);try{for(u.s();!(s=u.n()).done;){var l=s.value;i.PushIndex(l)}}catch(e){u.e(e)}finally{u.f()}i.Finish()}}},{key:"_GetEntityColor",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=gh.BY_LAYER;if(0===e.colorIndex?n=gh.BY_BLOCK:256===e.colorIndex?n=gh.BY_LAYER:e.hasOwnProperty("color")&&(n=e.color),t)return n;if(n!==gh.BY_LAYER&&n!==gh.BY_BLOCK)return n;if(e.hasOwnProperty("layer")){t=this.layers.get(e.layer);if(t)return t.color}return 0}},{key:"_GetEntityLayer",value:function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)?null:e.hasOwnProperty("layer")?e.layer:"0"}},{key:"_GetEntityExtrusionTransform",value:function(e){return!e.hasOwnProperty("extrusionDirection")||0<e.extrusionDirection.z?null:(new X8).scale(-1,1)}},{key:"_GetBatch",value:function(e){var t=this.batches.find({key:e});return null!==t||(t=new hh(e),this.batches.insert(t),null===e.blockName)||e.IsInstanced()||(e=this.blocks.get(e.blockName))&&e.batches.push(t),t}},{key:"_TransformVertex",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t.TransformVertex(e):(this._UpdateBounds(e),{x:e.x-this.origin.x,y:e.y-this.origin.y})}},{key:"_UpdateBounds",value:function(e){null===this.bounds?this.bounds={minX:e.x,maxX:e.x,minY:e.y,maxY:e.y}:(e.x<this.bounds.minX?this.bounds.minX=e.x:e.x>this.bounds.maxX&&(this.bounds.maxX=e.x),e.y<this.bounds.minY?this.bounds.minY=e.y:e.y>this.bounds.maxY&&(this.bounds.maxY=e.y)),null===this.origin&&(this.origin={x:e.x,y:e.y})}},{key:"_BuildScene",value:function(){var e,t=0,n=0,r=0,i=(this.batches.each(function(e){t+=e.GetVerticesBufferSize(),n+=e.GetIndicesBufferSize(),r+=e.GetTransformsSize()}),{vertices:new ArrayBuffer(t),indices:new ArrayBuffer(n),transforms:new ArrayBuffer(r),batches:[],layers:[],origin:this.origin,bounds:this.bounds,hasMissingChars:this.hasMissingChars}),o={vertices:new Float32Array(i.vertices),verticesOffset:0,indices:new Uint16Array(i.indices),indicesOffset:0,transforms:new Float32Array(i.transforms),transformsOffset:0},a=(this.batches.each(function(e){i.batches.push(e.Serialize(o))}),U(this.layers.values()));try{for(a.s();!(e=a.n()).done;){var s=e.value;i.layers.push({name:s.name,displayName:s.displayName,color:s.color})}}catch(e){a.e(e)}finally{a.f()}return i.pointShapeHasDot=(this.pdMode&mh.MARK_MASK)===mh.DOT,i}}]),t}(),hh=function(){function t(e){rh(this,t),(this.key=e).IsIndexed()?this.chunks=[]:e.geometryType===T.GeometryType.BLOCK_INSTANCE?this.transforms=new H8(V8.FLOAT32):this.vertices=new H8(V8.FLOAT32)}return oh(t,[{key:"PushVertex",value:function(e){var t=this.vertices.Push(e.x);return this.vertices.Push(e.y),t}},{key:"PushInstanceTransform",value:function(e){for(var t=0;t<2;t++)for(var n=0;n<3;n++)this.transforms.Push(e.elements[3*n+t])}},{key:"PushChunk",value:function(e){if(ah<e)throw new Error("Vertices count exceeds chunk limit: "+e);var t,n=null,r=0,i=U(this.chunks);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=ah-o.vertices.GetSize()/2;a<e||(null===n||a<r)&&(n=o,r=a)}}catch(e){i.e(e)}finally{i.f()}return null===n&&(n=this._NewChunk(e)),new yh(n,e)}},{key:"Merge",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(this.key.geometryType!==e.key.geometryType)throw new Error("Rendering batch merging geometry type mismatch: "+"".concat(this.key.geometryType," !== ").concat(e.key.geometryType));if(this.key.IsInstanced())throw new Error("Attempted to merge instanced batch");if(this.key.IsIndexed()){var n,r=U(e.chunks);try{for(r.s();!(n=r.n()).done;){for(var i=n.value,o=i.vertices.size,a=this.PushChunk(o/2),s=0;s<o;s+=2){var u=new j(i.vertices.Get(s),i.vertices.Get(s+1));t&&u.applyMatrix3(t),a.PushVertex(u)}for(var l=i.indices.size,c=0;c<l;c++)a.PushIndex(i.indices.Get(c));a.Finish()}}catch(e){r.e(e)}finally{r.f()}}else for(var h=e.vertices.size,p=0;p<h;p+=2){var f=new j(e.vertices.Get(p),e.vertices.Get(p+1));t&&f.applyMatrix3(t),this.PushVertex(f)}}},{key:"GetVerticesBufferSize",value:function(){if(this.key.IsIndexed()){var e,t=0,n=U(this.chunks);try{for(n.s();!(e=n.n()).done;)t+=e.value.vertices.GetSize()}catch(e){n.e(e)}finally{n.f()}return t*Float32Array.BYTES_PER_ELEMENT}return this.key.geometryType===T.GeometryType.BLOCK_INSTANCE?0:this.vertices.GetSize()*Float32Array.BYTES_PER_ELEMENT}},{key:"GetIndicesBufferSize",value:function(){if(this.key.IsIndexed()){var e,t=0,n=U(this.chunks);try{for(n.s();!(e=n.n()).done;)t+=e.value.indices.GetSize()}catch(e){n.e(e)}finally{n.f()}return t*Uint16Array.BYTES_PER_ELEMENT}return 0}},{key:"GetTransformsSize",value:function(){return this.key.geometryType===T.GeometryType.BLOCK_INSTANCE?this.transforms.GetSize()*Float32Array.BYTES_PER_ELEMENT:0}},{key:"Serialize",value:function(e){var t,n;if(this.key.IsIndexed()){var r,i={key:this.key,chunks:[]},o=U(this.chunks);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.chunks.push(a.Serialize(e))}}catch(e){o.e(e)}finally{o.f()}return i}return this.key.geometryType===T.GeometryType.BLOCK_INSTANCE?(t=this.transforms.GetSize(),n={key:this.key,transformsOffset:e.transformsOffset,transformsSize:t},this.transforms.CopyTo(e.transforms,e.transformsOffset),e.transformsOffset+=t,n):(t=this.vertices.GetSize(),n={key:this.key,verticesOffset:e.verticesOffset,verticesSize:t},this.vertices.CopyTo(e.vertices,e.verticesOffset),e.verticesOffset+=t,n)}},{key:"_NewChunk",value:function(e){e=new dh(e);return this.chunks.push(e),e}}]),t}(),ph=function(){function t(e){rh(this,t),this.data=e,this.useCount=0,this.nestedUseCount=0,this.verticesCount=0,this.offset=null,this.batches=[],this.flatten=!1,this.bounds=null}return oh(t,[{key:"SetFlatten",value:function(){return!!this.HasGeometry()&&(this.flatten=1===this.useCount||this.useCount*this.verticesCount<=1024,this.flatten)}},{key:"HasGeometry",value:function(){return null!==this.offset}},{key:"RegisterInsert",value:function(e){this.useCount++}},{key:"RegisterNestedUse",value:function(e){this.nestedUseCount++}},{key:"DefinitionContext",value:function(){return new fh(this,fh.Type.DEFINITION)}},{key:"InstantiationContext",value:function(){return new fh(this,fh.Type.INSTANTIATION)}},{key:"UpdateBounds",value:function(e){null===this.bounds?this.bounds={minX:e.x,maxX:e.x,minY:e.y,maxY:e.y}:(e.x<this.bounds.minX?this.bounds.minX=e.x:e.x>this.bounds.maxX&&(this.bounds.maxX=e.x),e.y<this.bounds.minY?this.bounds.minY=e.y:e.y>this.bounds.maxY&&(this.bounds.maxY=e.y))}}]),t}(),fh=function(){function s(e,t){rh(this,s),this.block=e,this.type=t,this.origin=this.block.data.position,this.transform=new X8}return oh(s,[{key:"name",get:function(){return this.block.data.name}},{key:"TransformVertex",value:function(e){var t,e=new j(e.x,e.y).applyMatrix3(this.transform);if(this.type!==s.Type.DEFINITION&&this.type!==s.Type.NESTED_DEFINITION)throw new Error("Unexpected transform type");return this.block.verticesCount++,null===this.block.offset?(this.block.offset=e,t=new j,this.block.UpdateBounds(t),t):(e.sub(this.block.offset),this.block.UpdateBounds(e),e)}},{key:"GetInsertionTransform",value:function(e){var t=(new X8).translate(-this.origin.x,-this.origin.y),n=e.yScale||1,r=e.xScale||1,i=-(e.rotation||0)*Math.PI/180,o=e.position.x,a=e.position.y;return t.scale(r,n),t.rotate(i),t.translate(o,a),e.extrusionDirection&&e.extrusionDirection.z<0&&t.scale(-1,1),this.type!==s.Type.INSTANTIATION?t:(r=(new X8).translate(this.block.offset.x,this.block.offset.y),t.multiply(r))}},{key:"NestedBlockContext",value:function(e,t){e.RegisterNestedUse(this.block);e=new s(e,s.Type.NESTED_DEFINITION).GetInsertionTransform(t),t=new s(this.block,s.Type.NESTED_DEFINITION);return t.transform=(new X8).multiplyMatrices(this.transform,e),t}}]),s}(),dh=(fh.Type=Object.freeze({DEFINITION:0,NESTED_DEFINITION:1,INSTANTIATION:2}),function(){function t(e){rh(this,t),this.indices=new H8(V8.UINT16,2*(e=e<16?16:e)),this.vertices=new H8(V8.FLOAT32,2*e)}return oh(t,[{key:"Serialize",value:function(e){var t={},n=this.vertices.GetSize(),n=(t.verticesOffset=e.verticesOffset,t.verticesSize=n,this.vertices.CopyTo(e.vertices,e.verticesOffset),e.verticesOffset+=n,this.indices.GetSize());return t.indicesOffset=e.indicesOffset,t.indicesSize=n,this.indices.CopyTo(e.indices,e.indicesOffset),e.indicesOffset+=n,t}}]),t}()),yh=function(){function n(e,t){rh(this,n),this.chunk=e,this.verticesCount=t,this.verticesOffset=this.chunk.vertices.GetSize()/2,this.numVerticesPushed=0}return oh(n,[{key:"PushVertex",value:function(e){if(this.numVerticesPushed===this.verticesCount)throw new Error;this.chunk.vertices.Push(e.x),this.chunk.vertices.Push(e.y),this.numVerticesPushed++}},{key:"PushIndex",value:function(e){if(e<0||e>=this.verticesCount)throw new Error("Index out of range: ".concat(e,"/").concat(this.verticesCount));this.chunk.indices.Push(e+this.verticesOffset)}},{key:"Finish",value:function(){if(this.numVerticesPushed!==this.verticesCount)throw new Error("Not all vertices pushed: ".concat(this.numVerticesPushed,"/").concat(this.verticesCount))}}]),n}(),B=function(){function s(e){var t=e.type,n=e.vertices,r=e.indices,r=void 0===r?null:r,i=e.layer,i=void 0===i?null:i,o=e.color,a=e.lineType,a=void 0===a?0:a,e=e.shape,e=void 0!==e&&e;rh(this,s),this.type=t,this.vertices=n,this.indices=r,this.layer=i,this.color=o,this.lineType=a,this.shape=e}return oh(s,[{key:"_IterateVertices",value:F().mark(function e(t,n){var r;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t;case 1:if(r<t+n)return e.next=4,this.vertices[r];e.next=7;break;case 4:r++,e.next=1;break;case 7:case"end":return e.stop()}},e,this)})},{key:"_IterateLineChunks",value:F().mark(function e(){var s,u,t,n,l=this;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=this.vertices.length)<2)return e.abrupt("return");e.next=3;break;case 3:u=this,t=F().mark(function e(t){var n,r,i,o,a;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=!(ah<(n=s-t)&&(n=ah)))&&l.shape&&0<t&&n===ah&&(r=!1),t!==s||l.shape){e.next=5;break}return e.abrupt("return",1);case 5:return a=n<2?(i=(1===n&&l.shape?F().mark(function e(){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vertices[t];case 2:return e.next=4,this.vertices[0];case 4:case"end":return e.stop()}},e,this)}):1===n?F().mark(function e(){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vertices[t-1];case 2:return e.next=4,this.vertices[t];case 4:case"end":return e.stop()}},e,this)}):F().mark(function e(){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vertices[s-1];case 2:return e.next=4,this.vertices[0];case 4:case"end":return e.stop()}},e,this)}))(),o=vh(2,!1),2):r&&l.shape&&0<t&&n<ah?(i=F().mark(function e(){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(u._IterateVertices(t,n),"t0",1);case 1:return e.next=3,this.vertices[0];case 3:case"end":return e.stop()}},e,this)})(),o=vh(n+1,!1),n+1):(i=l._IterateVertices(t,n),o=vh(n,r&&0===t&&l.shape),n),e.next=8,{verticesCount:a,vertices:i,indices:o};case 8:case"end":return e.stop()}},e)}),n=0;case 6:if(n<=s)return e.delegateYield(t(n),"t0",8);e.next=13;break;case 8:if(e.t0)return e.abrupt("break",13);e.next=10;break;case 10:n+=ah,e.next=6;break;case 13:case"end":return e.stop()}},e,this)})}]),s}();function vh(t,n){var r;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(r<t-1)return e.next=4,r;e.next=9;break;case 4:return e.next=6,r+1;case 6:r++,e.next=1;break;case 9:if(n&&2<t)return e.next=12,t-1;e.next=14;break;case 12:return e.next=14,0;case 14:case"end":return e.stop()}},Q9)}B.Type=Object.freeze({POINTS:0,LINE_SEGMENTS:1,POLYLINE:2,TRIANGLES:3});var mh=Object.freeze({DOT:0,NONE:1,PLUS:2,CROSS:3,TICK:4,MARK_MASK:15,CIRCLE:32,SQUARE:64,SHAPE_MASK:240}),gh=Object.freeze({BY_LAYER:-1,BY_BLOCK:-2}),bh=(ch.DefaultOptions={arcTessellationAngle:10/180*Math.PI,minArcTessellationSubdivisions:8,wireframeMesh:!1,suppressPaperSpace:!1,textOptions:n9.DefaultOptions},e(6));function xh(e){return(xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wh(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,i=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw i}}};if(Array.isArray(e)||(a=function(e,t){var n;if(e)return"string"==typeof e?_h(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_h(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(){A=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new k(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=p,function(e,t){if(s===d)throw new Error("Generator is already running");if(s===y){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===p)throw s=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=d;n=h(i,o,a);if("normal"===n.type){if(s=a.done?y:f,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=y,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var p="suspendedStart",f="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var t={},x=(o(t,r,function(){return this}),Object.getPrototypeOf),x=x&&x(x(O([]))),w=(x&&x!==e&&l.call(x,r)&&(t=x),b.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==xh(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(xh(t)+" is not iterable")}return c(w,"constructor",{value:g.prototype=b,configurable:!0}),c(b,"constructor",{value:g,configurable:!0}),g.displayName=o(b,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,o(e,i,"GeneratorFunction")),e.prototype=Object.create(w),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(w),o(w,i,"Generator"),o(w,r,function(){return this}),o(w,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,E(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function Sh(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Th(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){Sh(r,t,n,i,o,"next",e)}function o(e){Sh(r,t,n,i,o,"throw",e)}i(void 0)})}}function Eh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=xh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=xh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==xh(e)?e:String(e)}(r.key),r)}}function Oh(e,t,n){t&&kh(e.prototype,t),n&&kh(e,n),Object.defineProperty(e,"prototype",{writable:!1})}var Ph="DxfWorkerMsg",Mh=function(){function u(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];Eh(this,u),this.worker=e,t?e.onmessage=this._ProcessRequest.bind(this):e&&(e.addEventListener("message",this._ProcessResponse.bind(this),!1),e.addEventListener("error",this._OnError.bind(this),!1),this.reqSeq=1,this.requests=new Map,this.progressCbk=null)}var i,t,n,r,o,a,e,s;return Oh(u,[{key:"Load",value:(s=Th(A().mark(function e(t,n,r,i){return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.worker)return e.abrupt("return",this._SendRequest(u.WorkerMsg.LOAD,{url:t,fonts:n,options:this._CloneOptions(r)},i));e.next=4;break;case 4:return e.abrupt("return",this._Load(t,n,r,i));case 5:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return s.apply(this,arguments)})},{key:"Destroy",value:(e=Th(A().mark(function e(){var t,n=arguments;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<n.length&&void 0!==n[0]&&n[0],!this.worker){e.next=6;break}if(t){e.next=5;break}return e.next=5,this._SendRequest(u.WorkerMsg.DESTROY);case 5:this.worker.terminate();case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"_ProcessRequest",value:(a=Th(A().mark(function e(t){var n,r,i;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.data).signature!==Ph)return e.abrupt("return");e.next=4;break;case 4:return r={seq:n.seq,type:n.type,signature:Ph},i=[],e.prev=6,e.next=9,this._ProcessRequestMessage(n.type,n.data,i,n.seq);case 9:r.data=e.sent,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0),r.error=String(e.t0);case 16:this.worker.postMessage(r,i),n.type===u.WorkerMsg.DESTROY&&(this.worker.onmessage=null,this.worker.close(),this.worker=null);case 18:case"end":return e.stop()}},e,this,[[6,12]])})),function(e){return a.apply(this,arguments)})},{key:"_ProcessRequestMessage",value:(o=Th(A().mark(function e(t,n,r,i){var o,a,s=this;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===u.WorkerMsg.LOAD?3:e.t0===u.WorkerMsg.DESTROY?12:13;break;case 3:return e.next=5,this._Load(n.url,n.fonts,n.options,function(e,t,n){return s._SendProgress(i,e,t,n)});case 5:return a=e.sent,o=a.scene,a=a.dxf,r.push(o.vertices),r.push(o.indices),r.push(o.transforms),e.abrupt("return",{scene:o,dxf:a});case 12:return e.abrupt("return",null);case 13:throw"Unknown message type: "+t;case 14:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return o.apply(this,arguments)})},{key:"_ProcessResponse",value:(r=Th(A().mark(function e(t){var n,r,i,o;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.data).signature!==Ph)return e.abrupt("return");e.next=4;break;case 4:if(r=n.seq,i=this.requests.get(r)){e.next=9;break}return console.error("Unmatched message sequence: ",r),e.abrupt("return");case 9:if(o=n.data,n.type===u.WorkerMsg.PROGRESS&&i.progressCbk)return i.progressCbk(o.phase,o.size,o.totalSize),e.abrupt("return");e.next=13;break;case 13:this.requests.delete(r),n.hasOwnProperty("error")?i.SetError(n.error):i.SetResponse(o);case 15:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_OnError",value:(n=Th(A().mark(function e(t){var n;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.error("DxfWorker worker error",t),n=Array.from(this.requests.values),this.requests.clear(),n.forEach(function(e){return e.SetError(t)});case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_SendRequest",value:(t=Th(A().mark(function e(t){var n,r,i,o=arguments;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<o.length&&void 0!==o[1]?o[1]:null,i=2<o.length&&void 0!==o[2]?o[2]:null,r=this.reqSeq++,i=new u.Request(r,i),this.requests.set(r,i),this.worker.postMessage({seq:r,type:t,data:n,signature:Ph}),e.next=8,i.GetResponse();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_SendProgress",value:function(e,t,n,r){this.worker.postMessage({seq:e,type:u.WorkerMsg.PROGRESS,data:{phase:t,size:n,totalSize:r},signature:Ph})}},{key:"_Load",value:(i=Th(A().mark(function e(t,n,r,i){var o,a,s;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n?this._CreateFontFetchers(n,i):[],e.next=3,new B8(t,r.fileEncoding).Fetch(i);case 3:return a=e.sent,i&&i("prepare",0,null),s=new ch(r),e.next=8,s.Build(a,o);case 8:return e.abrupt("return",{scene:s.scene,dxf:!0===r.retainParsedDxf?a:void 0});case 9:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return i.apply(this,arguments)})},{key:"_CreateFontFetchers",value:function(e,r){var t,n=[],i=wh(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.push(function(n){return Th(A().mark(function e(){var t;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r&&r("font",0,null),e.next=3,fetch(n).then(function(e){return e.arrayBuffer()});case 3:return t=e.sent,r&&r("prepare",0,null),e.abrupt("return",bh.a.parse(t));case 6:case"end":return e.stop()}},e)}))}(o))}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"_CloneOptions",value:function(e){var t=this;if(Array.isArray(e))return e.map(function(e){return t._CloneOptions(e)});if("object"!==xh(e)||null===e)return e;var n,r={};for(n in e)r[n]=this._CloneOptions(e[n]);return r}}]),u}();function Ah(e){return(Ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Ah(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Ah(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Ah(e)?e:String(e)}(r.key),r)}}Mh.WorkerMsg={LOAD:"LOAD",PROGRESS:"PROGRESS",DESTROY:"DESTROY"},Mh.Request=function(){function r(e,t){var n=this;Eh(this,r),this.seq=e,this.progressCbk=t,this.promise=new Promise(function(e,t){n._Resolve=e,n._Reject=t})}var e;return Oh(r,[{key:"GetResponse",value:(e=Th(A().mark(function e(){return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.promise;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"SetResponse",value:function(e){this._Resolve(e)}},{key:"SetError",value:function(e){this._Reject(e)}}]),r}();var Ch=function(){function i(e,t,n,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.instanceType=e,this.geometryType=null!=t?t:null,this.color=n,this.lineType=null!=r?r:null}var e,t,n;return e=i,(t=[{key:"Compare",value:function(e){var t=i8(this.instanceType,e.instanceType);return 0!==t||0!==(t=i8(this.geometryType,e.geometryType))||0!==(t=i8(this.color,e.color))?t:i8(this.lineType,e.lineType)}}])&&Rh(e.prototype,t),n&&Rh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Lh(e){return(Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ih(){Ih=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new k(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=p,function(e,t){if(s===d)throw new Error("Generator is already running");if(s===y){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===p)throw s=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=d;n=h(i,o,a);if("normal"===n.type){if(s=a.done?y:f,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=y,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var p="suspendedStart",f="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var t={},x=(o(t,r,function(){return this}),Object.getPrototypeOf),x=x&&x(x(O([]))),w=(x&&x!==e&&l.call(x,r)&&(t=x),b.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==Lh(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(Lh(t)+" is not iterable")}return c(w,"constructor",{value:g.prototype=b,configurable:!0}),c(b,"constructor",{value:g,configurable:!0}),g.displayName=o(b,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,o(e,i,"GeneratorFunction")),e.prototype=Object.create(w),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(w),o(w,i,"Generator"),o(w,r,function(){return this}),o(w,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,E(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function Dh(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,i=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw i}}};if(Array.isArray(e)||(a=function(e,t){var n;if(e)return"string"==typeof e?jh(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jh(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nh(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Fh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=Lh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=Lh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==Lh(e)?e:String(e)}(r.key),r)}}function Bh(e,t,n){t&&Uh(e.prototype,t),n&&Uh(e,n),Object.defineProperty(e,"prototype",{writable:!1})}var zh=Object.freeze({INFO:"info",WARN:"warn",ERROR:"error"}),Gh=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Fh(this,n),this.opacity=e.opacity,this.options=Object.create(n.DefaultOptions),e&&Object.assign(this.options,e),e=this.options,this.clearColor=this.options.clearColor.getHex(),this.scene=new ve,this.fmmap=e.fmmap,this.simpleColorMaterial=[],this.simplePointMaterial=[];for(var t=0;t<Hh.MAX;t++)this.simpleColorMaterial[t]=this._CreateSimpleColorMaterial(t),this.simplePointMaterial[t]=this._CreateSimplePointMaterial(t);this.materials=new f9(function(e,t){return e.key.Compare(t.key)}),this.layers=new Map,this.blocks=new Map,this.worker=null}var s,r;return Bh(n,[{key:"HasRenderer",value:function(){return Boolean(this.renderer)}},{key:"GetRenderer",value:function(){return this.renderer}},{key:"GetCanvas",value:function(){return this.canvas}},{key:"GetDxf",value:function(){return this.parsedDxf}},{key:"SetSize",value:function(e,t){this._EnsureRenderer();var n=e/this.canvasWidth,r=t/this.canvasHeight,i=this.camera,o=(i.left+i.right)/2,a=(i.bottom+i.top)/2,s=i.right-i.left,u=i.top-i.bottom;i.left=o-n*s/2,i.right=o+n*s/2,i.bottom=a-r*u/2,i.top=a+r*u/2,i.updateProjectionMatrix(),this.canvasWidth=e,this.canvasHeight=t,this.renderer.setSize(e,t),this.controls&&this.controls.update(),this._Emit("resized",{width:e,height:t}),this._Emit("viewChanged"),this.Render()}},{key:"Load",value:(s=Ih().mark(function e(t,n){var r,i,o,a,s,u,l,c,h,p,f,d,y,v,m,g;return Ih().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,i=t.fonts,i=void 0===i?null:i,o=t.progressCbk,o=void 0===o?null:o,a=t.workerFactory,a=void 0===a?null:a,null==r)throw new Error("`url` parameter is not specified");e.next=3;break;case 3:return this.worker=new Mh(a?a():null),e.next=6,this.worker.Load(r,i,this.options,o);case 6:return u=e.sent,s=u.scene,u=u.dxf,e.next=11,this.worker.Destroy();case 11:this.worker=null,this.parsedDxf=u,this.origin=s.origin,this.bounds=s.bounds,this.hasMissingChars=s.hasMissingChars,l=Dh(s.layers);try{for(l.s();!(c=l.n()).done;)h=c.value,this.layers.set(h.name,new Wh(h.name,h.displayName,h.color))}catch(e){l.e(e)}finally{l.f()}p=Dh(s.batches);try{for(p.s();!(f=p.n()).done;)null!==(d=f.value).key.blockName&&d.key.geometryType!==T.GeometryType.BLOCK_INSTANCE&&d.key.geometryType!==T.GeometryType.POINT_INSTANCE&&((y=this.blocks.get(d.key.blockName))||(y=new qh,this.blocks.set(d.key.blockName,y)),y.PushBatch(new Vh(this,s,d)))}catch(e){p.e(e)}finally{p.f()}"DXF scene:\n                     ".concat(s.batches.length," batches,\n                     ").concat(this.layers.size," layers,\n                     ").concat(this.blocks.size," blocks,\n                     vertices ").concat(s.vertices.byteLength," B,\n                     indices ").concat(s.indices.byteLength," B\n                     transforms ").concat(s.transforms.byteLength," B"),v=Dh(s.batches);try{for(v.s();!(m=v.n()).done;)g=m.value,this._LoadBatch(s,g)}catch(e){v.e(e)}finally{v.f()}n&&n();case 24:case"end":return e.stop()}},e,this)}),r=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){Nh(r,t,n,i,o,"next",e)}function o(e){Nh(r,t,n,i,o,"throw",e)}i(void 0)})},function(e,t){return r.apply(this,arguments)})},{key:"GetLayers",value:function(){var e,t=[],n=Dh(this.layers.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push({name:r.name,displayName:r.displayName,color:this._TransformColor(r.color)})}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"ShowLayer",value:function(e,t){this._EnsureRenderer();e=this.layers.get(e);if(e){var n,r=Dh(e.objects);try{for(r.s();!(n=r.n()).done;)n.value.visible=t}catch(e){r.e(e)}finally{r.f()}this.Render()}}},{key:"Clear",value:function(){for(this.worker&&(this.worker.Destroy(!0),this.worker=null);0<this.scene.children.length;)this.scene.remove(this.scene.children[0]);var e,t=Dh(this.layers.values());try{for(t.s();!(e=t.n()).done;)e.value.Dispose()}catch(e){t.e(e)}finally{t.f()}this.layers.clear(),this.blocks.clear(),this.materials.each(function(e){return e.material.dispose()}),this.materials.clear()}},{key:"Destroy",value:function(){this.Clear();var e,t=Dh(this.simplePointMaterial);try{for(t.s();!(e=t.n()).done;)e.value.dispose()}catch(e){t.e(e)}finally{t.f()}var n,r=Dh(this.simpleColorMaterial);try{for(r.s();!(n=r.n()).done;)n.value.dispose()}catch(e){r.e(e)}finally{r.f()}this.simplePointMaterial=null,this.simpleColorMaterial=null}},{key:"SetView",value:function(e,t){var n=t/(this.canvasWidth/this.canvasHeight),r=this.camera;r.left=-t/2,r.right=t/2,r.top=n/2,r.bottom=-n/2,r.zoom=1,r.position.set(e.x,e.y,1),r.rotation.set(0,0,0),r.updateMatrix(),r.updateProjectionMatrix(),this._Emit("viewChanged")}},{key:"FitView",value:function(e,t,n,r){var i=this.canvasWidth/this.canvasHeight,t=t-e,r=r-n,e={x:e+t/2,y:n+r/2};(t=t<r*i?r*i:t)<=2*Number.MIN_VALUE&&(t=1),this.SetView(e,t*(1+(4<arguments.length&&void 0!==arguments[4]?arguments[4]:.1)))}},{key:"GetScene",value:function(){return this.scene}},{key:"GetCamera",value:function(){return this.camera}},{key:"GetOrigin",value:function(){return this.origin}},{key:"GetBounds",value:function(){return this.bounds}},{key:"Subscribe",value:function(e,t){this._EnsureRenderer(),this.canvas.addEventListener(Yh+e,t)}},{key:"Unsubscribe",value:function(e,t){this._EnsureRenderer(),this.canvas.removeEventListener(Yh+e,t)}},{key:"_EnsureRenderer",value:function(){if(!this.HasRenderer())throw new Error("WebGL renderer not available. Probable WebGL context loss, try refreshing the page.")}},{key:"_Emit",value:function(e){this.canvas.dispatchEvent(new CustomEvent(Yh+e,{detail:1<arguments.length&&void 0!==arguments[1]?arguments[1]:null}))}},{key:"_Message",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:zh.INFO;this._Emit("message",{message:e,level:t})}},{key:"_OnPointerEvent",value:function(e){var t=e.target.getBoundingClientRect(),t={x:e.clientX-t.left,y:e.clientY-t.top};this._Emit(e.type,{domEvent:e,canvasCoord:t,position:this._CanvasToSceneCoord(t.x,t.y)})}},{key:"_CanvasToSceneCoord",value:function(e,t){e=new w(2*e/this.canvasWidth-1,2*-t/this.canvasHeight+1,1).unproject(this.camera);return{x:e.x,y:e.y}}},{key:"_OnResize",value:function(e){this.SetSize(Math.floor(e.contentRect.width),Math.floor(e.contentRect.height))}},{key:"_LoadBatch",value:function(e,t){if(null===t.key.blockName||t.key.geometryType===T.GeometryType.BLOCK_INSTANCE||t.key.geometryType===T.GeometryType.POINT_INSTANCE){var n,e=new Vh(this,e,t).CreateObjects(),r=this.layers.get(t.key.layerName),i=Dh(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;this.scene.add(o),this.fmmap.getRenderManager().render(),r&&r.PushObject(o)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"_GetSimpleColorMaterial",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Hh.NONE,n=new Ch(t,null,e,0),r=this.materials.find({key:n});return null===r&&(r={key:n,material:this._CreateSimpleColorMaterialInstance(e,t)},this.materials.insert(r)),r.material}},{key:"_CreateSimpleColorMaterial",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Hh.NONE,e=this._GenerateShaders(e,!1),t=!0;return 0===this.opacity&&(t=!1),new x6({uniforms:{color:{value:new d(16711935)},opacity:{value:this.opacity}},vertexShader:e.vertex,fragmentShader:e.fragment,depthTest:!1,depthWrite:!1,visible:t,side:Ge})}},{key:"_CreateSimpleColorMaterialInstance",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Hh.NONE,t=this.simpleColorMaterial[t].clone();return t.uniforms.color={value:new d(e)},t}},{key:"_GetSimplePointMaterial",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Hh.NONE,n=new Ch(t,T.GeometryType.POINTS,e,0),r=this.materials.find({key:n});return null===r&&(r={key:n,material:this._CreateSimplePointMaterialInstance(e,this.options.pointSize,t)},this.materials.insert(r)),r.material}},{key:"_CreateSimplePointMaterial",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Hh.NONE,e=this._GenerateShaders(e,!0),t=!0;return 0===this.opacity&&(t=!1),new x6({uniforms:{color:{value:new d(16711935)},opacity:{value:this.opacity},pointSize:{value:2}},vertexShader:e.vertex,fragmentShader:e.fragment,depthTest:!1,depthWrite:!1,visible:t})}},{key:"_CreateSimplePointMaterialInstance",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Hh.NONE,n=this.simplePointMaterial[n].clone();return n.uniforms.color={value:new d(e)},n.uniforms.size={value:t},n}},{key:"_GenerateShaders",value:function(e,t){var n=e===Hh.FULL?"\n            /* First row. */\n            attribute vec3 instanceTransform0;\n            /* Second row. */\n            attribute vec3 instanceTransform1;\n            ":"",r=e===Hh.FULL?"\n            pos.xy = mat2(instanceTransform0[0], instanceTransform1[0],\n                          instanceTransform0[1], instanceTransform1[1]) * pos.xy +\n                     vec2(instanceTransform0[2], instanceTransform1[2]);\n            ":"",i=e===Hh.POINT?"\n            attribute vec2 instanceTransform;\n            ":"",e=e===Hh.POINT?"\n            pos.xy += instanceTransform;\n            ":"",o=t?"uniform float pointSize;":"",t=t?"gl_PointSize = pointSize;":"";return{vertex:"\n\n            precision highp float;\n            precision highp int;\n            attribute vec2 position;\n            ".concat(n,"\n            ").concat(i,"\n            uniform mat4 modelViewMatrix;\n            uniform mat4 projectionMatrix;\n            ").concat(o,"\n\n            void main() {\n                vec4 pos = vec4(position, 0.0, 1.0);\n                ").concat(r,"\n                ").concat(e,"\n                gl_Position = projectionMatrix * modelViewMatrix * pos;\n                ").concat(t,"\n            }\n            "),fragment:"\n\n            precision highp float;\n            precision highp int;\n            uniform vec3 color;\n            uniform float opacity;\n\n            void main() {\n                gl_FragColor = vec4(color, opacity);\n            }\n            "}}},{key:"_TransformColor",value:function(e){if(this.options.colorCorrection||this.options.blackWhiteInversion){var t,n,r,i=Kh(this.clearColor);if(16777215===e&&.8<=i)return 0;if(0===e&&i<=.2)return 16777215;this.options.colorCorrection&&(t=Kh(e),n=e,r=this.clearColor,(1<=(n=(Kh(n)+.05)/(Kh(r)+.05))?n:1/n)<1.5)&&(e=t<(r=.5<i?i/2:2*i)?function(e,t){e=Jh(e);e.l*=t,1<e.l&&(e.l=1);return Qh(e)}(e,r/t):function(e,t){e=Jh(e);return e.l/=t,Qh(e)}(e,t/r))}return e}}]),n}(),Hh=(Gh.MessageLevel=zh,Gh.DefaultOptions={canvasWidth:400,canvasHeight:300,autoResize:!1,clearColor:new d("#000"),clearAlpha:1,canvasAlpha:!1,canvasPremultipliedAlpha:!0,antialias:!0,colorCorrection:!1,blackWhiteInversion:!0,pointSize:2,sceneOptions:ch.DefaultOptions,retainParsedDxf:!1,preserveDrawingBuffer:!1,fileEncoding:"utf-8"},Gh.SetupWorker=function(){new Mh(self,!0)},Object.freeze({NONE:0,FULL:1,POINT:2,MAX:3})),Vh=function(){function u(e,t,n){if(Fh(this,u),this.viewer=e,this.key=n.key,n.hasOwnProperty("verticesOffset")&&(e=new Float32Array(t.vertices,n.verticesOffset*Float32Array.BYTES_PER_ELEMENT,n.verticesSize),this.key.geometryType===T.GeometryType.POINT_INSTANCE&&!t.pointShapeHasDot||(this.vertices=new _(e,2)),this.key.geometryType===T.GeometryType.POINT_INSTANCE)&&(this.transforms=new Wc(e,2)),n.hasOwnProperty("chunks")){this.chunks=[];var r,i=Dh(n.chunks);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=new Float32Array(t.vertices,o.verticesOffset*Float32Array.BYTES_PER_ELEMENT,o.verticesSize),s=new Uint16Array(t.indices,o.indicesOffset*Uint16Array.BYTES_PER_ELEMENT,o.indicesSize);this.chunks.push({vertices:new _(a,2),indices:new _(s,1)})}}catch(e){i.e(e)}finally{i.f()}}n.hasOwnProperty("transformsOffset")&&(e=new qc(new Float32Array(t.transforms,n.transformsOffset*Float32Array.BYTES_PER_ELEMENT,n.transformsSize),6),this.transforms0=new J6(e,3,0),this.transforms1=new J6(e,3,3)),this.key.geometryType!==T.GeometryType.BLOCK_INSTANCE&&this.key.geometryType!==T.GeometryType.POINT_INSTANCE||(n=this.viewer.layers.get(this.key.layerName),this.layerColor=n?n.color:0)}return Bh(u,[{key:"GetInstanceType",value:function(){switch(this.key.geometryType){case T.GeometryType.BLOCK_INSTANCE:return Hh.FULL;case T.GeometryType.POINT_INSTANCE:return Hh.POINT;default:return Hh.NONE}}},{key:"CreateObjects",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return Ih().mark(function e(){return Ih().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.key.geometryType!==T.GeometryType.BLOCK_INSTANCE&&t.key.geometryType!==T.GeometryType.POINT_INSTANCE)e.next=5;else{if(null!==n)throw new Error("Unexpected instance batch specified for instance batch");e.next=3}break;case 3:return e.delegateYield(t._CreateBlockInstanceObjects(),"t0",4);case 4:return e.abrupt("return");case 5:return e.delegateYield(t._CreateObjects(n),"t1",6);case 6:case"end":return e.stop()}},e)})()}},{key:"_CreateObjects",value:Ih().mark(function e(r){var i,o,t,n,a,s;return Ih().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e,t){var n=new(r?t8:e8),e=(n.setAttribute("position",e),null!=r&&r._SetInstanceTransformAttribute(n),t&&n.setIndex(t),new o(n,i));return e.frustumCulled=!1,e.matrixAutoUpdate=!1,e},a=r?r._GetInstanceColor(this.key.color):this.key.color,s=this.key.geometryType===T.GeometryType.POINTS||this.key.geometryType===T.GeometryType.POINT_INSTANCE?this.viewer._GetSimplePointMaterial:this.viewer._GetSimpleColorMaterial,i=s.call(this.viewer,this.viewer._TransformColor(a),null!=(s=null==r?void 0:r.GetInstanceType())?s:Hh.NONE),e.t0=this.key.geometryType,e.next=e.t0===T.GeometryType.POINTS||e.t0===T.GeometryType.POINT_INSTANCE?7:e.t0===T.GeometryType.LINES||e.t0===T.GeometryType.INDEXED_LINES?9:e.t0===T.GeometryType.TRIANGLES||e.t0===T.GeometryType.INDEXED_TRIANGLES?11:13;break;case 7:return o=d3,e.abrupt("break",14);case 9:return o=u3,e.abrupt("break",14);case 11:return o=f0,e.abrupt("break",14);case 13:throw new Error("Unexpected geometry type:"+this.key.geometryType);case 14:if(!this.chunks){e.next=34;break}n=Dh(this.chunks),e.prev=16,n.s();case 18:if((a=n.n()).done){e.next=24;break}return s=a.value,e.next=22,t(s.vertices,s.indices);case 22:e.next=18;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(16),n.e(e.t1);case 29:return e.prev=29,n.f(),e.finish(29);case 32:e.next=36;break;case 34:return e.next=36,t(this.vertices);case 36:case"end":return e.stop()}},e,this,[[16,26,29,32]])})},{key:"_SetInstanceTransformAttribute",value:function(e){if(!e.isInstancedBufferGeometry)throw new Error("InstancedBufferGeometry expected");this.key.geometryType===T.GeometryType.POINT_INSTANCE?e.setAttribute("instanceTransform",this.transforms):(e.setAttribute("instanceTransform0",this.transforms0),e.setAttribute("instanceTransform1",this.transforms1))}},{key:"_CreateBlockInstanceObjects",value:Ih().mark(function e(){var t,n,r;return Ih().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.viewer.blocks.get(this.key.blockName)){e.next=3;break}return e.abrupt("return");case 3:n=Dh(t.batches),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=11;break}return r=r.value,e.delegateYield(r.CreateObjects(this),"t0",9);case 9:e.next=6;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:if(this.hasOwnProperty("vertices"))return e.delegateYield(this._CreateObjects(),"t2",21);e.next=21;break;case 21:case"end":return e.stop()}},e,this,[[4,13,16,19]])})},{key:"_GetInstanceColor",value:function(e){return e===gh.BY_BLOCK?this.key.color:e===gh.BY_LAYER?this.layerColor:e}}]),u}(),Wh=function(){function r(e,t,n){Fh(this,r),this.name=e,this.displayName=t,this.color=n,this.objects=[]}return Bh(r,[{key:"PushObject",value:function(e){this.objects.push(e)}},{key:"Dispose",value:function(){var e,t=Dh(this.objects);try{for(t.s();!(e=t.n()).done;)e.value.geometry.dispose()}catch(e){t.e(e)}finally{t.f()}this.objects=null}}]),r}(),qh=function(){function e(){Fh(this,e),this.batches=[]}return Bh(e,[{key:"PushBatch",value:function(e){this.batches.push(e)}}]),e}(),Yh="__dxf_";function Xh(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Zh(e){return e<.003?12.92*e:1.055*Math.pow(e,1/2.4)-.055}function Kh(e){return.2126*Xh(((16711680&e)>>>16)/255)+.7152*Xh(((65280&e)>>>8)/255)+.0722*Xh((255&e)/255)}function Qh(e){var t,n,r,i,o=e.h,a=e.l,e=e.s;return 0===e?n=r=i=a:(n=(t=function(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e})(e=2*a-(a=a<.5?a*(1+e):a+e-a*e),a,o+1/3),r=t(e,a,o),i=t(e,a,o-1/3)),Math.min(Math.floor(256*Zh(n)),255)<<16|Math.min(Math.floor(256*Zh(r)),255)<<8|Math.min(Math.floor(256*Zh(i)),255)}function Jh(e){var t,n=Xh(((16711680&e)>>>16)/255),r=Xh(((65280&e)>>>8)/255),i=Xh((255&e)/255),e=Math.max(n,r,i),o=Math.min(n,r,i),a=(e+o)/2;if(e===o)t=u=0;else{var s=e-o,u=.5<a?s/(2-e-o):s/(e+o);switch(e){case n:t=(r-i)/s+(r<i?6:0);break;case r:t=(i-n)/s+2;break;case i:t=(n-r)/s+4}t/=6}return{h:t,l:a,s:u}}function $h(e){return($h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=$h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=$h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==$h(e)?e:String(e)}(r.key),r)}}function tp(e,t,n){t=rp(t);var r=e,t=np()?Reflect.construct(t,n||[],rp(e).constructor):t.apply(e,n);if(t&&("object"===$h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");e=r;if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function np(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(np=function(){return!!e})()}function rp(e){return(rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ip(e,t){return(ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var op=function(e){var t,n,r=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");function i(){if(this instanceof i)return tp(this,i,[{type:fengmap.FMType.CAD_LAYER}]);throw new TypeError("Cannot call a class as a function")}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&ip(r,e),r=i,t&&ep(r.prototype,t),n&&ep(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}(fengmap.FMMarkerLayer);function ap(e){return(ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=ap(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=ap(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==ap(e)?e:String(e)}(r.key),r)}}function up(e,t,n){return t&&sp(e.prototype,t),n&&sp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var C3=up(function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._listeners={}}),lp=(Object.assign(C3.prototype,{_addEventListener:function(e,t){this._hasEventListener(e,t)||(void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t))},_hasEventListener:function(e,t){return t?void 0!==this._listeners[e]&&-1!==this._listeners[e].indexOf(t):void 0!==this._listeners[e]&&0<this._listeners[e].length},_removeEventListener:function(e,t){void 0!==this._listeners[e]&&-1!==(t=this._listeners[e].indexOf(t))&&this._listeners[e].splice(t,1)},_dispatchEvent:function(e){if(void 0!==this._listeners[e.type])for(var t=this._listeners[e.type].slice(0),n=0,r=t.length;n<r;n++)t[n].call(this,e)}}),C3);function cp(e){return(cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||pp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pp(e,t){var n;if(e)return"string"==typeof e?fp(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fp(e,t):void 0}function fp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=cp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=cp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==cp(e)?e:String(e)}(r.key),r)}}n=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._url=e.url,this._scale=e.scale,void 0===this._scale&&(this._scale=1),this._x=e.x,this._y=e.y,this._heading=e.heading,void 0===this._heading&&(this._heading=0),this._height=e.height,void 0===this._height&&(this._height=1),this._fonts=e.fonts,void 0===this._fonts&&(this._fonts=[]),this._opacity=e.opacity,void 0===this._opacity&&(this._opacity=1),this._dxfViewer=null,this._floor=null,this._map=null,this._parent=null,this._eventDispatcher=new lp}var e,n,r;return e=t,(n=[{key:"parent",get:function(){return this._parent}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"buildingID",get:function(){return this._map.getMapOptions().mapID!==this._floor.parent.buildingID?this._floor.parent.buildingID:null}},{key:"level",get:function(){return this._floor.level}},{key:"heading",get:function(){return this._heading}},{key:"scale",get:function(){return this._scale},set:function(e){this._scale=e,this._dxfViewer.scene.scale.set(this._scale,this._scale,this._scale),this._map.enableUpdateRender()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this._dxfViewer.scene.position.y=this._height,this._map.enableUpdateRender()}},{key:"opacity",get:function(){return this._opacity},set:function(e){this._opacity=e;var t,n=function(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,i=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw i}}};if(Array.isArray(e)||(a=pp(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this._dxfViewer.layers);try{for(n.s();!(t=n.n()).done;)for(var r=hp(t.value,2),i=(r[0],r[1].objects),o=0;o<i.length;o++)i[o].material.uniforms.opacity.value=this._opacity,i[o].material.uniformsNeedUpdate=!0,0===this._opacity?i[o].material.visible=!1:i[o].material.visible=!0}catch(e){n.e(e)}finally{n.f()}this._map.enableUpdateRender()}},{key:"addTo",value:function(e){this._floor=e,this._map=e.parent.parent,void 0===this._x&&(this._x=this._floor.x),void 0===this._y&&(this._y=this._floor.y),fengmap.FMMarkerFun.LAYER_CLASS.get(fengmap.FMType.CAD_LAYER)||fengmap.FMMarkerFun.LAYER_CLASS.set(fengmap.FMType.CAD_LAYER,op),this._init()}},{key:"rotateTo",value:function(e){this._heading=e.heading,this._dxfViewer.scene.rotation.z=this._heading*Math.PI/180,this._map.enableUpdateRender(),e.finish&&e.finish()}},{key:"moveTo",value:function(e){this._x=e.x,this._y=e.y,this._dxfViewer.scene.position.x=this._x-this._map.x,this._dxfViewer.scene.position.z=-this._y+this._map.y,this._map.enableUpdateRender(),e.finish&&e.finish()}},{key:"remove",value:function(){this._dxfViewer.Destroy(),this._parent.scene.remove(this._parent.scene.children[0]),this._map.enableUpdateRender()}},{key:"on",value:function(e,t){this._eventDispatcher._addEventListener(e,t)}},{key:"off",value:function(e,t){this._eventDispatcher&&this._eventDispatcher._removeEventListener(e,t)}}])&&dp(e.prototype,n),r&&dp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Object.assign(n.prototype,{_init:function(){var e=this;this._parent=this._floor.getOrCreateLayer(fengmap.FMType.CAD_LAYER),this._dxfViewer=new Gh({clearColor:new d("#fff"),opacity:this._opacity,colorCorrection:!0,fmmap:this._map,sceneOptions:{wireframeMesh:!0}}),(this._dxfViewer.scene.mapNode=this)._dxfViewer.scene.rotation.x=-Math.PI/2,this._dxfViewer.scene.rotation.z=this._heading*Math.PI/180,this._dxfViewer.scene.scale.set(this._scale,this._scale,this._scale),this._dxfViewer.scene.position.set(this._x-this._map.x,this._height,-this._y+this._map.y),this._dxfViewer.Load({url:this._url,fonts:this._fonts,progressCbk:function(){e._eventDispatcher._dispatchEvent({type:"loading"})}},function(){e._eventDispatcher._dispatchEvent({type:"loaded"})}),0<this._parent.scene.children.length&&(this._parent.scene.children[0].mapNode._dxfViewer.Destroy(),this._parent.scene.remove(this._parent.scene.children[0])),this._parent.scene.add(this._dxfViewer.scene),this._map.enableUpdateRender()}}),e=n,C3=window.fengmap||{};C3.FMTileLayer=t,C3.FM3DTilesLayer=I3,C3.FMTileProvider=l,C3.FMGroundLayer=L3,C3.FMTileFilter=x0,C3.FMCADLayer=e,C.default=C3}],o={},i.m=r,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=11).default;function i(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},r[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}var r,o});