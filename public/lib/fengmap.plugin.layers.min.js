/**Released Version v3.1.10,BUILD 237,Time 1749031855583. Fengmap Javascript SDK , see: https://www.fengmap.com for details**/
((e,t)=>{"object"==typeof exports&&"object"==typeof module?module.exports=t(require("fs")):"function"==typeof define&&define.amd?define(["fs"],t):"object"==typeof exports?exports.fengmap=t(require("fs")):e.fengmap=t(e.fs)})(this,function(n){return r=[function(e,t,n){var r;void 0!==(n="function"==typeof(r=function(){"use strict";var r=function(){},f="undefined",t=typeof window!==f&&typeof window.navigator!==f&&/Trident\/|MSIE /.test(window.navigator.userAgent),p=["trace","debug","info","warn","error"],y={},d=null;function n(t,e){var n=t[e];if(typeof n.bind==="function")return n.bind(t);else try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function i(){if(console.log)if(console.log.apply)console.log.apply(console,arguments);else Function.prototype.apply.apply(console.log,[console,arguments]);if(console.trace)console.trace()}function o(e){if(e==="debug")e="log";if(typeof console===f)return false;else if(e==="trace"&&t)return i;else if(console[e]!==undefined)return n(console,e);else if(console.log!==undefined)return n(console,"log");else return r}function v(){var e=this.getLevel();for(var t=0;t<p.length;t++){var n=p[t];this[n]=t<e?r:this.methodFactory(n,e,this.name)}this.log=this.debug;if(typeof console===f&&e<this.levels.SILENT)return"No console available for logging"}function a(e){return function(){if(typeof console!==f){v.call(this);this[e].apply(this,arguments)}}}function m(e,t,n){return o(e)||a.apply(this,arguments)}function s(e,t){var i=this;var n;var r;var o;var a="loglevel";if(typeof e==="string")a+=":"+e;else if(typeof e==="symbol")a=undefined;function s(e){var t=(p[e]||"silent").toUpperCase();if(typeof window===f||!a)return;try{window.localStorage[a]=t;return}catch(e){}try{window.document.cookie=encodeURIComponent(a)+"="+t+";"}catch(e){}}function u(){var e;if(typeof window===f||!a)return;try{e=window.localStorage[a]}catch(e){}if(typeof e===f)try{var t=window.document.cookie;var n=encodeURIComponent(a);var r=t.indexOf(n+"=");if(r!==-1)e=/^([^;]+)/.exec(t.slice(r+n.length+1))[1]}catch(e){}if(i.levels[e]===undefined)e=undefined;return e}function l(){if(typeof window===f||!a)return;try{window.localStorage.removeItem(a)}catch(e){}try{window.document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}function c(e){var t=e;if(typeof t==="string"&&i.levels[t.toUpperCase()]!==undefined)t=i.levels[t.toUpperCase()];if(typeof t==="number"&&t>=0&&t<=i.levels.SILENT)return t;else throw new TypeError("log.setLevel() called with invalid level: "+e)}i.name=e;i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5};i.methodFactory=t||m;i.getLevel=function(){if(o!=null)return o;else if(r!=null)return r;else return n};i.setLevel=function(e,t){o=c(e);if(t!==false)s(o);return v.call(i)};i.setDefaultLevel=function(e){r=c(e);if(!u())i.setLevel(e,false)};i.resetLevel=function(){o=null;l();v.call(i)};i.enableAll=function(e){i.setLevel(i.levels.TRACE,e)};i.disableAll=function(e){i.setLevel(i.levels.SILENT,e)};i.rebuild=function(){if(d!==i)n=c(d.getLevel());v.call(i);if(d===i)for(var e in y)y[e].rebuild()};n=c(d?d.getLevel():"WARN");var h=u();if(h!=null)o=c(h);v.call(i)}(d=new s).getLogger=function e(t){if(typeof t!=="symbol"&&typeof t!=="string"||t==="")throw new TypeError("You must supply a name when creating a logger.");var n=y[t];if(!n)n=y[t]=new s(t,d.methodFactory);return n};var e=typeof window!==f?window.log:undefined;return d.noConflict=function(){if(typeof window!==f&&window.log===d)window.log=e;return d},d.getLoggers=function e(){return y},d["default"]=d})?r.call(t,n,t,e):r)&&(e.exports=n)},function(e,t,n){n.d(t,"a",function(){return r});var n=n(2),r={document:"undefined"!=typeof document?document:{},window:"undefined"!=typeof window?window:{},environment:n.a.BROWSER,XMLHttpRequest:"undefined"!=typeof XMLHttpRequest?XMLHttpRequest:{}};t.b=r},function(e,t,n){var r={BROWSER:0,WX:1};Object.freeze(r),t.a=r},function(e,t){e.exports=n},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){!function(a){var s=n(2),u=n(1);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=i(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==i(e)?e:e+""))(r.key),r)}}var c=null,e=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}return t=e,n=null,r=[{key:"global",value:(i=function(){if("undefined"!=typeof self&&null!==self&&0!==Object.keys(self).length)return self;if("undefined"!=typeof window&&null!==window&&0!==Object.keys(window).length)return window;if(null!=a&&0!==Object.keys(a).length)return a;var e;if("undefined"!=typeof my)return c||(e=my.getAppIdSync(),c={location:{host:e.appId+".hybrid.alipay-eco.com"}}),c;if(u.a.environment==s.a.WX)return{};throw new Error("unable to locate global object")},o.toString=function(){return i.toString()},o)}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r,i;function o(){return i.apply(this,arguments)}})();t.a=e}.call(this,n(4))},function(e,hr,fr){!function(N){function D(e){if(null==this)throw TypeError();var t,n=String(this),r=n.length,e=e?Number(e):0;if(!((e=e!=e?0:e)<0||r<=e))return 55296<=(t=n.charCodeAt(e))&&t<=56319&&e+1<r&&56320<=(r=n.charCodeAt(e+1))&&r<=57343?1024*(t-55296)+r-56320+65536:t}String.prototype.codePointAt||((Dn=(()=>{try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n})())?Dn(String.prototype,"codePointAt",{value:D,configurable:!0,writable:!0}):String.prototype.codePointAt=D);var B=0,F=-3;function U(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function z(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new U,this.dtree=new U}var G=new U,H=new U,V=new Uint8Array(30),Y=new Uint16Array(30),W=new Uint8Array(30),q=new Uint16Array(30),X=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Z=new U,b=new Uint8Array(320);function J(e,t,n,r){for(var i,o=0;o<n;++o)e[o]=0;for(o=0;o<30-n;++o)e[o+n]=o/n|0;for(i=r,o=0;o<30;++o)t[o]=i,i+=1<<e[o]}var K=new Uint16Array(16);function Q(e,t,n,r){for(var i,o=0;o<16;++o)e.table[o]=0;for(o=0;o<r;++o)e.table[t[n+o]]++;for(o=i=e.table[0]=0;o<16;++o)K[o]=i,i+=e.table[o];for(o=0;o<r;++o)t[n+o]&&(e.trans[K[t[n+o]]++]=o)}function g(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function $(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;for(var n=0,r=0,i=0,o=e.tag;r=2*r+(1&o),o>>>=1,n+=t.table[++i],0<=(r-=t.table[i]););return e.tag=o,e.bitcount-=i,t.trans[n+r]}function ee(e,t,n){for(;;){var r=$(e,t);if(256===r)return B;if(r<256)e.dest[e.destLen++]=r;else for(var i,o=g(e,V[r-=257],Y[r]),r=$(e,n),a=i=e.destLen-g(e,W[r],q[r]);a<i+o;++a)e.dest[e.destLen++]=e.dest[a]}}for(var e=G,te=H,t=0;t<7;++t)e.table[t]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,t=0;t<24;++t)e.trans[t]=256+t;for(t=0;t<144;++t)e.trans[24+t]=t;for(t=0;t<8;++t)e.trans[168+t]=280+t;for(t=0;t<112;++t)e.trans[176+t]=144+t;for(t=0;t<5;++t)te.table[t]=0;for(te.table[5]=32,t=0;t<32;++t)te.trans[t]=t;J(V,Y,4,3),J(W,q,2,1),V[28]=0,Y[28]=258;var ne=function(e,t){var n,r,i,o=new z(e,t);do{switch(i=void 0,(r=o).bitcount--||(r.tag=r.source[r.sourceIndex++],r.bitcount=7),i=1&r.tag,r.tag>>>=1,r=i,g(o,2,0)){case 0:n=(e=>{for(var t,n;8<e.bitcount;)e.sourceIndex--,e.bitcount-=8;if((t=256*e.source[e.sourceIndex+1]+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return F;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,B})(o);break;case 1:n=ee(o,G,H);break;case 2:v=d=y=m=a=p=f=h=c=l=u=s=void 0;for(var a,s=o,u=o.ltree,l=o.dtree,c=g(s,5,257),h=g(s,5,1),f=g(s,4,4),p=0;p<19;++p)b[p]=0;for(p=0;p<f;++p){var y=g(s,3,0);b[X[p]]=y}for(Q(Z,b,0,19),a=0;a<c+h;){var d=$(s,Z);switch(d){case 16:for(var v=b[a-1],m=g(s,2,3);m;--m)b[a++]=v;break;case 17:for(m=g(s,3,3);m;--m)b[a++]=0;break;case 18:for(m=g(s,7,11);m;--m)b[a++]=0;break;default:b[a++]=d}}Q(u,b,0,c),Q(l,b,c,h),n=ee(o,o.ltree,o.dtree);break;default:n=F}if(n!==B)throw new Error("Data error")}while(!r);return o.destLen<o.dest.length?"function"==typeof o.dest.slice?o.dest.slice(0,o.destLen):o.dest.subarray(0,o.destLen):o.dest};function re(e,t,n,r,i){return Math.pow(1-i,3)*e+3*Math.pow(1-i,2)*i*t+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function s(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function f(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ie(e){throw new Error(e)}function oe(e,t){e||ie(t)}s.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},s.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2)&&(this.x2=e),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2)&&(this.y2=t)},s.prototype.addX=function(e){this.addPoint(e,null)},s.prototype.addY=function(e){this.addPoint(null,e)},s.prototype.addBezier=function(e,t,n,r,i,o,a,s){var u=[e,t],l=[n,r],c=[i,o],h=[a,s];this.addPoint(e,t),this.addPoint(a,s);for(var f=0;f<=1;f++){var p,y=6*u[f]-12*l[f]+6*c[f],d=-3*u[f]+9*l[f]-9*c[f]+3*h[f],v=3*l[f]-3*u[f];0==d?0!=y&&(0<(p=-v/y)&&p<1&&(0===f&&this.addX(re(u[f],l[f],c[f],h[f],p)),1===f))&&this.addY(re(u[f],l[f],c[f],h[f],p)):(p=Math.pow(y,2)-4*v*d)<0||(0<(v=(-y+Math.sqrt(p))/(2*d))&&v<1&&(0===f&&this.addX(re(u[f],l[f],c[f],h[f],v)),1===f)&&this.addY(re(u[f],l[f],c[f],h[f],v)),0<(v=(-y-Math.sqrt(p))/(2*d))&&v<1&&(0===f&&this.addX(re(u[f],l[f],c[f],h[f],v)),1===f)&&this.addY(re(u[f],l[f],c[f],h[f],v)))}},s.prototype.addQuad=function(e,t,n,r,i,o){n=e+2/3*(n-e),r=t+2/3*(r-t);this.addBezier(e,t,n,r,n+1/3*(i-e),r+1/3*(o-t),i,o)},f.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},f.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},f.prototype.curveTo=f.prototype.bezierCurveTo=function(e,t,n,r,i,o){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:r,x:i,y:o})},f.prototype.quadTo=f.prototype.quadraticCurveTo=function(e,t,n,r){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:r})},f.prototype.close=f.prototype.closePath=function(){this.commands.push({type:"Z"})},f.prototype.extend=function(e){var t;if(e.commands)e=e.commands;else if(e instanceof s)return t=e,this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close();Array.prototype.push.apply(this.commands,e)},f.prototype.getBoundingBox=function(){for(var e=new s,t=0,n=0,r=0,i=0,o=0;o<this.commands.length;o++){var a=this.commands[o];switch(a.type){case"M":e.addPoint(a.x,a.y),t=r=a.x,n=i=a.y;break;case"L":e.addPoint(a.x,a.y),r=a.x,i=a.y;break;case"Q":e.addQuad(r,i,a.x1,a.y1,a.x,a.y),r=a.x,i=a.y;break;case"C":e.addBezier(r,i,a.x1,a.y1,a.x2,a.y2,a.x,a.y),r=a.x,i=a.y;break;case"Z":r=t,i=n;break;default:throw new Error("Unexpected path command "+a.type)}}return e.isEmpty()&&e.addPoint(0,0),e},f.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},f.prototype.toPathData=function(i){function e(){for(var e=arguments,t="",n=0;n<arguments.length;n+=1){var r=e[n];0<=r&&0<n&&(t+=" "),t+=(r=r,Math.round(r)===r?""+Math.round(r):r.toFixed(i))}return t}i=void 0!==i?i:2;for(var t="",n=0;n<this.commands.length;n+=1){var r=this.commands[n];"M"===r.type?t+="M"+e(r.x,r.y):"L"===r.type?t+="L"+e(r.x,r.y):"C"===r.type?t+="C"+e(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?t+="Q"+e(r.x1,r.y1,r.x,r.y):"Z"===r.type&&(t+="Z")}return t},f.prototype.toSVG=function(e){var t=(t='<path d="')+this.toPathData(e)+'"';return this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},f.prototype.toDOMElement=function(e){var e=this.toPathData(e),t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",e),t};var j={fail:ie,argument:oe,assert:oe},ae=2147483648,se={},S={},u={};function n(e){return function(){return e}}S.BYTE=function(e){return j.argument(0<=e&&e<=255,"Byte value should be between 0 and 255."),[e]},u.BYTE=n(1),S.CHAR=function(e){return[e.charCodeAt(0)]},u.CHAR=n(1),S.CHARARRAY=function(e){void 0===e&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t},u.CHARARRAY=function(e){return void 0===e?0:e.length},S.USHORT=function(e){return[e>>8&255,255&e]},u.USHORT=n(2),S.SHORT=function(e){return[(e=32768<=e?-(65536-e):e)>>8&255,255&e]},u.SHORT=n(2),S.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},u.UINT24=n(3),S.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},u.ULONG=n(4),S.LONG=function(e){return[(e=ae<=e?-(2*ae-e):e)>>24&255,e>>16&255,e>>8&255,255&e]},u.LONG=n(4),S.FIXED=S.ULONG,u.FIXED=u.ULONG,S.FWORD=S.SHORT,u.FWORD=u.SHORT,S.UFWORD=S.USHORT,u.UFWORD=u.USHORT,S.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},u.LONGDATETIME=n(8),S.TAG=function(e){return j.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},u.TAG=n(4),S.Card8=S.BYTE,u.Card8=u.BYTE,S.Card16=S.USHORT,u.Card16=u.USHORT,S.OffSize=S.BYTE,u.OffSize=u.BYTE,S.SID=S.USHORT,u.SID=u.USHORT,S.NUMBER=function(e){return-107<=e&&e<=107?[e+139]:108<=e&&e<=1131?[247+((e-=108)>>8),255&e]:-1131<=e&&e<=-108?[251+((e=-e-108)>>8),255&e]:-32768<=e&&e<=32767?S.NUMBER16(e):S.NUMBER32(e)},u.NUMBER=function(e){return S.NUMBER(e).length},S.NUMBER16=function(e){return[28,e>>8&255,255&e]},u.NUMBER16=n(3),S.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},u.NUMBER32=n(5),S.REAL=function(e){for(var t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t),r=(n&&(n=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length)),t=(Math.round(e*n)/n).toString()),""),i=0,o=t.length;i<o;i+=1){var a=t[i];r+="e"===a?"-"===t[++i]?"c":"b":"."===a?"a":"-"===a?"e":a}for(var s=[30],u=0,l=(r+=1&r.length?"f":"ff").length;u<l;u+=2)s.push(parseInt(r.substr(u,2),16));return s},u.REAL=function(e){return S.REAL(e).length},S.NAME=S.CHARARRAY,u.NAME=u.CHARARRAY,S.STRING=S.CHARARRAY,u.STRING=u.CHARARRAY,se.UTF8=function(e,t,n){for(var r=[],i=n,o=0;o<i;o++,t+=1)r[o]=e.getUint8(t);return String.fromCharCode.apply(null,r)},se.UTF16=function(e,t,n){for(var r=[],i=n/2,o=0;o<i;o++,t+=2)r[o]=e.getUint16(t);return String.fromCharCode.apply(null,r)},S.UTF16=function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t[t.length]=r>>8&255,t[t.length]=255&r}return t},u.UTF16=function(e){return 2*e.length};var ue,le={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"},ce=(se.MACSTRING=function(e,t,n,r){var i=le[r];if(void 0!==i){for(var o="",a=0;a<n;a++){var s=e.getUint8(t+a);o+=s<=127?String.fromCharCode(s):i[127&s]}return o}},"function"==typeof WeakMap&&new WeakMap);function he(e){return-128<=e&&e<=127}S.MACSTRING=function(e,t){var n=(e=>{if(!ue)for(var t in ue={},le)ue[t]=new String(t);var n=ue[e];if(void 0!==n){if(ce){var r=ce.get(n);if(void 0!==r)return r}var i=le[e];if(void 0!==i){for(var o={},a=0;a<i.length;a++)o[i.charCodeAt(a)]=a+128;return ce&&ce.set(n,o),o}}})(t);if(void 0!==n){for(var r=[],i=0;i<e.length;i++){var o=e.charCodeAt(i);if(128<=o&&void 0===(o=n[o]))return;r[i]=o}return r}},u.MACSTRING=function(e,t){e=S.MACSTRING(e,t);return void 0!==e?e.length:0},S.VARDELTAS=function(e){for(var t=0,n=[];t<e.length;)var r=e[t],t=(0===r?(e,t,n)=>{for(var r=0,i=e.length;t<i&&r<64&&0===e[t];)++t,++r;return n.push(128|r-1),t}:-128<=r&&r<=127?(e,t,n)=>{for(var r=0,i=e.length,o=t;o<i&&r<64;){var a=e[o];if(!he(a))break;if(0===a&&o+1<i&&0===e[o+1])break;++o,++r}n.push(r-1);for(var s=t;s<o;++s)n.push(e[s]+256&255);return o}:(e,t,n)=>{for(var r=0,i=e.length,o=t;o<i&&r<64;){var a=e[o];if(0===a)break;if(he(a)&&o+1<i&&he(e[o+1]))break;++o,++r}n.push(64|r-1);for(var s=t;s<o;++s){var u=e[s];n.push(u+65536>>8&255,u+256&255)}return o})(e,t,n);return n},S.INDEX=function(e){for(var t=1,n=[t],r=[],i=0;i<e.length;i+=1){var o=S.OBJECT(e[i]);Array.prototype.push.apply(r,o),t+=o.length,n.push(t)}if(0===r.length)return[0,0];for(var a=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,u=[void 0,S.BYTE,S.USHORT,S.UINT24,S.ULONG][s],l=0;l<n.length;l+=1){var c=u(n[l]);Array.prototype.push.apply(a,c)}return Array.prototype.concat(S.Card16(e.length),S.OffSize(s),a,r)},u.INDEX=function(e){return S.INDEX(e).length},S.DICT=function(e){for(var t=[],n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=parseInt(n[i],0),a=e[o];t=(t=t.concat(S.OPERAND(a.value,a.type))).concat(S.OPERATOR(o))}return t},u.DICT=function(e){return S.DICT(e).length},S.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},S.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)j.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(S.OPERAND(e[r],t[r]));else if("SID"===t)n=n.concat(S.NUMBER(e));else if("offset"===t)n=n.concat(S.NUMBER32(e));else if("number"===t)n=n.concat(S.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);n=n.concat(S.REAL(e))}return n},S.OP=S.BYTE,u.OP=u.BYTE;var fe="function"==typeof WeakMap&&new WeakMap;function i(e,t,n){if(t.length&&("coverageFormat"!==t[0].name||1===t[0].value))for(var r=0;r<t.length;r+=1){var i=t[r];this[i.name]=i.value}if(this.tableName=e,this.fields=t,n)for(var o=Object.keys(n),a=0;a<o.length;a+=1){var s=o[a],u=n[s];void 0!==this[s]&&(this[s]=u)}}function pe(e,t,n){void 0===n&&(n=t.length);var r=new Array(t.length+1);r[0]={name:e+"Count",type:"USHORT",value:n};for(var i=0;i<t.length;i++)r[i+1]={name:e+i,type:"USHORT",value:t[i]};return r}function ye(e,t,n){var r=t.length,i=new Array(r+1);i[0]={name:e+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i[o+1]={name:e+o,type:"TABLE",value:n(t[o],o)};return i}function de(e,t,n){var r=t.length,i=[];i[0]={name:e+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i=i.concat(n(t[o],o));return i}function ve(e){1===e.format?i.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(pe("glyph",e.glyphs))):2===e.format?i.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(de("rangeRecord",e.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):j.assert(!1,"Coverage format must be 1 or 2.")}function me(e){i.call(this,"scriptListTable",de("scriptRecord",e,function(e,t){var n=e.script,r=n.defaultLangSys;return j.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new i("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new i("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(pe("featureIndex",r.featureIndexes)))}].concat(de("langSys",n.langSysRecords,function(e,t){var n=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new i("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(pe("featureIndex",n.featureIndexes)))}]})))}]}))}function be(e){i.call(this,"featureListTable",de("featureRecord",e,function(e,t){var n=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new i("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(pe("lookupListIndex",n.lookupListIndexes)))}]}))}function ge(e,n){i.call(this,"lookupListTable",ye("lookup",e,function(e){var t=n[e.lookupType];return j.assert(!!t,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new i("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(ye("subtable",e.subtables,t)))}))}S.CHARSTRING=function(e){if(fe){var t=fe.get(e);if(void 0!==t)return t}for(var n=[],r=e.length,i=0;i<r;i+=1)var o=e[i],n=n.concat(S[o.type](o.value));return fe&&fe.set(e,n),n},u.CHARSTRING=function(e){return S.CHARSTRING(e).length},S.OBJECT=function(e){var t=S[e.type];return j.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},u.OBJECT=function(e){var t=u[e.type];return j.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},S.TABLE=function(e){for(var t=[],n=e.fields.length,r=[],i=[],o=0;o<n;o+=1){var a=e.fields[o],s=S[a.type],u=(j.argument(void 0!==s,"No encoding function for field type "+a.type+" ("+a.name+")"),e[a.name]),s=s(u=void 0===u?a.value:u);"TABLE"===a.type?(i.push(t.length),t=t.concat([0,0]),r.push(s)):t=t.concat(s)}for(var l=0;l<r.length;l+=1){var c=i[l],h=t.length;j.argument(h<65536,"Table "+e.tableName+" too big."),t[c]=h>>8,t[c+1]=255&h,t=t.concat(r[l])}return t},u.TABLE=function(e){for(var t=0,n=e.fields.length,r=0;r<n;r+=1){var i=e.fields[r],o=u[i.type],a=(j.argument(void 0!==o,"No sizeOf function for field type "+i.type+" ("+i.name+")"),e[i.name]);t+=o(a=void 0===a?i.value:a),"TABLE"===i.type&&(t+=2)}return t},S.RECORD=S.TABLE,u.RECORD=u.TABLE,S.LITERAL=function(e){return e},u.LITERAL=function(e){return e.length},i.prototype.encode=function(){return S.TABLE(this)},i.prototype.sizeOf=function(){return u.TABLE(this)};var k={Table:i,Record:i,Coverage:(ve.prototype=Object.create(i.prototype)).constructor=ve,ScriptList:(me.prototype=Object.create(i.prototype)).constructor=me,FeatureList:(be.prototype=Object.create(i.prototype)).constructor=be,LookupList:(ge.prototype=Object.create(i.prototype)).constructor=ge,ushortList:pe,tableList:ye,recordList:de};function we(e,t){return e.getUint8(t)}function xe(e,t){return e.getUint16(t,!1)}function _e(e,t){return e.getUint32(t,!1)}function Se(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var ke={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function l(e,t){this.data=e,this.offset=t,this.relativeOffset=0}l.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},l.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},l.prototype.parseCard8=l.prototype.parseByte,l.prototype.parseCard16=l.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},l.prototype.parseSID=l.prototype.parseUShort,l.prototype.parseOffset16=l.prototype.parseUShort,l.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},l.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},l.prototype.parseOffset32=l.prototype.parseULong=function(){var e=_e(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},l.prototype.parseFixed=function(){var e=Se(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},l.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=e;for(var i=0;i<e;i++)r+=String.fromCharCode(t.getUint8(n+i));return r},l.prototype.parseTag=function(){return this.parseString(4)},l.prototype.parseLongDateTime=function(){var e=_e(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},l.prototype.parseVersion=function(e){var t=xe(this.data,this.offset+this.relativeOffset),n=xe(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t+n/(e=void 0===e?4096:e)/10},l.prototype.skip=function(e,t){this.relativeOffset+=ke[e]*(t=void 0===t?1:t)},l.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint32(r),r+=4;return this.relativeOffset+=4*e,t},l.prototype.parseOffset16List=l.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint16(r),r+=2;return this.relativeOffset+=2*e,t},l.prototype.parseShortList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getInt16(r),r+=2;return this.relativeOffset+=2*e,t},l.prototype.parseByteList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint8(r++);return this.relativeOffset+=e,t},l.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},l.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},l.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=Object.keys(t),i=0;i<e;i++){for(var o={},a=0;a<r.length;a++){var s=r[a],u=t[s];o[s]=u.call(this)}n[i]=o}return n},l.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=Object.keys(t),i=0;i<e;i++){for(var o={},a=0;a<r.length;a++){var s=r[a],u=t[s];o[s]=u.call(this)}n[i]=o}return n},l.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r],o=e[i];n[i]=o.call(this)}return n},l.prototype.parseValueRecord=function(e){var t;if(0!==(e=void 0===e?this.parseUShort():e))return t={},1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t},l.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),n=new Array(t),r=0;r<t;r++)n[r]=this.parseValueRecord(e);return n},l.prototype.parsePointer=function(e){var t=this.parseOffset16();if(0<t)return new l(this.data,this.offset+t).parseStruct(e)},l.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(0<t)return new l(this.data,this.offset+t).parseStruct(e)},l.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),n=t.length,r=this.relativeOffset,i=new Array(n),o=0;o<n;o++){var a=t[o];if(0===a)i[o]=void 0;else if(this.relativeOffset=a,e){for(var s=this.parseOffset16List(),u=new Array(s.length),l=0;l<s.length;l++)this.relativeOffset=a+s[l],u[l]=e.call(this);i[o]=u}else i[o]=this.parseUShortList()}return this.relativeOffset=r,i},l.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),n=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(n)};if(2!==t)throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.");for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}},l.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:l.uShort,end:l.uShort,classId:l.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},l.list=function(e,t){return function(){return this.parseList(e,t)}},l.list32=function(e,t){return function(){return this.parseList32(e,t)}},l.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},l.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},l.pointer=function(e){return function(){return this.parsePointer(e)}},l.pointer32=function(e){return function(){return this.parsePointer32(e)}},l.tag=l.prototype.parseTag,l.byte=l.prototype.parseByte,l.uShort=l.offset16=l.prototype.parseUShort,l.uShortList=l.prototype.parseUShortList,l.uLong=l.offset32=l.prototype.parseULong,l.uLongList=l.prototype.parseULongList,l.struct=l.prototype.parseStruct,l.coverage=l.prototype.parseCoverage,l.classDef=l.prototype.parseClassDef;var Oe={reserved:l.uShort,reqFeatureIndex:l.uShort,featureIndexes:l.uShortList},L=(l.prototype.parseScriptList=function(){return this.parsePointer(l.recordList({tag:l.tag,script:l.pointer({defaultLangSys:l.pointer(Oe),langSysRecords:l.recordList({tag:l.tag,langSys:l.pointer(Oe)})})}))||[]},l.prototype.parseFeatureList=function(){return this.parsePointer(l.recordList({tag:l.tag,feature:l.pointer({featureParams:l.offset16,lookupListIndexes:l.uShortList})}))||[]},l.prototype.parseLookupList=function(r){return this.parsePointer(l.list(l.pointer(function(){var e=this.parseUShort(),t=(j.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown."),this.parseUShort()),n=16&t;return{lookupType:e,lookupFlag:t,subtables:this.parseList(l.pointer(r[e])),markFilteringSet:n?this.parseUShort():void 0}})))||[]},l.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();return j.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:l.offset32,featureTableSubstitutionOffset:l.offset32})})||[]},{getByte:we,getCard8:we,getUShort:xe,getCard16:xe,getShort:function(e,t){return e.getInt16(t,!1)},getULong:_e,getFixed:Se,getTag:function(e,t){for(var n="",r=t;r<t+4;r+=1)n+=String.fromCharCode(e.getInt8(r));return n},getOffset:function(e,t,n){for(var r=0,i=0;i<n;i+=1)r=(r<<=8)+e.getUint8(t+i);return r},getBytes:function(e,t,n){for(var r=[],i=t;i<n;i+=1)r.push(e.getUint8(i));return r},bytesToString:function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t},Parser:l});var Pe={parse:function(e,t){for(var n={},r=(n.version=L.getUShort(e,t),j.argument(0===n.version,"cmap table version should be 0."),n.numTables=L.getUShort(e,t+2),-1),i=n.numTables-1;0<=i;--i){var o=L.getUShort(e,t+4+8*i),a=L.getUShort(e,t+4+8*i+2);if(3===o&&(0===a||1===a||10===a)||0===o&&(0===a||1===a||2===a||3===a||4===a)){r=L.getULong(e,t+4+8*i+4);break}}if(-1===r)throw new Error("No valid cmap sub-tables found.");var s=new L.Parser(e,t+r);if(n.format=s.parseUShort(),12===n.format){var u,l=n,c=s;c.parseUShort(),l.length=c.parseULong(),l.language=c.parseULong(),l.groupCount=u=c.parseULong(),l.glyphIndexMap={};for(var h=0;h<u;h+=1)for(var f=c.parseULong(),p=c.parseULong(),y=c.parseULong(),d=f;d<=p;d+=1)l.glyphIndexMap[d]=y,y++}else{if(4!==n.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");var v=n,m=e,b=t,g=r;v.length=s.parseUShort(),v.language=s.parseUShort(),v.segCount=w=s.parseUShort()>>1,s.skip("uShort",3),v.glyphIndexMap={};for(var w,x=new L.Parser(m,b+g+14),_=new L.Parser(m,b+g+16+2*w),S=new L.Parser(m,b+g+16+4*w),k=new L.Parser(m,b+g+16+6*w),O=b+g+16+8*w,P=0;P<w-1;P+=1)for(var T=void 0,E=x.parseUShort(),R=_.parseUShort(),A=S.parseShort(),M=k.parseUShort(),C=R;C<=E;C+=1)0!==M?(O=(O=k.offset+k.relativeOffset-2)+M+2*(C-R),0!==(T=L.getUShort(m,O))&&(T=T+A&65535)):T=C+A&65535,v.glyphIndexMap[C]=T}return n},make:function(e){for(var t=!0,n=e.length-1;0<n;--n)if(65535<e.get(n).unicode){t=!1;break}var r,i,o=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}],a=(o=(o=t?o:o.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new k.Table("cmap",o));for(a.segments=[],n=0;n<e.length;n+=1){for(var s=e.get(n),u=0;u<s.unicodes.length;u+=1)r=s.unicodes[u],i=n,a.segments.push({end:r,start:r,delta:-(r-i),offset:0,glyphIndex:i});a.segments=a.segments.sort(function(e,t){return e.start-t.start})}a.segments.push({end:65535,start:65535,delta:1,offset:0});var l=a.segments.length,c=0,h=[],f=[],p=[],y=[],d=[],v=[];for(n=0;n<l;n+=1){var m=a.segments[n];m.end<=65535&&m.start<=65535?(h=h.concat({name:"end_"+n,type:"USHORT",value:m.end}),f=f.concat({name:"start_"+n,type:"USHORT",value:m.start}),p=p.concat({name:"idDelta_"+n,type:"SHORT",value:m.delta}),y=y.concat({name:"idRangeOffset_"+n,type:"USHORT",value:m.offset}),void 0!==m.glyphId&&(d=d.concat({name:"glyph_"+n,type:"USHORT",value:m.glyphId}))):c+=1,t||void 0===m.glyphIndex||(v=(v=(v=v.concat({name:"cmap12Start_"+n,type:"ULONG",value:m.start})).concat({name:"cmap12End_"+n,type:"ULONG",value:m.end})).concat({name:"cmap12Glyph_"+n,type:"ULONG",value:m.glyphIndex}))}return a.segCountX2=2*(l-c),a.searchRange=2*Math.pow(2,Math.floor(Math.log(l-c)/Math.log(2))),a.entrySelector=Math.log(a.searchRange/2)/Math.log(2),a.rangeShift=a.segCountX2-a.searchRange,a.fields=a.fields.concat(h),a.fields.push({name:"reservedPad",type:"USHORT",value:0}),a.fields=a.fields.concat(f),a.fields=a.fields.concat(p),a.fields=a.fields.concat(y),a.fields=a.fields.concat(d),a.cmap4Length=14+2*h.length+2+2*f.length+2*p.length+2*y.length+2*d.length,t||(o=16+4*v.length,a.cmap12Offset=20+a.cmap4Length,a.fields=a.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:o},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:v.length/3}]),a.fields=a.fields.concat(v)),a}},Te=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ee=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Re=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],c=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ae(e){this.font=e}function Me(e){this.cmap=e}function Ce(e,t){this.encoding=e,this.charset=t}function je(e){switch(e.version){case 1:this.names=c.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<c.length?this.names[t]=c[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-c.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var n=0;n<e.numberOfGlyphs;n++)this.names[n]=c[n+e.glyphNameIndex[n]];break;default:this.names=[]}}function Le(e,t){if(t.lowMemory){var n=e;n._IndexToUnicodeMap={};for(var r=n.tables.cmap.glyphIndexMap,i=Object.keys(r),o=0;o<i.length;o+=1){var a=i[o],s=r[a];void 0===n._IndexToUnicodeMap[s]?n._IndexToUnicodeMap[s]={unicodes:[parseInt(a)]}:n._IndexToUnicodeMap[s].unicodes.push(parseInt(a))}}else{for(var u=e,l=u.tables.cmap.glyphIndexMap,c=Object.keys(l),h=0;h<c.length;h+=1){var f,p=c[h],y=l[p];(f=u.glyphs.get(y)).addUnicode(parseInt(p))}for(var d=0;d<u.glyphs.length;d+=1)f=u.glyphs.get(d),u.cffEncoding?u.isCIDFont?f.name="gid"+d:f.name=u.cffEncoding.charset[d]:u.glyphNames.names&&(f.name=u.glyphNames.glyphIndexToName(d))}}Ae.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.font.glyphs;if(n)for(var r=0;r<n.length;r+=1)for(var i=n.get(r),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===t)return r;return null},Me.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},Ce.prototype.charToGlyphIndex=function(e){e=e.codePointAt(0),e=this.encoding[e];return this.charset.indexOf(e)},je.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},je.prototype.glyphIndexToName=function(e){return this.names[e]};var Ie={line:function(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke()}};function h(e){this.bindConstructorValues(e)}function Ne(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(e){t[n]=e},enumerable:!0,configurable:!0})}function De(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];r.path.unitsPerEm=e.unitsPerEm,this.glyphs[n]=r}this.length=t&&t.length||0}h.prototype.bindConstructorValues=function(e){var t;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(t=e.path||new f,{configurable:!0,get:function(){return t="function"==typeof t?t():t},set:function(e){t=e}}))},h.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},h.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},h.prototype.getPath=function(e,t,n,r,i){e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72;for(var o,a,s=(r=r||{}).xScale,u=r.yScale,l=((o=r.hinting&&i&&i.hinting?this.path&&i.hinting.exec(this,n):o)?(a=i.hinting.getCommands(o),e=Math.round(e),t=Math.round(t),s=u=1):(a=this.path.commands,r=1/(this.path.unitsPerEm||1e3)*n,void 0===s&&(s=r),void 0===u&&(u=r)),new f),c=0;c<a.length;c+=1){var h=a[c];"M"===h.type?l.moveTo(e+h.x*s,t+-h.y*u):"L"===h.type?l.lineTo(e+h.x*s,t+-h.y*u):"Q"===h.type?l.quadraticCurveTo(e+h.x1*s,t+-h.y1*u,e+h.x*s,t+-h.y*u):"C"===h.type?l.curveTo(e+h.x1*s,t+-h.y1*u,e+h.x2*s,t+-h.y2*u,e+h.x*s,t+-h.y*u):"Z"===h.type&&l.closePath()}return l},h.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){var r=this.points[n];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return j.argument(0===t.length,"There are still points left in the current contour."),e},h.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];"Z"!==i.type&&(t.push(i.x),n.push(i.y)),"Q"!==i.type&&"C"!==i.type||(t.push(i.x1),n.push(i.y1)),"C"===i.type&&(t.push(i.x2),n.push(i.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},h.prototype.draw=function(e,t,n,r,i){this.getPath(t,n,r,i).draw(e)},h.prototype.drawPoints=function(o,e,t,n){function r(e,t,n,r){o.beginPath();for(var i=0;i<e.length;i+=1)o.moveTo(t+e[i].x*r,n+e[i].y*r),o.arc(t+e[i].x*r,n+e[i].y*r,2,0,2*Math.PI,!1);o.closePath(),o.fill()}e=void 0!==e?e:0,t=void 0!==t?t:0;for(var n=1/this.path.unitsPerEm*(n=void 0!==n?n:24),i=[],a=[],s=this.path,u=0;u<s.commands.length;u+=1){var l=s.commands[u];void 0!==l.x&&i.push({x:l.x,y:-l.y}),void 0!==l.x1&&a.push({x:l.x1,y:-l.y1}),void 0!==l.x2&&a.push({x:l.x2,y:-l.y2})}o.fillStyle="blue",r(i,e,t,n),o.fillStyle="red",r(a,e,t,n)},h.prototype.drawMetrics=function(e,t,n,r){t=void 0!==t?t:0,n=void 0!==n?n:0,r=1/this.path.unitsPerEm*(r=void 0!==r?r:24),e.lineWidth=1,e.strokeStyle="black",Ie.line(e,t,-1e4,t,1e4),Ie.line(e,-1e4,n,1e4,n);var i=this.xMin||0,o=this.yMin||0,a=this.xMax||0,s=this.yMax||0,u=this.advanceWidth||0;e.strokeStyle="blue",Ie.line(e,t+i*r,-1e4,t+i*r,1e4),Ie.line(e,t+a*r,-1e4,t+a*r,1e4),Ie.line(e,-1e4,n+-o*r,1e4,n+-o*r),Ie.line(e,-1e4,n+-s*r,1e4,n+-s*r),e.strokeStyle="green",Ie.line(e,t+u*r,-1e4,t+u*r,1e4)},De.prototype.get=function(e){if(void 0===this.glyphs[e]){this.font._push(e),"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],n=this.font._IndexToUnicodeMap[e];if(n)for(var r=0;r<n.unicodes.length;r++)t.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]},De.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var m={GlyphSet:De,glyphLoader:function(e,t){return new h({index:t,font:e})},ttfGlyphLoader:function(n,e,r,i,o,a){return function(){var t=new h({index:e,font:n});return t.path=function(){r(t,i,o);var e=a(n.glyphs,t);return e.unitsPerEm=n.unitsPerEm,e},Ne(t,"xMin","_xMin"),Ne(t,"xMax","_xMax"),Ne(t,"yMin","_yMin"),Ne(t,"yMax","_yMax"),t}},cffGlyphLoader:function(n,e,r,i){return function(){var t=new h({index:e,font:n});return t.path=function(){var e=r(n,t,i);return e.unitsPerEm=n.unitsPerEm,e},t}}};function Be(e){e=e.length<1240?107:e.length<33900?1131:32768;return e}function p(e,t,n){var r,i=[],o=[],a=L.getCard16(e,t);if(0!==a){for(var s=L.getByte(e,t+2),u=t+(a+1)*s+2,l=t+3,c=0;c<a+1;c+=1)i.push(L.getOffset(e,l,s)),l+=s;r=u+i[a]}else r=t+2;for(var h=0;h<i.length-1;h+=1){var f=L.getBytes(e,u+i[h],u+i[h+1]);n&&(f=n(f)),o.push(f)}return{objects:o,startOffset:t,endOffset:r}}function Fe(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t){for(var n=e,r="",i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var o=n.parseByte(),a=o>>4,o=15&o;if(15==a)break;if(r+=i[a],15==o)break;r+=i[o]}return parseFloat(r)}if(32<=t&&t<=246)return t-139;if(247<=t&&t<=250)return 256*(t-247)+e.parseByte()+108;if(251<=t&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function Ue(e,t,n){var r=new L.Parser(e,t=void 0!==t?t:0),i=[],o=[];for(n=void 0!==n?n:e.length;r.relativeOffset<n;){var a=r.parseByte();a<=21?(12===a&&(a=1200+r.parseByte()),i.push([a,o]),o=[]):o.push(Fe(r,a))}for(var s=i,u={},l=0;l<s.length;l+=1){var c=s[l][0],h=s[l][1],f=void 0,f=1===h.length?h[0]:h;if(u.hasOwnProperty(c)&&!isNaN(u[c]))throw new Error("Object "+u+" already has key "+c);u[c]=f}return u}function ze(e,t){return t=t<=390?Te[t]:e[t-391]}function Ge(e,t,n){for(var r,i={},o=0;o<t.length;o+=1){var a=t[o];if(Array.isArray(a.type)){var s=[];s.length=a.type.length;for(var u=0;u<a.type.length;u++)void 0===(r=void 0!==e[a.op]?e[a.op][u]:void 0)&&(r=void 0!==a.value&&void 0!==a.value[u]?a.value[u]:null),"SID"===a.type[u]&&(r=ze(n,r)),s[u]=r;i[a.name]=s}else void 0===(r=e[a.op])&&(r=void 0!==a.value?a.value:null),"SID"===a.type&&(r=ze(n,r)),i[a.name]=r}return i}var He=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ve=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Ye(e,t,n,r){return Ge(Ue(e,t,n),Ve,r)}function We(e,t,n,r){for(var i=[],o=0;o<n.length;o+=1){var a=new DataView(new Uint8Array(n[o]).buffer),a=(s=r,Ge(Ue(a,0,a.byteLength),He,s)),s=(a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0,a.private[0]),u=a.private[1];0!==s&&0!==u&&(s=Ye(e,u+t,s,r),a._defaultWidthX=s.defaultWidthX,a._nominalWidthX=s.nominalWidthX,0!==s.subrs&&(u=p(e,u+s.subrs+t),a._subrs=u.objects,a._subrsBias=Be(a._subrs)),a._privateDict=s),i.push(a)}return i}function qe(v,m,e){var b,g,w,x,t,_,S,n,k,O=new f,P=[],T=0,E=!1,R=!1,A=0,M=0,C=(k=(v.isCIDFont?(t=v.tables.cff.topDict._fdSelect[m.index],t=v.tables.cff.topDict._fdArray[t],_=t._subrs,S=t._subrsBias,n=t._defaultWidthX,t):(_=v.tables.cff.topDict._subrs,S=v.tables.cff.topDict._subrsBias,n=v.tables.cff.topDict._defaultWidthX,v.tables.cff.topDict))._nominalWidthX,n);function j(e,t){R&&O.closePath(),O.moveTo(e,t),R=!0}function L(){P.length%2==0||E||(C=P.shift()+k),T+=P.length>>1,P.length=0,E=!0}return function e(t){for(var n,r,i,o,a,s,u,l,c,h,f,p,y=0;y<t.length;){var d=t[y];switch(y+=1,d){case 1:case 3:L();break;case 4:1<P.length&&!E&&(C=P.shift()+k,E=!0),M+=P.pop(),j(A,M);break;case 5:for(;0<P.length;)A+=P.shift(),M+=P.shift(),O.lineTo(A,M);break;case 6:for(;0<P.length&&(A+=P.shift(),O.lineTo(A,M),0!==P.length);)M+=P.shift(),O.lineTo(A,M);break;case 7:for(;0<P.length&&(M+=P.shift(),O.lineTo(A,M),0!==P.length);)A+=P.shift(),O.lineTo(A,M);break;case 8:for(;0<P.length;)b=A+P.shift(),g=M+P.shift(),w=b+P.shift(),x=g+P.shift(),A=w+P.shift(),M=x+P.shift(),O.curveTo(b,g,w,x,A,M);break;case 10:a=P.pop()+S,(s=_[a])&&e(s);break;case 11:return;case 12:switch(d=t[y],y+=1,d){case 35:b=A+P.shift(),g=M+P.shift(),w=b+P.shift(),x=g+P.shift(),u=w+P.shift(),l=x+P.shift(),c=u+P.shift(),h=l+P.shift(),f=c+P.shift(),p=h+P.shift(),A=f+P.shift(),M=p+P.shift(),P.shift(),O.curveTo(b,g,w,x,u,l),O.curveTo(c,h,f,p,A,M);break;case 34:b=A+P.shift(),g=M,w=b+P.shift(),x=g+P.shift(),u=w+P.shift(),l=x,c=u+P.shift(),h=x,f=c+P.shift(),p=M,A=f+P.shift(),O.curveTo(b,g,w,x,u,l),O.curveTo(c,h,f,p,A,M);break;case 36:b=A+P.shift(),g=M+P.shift(),w=b+P.shift(),x=g+P.shift(),u=w+P.shift(),l=x,c=u+P.shift(),h=x,f=c+P.shift(),p=h+P.shift(),A=f+P.shift(),O.curveTo(b,g,w,x,u,l),O.curveTo(c,h,f,p,A,M);break;case 37:b=A+P.shift(),g=M+P.shift(),w=b+P.shift(),x=g+P.shift(),u=w+P.shift(),l=x+P.shift(),c=u+P.shift(),h=l+P.shift(),f=c+P.shift(),p=h+P.shift(),Math.abs(f-A)>Math.abs(p-M)?A=f+P.shift():M=p+P.shift(),O.curveTo(b,g,w,x,u,l),O.curveTo(c,h,f,p,A,M);break;default:m.index,P.length=0}break;case 14:0<P.length&&!E&&(C=P.shift()+k,E=!0),R&&(O.closePath(),R=!1);break;case 18:L();break;case 19:case 20:L(),y+=T+7>>3;break;case 21:2<P.length&&!E&&(C=P.shift()+k,E=!0),M+=P.pop(),j(A+=P.pop(),M);break;case 22:1<P.length&&!E&&(C=P.shift()+k,E=!0),j(A+=P.pop(),M);break;case 23:L();break;case 24:for(;2<P.length;)b=A+P.shift(),g=M+P.shift(),w=b+P.shift(),x=g+P.shift(),A=w+P.shift(),M=x+P.shift(),O.curveTo(b,g,w,x,A,M);A+=P.shift(),M+=P.shift(),O.lineTo(A,M);break;case 25:for(;6<P.length;)A+=P.shift(),M+=P.shift(),O.lineTo(A,M);b=A+P.shift(),g=M+P.shift(),w=b+P.shift(),x=g+P.shift(),A=w+P.shift(),M=x+P.shift(),O.curveTo(b,g,w,x,A,M);break;case 26:for(P.length%2&&(A+=P.shift());0<P.length;)b=A,g=M+P.shift(),w=b+P.shift(),x=g+P.shift(),A=w,M=x+P.shift(),O.curveTo(b,g,w,x,A,M);break;case 27:for(P.length%2&&(M+=P.shift());0<P.length;)b=A+P.shift(),g=M,w=b+P.shift(),x=g+P.shift(),A=w+P.shift(),M=x,O.curveTo(b,g,w,x,A,M);break;case 28:n=t[y],P.push((n<<24|(r=t[y+1])<<16)>>16),y+=2;break;case 29:a=P.pop()+v.gsubrsBias,(s=v.gsubrs[a])&&e(s);break;case 30:for(;0<P.length&&(b=A,g=M+P.shift(),w=b+P.shift(),x=g+P.shift(),A=w+P.shift(),M=x+(1===P.length?P.shift():0),O.curveTo(b,g,w,x,A,M),0!==P.length);)b=A+P.shift(),g=M,w=b+P.shift(),x=g+P.shift(),M=x+P.shift(),A=w+(1===P.length?P.shift():0),O.curveTo(b,g,w,x,A,M);break;case 31:for(;0<P.length&&(b=A+P.shift(),g=M,w=b+P.shift(),x=g+P.shift(),M=x+P.shift(),A=w+(1===P.length?P.shift():0),O.curveTo(b,g,w,x,A,M),0!==P.length);)b=A,g=M+P.shift(),w=b+P.shift(),x=g+P.shift(),A=w+P.shift(),M=x+(1===P.length?P.shift():0),O.curveTo(b,g,w,x,A,M);break;default:d<32?m.index:d<247?P.push(d-139):d<251?(n=t[y],y+=1,P.push(256*(d-247)+n+108)):d<255?(n=t[y],y+=1,P.push(256*-(d-251)-n-108)):(n=t[y],r=t[y+1],i=t[y+2],o=t[y+3],y+=4,P.push((n<<24|r<<16|i<<8|o)/65536))}}}(e),m.advanceWidth=C,O}function Xe(e,t){var n,r=Te.indexOf(e);return 0<=r&&(n=r),0<=(r=t.indexOf(e))?n=r+Te.length:(n=Te.length+t.length,t.push(e)),n}function Ze(e,t,n){for(var r={},i=0;i<e.length;i+=1){var o=e[i],a=t[o.name];void 0===a||function e(t,n){if(t===n)return 1;if(Array.isArray(t)&&Array.isArray(n)&&t.length===n.length){for(var r=0;r<t.length;r+=1)if(!e(t[r],n[r]))return;return 1}}(a,o.value)||("SID"===o.type&&(a=Xe(a,n)),r[o.op]={name:o.name,type:o.type,value:a})}return r}function Je(e,t){var n=new k.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Ze(He,e,t),n}function Ke(e){var t=new k.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function Qe(e){for(var t=new k.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var r=e.get(n),i=(e=>{for(var t=[],n=e.path,r=(t.push({name:"width",type:"NUMBER",value:e.advanceWidth}),0),i=0,o=0;o<n.commands.length;o+=1){var a,s,u,l,c=void 0,h=void 0,f=n.commands[o];"Q"===f.type&&(f={type:"C",x:f.x,y:f.y,x1:Math.round(1/3*r+2/3*f.x1),y1:Math.round(1/3*i+2/3*f.y1),x2:Math.round(1/3*f.x+2/3*f.x1),y2:Math.round(1/3*f.y+2/3*f.y1)}),"M"===f.type?(c=Math.round(f.x-r),h=Math.round(f.y-i),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:h}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(f.x),i=Math.round(f.y)):"L"===f.type?(c=Math.round(f.x-r),h=Math.round(f.y-i),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:h}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(f.x),i=Math.round(f.y)):"C"===f.type&&(a=Math.round(f.x1-r),s=Math.round(f.y1-i),u=Math.round(f.x2-f.x1),l=Math.round(f.y2-f.y1),c=Math.round(f.x-f.x2),h=Math.round(f.y-f.y2),t.push({name:"dx1",type:"NUMBER",value:a}),t.push({name:"dy1",type:"NUMBER",value:s}),t.push({name:"dx2",type:"NUMBER",value:u}),t.push({name:"dy2",type:"NUMBER",value:l}),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:h}),t.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(f.x),i=Math.round(f.y))}return t.push({name:"endchar",type:"OP",value:14}),t})(r);t.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return t}var $e={parse:function(u,l,c,e){c.tables.cff={},t=u,n=l,(r={}).formatMajor=L.getCard8(t,n),r.formatMinor=L.getCard8(t,n+1),r.size=L.getCard8(t,n+2),r.offsetSize=L.getCard8(t,n+3),r.startOffset=n,r.endOffset=n+4;var t=p(u,r.endOffset,L.bytesToString),n=p(u,t.endOffset),r=p(u,n.endOffset,L.bytesToString),t=p(u,r.endOffset);if(c.gsubrs=t.objects,c.gsubrsBias=Be(c.gsubrs),1!==(t=We(u,l,n.objects,r.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+t.length);var h=t[0];if((c.tables.cff.topDict=h)._privateDict&&(c.defaultWidthX=h._privateDict.defaultWidthX,c.nominalWidthX=h._privateDict.nominalWidthX),void 0!==h.ros[0]&&void 0!==h.ros[1]&&(c.isCIDFont=!0),c.isCIDFont){n=h.fdArray,t=h.fdSelect;if(0===n||0===t)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");n=p(u,n+=l),n=We(u,l,n.objects,r.objects);h._fdArray=n,h._fdSelect=((e,t,n,r)=>{var i,o=[],a=new L.Parser(e,t);if(0===(e=a.parseCard8()))for(var s=0;s<n;s++){if(r<=(i=a.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");o.push(i)}else{if(3!==e)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+e);var u,l=a.parseCard16(),c=a.parseCard16();if(0!==c)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var h=0;h<l;h++){if(i=a.parseCard8(),u=a.parseCard16(),r<=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");if(n<u)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+u);for(;c<u;c++)o.push(i);c=u}if(u!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+u)}return o})(u,t+=l,c.numGlyphs,n.length)}var f,t=l+h.private[1],n=Ye(u,t,h.private[0],r.objects),t=(c.defaultWidthX=n.defaultWidthX,c.nominalWidthX=n.nominalWidthX,0!==n.subrs?(t=t+n.subrs,n=p(u,t),c.subrs=n.objects,c.subrsBias=Be(c.subrs)):(c.subrs=[],c.subrsBias=0),e.lowMemory?(f=((e,t)=>{var n=[],r=L.getCard16(e,t);if(0!==r){for(var i=L.getByte(e,t+2),o=t+(r+1)*i+2,a=t+3,s=0;s<r+1;s+=1)n.push(L.getOffset(e,a,i)),a+=i;o=o+n[r]}else o=t+2;return{offsets:n,startOffset:t,endOffset:o}})(u,l+h.charStrings),c.nGlyphs=f.offsets.length):(f=p(u,l+h.charStrings),c.nGlyphs=f.objects.length),((e,t,n,r)=>{var i=new L.Parser(e,t),o=(--n,[".notdef"]);if(0===(e=i.parseCard8()))for(var a=0;a<n;a+=1)s=i.parseSID(),o.push(ze(r,s));else if(1===e)for(;o.length<=n;)for(var s=i.parseSID(),u=i.parseCard8(),l=0;l<=u;l+=1)o.push(ze(r,s)),s+=1;else{if(2!==e)throw new Error("Unknown charset format "+e);for(;o.length<=n;){s=i.parseSID(),u=i.parseCard16();for(var c=0;c<=u;c+=1)o.push(ze(r,s)),s+=1}}return o})(u,l+h.charset,c.nGlyphs,r.objects));if(0===h.encoding?c.cffEncoding=new Ce(Ee,t):1===h.encoding?c.cffEncoding=new Ce(Re,t):c.cffEncoding=((e,t,n)=>{var r={},i=new L.Parser(e,t);if(0===(e=i.parseCard8()))for(var o=i.parseCard8(),a=0;a<o;a+=1)r[u=i.parseCard8()]=a;else{if(1!==e)throw new Error("Unknown encoding format "+e);for(var s=i.parseCard8(),u=1,l=0;l<s;l+=1)for(var c=i.parseCard8(),h=i.parseCard8(),f=c;f<=c+h;f+=1)r[f]=u,u+=1}return new Ce(r,n)})(u,l+h.encoding,t),c.encoding=c.encoding||c.cffEncoding,c.glyphs=new m.GlyphSet(c),e.lowMemory)c._push=function(e){t=e,n=f.offsets,r=u,s=l+h.charStrings,o=L.getCard16(r,s),(a=0)!==o&&(a=s+(o+1)*L.getByte(r,s+2)+2),o=L.getBytes(r,a+n[t],a+n[t+1]);var t,n,r,i,o,a,s=o=i?i(o):o;c.glyphs.push(e,m.cffGlyphLoader(c,e,qe,s))};else for(var i=0;i<c.nGlyphs;i+=1){var o=f.objects[i];c.glyphs.push(i,m.cffGlyphLoader(c,i,qe,o))}},make:function(e,t){for(var n,r=new k.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/t.unitsPerEm,i={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o=[],a=1;a<e.length;a+=1)n=e.get(a),o.push(n.name);var s,u,l=[],t=(r.header=new k.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),r.nameIndex=(e=>{var t=new k.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t})([t.postScriptName]),Je(i,l)),c=(r.topDictIndex=Ke(t),r.globalSubrIndex=new k.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),r.charsets=((e,t)=>{for(var n=new k.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var i=Xe(e[r],t);n.fields.push({name:"glyph_"+r,type:"SID",value:i})}return n})(o,l),r.charStringsIndex=Qe(e),r.privateDict=(c={},s=l,(u=new k.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Ze(Ve,c,s),u),r.stringIndex=(e=>{var t=new k.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t})(l),r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf());return i.charset=c,i.encoding=0,i.charStrings=i.charset+r.charsets.sizeOf(),i.private[1]=i.charStrings+r.charStringsIndex.sizeOf(),t=Je(i,l),r.topDictIndex=Ke(t),r}};var et={parse:function(e,t){var n={},e=new L.Parser(e,t);return n.version=e.parseVersion(),n.fontRevision=Math.round(1e3*e.parseFixed())/1e3,n.checkSumAdjustment=e.parseULong(),n.magicNumber=e.parseULong(),j.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=e.parseUShort(),n.unitsPerEm=e.parseUShort(),n.created=e.parseLongDateTime(),n.modified=e.parseLongDateTime(),n.xMin=e.parseShort(),n.yMin=e.parseShort(),n.xMax=e.parseShort(),n.yMax=e.parseShort(),n.macStyle=e.parseUShort(),n.lowestRecPPEM=e.parseUShort(),n.fontDirectionHint=e.parseShort(),n.indexToLocFormat=e.parseShort(),n.glyphDataFormat=e.parseShort(),n},make:function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,n=t;return e.createdTimestamp&&(n=e.createdTimestamp+2082844800),new k.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}};var tt={parse:function(e,t){var n={},e=new L.Parser(e,t);return n.version=e.parseVersion(),n.ascender=e.parseShort(),n.descender=e.parseShort(),n.lineGap=e.parseShort(),n.advanceWidthMax=e.parseUShort(),n.minLeftSideBearing=e.parseShort(),n.minRightSideBearing=e.parseShort(),n.xMaxExtent=e.parseShort(),n.caretSlopeRise=e.parseShort(),n.caretSlopeRun=e.parseShort(),n.caretOffset=e.parseShort(),e.relativeOffset+=8,n.metricDataFormat=e.parseShort(),n.numberOfHMetrics=e.parseUShort(),n},make:function(e){return new k.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}};var nt={parse:function(e,t,n,r,i,o,a){if(a.lowMemory){var s=e,a=t,e=n,u=r,l=i;s._hmtxTableData={};for(var c,h,f=new L.Parser(a,e),p=0;p<l;p+=1)p<u&&(c=f.parseUShort(),h=f.parseShort()),s._hmtxTableData[p]={advanceWidth:c,leftSideBearing:h}}else for(var y,d,a=t,e=n,v=r,m=i,b=o,g=new L.Parser(a,e),w=0;w<m;w+=1){w<v&&(y=g.parseUShort(),d=g.parseShort());var x=b.get(w);x.advanceWidth=y,x.leftSideBearing=d}},make:function(e){for(var t=new k.Table("hmtx",[]),n=0;n<e.length;n+=1){var r=e.get(n),i=r.advanceWidth||0,r=r.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:r})}return t}};var rt={make:function(e){for(var t=new k.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",r=12+4*e.length,i=0;i<e.length;++i){var o=n.indexOf(e[i]);o<0&&(o=n.length,n+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:r+o}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),t},parse:function(e,t){for(var n=new L.Parser(e,t),r=n.parseULong(),i=(j.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1),n.parseULong()),o=[],a=0;a<i;a++){for(var s="",u=t+n.parseUShort(),l=n.parseUShort(),c=u;c<u+l;++c)s+=String.fromCharCode(e.getInt8(c));o.push(s)}return o}};var it={parse:function(e,t){var n={},e=new L.Parser(e,t);return n.version=e.parseVersion(),n.numGlyphs=e.parseUShort(),1===n.version&&(n.maxPoints=e.parseUShort(),n.maxContours=e.parseUShort(),n.maxCompositePoints=e.parseUShort(),n.maxCompositeContours=e.parseUShort(),n.maxZones=e.parseUShort(),n.maxTwilightPoints=e.parseUShort(),n.maxStorage=e.parseUShort(),n.maxFunctionDefs=e.parseUShort(),n.maxInstructionDefs=e.parseUShort(),n.maxStackElements=e.parseUShort(),n.maxSizeOfInstructions=e.parseUShort(),n.maxComponentElements=e.parseUShort(),n.maxComponentDepth=e.parseUShort()),n},make:function(e){return new k.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}},ot=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],at={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},st={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ut={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};var lt="utf-16",ct={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ht={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function ft(e,t,n){switch(e){case 0:return lt;case 1:return ht[n]||ct[t];case 3:if(1===t||10===t)return lt}}function pt(e){var t,n={};for(t in e)n[e[t]]=parseInt(t);return n}function yt(e,t,n,r,i,o){return new k.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function dt(e,t){if((n=((e,t)=>{var n=e.length,r=t.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var o=0;o<n;o++)if(t[i+o]!==e[o])continue e;return i}return-1})(e,t))<0)for(var n=t.length,r=0,i=e.length;r<i;++r)t.push(e[r]);return n}var vt={parse:function(e,t,n){for(var r={},i=new L.Parser(e,t),t=i.parseUShort(),o=i.parseUShort(),a=i.offset+i.parseUShort(),s=0;s<o;s++){var u=i.parseUShort(),l=i.parseUShort(),c=i.parseUShort(),h=i.parseUShort(),h=ot[h]||h,f=i.parseUShort(),p=i.parseUShort(),y=((e,t,n)=>{switch(e){case 0:if(65535===t)return"und";if(n)return n[t];break;case 1:return at[t];case 3:return ut[t]}})(u,c,n),u=ft(u,l,c);void 0!==u&&void 0!==y&&(l=void 0,l=u===lt?se.UTF16(e,a+p,f):se.MACSTRING(e,a+p,f,u))&&((c=void 0===(c=r[h])?r[h]={}:c)[y]=l)}return 1===t&&i.parseUShort(),r},make:function(e,t){var n,r=[],i={},o=pt(ot);for(n in e){var a=o[n];if(void 0===a&&(a=n),f=parseInt(a),isNaN(f))throw new Error('Name table entry "'+n+'" does not exist, see nameTableNames for complete list.');i[f]=e[n],r.push(f)}for(var s=pt(at),u=pt(ut),l=[],c=[],h=0;h<r.length;h++){var f,p,y=i[f=r[h]];for(p in y){var d=y[p],v=1,m=s[p],b=st[m],g=ft(v,b,m),g=S.MACSTRING(d,g),w=(void 0===g&&(v=0,(m=t.indexOf(p))<0&&(m=t.length,t.push(p)),b=4,g=S.UTF16(d)),dt(g,c)),v=(l.push(yt(v,b,m,f,g.length,w)),u[p]);void 0!==v&&(m=dt(b=S.UTF16(d),c),l.push(yt(3,1,v,f,b.length,m)))}}l.sort(function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID});for(var x=new k.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:l.length},{name:"stringOffset",type:"USHORT",value:6+12*l.length}]),_=0;_<l.length;_++)x.fields.push({name:"record_"+_,type:"RECORD",value:l[_]});return x.fields.push({name:"strings",type:"LITERAL",value:c}),x}},mt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var bt={parse:function(e,t){var n={},r=new L.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),1<=n.version&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),2<=n.version&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n},make:function(e){return new k.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:mt,getUnicodeRange:function(e){for(var t=0;t<mt.length;t+=1){var n=mt[t];if(e>=n.begin&&e<n.end)return t}return-1}};var gt={parse:function(e,t){var n={},r=new L.Parser(e,t);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=c.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var o,a=0;a<n.numberOfGlyphs;a++)n.glyphNameIndex[a]>=c.length&&(o=r.parseChar(),n.names.push(r.parseString(o)));break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var s=0;s<n.numberOfGlyphs;s++)n.offset[s]=r.parseChar()}return n},make:function(){return new k.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},r=new Array(9),wt=(r[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(l.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(l.coverage),substitute:this.parseOffset16List()}:void j.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},r[2]=function(){var e=this.parseUShort();return j.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(l.coverage),sequences:this.parseListOfLists()}},r[3]=function(){var e=this.parseUShort();return j.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(l.coverage),alternateSets:this.parseListOfLists()}},r[4]=function(){var e=this.parseUShort();return j.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(l.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:l.uShort,lookupListIndex:l.uShort});r[5]=function(){var e,t,n=this.offset+this.relativeOffset,r=this.parseUShort();return 1===r?{substFormat:r,coverage:this.parsePointer(l.coverage),ruleSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,wt)}})}:2===r?{substFormat:r,coverage:this.parsePointer(l.coverage),classDef:this.parsePointer(l.classDef),classSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,wt)}})}:3===r?(e=this.parseUShort(),t=this.parseUShort(),{substFormat:r,coverages:this.parseList(e,l.pointer(l.coverage)),lookupRecords:this.parseRecordList(t,wt)}):void j.assert(!1,"0x"+n.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},r[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(l.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(wt)}})}:2===t?{substFormat:2,coverage:this.parsePointer(l.coverage),backtrackClassDef:this.parsePointer(l.classDef),inputClassDef:this.parsePointer(l.classDef),lookaheadClassDef:this.parsePointer(l.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(wt)}})}:3===t?{substFormat:3,backtrackCoverage:this.parseList(l.pointer(l.coverage)),inputCoverage:this.parseList(l.pointer(l.coverage)),lookaheadCoverage:this.parseList(l.pointer(l.coverage)),lookupRecords:this.parseRecordList(wt)}:void j.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},r[7]=function(){var e=this.parseUShort(),e=(j.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),t=new l(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:e,extension:r[e].call(t)}},r[8]=function(){var e=this.parseUShort();return j.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(l.coverage),backtrackCoverage:this.parseList(l.pointer(l.coverage)),lookaheadCoverage:this.parseList(l.pointer(l.coverage)),substitutes:this.parseUShortList()}};var xt=new Array(9);xt[1]=function(e){return 1===e.substFormat?new k.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new k.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new k.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new k.Coverage(e.coverage)}].concat(k.ushortList("substitute",e.substitute)))},xt[2]=function(e){return j.assert(1===e.substFormat,"Lookup type 2 substFormat must be 1."),new k.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new k.Coverage(e.coverage)}].concat(k.tableList("seqSet",e.sequences,function(e){return new k.Table("sequenceSetTable",k.ushortList("sequence",e))})))},xt[3]=function(e){return j.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new k.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new k.Coverage(e.coverage)}].concat(k.tableList("altSet",e.alternateSets,function(e){return new k.Table("alternateSetTable",k.ushortList("alternate",e))})))},xt[4]=function(e){return j.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new k.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new k.Coverage(e.coverage)}].concat(k.tableList("ligSet",e.ligatureSets,function(e){return new k.Table("ligatureSetTable",k.tableList("ligature",e,function(e){return new k.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(k.ushortList("component",e.components,e.components.length+1)))}))})))},xt[6]=function(e){var n;if(1===e.substFormat)return new k.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new k.Coverage(e.coverage)}].concat(k.tableList("chainRuleSet",e.chainRuleSets,function(e){return new k.Table("chainRuleSetTable",k.tableList("chainRule",e,function(e){var n=k.ushortList("backtrackGlyph",e.backtrack,e.backtrack.length).concat(k.ushortList("inputGlyph",e.input,e.input.length+1)).concat(k.ushortList("lookaheadGlyph",e.lookahead,e.lookahead.length)).concat(k.ushortList("substitution",[],e.lookupRecords.length));return e.lookupRecords.forEach(function(e,t){n=n.concat({name:"sequenceIndex"+t,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+t,type:"USHORT",value:e.lookupListIndex})}),new k.Table("chainRuleTable",n)}))})));if(2===e.substFormat)j.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(3===e.substFormat)return(n=[{name:"substFormat",type:"USHORT",value:e.substFormat}]).push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(e,t){n.push({name:"backtrackCoverage"+t,type:"TABLE",value:new k.Coverage(e)})}),n.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(e,t){n.push({name:"inputCoverage"+t,type:"TABLE",value:new k.Coverage(e)})}),n.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(e,t){n.push({name:"lookaheadCoverage"+t,type:"TABLE",value:new k.Coverage(e)})}),n.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(e,t){n=n.concat({name:"sequenceIndex"+t,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+t,type:"USHORT",value:e.lookupListIndex})}),new k.Table("chainContextTable",n);j.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};var _t={parse:function(e,t){return t=(e=new l(e,t=t||0)).parseVersion(1),j.argument(1===t||1.1===t,"Unsupported GSUB table version."),1===t?{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(r)}:{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(r),variations:e.parseFeatureVariationsList()}},make:function(e){return new k.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new k.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new k.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new k.LookupList(e.lookups,xt)}])}};var St={parse:function(e,t){for(var n=new L.Parser(e,t),r=n.parseULong(),i=(j.argument(1===r,"Unsupported META table version."),n.parseULong(),n.parseULong(),n.parseULong()),o={},a=0;a<i;a++){var s=n.parseTag(),u=n.parseULong(),l=n.parseULong(),u=se.UTF8(e,t+u,l);o[s]=u}return o},make:function(e){var t,n=Object.keys(e).length,r="",i=16+12*n,o=new k.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:n}]);for(t in e){var a=r.length;r+=e[t],o.fields.push({name:"tag "+t,type:"TAG",value:t}),o.fields.push({name:"offset "+t,type:"ULONG",value:i+a}),o.fields.push({name:"length "+t,type:"ULONG",value:e[t].length})}return o.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),o}};function kt(e){return Math.log(e)/Math.log(2)|0}function Ot(e){for(;e.length%4!=0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%=Math.pow(2,32)}function Pt(e,t,n,r){return new k.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function Tt(e){for(var t=new k.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),n=(t.tables=e,t.numTables=e.length,Math.pow(2,kt(t.numTables))),r=(t.searchRange=16*n,t.entrySelector=kt(n),t.rangeShift=16*t.numTables-t.searchRange,[]),i=[],o=t.sizeOf()+Pt().sizeOf()*t.numTables;o%4!=0;)o+=1,i.push({name:"padding",type:"BYTE",value:0});for(var a=0;a<e.length;a+=1){var s=e[a],u=(j.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid."),s.sizeOf()),l=Pt(s.tableName,Ot(s.encode()),o,u);for(r.push({name:l.tag+" Table Record",type:"RECORD",value:l}),i.push({name:s.tableName+" table",type:"RECORD",value:s}),o+=u,j.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!=0;)o+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(r),t.fields=t.fields.concat(i),t}function Et(e,t,n){for(var r=0;r<t.length;r+=1){var i=e.charToGlyphIndex(t[r]);if(0<i)return e.glyphs.get(i).getMetrics()}return n}var Rt={make:Tt,fontToTable:function(e){for(var t,n=[],r=[],i=[],o=[],a=[],s=[],u=[],l=0,c=0,h=0,f=0,p=0,y=0;y<e.glyphs.length;y+=1){var d=e.glyphs.get(y),v=0|d.unicode;if(isNaN(d.advanceWidth))throw new Error("Glyph "+d.name+" ("+y+"): advanceWidth is not a number.");(v<t||void 0===t)&&0<v&&(t=v),l<v&&(l=v);var v=bt.getUnicodeRange(v);if(v<32)c|=1<<v;else if(v<64)h|=1<<v-32;else if(v<96)f|=1<<v-64;else{if(!(v<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");p|=1<<v-96}".notdef"!==d.name&&(v=d.getMetrics(),n.push(v.xMin),r.push(v.yMin),i.push(v.xMax),o.push(v.yMax),s.push(v.leftSideBearing),u.push(v.rightSideBearing),a.push(d.advanceWidth))}var m,b={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,a),advanceWidthAvg:(e=>{for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length})(a),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,u)},g=(b.ascender=e.ascender,b.descender=e.descender,et.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:b.xMin,yMin:b.yMin,xMax:b.xMax,yMax:b.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp})),w=tt.make({ascender:b.ascender,descender:b.descender,advanceWidthMax:b.advanceWidthMax,minLeftSideBearing:b.minLeftSideBearing,minRightSideBearing:b.minRightSideBearing,xMaxExtent:b.maxLeftSideBearing+(b.xMax-b.xMin),numberOfHMetrics:e.glyphs.length}),x=it.make(e.glyphs.length),_=bt.make(Object.assign({xAvgCharWidth:Math.round(b.advanceWidthAvg),usFirstCharIndex:t,usLastCharIndex:l,ulUnicodeRange1:c,ulUnicodeRange2:h,ulUnicodeRange3:f,ulUnicodeRange4:p,sTypoAscender:b.ascender,sTypoDescender:b.descender,sTypoLineGap:0,usWinAscent:b.yMax,usWinDescent:Math.abs(b.yMin),ulCodePageRange1:1,sxHeight:Et(e,"xyvw",{yMax:Math.round(b.ascender/2)}).yMax,sCapHeight:Et(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",b).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),S=nt.make(e.glyphs),k=Pe.make(e.glyphs),O=e.getEnglishName("fontFamily"),P=e.getEnglishName("fontSubfamily"),T=O+" "+P,E=(E=e.getEnglishName("postScriptName"))||O.replace(/\s/g,"")+"-"+P,R={};for(m in e.names)R[m]=e.names[m];R.uniqueID||(R.uniqueID={en:e.getEnglishName("manufacturer")+":"+T}),R.postScriptName||(R.postScriptName={en:E}),R.preferredFamily||(R.preferredFamily=e.names.fontFamily),R.preferredSubfamily||(R.preferredSubfamily=e.names.fontSubfamily);var A=vt.make(R,M=[]),M=0<M.length?rt.make(M):void 0,C=gt.make(),T=$e.make(e.glyphs,{version:e.getEnglishName("version"),fullName:T,familyName:O,weightName:P,postScriptName:E,unitsPerEm:e.unitsPerEm,fontBBox:[0,b.yMin,b.ascender,b.advanceWidthMax]}),O=e.metas&&0<Object.keys(e.metas).length?St.make(e.metas):void 0,P=[g,w,x,_,A,k,C,T,S];M&&P.push(M),e.tables.gsub&&P.push(_t.make(e.tables.gsub)),O&&P.push(O);for(var N=Ot((E=Tt(P)).encode()),j=E.fields,L=!1,I=0;I<j.length;I+=1)if("head table"===j[I].name){j[I].value.checkSumAdjustment=2981146554-N,L=!0;break}if(L)return E;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Ot};function At(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,o=e[i].tag;if(o===t)return i;o<t?n=1+i:r=i-1}return-n-1}function Mt(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,o=e[i];if(o===t)return i;o<t?n=1+i:r=i-1}return-n-1}function Ct(e,t){for(var n=0,r=e.length-1;n<=r;){var i,o=n+r>>>1,a=(i=e[o]).start;if(a===t)return i;a<t?n=1+o:r=o-1}if(0<n)return t>(i=e[n-1]).end?0:i}function jt(e,t){this.font=e,this.tableName=t}function Lt(e){jt.call(this,e,"gpos")}function o(e){jt.call(this,e,"gsub")}function It(e,t,n){for(var r=e.subtables,i=0;i<r.length;i++){var o=r[i];if(o.substFormat===t)return o}if(n)return r.push(n),n}function Nt(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;++r)n[r]=e[r];return t}function Dt(e,t){if(!e)throw t}function Bt(e,t,n,r,i){var o=0<(t&r)?(o=e.parseByte(),n+(o=0==(t&i)?-o:o)):0<(t&i)?n:n+e.parseShort();return o}function Ft(e,t,n){var r,i=new L.Parser(t,n);if(e.numberOfContours=i.parseShort(),e._xMin=i.parseShort(),e._yMin=i.parseShort(),e._xMax=i.parseShort(),e._yMax=i.parseShort(),0<e.numberOfContours){for(var o=e.endPointIndices=[],a=0;a<e.numberOfContours;a+=1)o.push(i.parseUShort());e.instructionLength=i.parseUShort(),e.instructions=[];for(var s=0;s<e.instructionLength;s+=1)e.instructions.push(i.parseByte());for(var u=o[o.length-1]+1,l=[],c=0;c<u;c+=1)if(r=i.parseByte(),l.push(r),0<(8&r))for(var h=i.parseByte(),f=0;f<h;f+=1)l.push(r),c+=1;if(j.argument(l.length===u,"Bad flags."),0<o.length){var p,y=[];if(0<u){for(var d=0;d<u;d+=1)r=l[d],(p={}).onCurve=!!(1&r),p.lastPointOfContour=0<=o.indexOf(d),y.push(p);for(var v=0,m=0;m<u;m+=1)r=l[m],(p=y[m]).x=Bt(i,r,v,2,16),v=p.x;for(var b=0,g=0;g<u;g+=1)r=l[g],(p=y[g]).y=Bt(i,r,b,4,32),b=p.y}e.points=y}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var w=!0;w;){l=i.parseUShort();var x={glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&l)?0<(2&l)?(x.dx=i.parseShort(),x.dy=i.parseShort()):x.matchedPoints=[i.parseUShort(),i.parseUShort()]:0<(2&l)?(x.dx=i.parseChar(),x.dy=i.parseChar()):x.matchedPoints=[i.parseByte(),i.parseByte()],0<(8&l)?x.xScale=x.yScale=i.parseF2Dot14():0<(64&l)?(x.xScale=i.parseF2Dot14(),x.yScale=i.parseF2Dot14()):0<(128&l)&&(x.xScale=i.parseF2Dot14(),x.scale01=i.parseF2Dot14(),x.scale10=i.parseF2Dot14(),x.yScale=i.parseF2Dot14()),e.components.push(x),w=!!(32&l)}if(256&l){e.instructionLength=i.parseUShort(),e.instructions=[];for(var _=0;_<e.instructionLength;_+=1)e.instructions.push(i.parseByte())}}}function Ut(e,t){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],i={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(i)}return n}function zt(e){var t=new f;if(e)for(var n=(e=>{for(var t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];n.push(i),i.lastPointOfContour&&(t.push(n),n=[])}return j.argument(0===n.length,"There are still points left in the current contour."),t})(e),r=0;r<n.length;++r){var i,o=n[r],a=o[o.length-1],s=o[0];a.onCurve?t.moveTo(a.x,a.y):s.onCurve?t.moveTo(s.x,s.y):(i={x:.5*(a.x+s.x),y:.5*(a.y+s.y)},t.moveTo(i.x,i.y));for(var u=0;u<o.length;++u){var l,c=a,a=s,s=o[(u+1)%o.length];a.onCurve?t.lineTo(a.x,a.y):(l=s,c.onCurve||(a.x,c.x,a.y,c.y),s.onCurve||(l={x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),t.quadraticCurveTo(a.x,a.y,l.x,l.y))}t.closePath()}return t}function Gt(e,t){if(t.isComposite)for(var n=0;n<t.components.length;n+=1){var r=t.components[n],i=e.get(r.glyphIndex);if(i.getPath(),i.points){var o=void 0;if(void 0===r.matchedPoints)o=Ut(i.points,r);else{if(r.matchedPoints[0]>t.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+t.name);var a=t.points[r.matchedPoints[0]],s=i.points[r.matchedPoints[1]],r={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0},s=Ut([s],r)[0];r.dx=a.x-s.x,r.dy=a.y-s.y,o=Ut(i.points,r)}t.points=t.points.concat(o)}}return zt(t.points)}(Lt.prototype=jt.prototype={searchTag:At,binSearch:Mt,getTable:function(e){var t=this.font.tables[this.tableName];return t=!t&&e?this.font.tables[this.tableName]=this.createDefaultTable():t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,n=0;n<e.scripts.length;n++){var r=e.scripts[n].tag;if("DFLT"===r)return r;"latn"===r&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var n,r=this.getTable(t);if(r)return n=r.scripts,0<=(r=At(r.scripts,e=e||"DFLT"))?n[r].script:t?(n.splice(-1-r,0,t={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),t.script):void 0},getLangSysTable:function(e,t,n){var r,e=this.getScriptTable(e,n);if(e)return t&&"dflt"!==t&&"DFLT"!==t?0<=(r=At(e.langSysRecords,t))?e.langSysRecords[r].langSys:n?(e.langSysRecords.splice(-1-r,0,n={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),n.langSys):void 0:e.defaultLangSys},getFeatureTable:function(e,t,n,r){e=this.getLangSysTable(e,t,r);if(e){for(var i,o=e.featureIndexes,a=this.font.tables[this.tableName].features,s=0;s<o.length;s++)if((i=a[o[s]]).tag===n)return i.feature;if(r)return t=a.length,j.assert(0===t||n>=a[t-1].tag,"Features must be added in alphabetical order."),a.push(i={tag:n,feature:{params:0,lookupListIndexes:[]}}),o.push(t),i.feature}},getLookupTables:function(e,t,n,r,i){var e=this.getFeatureTable(e,t,n,i),o=[];if(e){for(var a,s=e.lookupListIndexes,u=this.font.tables[this.tableName].lookups,l=0;l<s.length;l++)(a=u[s[l]]).lookupType===r&&o.push(a);if(0===o.length&&i)return t=u.length,u.push(a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0}),s.push(t),[a]}return o},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var n=Ct(e.ranges,t);return n?n.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var n=Mt(e.glyphs,t);return 0<=n?n:-1;case 2:n=Ct(e.ranges,t);return n?n.index+t-n.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],n=e.ranges,r=0;r<n.length;r++)for(var i=n[r],o=i.start,a=i.end,s=o;s<=a;s++)t.push(s);return t}}).init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},Lt.prototype.getKerningValue=function(e,t,n){for(var r=0;r<e.length;r++)for(var i=e[r].subtables,o=0;o<i.length;o++){var a=i[o],s=this.getCoverageIndex(a.coverage,t);if(!(s<0))switch(a.posFormat){case 1:for(var u=a.pairSets[s],l=0;l<u.length;l++){var c=u[l];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var h=this.getGlyphClass(a.classDef1,t),f=this.getGlyphClass(a.classDef2,n),h=a.classRecords[h][f];return h.value1&&h.value1.xAdvance||0}}return 0},Lt.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},(o.prototype=jt.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},o.prototype.getSingle=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,1),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++){var u=a[s],l=this.expandCoverage(u.coverage),c=void 0;if(1===u.substFormat)for(var h=u.deltaGlyphId,c=0;c<l.length;c++){var f=l[c];r.push({sub:f,by:f+h})}else{var p=u.substitute;for(c=0;c<l.length;c++)r.push({sub:l[c],by:p[c]})}}return r},o.prototype.getMultiple=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,2),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var u=a[s],l=this.expandCoverage(u.coverage),c=void 0,c=0;c<l.length;c++){var h=l[c],f=u.sequences[c];r.push({sub:h,by:f})}return r},o.prototype.getAlternates=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,3),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var u=a[s],l=this.expandCoverage(u.coverage),c=u.alternateSets,h=0;h<l.length;h++)r.push({sub:l[h],by:c[h]});return r},o.prototype.getLigatures=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,4),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var u=a[s],l=this.expandCoverage(u.coverage),c=u.ligatureSets,h=0;h<l.length;h++)for(var f=l[h],p=c[h],y=0;y<p.length;y++){var d=p[y];r.push({sub:[f].concat(d.components),by:d.ligGlyph})}return r},o.prototype.addSingle=function(e,t,n,r){n=It(this.getLookupTables(n,r,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),j.assert(1===n.coverage.format,"Single: unable to modify coverage table format "+n.coverage.format),r=t.sub,e=this.binSearch(n.coverage.glyphs,r);e<0&&(n.coverage.glyphs.splice(e=-1-e,0,r),n.substitute.splice(e,0,0)),n.substitute[e]=t.by},o.prototype.addMultiple=function(e,t,n,r){j.assert(t.by instanceof Array&&1<t.by.length,'Multiple: "by" must be an array of two or more ids');n=It(this.getLookupTables(n,r,e,2,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]}),j.assert(1===n.coverage.format,"Multiple: unable to modify coverage table format "+n.coverage.format),r=t.sub,e=this.binSearch(n.coverage.glyphs,r);e<0&&(n.coverage.glyphs.splice(e=-1-e,0,r),n.sequences.splice(e,0,0)),n.sequences[e]=t.by},o.prototype.addAlternate=function(e,t,n,r){n=It(this.getLookupTables(n,r,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),j.assert(1===n.coverage.format,"Alternate: unable to modify coverage table format "+n.coverage.format),r=t.sub,e=this.binSearch(n.coverage.glyphs,r);e<0&&(n.coverage.glyphs.splice(e=-1-e,0,r),n.alternateSets.splice(e,0,0)),n.alternateSets[e]=t.by},o.prototype.addLigature=function(e,t,n,r){var n=this.getLookupTables(n,r,e,4,!0)[0],r=n.subtables[0],e=(r||(n.subtables[0]=r={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),j.assert(1===r.coverage.format,"Ligature: unable to modify coverage table format "+r.coverage.format),t.sub[0]),i=t.sub.slice(1),n={ligGlyph:t.by,components:i},t=this.binSearch(r.coverage.glyphs,e);if(0<=t){for(var o=r.ligatureSets[t],a=0;a<o.length;a++)if(((e,t)=>{var n=e.length;if(n===t.length){for(var r=0;r<n;r++)if(e[r]!==t[r])return;return 1}})(o[a].components,i))return;o.push(n)}else r.coverage.glyphs.splice(t=-1-t,0,e),r.ligatureSets.splice(t,0,[n])},o.prototype.getFeature=function(e,t,n){if(/ss\d\d/.test(e))return this.getSingle(e,t,n);switch(e){case"aalt":case"salt":return this.getSingle(e,t,n).concat(this.getAlternates(e,t,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,n);case"ccmp":return this.getMultiple(e,t,n).concat(this.getLigatures(e,t,n));case"stch":return this.getMultiple(e,t,n)}},o.prototype.add=function(e,t,n,r){if(/ss\d\d/.test(e))return this.addSingle(e,t,n,r);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,n,r):this.addAlternate(e,t,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,n,r);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,n,r):this.addLigature(e,t,n,r)}};var Ht,Vt,Yt,Wt,qt={getPath:zt,parse:function(e,t,n,r,i){if(i.lowMemory)return o=e,a=t,s=n,u=r,l=new m.GlyphSet(u),u._push=function(e){var t=s[e];t!==s[e+1]?l.push(e,m.ttfGlyphLoader(u,e,Ft,o,a+t,Gt)):l.push(e,m.glyphLoader(u,e))},l;for(var o,a,s,u,l,c=e,h=t,f=n,p=r,y=new m.GlyphSet(p),d=0;d<f.length-1;d+=1){var v=f[d];v!==f[d+1]?y.push(d,m.ttfGlyphLoader(p,d,Ft,c,h+v,Gt)):y.push(d,m.glyphLoader(p,d))}return y}};function Xt(e){this.font=e,this.getCommands=function(e){return qt.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Zt(e){return e}function Jt(e){return Math.sign(e)*Math.round(Math.abs(e))}function Kt(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function Qt(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function $t(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function en(e){return Math.sign(e)*Math.floor(Math.abs(e))}function tn(e){var t=this.srPeriod,n=this.srPhase,r=1;return e<0&&(e=-e,r=-1),e+=this.srThreshold-n,e=Math.trunc(e/t)*t,(e+=n)<0?n*r:e*r}var y={x:1,y:0,axis:"x",distance:function(e,t,n,r){return(n?e.xo:e.x)-(r?t.xo:t.x)},interpolate:function(e,t,n,r){var i,o,a,s,u,l,c;if(!r||r===this)return i=e.xo-t.xo,o=e.xo-n.xo,u=t.x-t.xo,l=n.x-n.xo,0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?void(e.x=e.xo+(u+l)/2):void(e.x=e.xo+(u*s+l*a)/c);i=r.distance(e,t,!0,!0),o=r.distance(e,n,!0,!0),u=r.distance(t,t,!1,!0),l=r.distance(n,n,!1,!0),0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?y.setRelative(e,e,(u+l)/2,r,!0):y.setRelative(e,e,(u*s+l*a)/c,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,n,r,i){var o,a;r&&r!==this?(a=i?t.xo:t.x,o=i?t.yo:t.y,a+=n*r.x,e.x=a+(e.y-(o+n*r.y))/r.normalSlope):e.x=(i?t.xo:t.x)+n},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},d={x:0,y:1,axis:"y",distance:function(e,t,n,r){return(n?e.yo:e.y)-(r?t.yo:t.y)},interpolate:function(e,t,n,r){var i,o,a,s,u,l,c;if(!r||r===this)return i=e.yo-t.yo,o=e.yo-n.yo,u=t.y-t.yo,l=n.y-n.yo,0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?void(e.y=e.yo+(u+l)/2):void(e.y=e.yo+(u*s+l*a)/c);i=r.distance(e,t,!0,!0),o=r.distance(e,n,!0,!0),u=r.distance(t,t,!1,!0),l=r.distance(n,n,!1,!0),0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?d.setRelative(e,e,(u+l)/2,r,!0):d.setRelative(e,e,(u*s+l*a)/c,r,!0)},normalSlope:0,setRelative:function(e,t,n,r,i){var o,a;r&&r!==this?(a=i?t.xo:t.x,o=i?t.yo:t.y,a+=n*r.x,e.y=o+n*r.y+r.normalSlope*(e.x-a)):e.y=(i?t.yo:t.y)+n},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function nn(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function rn(e,t){var n=Math.sqrt(e*e+t*t);return t/=n,1===(e/=n)&&0===t?y:0===e&&1===t?d:new nn(e,t)}function w(e,t,n,r){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(y),Object.freeze(d),nn.prototype.distance=function(e,t,n,r){return this.x*y.distance(e,t,n,r)+this.y*d.distance(e,t,n,r)},nn.prototype.interpolate=function(e,t,n,r){var i=r.distance(e,t,!0,!0),o=r.distance(e,n,!0,!0),t=r.distance(t,t,!1,!0),n=r.distance(n,n,!1,!0),i=Math.abs(i),o=Math.abs(o),a=i+o;0===a?this.setRelative(e,e,(t+n)/2,r,!0):this.setRelative(e,e,(t*o+n*i)/a,r,!0)},nn.prototype.setRelative=function(e,t,n,r,i){var o=i?t.xo:t.x,i=i?t.yo:t.y,t=o+n*(r=r||this).x,o=r.normalSlope,a=this.slope,s=e.x,u=e.y;e.x=(a*s-o*t+(i+n*r.y)-u)/(a-o),e.y=a*(e.x-s)+u},nn.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},w.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},w.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var on=Object.freeze(new w(0,0)),an={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function x(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=y,this.round=Jt}}function sn(e){for(var t=e.tZone=new Array(e.gZone.length),n=0;n<t.length;n++)t[n]=new w(0,0)}function un(e,t){var n,r=e.prog,i=e.ip,o=1;do{if(88===(n=r[++i]))o++;else if(89===n)o--;else if(64===n)i+=r[i+1]+1;else if(65===n)i+=2*r[i+1]+1;else if(176<=n&&n<=183)i+=n-176+1;else if(184<=n&&n<=191)i+=2*(n-184+1);else if(t&&1===o&&27===n)break}while(0<o);e.ip=i}function ln(e,t){exports.DEBUG&&(t.step,e.axis),t.fv=t.pv=t.dpv=e}function cn(e,t){exports.DEBUG&&(t.step,e.axis),t.pv=t.dpv=e}function hn(e,t){exports.DEBUG&&(t.step,e.axis),t.fv=e}function fn(e,t){var n,r=t.stack,i=r.pop(),r=r.pop(),i=t.z2[i],r=t.z1[r];exports.DEBUG,e=e?(n=i.y-r.y,r.x-i.x):(n=r.x-i.x,r.y-i.y),t.pv=t.dpv=rn(n,e)}function pn(e,t){var n,r=t.stack,i=r.pop(),r=r.pop(),i=t.z2[i],r=t.z1[r];exports.DEBUG,e=e?(n=i.y-r.y,r.x-i.x):(n=r.x-i.x,r.y-i.y),t.fv=rn(n,e)}function yn(e){exports.DEBUG&&e.step,e.stack.pop()}function dn(e,t){var n=t.stack.pop(),r=t.z0[n],i=t.fv,o=t.pv,a=(exports.DEBUG&&t.step,o.distance(r,on));e&&(a=t.round(a)),i.setRelative(r,on,a,o),i.touch(r),t.rp0=t.rp1=n}function vn(e,t){var n,r,i,o=t.z2,a=o.length-2;exports.DEBUG&&(t.step,e.axis);for(var s=0;s<a;s++)n=o[s],e.touched(n)||(r=n.prevTouched(e))!==n&&(r===(i=n.nextTouched(e))&&e.setRelative(n,n,e.distance(r,r,!1,!0),e,!0),e.interpolate(n,r,i,e))}function mn(e,t){for(var n=t.stack,r=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[r],o=t.fv,a=t.pv,s=t.loop,u=t.z2;s--;){var l=n.pop(),l=u[l],c=a.distance(i,i,!1,!0);o.setRelative(l,l,c,a),o.touch(l),exports.DEBUG&&(t.step,1<t.loop)&&t.loop}t.loop=1}function bn(e,t){for(var n=t.stack,r=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[r],o=t.fv,a=t.pv,e=n.pop(),s=t.z2[t.contours[e]],u=s,l=(exports.DEBUG&&t.step,a.distance(i,i,!1,!0));u!==i&&o.setRelative(u,u,l,a),(u=u.nextPointOnContour)!==s;);}function gn(e,t){var n,r,i=t.stack,o=e?t.rp1:t.rp2,e=(e?t.z0:t.z1)[o],a=t.fv,s=t.pv,o=i.pop();switch(exports.DEBUG&&t.step,o){case 0:n=t.tZone;break;case 1:n=t.gZone;break;default:throw new Error("Invalid zone")}for(var u=s.distance(e,e,!1,!0),l=n.length-2,c=0;c<l;c++)r=n[c],a.setRelative(r,r,u,s)}function wn(e,t){var n=t.stack,r=n.pop()/64,n=n.pop(),i=t.z1[n],o=t.z0[t.rp0],a=t.fv;a.setRelative(i,o,r,t.pv),a.touch(i),exports.DEBUG&&t.step,t.rp1=t.rp0,t.rp2=n,e&&(t.rp0=n)}function xn(e,t){var n=t.stack,r=n.pop(),n=n.pop(),i=t.z0[n],o=t.fv,a=t.pv,r=t.cvt[r],s=(exports.DEBUG&&t.step,a.distance(i,on));e&&(Math.abs(s-r)<t.cvCutIn&&(s=r),s=t.round(s)),o.setRelative(i,on,s,a),0===t.zp0&&(i.xo=i.x,i.yo=i.y),o.touch(i),t.rp0=t.rp1=n}function _n(e,t){var n=t.stack,r=n.pop(),r=t.z2[r];exports.DEBUG&&t.step,n.push(64*t.dpv.distance(r,on,e,!1))}function Sn(e,t){var n=t.stack,r=n.pop(),n=n.pop(),r=t.z1[r],n=t.z0[n],n=t.dpv.distance(n,r,e,e);exports.DEBUG&&t.step,t.stack.push(Math.round(64*n))}function kn(e,t){var n=t.stack,r=n.pop(),i=t.fv,o=t.pv,a=t.ppem,s=t.deltaBase+16*(e-1),u=t.deltaShift,l=t.z0;exports.DEBUG&&t.step;for(var c=0;c<r;c++){var h=n.pop(),f=n.pop();s+((240&f)>>4)===a&&(0<=(f=(15&f)-8)&&f++,exports.DEBUG&&t.step,h=l[h],i.setRelative(h,h,f*u,o))}}function On(e,t){var n=t.stack,r=n.pop();exports.DEBUG&&t.step,n.push(64*t.round(r/64))}function Pn(e,t){var n=t.stack,r=n.pop(),i=t.ppem,o=t.deltaBase+16*(e-1),a=t.deltaShift;exports.DEBUG&&t.step;for(var s=0;s<r;s++){var u=n.pop(),l=n.pop();o+((240&l)>>4)===i&&(0<=(l=(15&l)-8)&&l++,l=l*a,exports.DEBUG&&t.step,t.cvt[u]+=l)}}function Tn(e,t){var n,r=t.stack,i=r.pop(),r=r.pop(),i=t.z2[i],r=t.z1[r];exports.DEBUG&&t.step,e=e?(n=i.y-r.y,r.x-i.x):(n=r.x-i.x,r.y-i.y),t.dpv=rn(n,e)}function a(e,t){var n=t.stack,r=t.prog,i=t.ip;exports.DEBUG&&t.step;for(var o=0;o<e;o++)n.push(r[++i]);t.ip=i}function v(e,t){var n=t.ip,r=t.prog,i=t.stack;exports.DEBUG&&t.ip;for(var o=0;o<e;o++){var a=r[++n]<<8|r[++n];32768&a&&(a=-(1+(65535^a))),i.push(a)}t.ip=n}function _(e,t,n,r,i,o){var a,s=o.stack,u=e&&s.pop(),s=s.pop(),l=o.rp0,l=o.z0[l],c=o.z1[s],h=o.minDis,f=o.fv,p=o.dpv,y=p.distance(c,l,!0,!0),d=0<=y?1:-1;y=Math.abs(y),e&&(a=o.cvt[u],r)&&Math.abs(y-a)<o.cvCutIn&&(y=a),n&&y<h&&(y=h),r&&(y=o.round(y)),f.setRelative(c,l,d*y,p),f.touch(c),exports.DEBUG&&(o.step,e)&&o.cvt[u],o.rp1=o.rp0,o.rp2=s,t&&(o.rp0=s)}function En(e){this.char=e,this.state={},this.activeState=null}function Rn(e,t,n){this.contextName=n,this.startIndex=e,this.endOffset=t}function An(e,t,n){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=n}function O(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function Mn(e){this.eventId=e,this.subscribers=[]}function P(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],function(n){var r=this,e=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];e.forEach(function(e){Object.defineProperty(r.events,e,{value:new Mn(e)})}),n&&e.forEach(function(e){var t=n[e];"function"==typeof t&&r.events[e].subscribe(t)}),["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach(function(e){r.events[e].subscribe(r.updateContextsRanges)})}.call(this,e)}function T(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function Cn(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function E(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function jn(e){return/[A-z]/.test(e)}function R(e){this.font=e,this.features={}}function Ln(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function In(e,t){if(e)switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var n=t.ranges,r=0;r<n.length;r++){var i,o=n[r];if(e>=o.start&&e<=o.end)return i=e-o.start,o.index+i}break;default:return-1}return-1}function Nn(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t.current,o=In(Array.isArray(o)?o[0]:o,i);-1!==o&&n.push(o)}return n.length!==e.length?-1:n}Xt.prototype.exec=function(e,t){if("number"!=typeof t)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var n=this.font,r=this._prepState;if(!r||r.ppem!==t){var i=this._fpgmState;if(!i){x.prototype=an,(i=this._fpgmState=new x("fpgm",n.tables.fpgm)).funcs=[],i.font=n,exports.DEBUG&&(i.step=-1);try{Vt(i)}catch(e){return void(this._errorState=3)}}x.prototype=i,(r=this._prepState=new x("prep",n.tables.prep)).ppem=t;var o=n.tables.cvt;if(o)for(var a=r.cvt=new Array(o.length),s=t/n.unitsPerEm,u=0;u<o.length;u++)a[u]=o[u]*s;else r.cvt=[];exports.DEBUG&&(r.step=-1);try{Vt(r)}catch(e){this._errorState,this._errorState=2}}if(!(1<this._errorState))try{return Yt(e,r)}catch(e){this._errorState,this._errorState=1}}},Yt=function(e,t){var n=t.ppem/t.font.unitsPerEm,r=n,i=e.components;if(x.prototype=t,i){for(var o=t.font,a=[],s=[],u=0;u<i.length;u++){var l=i[u],c=o.glyphs.get(l.glyphIndex),h=new x("glyf",c.instructions);exports.DEBUG&&(h.step=-1),Wt(c,h,n,r);for(var f=Math.round(l.dx*n),p=Math.round(l.dy*r),y=h.gZone,d=h.contours,v=0;v<y.length;v++){var m=y[v];m.xTouched=m.yTouched=!1,m.xo=m.x=m.x+f,m.yo=m.y=m.y+p}var b=a.length;a.push.apply(a,y);for(var g=0;g<d.length;g++)s.push(d[g]+b)}e.instructions&&!h.inhibitGridFit&&((h=new x("glyf",e.instructions)).gZone=h.z0=h.z1=h.z2=a,h.contours=s,a.push(new w(0,0),new w(Math.round(e.advanceWidth*n),0)),exports.DEBUG&&(h.step=-1),Vt(h),a.length-=2)}else h=new x("glyf",e.instructions),exports.DEBUG&&(h.step=-1),Wt(e,h,n,r),a=h.gZone;return a},Wt=function(e,t,n,r){for(var i,o,a,s=e.points||[],u=s.length,l=t.gZone=t.z0=t.z1=t.z2=[],c=t.contours=[],h=0;h<u;h++)i=s[h],l[h]=new w(i.x*n,i.y*r,i.lastPointOfContour,i.onCurve);for(var f=0;f<u;f++)i=l[f],o||(o=i,c.push(f)),i.lastPointOfContour?((i.nextPointOnContour=o).prevPointOnContour=i,o=void 0):(a=l[f+1],(i.nextPointOnContour=a).prevPointOnContour=i);if(!t.inhibitGridFit){if(exports.DEBUG){t.stack;for(var p=0;p<u;p++)l[p].x,l[p].y}if(l.push(new w(0,0),new w(Math.round(e.advanceWidth*n),0)),Vt(t),l.length-=2,exports.DEBUG){t.stack;for(var y=0;y<u;y++)l[y].x,l[y].y}}},Vt=function(e){var t=e.prog;if(t){var n,r=t.length;for(e.ip=0;e.ip<r;e.ip++){if(exports.DEBUG&&e.step++,!(n=Ht[t[e.ip]]))throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));n(e)}}},Ht=[ln.bind(void 0,d),ln.bind(void 0,y),cn.bind(void 0,d),cn.bind(void 0,y),hn.bind(void 0,d),hn.bind(void 0,y),fn.bind(void 0,0),fn.bind(void 0,1),pn.bind(void 0,0),pn.bind(void 0,1),function(e){var t=(n=e.stack).pop(),n=n.pop();exports.DEBUG&&e.step,e.pv=e.dpv=rn(n,t)},function(e){var t=(n=e.stack).pop(),n=n.pop();exports.DEBUG&&e.step,e.fv=rn(n,t)},function(e){var t=e.stack,n=e.pv;exports.DEBUG&&e.step,t.push(16384*n.x),t.push(16384*n.y)},function(e){var t=e.stack,n=e.fv;exports.DEBUG&&e.step,t.push(16384*n.x),t.push(16384*n.y)},function(e){e.fv=e.pv,exports.DEBUG&&e.step},function(e){var t=(o=e.stack).pop(),n=o.pop(),r=o.pop(),i=o.pop(),o=o.pop(),a=e.z0,s=e.z1,t=a[t],a=a[n],n=s[r],r=s[i],s=e.z2[o],i=(exports.DEBUG,t.x),e=t.y,o=a.x,t=a.y,a=n.x,n=n.y,u=r.x,l=(i-o)*(n-(r=r.y))-(e-t)*(a-u),c=i*t-e*o,h=a*r-n*u;s.x=(c*(a-u)-h*(i-o))/l,s.y=(c*(n-r)-h*(e-t))/l},function(e){e.rp0=e.stack.pop(),exports.DEBUG&&e.step},function(e){e.rp1=e.stack.pop(),exports.DEBUG&&e.step},function(e){e.rp2=e.stack.pop(),exports.DEBUG&&e.step},function(e){var t=e.stack.pop();switch(exports.DEBUG&&e.step,e.zp0=t){case 0:e.tZone||sn(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&e.step,e.zp1=t){case 0:e.tZone||sn(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&e.step,e.zp2=t){case 0:e.tZone||sn(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&e.step,e.zp0=e.zp1=e.zp2=t){case 0:e.tZone||sn(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),exports.DEBUG&&e.step},function(e){exports.DEBUG&&e.step,e.round=Jt},function(e){exports.DEBUG&&e.step,e.round=Qt},function(e){var t=e.stack.pop();exports.DEBUG&&e.step,e.minDis=t/64},function(e){exports.DEBUG&&e.step,un(e,!1)},function(e){var t=e.stack.pop();exports.DEBUG&&e.step,e.ip+=t-1},function(e){var t=e.stack.pop();exports.DEBUG&&e.step,e.cvCutIn=t/64},void 0,void 0,function(e){var t=e.stack;exports.DEBUG&&e.step,t.push(t[t.length-1])},yn,function(e){exports.DEBUG&&e.step,e.stack.length=0},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n),t.push(r)},function(e){var t=e.stack;exports.DEBUG&&e.step,t.push(t.length)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(t[t.length-n])},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(t.splice(t.length-n,1)[0])},void 0,void 0,void 0,function(e){var t=(r=e.stack).pop(),n=r.pop(),r=(exports.DEBUG&&e.step,e.ip),i=e.prog;e.prog=e.funcs[t];for(var o=0;o<n;o++)Vt(e),exports.DEBUG&&++e.step;e.ip=r,e.prog=i},function(e){var t=e.stack.pop(),n=(exports.DEBUG&&e.step,e.ip),r=e.prog;e.prog=e.funcs[t],Vt(e),e.ip=n,e.prog=r,exports.DEBUG&&++e.step},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var t=e.stack,n=e.prog,r=e.ip,t=t.pop(),i=r;for(exports.DEBUG&&e.step;45!==n[++r];);e.ip=r,e.funcs[t]=n.slice(i+1,r)},void 0,dn.bind(void 0,0),dn.bind(void 0,1),vn.bind(void 0,d),vn.bind(void 0,y),mn.bind(void 0,0),mn.bind(void 0,1),bn.bind(void 0,0),bn.bind(void 0,1),gn.bind(void 0,0),gn.bind(void 0,1),function(e){for(var t=e.stack,n=e.loop,r=e.fv,i=t.pop()/64,o=e.z2;n--;){var a=t.pop(),a=o[a];exports.DEBUG&&(e.step,1<e.loop)&&e.loop,r.setRelative(a,a,i),r.touch(a)}e.loop=1},function(e){for(var t=e.stack,n=e.rp1,r=e.rp2,i=e.loop,o=e.z0[n],a=e.z1[r],s=e.fv,u=e.dpv,l=e.z2;i--;){var c=t.pop(),c=l[c];exports.DEBUG&&(e.step,1<e.loop)&&e.loop,s.interpolate(c,o,a,u),s.touch(c)}e.loop=1},wn.bind(void 0,0),wn.bind(void 0,1),function(e){for(var t=e.stack,n=e.z0[e.rp0],r=e.loop,i=e.fv,o=e.pv,a=e.z1;r--;){var s=t.pop(),s=a[s];exports.DEBUG&&(e.step,1<e.loop)&&e.loop,i.setRelative(s,n,0,o),i.touch(s)}e.loop=1},function(e){exports.DEBUG&&e.step,e.round=Kt},xn.bind(void 0,0),xn.bind(void 0,1),function(e){var t=e.prog,n=e.ip,r=e.stack,i=t[++n];exports.DEBUG&&e.step;for(var o=0;o<i;o++)r.push(t[++n]);e.ip=n},function(e){var t=e.ip,n=e.prog,r=e.stack,i=n[++t];exports.DEBUG&&e.step;for(var o=0;o<i;o++){var a=n[++t]<<8|n[++t];32768&a&&(a=-(1+(65535^a))),r.push(a)}e.ip=t},function(e){var t=e.stack,n=(n=e.store)||(e.store=[]),r=t.pop(),t=t.pop();exports.DEBUG&&e.step,n[t]=r},function(e){var t=e.stack,n=e.store,r=t.pop(),e=(exports.DEBUG&&e.step,n&&n[r]||0);t.push(e)},function(e){var t=(n=e.stack).pop(),n=n.pop();exports.DEBUG&&e.step,e.cvt[n]=t/64},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(64*e.cvt[n])},_n.bind(void 0,0),_n.bind(void 0,1),void 0,Sn.bind(void 0,0),Sn.bind(void 0,1),function(e){exports.DEBUG&&e.step,e.stack.push(e.ppem)},void 0,function(e){exports.DEBUG&&e.step,e.autoFlip=!0},void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(r<n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(r<=n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n<r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n<=r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n===r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n!==r?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(Math.trunc(n)%2?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(Math.trunc(n)%2?0:1)},function(e){var t=e.stack.pop();exports.DEBUG&&e.step,t||(un(e,!0),exports.DEBUG&&e.step)},function(e){exports.DEBUG&&e.step},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n&&r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(n||r?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(n?0:1)},kn.bind(void 0,1),function(e){var t=e.stack.pop();exports.DEBUG&&e.step,e.deltaBase=t},function(e){var t=e.stack.pop();exports.DEBUG&&e.step,e.deltaShift=Math.pow(.5,t)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(r+n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(r-n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(64*r/n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(r*n/64)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(Math.abs(n))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(-n)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(64*Math.floor(n/64))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&e.step,t.push(64*Math.ceil(n/64))},On.bind(void 0,0),On.bind(void 0,1),On.bind(void 0,2),On.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var t=(n=e.stack).pop(),n=n.pop();exports.DEBUG&&e.step,e.cvt[n]=t*e.ppem/e.font.unitsPerEm},kn.bind(void 0,2),kn.bind(void 0,3),Pn.bind(void 0,1),Pn.bind(void 0,2),Pn.bind(void 0,3),function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&e.step,e.round=tn,192&n){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}e.srThreshold=0==(n&=15)?0:(n/8-.5)*t},function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&e.step,e.round=tn,192&n){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}e.srThreshold=0==(n&=15)?0:(n/8-.5)*t},void 0,void 0,function(e){exports.DEBUG&&e.step,e.round=Zt},void 0,function(e){exports.DEBUG&&e.step,e.round=$t},function(e){exports.DEBUG&&e.step,e.round=en},yn,yn,void 0,void 0,void 0,void 0,void 0,function(e){e.stack.pop(),exports.DEBUG&&e.step},Tn.bind(void 0,0),Tn.bind(void 0,1),function(e){var t=e.stack,n=t.pop(),r=0;exports.DEBUG&&e.step,1&n&&(r=35),32&n&&(r|=4096),t.push(r)},void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop(),i=t.pop();exports.DEBUG&&e.step,t.push(r),t.push(n),t.push(i)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(Math.max(r,n))},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&e.step,t.push(Math.min(r,n))},function(e){e.stack.pop(),exports.DEBUG&&e.step},function(e){var t=e.stack.pop(),n=e.stack.pop();switch(exports.DEBUG&&e.step,t){case 1:return void(e.inhibitGridFit=!!n);case 2:return void(e.ignoreCvt=!!n);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a.bind(void 0,1),a.bind(void 0,2),a.bind(void 0,3),a.bind(void 0,4),a.bind(void 0,5),a.bind(void 0,6),a.bind(void 0,7),a.bind(void 0,8),v.bind(void 0,1),v.bind(void 0,2),v.bind(void 0,3),v.bind(void 0,4),v.bind(void 0,5),v.bind(void 0,6),v.bind(void 0,7),v.bind(void 0,8),_.bind(void 0,0,0,0,0,0),_.bind(void 0,0,0,0,0,1),_.bind(void 0,0,0,0,0,2),_.bind(void 0,0,0,0,0,3),_.bind(void 0,0,0,0,1,0),_.bind(void 0,0,0,0,1,1),_.bind(void 0,0,0,0,1,2),_.bind(void 0,0,0,0,1,3),_.bind(void 0,0,0,1,0,0),_.bind(void 0,0,0,1,0,1),_.bind(void 0,0,0,1,0,2),_.bind(void 0,0,0,1,0,3),_.bind(void 0,0,0,1,1,0),_.bind(void 0,0,0,1,1,1),_.bind(void 0,0,0,1,1,2),_.bind(void 0,0,0,1,1,3),_.bind(void 0,0,1,0,0,0),_.bind(void 0,0,1,0,0,1),_.bind(void 0,0,1,0,0,2),_.bind(void 0,0,1,0,0,3),_.bind(void 0,0,1,0,1,0),_.bind(void 0,0,1,0,1,1),_.bind(void 0,0,1,0,1,2),_.bind(void 0,0,1,0,1,3),_.bind(void 0,0,1,1,0,0),_.bind(void 0,0,1,1,0,1),_.bind(void 0,0,1,1,0,2),_.bind(void 0,0,1,1,0,3),_.bind(void 0,0,1,1,1,0),_.bind(void 0,0,1,1,1,1),_.bind(void 0,0,1,1,1,2),_.bind(void 0,0,1,1,1,3),_.bind(void 0,1,0,0,0,0),_.bind(void 0,1,0,0,0,1),_.bind(void 0,1,0,0,0,2),_.bind(void 0,1,0,0,0,3),_.bind(void 0,1,0,0,1,0),_.bind(void 0,1,0,0,1,1),_.bind(void 0,1,0,0,1,2),_.bind(void 0,1,0,0,1,3),_.bind(void 0,1,0,1,0,0),_.bind(void 0,1,0,1,0,1),_.bind(void 0,1,0,1,0,2),_.bind(void 0,1,0,1,0,3),_.bind(void 0,1,0,1,1,0),_.bind(void 0,1,0,1,1,1),_.bind(void 0,1,0,1,1,2),_.bind(void 0,1,0,1,1,3),_.bind(void 0,1,1,0,0,0),_.bind(void 0,1,1,0,0,1),_.bind(void 0,1,1,0,0,2),_.bind(void 0,1,1,0,0,3),_.bind(void 0,1,1,0,1,0),_.bind(void 0,1,1,0,1,1),_.bind(void 0,1,1,0,1,2),_.bind(void 0,1,1,0,1,3),_.bind(void 0,1,1,1,0,0),_.bind(void 0,1,1,1,0,1),_.bind(void 0,1,1,1,0,2),_.bind(void 0,1,1,1,0,3),_.bind(void 0,1,1,1,1,0),_.bind(void 0,1,1,1,1,1),_.bind(void 0,1,1,1,1,2),_.bind(void 0,1,1,1,1,3)],En.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState},En.prototype.getState=function(e){return this.state[e]||null},P.prototype.inboundIndex=function(e){return 0<=e&&e<this.tokens.length},P.prototype.composeRUD=function(e){function t(e){return"object"==typeof e&&e.hasOwnProperty("FAIL")}var n=this,e=e.map(function(e){return n[e[0]].apply(n,e.slice(1).concat(!0))});if(e.every(t))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:e.filter(t)};this.dispatch("composeRUD",[e.filter(function(e){return!t(e)})])},P.prototype.replaceRange=function(e,t,n,r){t=null!==t?t:this.tokens.length;var i=n.every(function(e){return e instanceof En});return!isNaN(e)&&this.inboundIndex(e)&&i?(i=this.tokens.splice.apply(this.tokens,[e,t].concat(n)),r||this.dispatch("replaceToken",[e,t,n]),[i,n]):{FAIL:"replaceRange: invalid tokens or startIndex."}},P.prototype.replaceToken=function(e,t,n){var r;return!isNaN(e)&&this.inboundIndex(e)&&t instanceof En?(r=this.tokens.splice(e,1,t),n||this.dispatch("replaceToken",[e,t]),[r[0],t]):{FAIL:"replaceToken: invalid token or index."}},P.prototype.removeRange=function(e,t,n){t=isNaN(t)?this.tokens.length:t;var r=this.tokens.splice(e,t);return n||this.dispatch("removeRange",[r,e,t]),r},P.prototype.removeToken=function(e,t){var n;return!isNaN(e)&&this.inboundIndex(e)?(n=this.tokens.splice(e,1),t||this.dispatch("removeToken",[n,e]),n):{FAIL:"removeToken: invalid token index."}},P.prototype.insertToken=function(e,t,n){return e.every(function(e){return e instanceof En})?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),n||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}},P.prototype.registerModifier=function(n,r,i){this.events.newToken.subscribe(function(e,t){null!==r&&!0!==r.apply(this,[e,t])||(t=i.apply(this,[e,t]),e.setState(n,t))}),this.registeredModifiers.push(n)},Mn.prototype.subscribe=function(e){return"function"==typeof e?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},Mn.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)},O.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)},O.prototype.get=function(e){switch(!0){case 0===e:return this.current;case e<0&&Math.abs(e)<=this.backtrack.length:return this.backtrack.slice(e)[0];case 0<e&&e<=this.lookahead.length:return this.lookahead[e-1];default:return null}},P.prototype.rangeToText=function(e){if(e instanceof Rn)return this.getRangeTokens(e).map(function(e){return e.char}).join("")},P.prototype.getText=function(){return this.tokens.map(function(e){return e.char}).join("")},P.prototype.getContext=function(e){e=this.registeredContexts[e];return e||null},P.prototype.on=function(e,t){e=this.events[e];return e?e.subscribe(t):null},P.prototype.dispatch=function(e,t){var n=this,e=this.events[e];e instanceof Mn&&e.subscribers.forEach(function(e){e.apply(n,t||[])})},P.prototype.registerContextChecker=function(e,t,n){return this.getContext(e)?{FAIL:"context name '"+e+"' is already registered."}:"function"!=typeof t?{FAIL:"missing context start check."}:"function"!=typeof n?{FAIL:"missing context end check."}:(t=new An(e,t,n),this.registeredContexts[e]=t,this.contextCheckers.push(t),t)},P.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))},P.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}},P.prototype.resetContextsRanges=function(){var e,t=this.registeredContexts;for(e in t)t.hasOwnProperty(e)&&(t[e].ranges=[])},P.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map(function(e){return e.char}),t=0;t<e.length;t++){var n=new O(e,t);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])},P.prototype.setEndOffset=function(e,t){var e=new Rn(this.getContext(t).openRange.startIndex,e,t),n=this.getContext(t).ranges;return e.rangeId=t+"."+n.length,n.push(e),this.getContext(t).openRange=null,e},P.prototype.runContextCheck=function(r){var i=this,o=r.index;this.contextCheckers.forEach(function(e){var t=e.contextName,n=i.getContext(t).openRange;!n&&e.checkStart(r)&&(n=new Rn(o,null,t),i.getContext(t).openRange=n,i.dispatch("contextStart",[t,o])),n&&e.checkEnd(r)&&(e=o-n.startIndex+1,n=i.setEndOffset(e,t),i.dispatch("contextEnd",[t,n]))})},P.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var n=0;n<t.length;n++){var r=t[n],i=new O(t,n),r=(this.dispatch("next",[i]),this.runContextCheck(i),new En(r));this.tokens.push(r),this.dispatch("newToken",[r,i])}return this.dispatch("end",[this.tokens]),this.tokens},R.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var n=e[t];if("DFLT"===n.tag)return n.script.defaultLangSys.featureIndexes}return[]},R.prototype.getScriptFeaturesIndexes=function(e){if(!this.font.tables.gsub)return[];if(e)for(var t=this.font.tables.gsub.scripts,n=0;n<t.length;n++){var r=t[n];if(r.tag===e&&r.script.defaultLangSys)return r.script.defaultLangSys.featureIndexes;var i=r.langSysRecords;if(i)for(var o=0;o<i.length;o++){var a=i[o];if(a.tag===e)return a.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},R.prototype.mapTagsToFeatures=function(e,t){for(var n={},r=0;r<e.length;r++){var i=e[r].tag,o=e[r].feature;n[i]=o}this.features[t].tags=n},R.prototype.getScriptFeatures=function(e){var t=this.features[e];if(!this.features.hasOwnProperty(e)){var n=this.getScriptFeaturesIndexes(e);if(!n)return null;var r=this.font.tables.gsub,t=n.map(function(e){return r.features[e]});this.features[e]=t,this.mapTagsToFeatures(t,e)}return t},R.prototype.getSubstitutionType=function(e,t){return e.lookupType.toString()+t.substFormat.toString()},R.prototype.getLookupMethod=function(e,t){var n=this;switch(this.getSubstitutionType(e,t)){case"11":return function(e){return function(e,t){return-1===In(e,t.coverage)?null:e+t.deltaGlyphId}.apply(n,[e,t])};case"12":return function(e){return function(e,t){return-1===(e=In(e,t.coverage))?null:t.substitute[e]}.apply(n,[e,t])};case"63":return function(e){return function(e,t){var n=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<n)return[];var r=Nn(t.inputCoverage,e);if(-1===r)return[];if(n=t.inputCoverage.length-1,e.lookahead.length<t.lookaheadCoverage.length)return[];for(var i=e.lookahead.slice(n);i.length&&E(i[0].char);)i.shift();var n=new O(i,0),n=Nn(t.lookaheadCoverage,n),o=[].concat(e.backtrack);for(o.reverse();o.length&&E(o[0].char);)o.shift();if(o.length<t.backtrackCoverage.length)return[];var a=new O(o,0),a=Nn(t.backtrackCoverage,a),s=[];if(r.length===t.inputCoverage.length&&n.length===t.lookaheadCoverage.length&&a.length===t.backtrackCoverage.length)for(var u=0;u<t.lookupRecords.length;u++)for(var l=t.lookupRecords[u].lookupListIndex,c=this.getLookupByIndex(l),h=0;h<c.subtables.length;h++){var f=c.subtables[h],p=this.getLookupMethod(c,f);if("12"===this.getSubstitutionType(c,f))for(var y=0;y<r.length;y++){var d=p(e.get(y));d&&s.push(d)}}return s}.apply(n,[e,t])};case"41":return function(e){return function(e,t){var n=In(e.current,t.coverage);if(-1!==n)for(var r=t.ligatureSets[n],i=0;i<r.length;i++)for(var o=r[i],a=0;a<o.components.length;a++){if(e.lookahead[a]!==o.components[a])break;if(a===o.components.length-1)return o}return null}.apply(n,[e,t])};case"21":return function(e){return function(e,t){return-1===(e=In(e,t.coverage))?null:t.sequences[e]}.apply(n,[e,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}},R.prototype.lookupFeature=function(e){var t=e.contextParams,n=t.index,r=this.getFeature({tag:e.tag,script:e.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var i=this.getFeatureLookups(r),o=[].concat(t.context),a=0;a<i.length;a++)for(var s=i[a],u=this.getLookupSubtables(s),l=0;l<u.length;l++){var c=u[l],h=this.getSubstitutionType(s,c),f=this.getLookupMethod(s,c),p=void 0;switch(h){case"11":(p=f(t.current))&&o.splice(n,1,new Ln({id:11,tag:e.tag,substitution:p}));break;case"12":(p=f(t.current))&&o.splice(n,1,new Ln({id:12,tag:e.tag,substitution:p}));break;case"63":p=f(t),Array.isArray(p)&&p.length&&o.splice(n,1,new Ln({id:63,tag:e.tag,substitution:p}));break;case"41":(p=f(t))&&o.splice(n,1,new Ln({id:41,tag:e.tag,substitution:p}));break;case"21":(p=f(t.current))&&o.splice(n,1,new Ln({id:21,tag:e.tag,substitution:p}))}t=new O(o,n),Array.isArray(p)&&!p.length||(p=null)}return o.length?o:null},R.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e,n=this.features.hasOwnProperty(t.script);return t.tag?(e=this.features[t.script].some(function(e){return e.tag===t.tag}),n&&e):n},R.prototype.getLookupSubtables=function(e){return e.subtables||null},R.prototype.getLookupByIndex=function(e){return this.font.tables.gsub.lookups[e]||null},R.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))},R.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};var Dn={startCheck:function(e){var t=e.current;return null===(e=e.get(-1))&&T(t)||!T(e)&&T(t)},endCheck:function(e){return null===(e=e.get(1))||!T(e)}};var Bn={startCheck:function(e){var t=e.current,e=e.get(-1);return(T(t)||E(t))&&!T(e)},endCheck:function(e){var t=e.get(1);switch(!0){case null===t:return!0;case!T(t)&&!E(t):var n=/\s/.test(t);if(!n)return!0;if(n)if(!e.lookahead.some(function(e){return T(e)||E(e)}))return!0;break;default:return!1}}};var Fn={11:function(e,t,n){t[n].setState(e.tag,e.substitution)},12:function(e,t,n){t[n].setState(e.tag,e.substitution)},63:function(n,r,i){n.substitution.forEach(function(e,t){r[i+t].setState(n.tag,e)})},41:function(e,t,n){for(var r=t[n],i=(r.setState(e.tag,e.substitution.ligGlyph),e.substitution.components.length),o=0;o<i;o++)(r=t[n+o+1]).setState("deleted",!0)}};function Un(e,t,n){e instanceof Ln&&Fn[e.id]&&Fn[e.id](e,t,n)}function zn(e){var r,i,o=this,a=this.featuresTags.arab,s=this.tokenizer.getRangeTokens(e);1!==s.length&&(r=new O(s.map(function(e){return e.getState("glyphIndex")}),0),i=new O(s.map(function(e){return e.char}),0),s.forEach(function(e,t){if(!E(e.char)){r.setCurrentIndex(t),i.setCurrentIndex(t);var n,e=0;switch((e=>{for(var t=[].concat(e.backtrack),n=t.length-1;0<=n;n--){var r=t[n],i=Cn(r),r=E(r);if(!i&&!r)return 1;if(i)return}})(i)&&(e|=1),(e=>{if(!Cn(e.current))for(var t=0;t<e.lookahead.length;t++)if(!E(e.lookahead[t]))return 1})(i)&&(e|=2),e){case 1:n="fina";break;case 2:n="init";break;case 3:n="medi"}if(-1!==a.indexOf(n))return(t=o.query.lookupFeature({tag:n,script:"arab",contextParams:r}))instanceof Error?console.info(t.message):void t.forEach(function(e,t){e instanceof Ln&&(Un(e,s,t),r.context[t]=e.substitution)})}}))}function Gn(e,t){return new O(e.map(function(e){return e.activeState.value}),t||0)}var Hn={startCheck:function(e){var t=e.current;return null===(e=e.get(-1))&&jn(t)||!jn(e)&&jn(t)},endCheck:function(e){return null===(e=e.get(1))||!jn(e)}};function Vn(e,t){return new O(e.map(function(e){return e.activeState.value}),t||0)}function A(e){this.baseDir=e||"ltr",this.tokenizer=new P,this.featuresTags={}}function Yn(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function Wn(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function qn(){var t=this;this.featuresTags.hasOwnProperty("arab")&&-1!==this.featuresTags.arab.indexOf("rlig")&&(Wn.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(function(e){!function(e){var r=this,i=this.tokenizer.getRangeTokens(e),o=Gn(i);o.context.forEach(function(e,t){o.setCurrentIndex(t);var n=r.query.lookupFeature({tag:"rlig",script:"arab",contextParams:o});n.length&&(n.forEach(function(e){return Un(e,i,t)}),o=Gn(i))})}.call(t,e)}))}function Xn(){var t=this;this.featuresTags.hasOwnProperty("latn")&&-1!==this.featuresTags.latn.indexOf("liga")&&(Wn.call(this),this.tokenizer.getContextRanges("latinWord").forEach(function(e){!function(e){var r=this,i=this.tokenizer.getRangeTokens(e),o=Vn(i);o.context.forEach(function(e,t){o.setCurrentIndex(t);var n=r.query.lookupFeature({tag:"liga",script:"latn",contextParams:o});n.length&&(n.forEach(function(e){return Un(e,i,t)}),o=Vn(i))})}.call(t,e)}))}function M(e){(e=e||{}).tables=e.tables||{},e.empty||(Dt(e.familyName,"When creating a new Font object, familyName is required."),Dt(e.styleName,"When creating a new Font object, styleName is required."),Dt(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Dt(e.ascender,"When creating a new Font object, ascender is required."),Dt(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new m.GlyphSet(this,e.glyphs||[]),this.encoding=new Ae(this),this.position=new Lt(this),this.substitution=new o(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Xt(this):void 0)}})}function Zn(e,t){var n,r=JSON.stringify(e),i=256;for(n in t){var o=parseInt(n);if(o&&!(o<256)){if(JSON.stringify(t[n])===r)return o;i<=o&&(i=o+1)}}return t[i]=e,i}A.prototype.setText=function(e){this.text=e},A.prototype.contextChecks={latinWordCheck:Hn,arabicWordCheck:Dn,arabicSentenceCheck:Bn},A.prototype.registerFeatures=function(t,e){var n=this,e=e.filter(function(e){return n.query.supports({script:t,tag:e})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(e):this.featuresTags[t]=e},A.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new R(e));for(var n=0;n<t.length;n++){var r=t[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}},A.prototype.registerModifier=function(e,t,n){this.tokenizer.registerModifier(e,t,n)},A.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)},A.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(!function(){var t=this;this.featuresTags.hasOwnProperty("arab")&&(Wn.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(function(e){zn.call(t,e)}))}.call(this),qn.call(this)),this.checkContextReady("latinWord")&&Xn.call(this),this.checkContextReady("arabicSentence")&&function(){var n=this;this.tokenizer.getContextRanges("arabicSentence").forEach(function(e){var t=n.tokenizer.getRangeTokens(e);n.tokenizer.replaceRange(e.startIndex,e.endOffset,t.reverse())})}.call(this)},A.prototype.processText=function(e){this.text&&this.text===e||(this.setText(e),function(){return Yn.call(this,"latinWord"),Yn.call(this,"arabicWord"),Yn.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}.call(this),this.applyFeaturesToContexts())},A.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()},A.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];r.state.deleted||(r=r.activeState.value,t.push(Array.isArray(r)?r[0]:r))}return t},M.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},M.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},M.prototype.charToGlyph=function(e){e=this.charToGlyphIndex(e);return this.glyphs.get(e)||this.glyphs.get(0)},M.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return"latn"===e.script?{script:"latn",tags:e.tags.filter(function(e){return t[e]})}:e})},M.prototype.stringToGlyphs=function(e,t){for(var n=this,r=new A,t=(r.registerModifier("glyphIndex",null,function(e){return n.charToGlyphIndex(e.char)}),t?this.updateFeatures(t.features):this.defaultRenderOptions.features),i=(r.applyFeatures(this,t),r.getTextGlyphs(e)),o=i.length,a=new Array(o),s=this.glyphs.get(0),u=0;u<o;u+=1)a[u]=this.glyphs.get(i[u])||s;return a},M.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},M.prototype.nameToGlyph=function(e){e=this.nameToGlyphIndex(e);return this.glyphs.get(e)||this.glyphs.get(0)},M.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},M.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,t):this.kerningPairs[e+","+t]||0},M.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},M.prototype.forEachGlyph=function(e,t,n,r,i,o){t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:72,i=Object.assign({},this.defaultRenderOptions,i);var a,s=1/this.unitsPerEm*r,u=this.stringToGlyphs(e,i);i.kerning&&(e=i.script||this.position.getDefaultScriptName(),a=this.position.getKerningTables(e,i.language));for(var l=0;l<u.length;l+=1){var c=u[l];o.call(this,c,t,n,r,i),c.advanceWidth&&(t+=c.advanceWidth*s),i.kerning&&l<u.length-1&&(t+=(a?this.position.getKerningValue(a,c.index,u[l+1].index):this.getKerningValue(c,u[l+1]))*s),i.letterSpacing?t+=i.letterSpacing*r:i.tracking&&(t+=i.tracking/1e3*r)}return t},M.prototype.getPath=function(e,t,n,r,i){var o=new f;return this.forEachGlyph(e,t,n,r,i,function(e,t,n,r){e=e.getPath(t,n,r,i,this);o.extend(e)}),o},M.prototype.getPaths=function(e,t,n,r,i){var o=[];return this.forEachGlyph(e,t,n,r,i,function(e,t,n,r){e=e.getPath(t,n,r,i,this);o.push(e)}),o},M.prototype.getAdvanceWidth=function(e,t,n){return this.forEachGlyph(e,0,0,t,n,function(){})},M.prototype.draw=function(e,t,n,r,i,o){this.getPath(t,n,r,i,o).draw(e)},M.prototype.drawPoints=function(i,e,t,n,r,o){this.forEachGlyph(e,t,n,r,o,function(e,t,n,r){e.drawPoints(i,t,n,r)})},M.prototype.drawMetrics=function(i,e,t,n,r,o){this.forEachGlyph(e,t,n,r,o,function(e,t,n,r){e.drawMetrics(i,t,n,r)})},M.prototype.getEnglishName=function(e){e=this.names[e];if(e)return e.en},M.prototype.validate=function(){var t=this;function e(e){e=t.getEnglishName(e);e&&e.trim().length}e("fontFamily"),e("weightName"),e("manufacturer"),e("copyright"),e("version"),this.unitsPerEm},M.prototype.toTables=function(){return Rt.fontToTable(this)},M.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},M.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e[r];return t},M.prototype.download=function(e){var t,n=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily"),n=(e=e||n.replace(/\s/g,"")+"-"+r+".otf",this.toArrayBuffer());"undefined"!=typeof window?(window.URL=window.URL||window.webkitURL,window.URL?(r=new DataView(n),r=new Blob([r],{type:"font/opentype"}),(t=document.createElement("a")).href=window.URL.createObjectURL(r),t.download=e,(r=document.createEvent("MouseEvents")).initEvent("click",!0,!1),t.dispatchEvent(r)):console.warn("Font file could not be downloaded. Try using a different browser.")):(t=fr(3),r=(e=>{for(var t=new N(e.byteLength),n=new Uint8Array(e),r=0;r<t.length;++r)t[r]=n[r];return t})(n),t.writeFileSync(e,r))},M.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},M.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},M.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function Jn(){return{coverage:this.parsePointer(l.coverage),attachPoints:this.parseList(l.pointer(l.uShortList))}}function Kn(){return{coverage:this.parsePointer(l.coverage),ligGlyphs:this.parseList(l.pointer(tr))}}function Qn(){return this.parseUShort(),this.parseList(l.pointer(l.coverage))}var $n={make:function(e,t){var n=new k.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);n.offsetToData=n.sizeOf();for(var r,i,o,a=0;a<e.axes.length;a++)n.fields=n.fields.concat((r=a,i=e.axes[a],o=t,o=Zn(i.name,t),[{name:"tag_"+r,type:"TAG",value:i.tag},{name:"minValue_"+r,type:"FIXED",value:i.minValue<<16},{name:"defaultValue_"+r,type:"FIXED",value:i.defaultValue<<16},{name:"maxValue_"+r,type:"FIXED",value:i.maxValue<<16},{name:"flags_"+r,type:"USHORT",value:0},{name:"nameID_"+r,type:"USHORT",value:o}]));for(var s=0;s<e.instances.length;s++)n.fields=n.fields.concat(((e,t,n,r)=>{for(var i=[{name:"nameID_"+e,type:"USHORT",value:Zn(t.name,r)},{name:"flags_"+e,type:"USHORT",value:0}],o=0;o<n.length;++o){var a=n[o].tag;i.push({name:"axis_"+e+" "+a,type:"FIXED",value:t.coordinates[a]<<16})}return i})(s,e.instances[s],e.axes,t));return n},parse:function(e,t,n){for(var r,i,o,a,s=new L.Parser(e,t),u=s.parseULong(),l=(j.argument(65536===u,"Unsupported fvar table version."),s.parseOffset16()),c=(s.skip("uShort",1),s.parseUShort()),h=s.parseUShort(),f=s.parseUShort(),p=s.parseUShort(),y=[],d=0;d<c;d++)y.push((r=e,i=t+l+d*h,o=n,void 0,a={},r=new L.Parser(r,i),a.tag=r.parseTag(),a.minValue=r.parseFixed(),a.defaultValue=r.parseFixed(),a.maxValue=r.parseFixed(),r.skip("uShort",1),a.name=o[r.parseUShort()]||{},a));for(var v=[],m=t+l+c*h,b=0;b<f;b++)v.push(((e,t,n,r)=>{var i={},o=new L.Parser(e,t);i.name=r[o.parseUShort()]||{},o.skip("uShort",1),i.coordinates={};for(var a=0;a<n.length;++a)i.coordinates[n[a].tag]=o.parseFixed();return i})(e,m+b*p,y,n));return{axes:y,instances:v}}},er=function(){var e=this.parseUShort();return j.argument(1===e||2===e||3===e,"Unsupported CaretValue table version."),1===e?{coordinate:this.parseShort()}:2===e?{pointindex:this.parseShort()}:3===e?{coordinate:this.parseShort()}:void 0},tr=function(){return this.parseList(l.pointer(er))};var nr={parse:function(e,t){var t=(e=new l(e,t=t||0)).parseVersion(1),n=(j.argument(1===t||1.2===t||1.3===t,"Unsupported GDEF table version."),{version:t,classDef:e.parsePointer(l.classDef),attachList:e.parsePointer(Jn),ligCaretList:e.parsePointer(Kn),markAttachClassDef:e.parsePointer(l.classDef)});return 1.2<=t&&(n.markGlyphSets=e.parsePointer(Qn)),n}},C=new Array(10);C[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(l.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(l.coverage),values:this.parseValueRecordList()}:void j.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},C[2]=function(){var e,t,n,r,i=this.offset+this.relativeOffset,o=this.parseUShort(),i=(j.assert(1===o||2===o,"0x"+i.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(l.coverage)),a=this.parseUShort(),s=this.parseUShort();return 1===o?{posFormat:o,coverage:i,valueFormat1:a,valueFormat2:s,pairSets:this.parseList(l.pointer(l.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(a),value2:this.parseValueRecord(s)}})))}:2===o?(e=this.parsePointer(l.classDef),t=this.parsePointer(l.classDef),n=this.parseUShort(),r=this.parseUShort(),{posFormat:o,coverage:i,valueFormat1:a,valueFormat2:s,classDef1:e,classDef2:t,class1Count:n,class2Count:r,classRecords:this.parseList(n,l.list(r,function(){return{value1:this.parseValueRecord(a),value2:this.parseValueRecord(s)}}))}):void 0},C[3]=function(){return{error:"GPOS Lookup 3 not supported"}},C[4]=function(){return{error:"GPOS Lookup 4 not supported"}},C[5]=function(){return{error:"GPOS Lookup 5 not supported"}},C[6]=function(){return{error:"GPOS Lookup 6 not supported"}},C[7]=function(){return{error:"GPOS Lookup 7 not supported"}},C[8]=function(){return{error:"GPOS Lookup 8 not supported"}},C[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var rr=new Array(10);var ir={parse:function(e,t){return t=(e=new l(e,t=t||0)).parseVersion(1),j.argument(1===t||1.1===t,"Unsupported GPOS table version "+t),1===t?{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(C)}:{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(C),variations:e.parseFeatureVariationsList()}},make:function(e){return new k.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new k.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new k.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new k.LookupList(e.lookups,rr)}])}};var or={parse:function(e,t){if(e=new L.Parser(e,t),0===(t=e.parseUShort())){var n=e,r={},i=(n.skip("uShort"),n.parseUShort()),o=(j.argument(0===i,"Unsupported kern sub-table version."),n.skip("uShort",2),n.parseUShort());n.skip("uShort",3);for(var a=0;a<o;a+=1){var s=n.parseUShort(),u=n.parseUShort(),l=n.parseShort();r[s+","+u]=l}return r}if(1!==t)throw new Error("Unsupported kern table version ("+t+").");var c=e,h={},i=(c.skip("uShort"),1<c.parseULong()&&console.warn("Only the first kern subtable is supported."),c.skip("uLong"),255&c.parseUShort());if(c.skip("uShort"),0==i){var f=c.parseUShort();c.skip("uShort",3);for(var p=0;p<f;p+=1){var y=c.parseUShort(),d=c.parseUShort(),v=c.parseShort();h[y+","+d]=v}}return h}};var ar={parse:function(e,t,n,r){for(var i=new L.Parser(e,t),o=r?i.parseUShort:i.parseULong,a=[],s=0;s<n+1;s+=1){var u=o.call(i);r&&(u*=2),a.push(u)}return a}};function sr(e,n){fr(3).readFile(e,function(e,t){if(e)return n(e.message);n(null,Nt(t))})}function ur(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?t(null,n.response):t("Font could not be loaded: "+n.statusText)},n.onerror=function(){t("Font could not be loaded")},n.send()}function lr(e,t){for(var n=[],r=12,i=0;i<t;i+=1){var o=L.getTag(e,r),a=L.getULong(e,r+4),s=L.getULong(e,r+8),u=L.getULong(e,r+12);n.push({tag:o,checksum:a,offset:s,length:u,compression:!1}),r+=16}return n}function I(e,t){if("WOFF"!==t.compression)return{data:e,offset:t.offset};var e=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),n=new Uint8Array(t.length);if(ne(e,n),n.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(n.buffer,0),offset:0}}function cr(e,t){t=null==t?{}:t;var n,r,i,o,a,s,u,l,c,h,f,p,y,d,v,m=new M({empty:!0}),b=new DataView(e,0),g=[],e=L.getTag(b,0);if(e===String.fromCharCode(0,1,0,0)||"true"===e||"typ1"===e)m.outlinesFormat="truetype",g=lr(b,i=L.getUShort(b,4));else if("OTTO"===e)m.outlinesFormat="cff",g=lr(b,i=L.getUShort(b,4));else{if("wOFF"!==e)throw new Error("Unsupported OpenType signature "+e);var w=L.getTag(b,4);if(w===String.fromCharCode(0,1,0,0))m.outlinesFormat="truetype";else{if("OTTO"!==w)throw new Error("Unsupported OpenType flavor "+e);m.outlinesFormat="cff"}g=((e,t)=>{for(var n=[],r=44,i=0;i<t;i+=1){var o=L.getTag(e,r),a=L.getULong(e,r+4),s=L.getULong(e,r+8),u=L.getULong(e,r+12),l=void 0,l=s<u&&"WOFF";n.push({tag:o,offset:a,compression:l,compressedLength:s,length:u}),r+=20}return n})(b,i=L.getUShort(b,12))}for(var x=0;x<i;x+=1){var _=g[x],S=void 0;switch(_.tag){case"cmap":S=I(b,_),m.tables.cmap=Pe.parse(S.data,S.offset),m.encoding=new Me(m.tables.cmap);break;case"cvt ":S=I(b,_),v=new L.Parser(S.data,S.offset),m.tables.cvt=v.parseShortList(_.length/2);break;case"fvar":a=_;break;case"fpgm":S=I(b,_),v=new L.Parser(S.data,S.offset),m.tables.fpgm=v.parseByteList(_.length);break;case"head":S=I(b,_),m.tables.head=et.parse(S.data,S.offset),m.unitsPerEm=m.tables.head.unitsPerEm,n=m.tables.head.indexToLocFormat;break;case"hhea":S=I(b,_),m.tables.hhea=tt.parse(S.data,S.offset),m.ascender=m.tables.hhea.ascender,m.descender=m.tables.hhea.descender,m.numberOfHMetrics=m.tables.hhea.numberOfHMetrics;break;case"hmtx":h=_;break;case"ltag":S=I(b,_),r=rt.parse(S.data,S.offset);break;case"maxp":S=I(b,_),m.tables.maxp=it.parse(S.data,S.offset),m.numGlyphs=m.tables.maxp.numGlyphs;break;case"name":y=_;break;case"OS/2":S=I(b,_),m.tables.os2=bt.parse(S.data,S.offset);break;case"post":S=I(b,_),m.tables.post=gt.parse(S.data,S.offset),m.glyphNames=new je(m.tables.post);break;case"prep":S=I(b,_),v=new L.Parser(S.data,S.offset),m.tables.prep=v.parseByteList(_.length);break;case"glyf":s=_;break;case"loca":p=_;break;case"CFF ":o=_;break;case"kern":f=_;break;case"GDEF":u=_;break;case"GPOS":l=_;break;case"GSUB":c=_;break;case"meta":d=_}}w=I(b,y);if(m.tables.name=vt.parse(w.data,w.offset,r),m.names=m.tables.name,s&&p){e=0===n,w=I(b,p),w=ar.parse(w.data,w.offset,m.numGlyphs,e),e=I(b,s);m.glyphs=qt.parse(e.data,e.offset,w,m,t)}else{if(!o)throw new Error("Font doesn't contain TrueType or CFF outlines.");e=I(b,o);$e.parse(e.data,e.offset,m,t)}var w=I(b,h);return nt.parse(m,w.data,w.offset,m.numberOfHMetrics,m.numGlyphs,m.glyphs,t),Le(m,t),f?(e=I(b,f),m.kerningPairs=or.parse(e.data,e.offset)):m.kerningPairs={},u&&(w=I(b,u),m.tables.gdef=nr.parse(w.data,w.offset)),l&&(t=I(b,l),m.tables.gpos=ir.parse(t.data,t.offset),m.position.init()),c&&(e=I(b,c),m.tables.gsub=_t.parse(e.data,e.offset)),a&&(w=I(b,a),m.tables.fvar=$n.parse(w.data,w.offset,m.names)),d&&(t=I(b,d),m.tables.meta=St.parse(t.data,t.offset),m.metas=m.tables.meta),m}Hn=Object.freeze({__proto__:null,Font:M,Glyph:h,Path:f,BoundingBox:s,_parse:L,parse:cr,load:function(e,o,a){a=null==a?{}:a;var t="undefined"==typeof window&&!a.isUrl?sr:ur;return new Promise(function(r,i){t(e,function(e,t){if(e){if(o)return o(e);i(e)}var n;try{n=cr(t,a)}catch(e){if(o)return o(e,null);i(e)}if(o)return o(null,n);r(n)})})},loadSync:function(e,t){return cr(Nt(fr(3).readFileSync(e)),t)}});hr.a=Hn}.call(this,fr(7).Buffer)},function(e,C,j){!function(e){var k=j(8),o=j(9),s=j(10);function n(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=h.prototype:(e=null===e?new h(t):e).length=t,e}function h(e,t,n){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(e,t,n);if("number"!=typeof e)return r(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return a(this,e)}function r(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var i=e,o=t,a=n;if(o.byteLength,a<0||o.byteLength<a)throw new RangeError("'offset' is out of bounds");if(o.byteLength<a+(r||0))throw new RangeError("'length' is out of bounds");return o=void 0===a&&void 0===r?new Uint8Array(o):void 0===r?new Uint8Array(o,a):new Uint8Array(o,a,r),h.TYPED_ARRAY_SUPPORT?(i=o).__proto__=h.prototype:i=l(i,o),i}if("string"!=typeof t){a=e,r=t;if(h.isBuffer(r))return o=0|c(r.length),0!==(a=u(a,o)).length&&r.copy(a,0,0,o),a;if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||(e=>e!=e)(r.length)?u(a,0):l(a,r);if("Buffer"===r.type&&s(r.data))return l(a,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}i=e,r=t,e=n;if(h.isEncoding(e="string"==typeof e&&""!==e?e:"utf8"))return t=0|f(r,e),i=(r=(i=u(i,t)).write(r,e))!==t?i.slice(0,r):i;throw new TypeError('"encoding" must be a valid string encoding')}function i(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t){if(i(t),e=u(e,t<0?0:0|c(t)),!h.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t){var n=t.length<0?0:0|c(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function c(e){if(n()<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function f(e,t){if(h.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var n=(e="string"!=typeof e?""+e:e).length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return A(e).length;default:if(r)return R(e).length;t=(""+t).toLowerCase(),r=!0}}function t(e,t,n){var r,i=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var o=this,a=t,s=n,u=o.length;(!s||s<0||u<s)&&(s=u);for(var l="",c=a=!a||a<0?0:a;c<s;++c)l+=(e=>e<16?"0"+e.toString(16):e.toString(16))(o[c]);return l;case"utf8":case"utf-8":return O(this,t,n);case"ascii":var h=this,u=t,f=n,p="";f=Math.min(h.length,f);for(var y=u;y<f;++y)p+=String.fromCharCode(127&h[y]);return p;case"latin1":case"binary":var d=this,a=t,v=n,m="";v=Math.min(d.length,v);for(var b=a;b<v;++b)m+=String.fromCharCode(d[b]);return m;case"base64":return g=this,r=n,0===(w=t)&&r===g.length?k.fromByteArray(g):k.fromByteArray(g.slice(w,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var g=t,w=n,x=this.slice(g,w),_="",S=0;S<x.length;S+=2)_+=String.fromCharCode(x[S]+256*x[S+1]);return _;default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?i?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=h.from(t,r)),h.isBuffer(t))return 0===t.length?-1:d(e,t,n,r,i);if("number"==typeof t)return t&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):d(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function d(e,t,n,r,i){var o=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=o=2,s/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i)for(var l=-1,c=n;c<a;c++)if(u(e,c)===u(t,-1===l?0:c-l)){if(c-(l=-1===l?c:l)+1===s)return l*o}else-1!==l&&(c-=c-l),l=-1;else for(c=n=a<n+s?a-s:n;0<=c;c--){for(var h=!0,f=0;f<s;f++)if(u(e,c+f)!==u(t,f)){h=!1;break}if(h)return c}return-1}function v(e,t,n,r){return M((e=>{for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t})(t),e,n,r)}function m(e,t,n,r){return M(((e,t)=>{for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i.push(n%256),i.push(r);return i})(t,e.length-n),e,n,r)}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,h=239<l?4:223<l?3:191<l?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&127<(u=(31&l)<<6|63&o)&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(u=(15&l)<<12|(63&o)<<6|63&a)&&(u<55296||57343<u)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)&&u<1114112&&(c=u)}null===c?(c=65533,h=1):65535<c&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}var f=r,p=f.length;if(p<=b)return String.fromCharCode.apply(String,f);for(var y="",d=0;d<p;)y+=String.fromCharCode.apply(String,f.slice(d,d+=b));return y}C.Buffer=h,C.SlowBuffer=function(e){+e!=e&&(e=0);return h.alloc(+e)},C.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:(()=>{try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}})(),C.kMaxLength=n(),h.poolSize=8192,h._augment=function(e){return e.__proto__=h.prototype,e},h.from=function(e,t,n){return r(null,e,t,n)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0}),h.alloc=function(e,t,n){return r=null,t=t,n=n,i(e=e),!(e<=0)&&void 0!==t?"string"==typeof n?u(r,e).fill(t,n):u(r,e).fill(t):u(r,e);var r},h.allocUnsafe=function(e){return a(null,e)},h.allocUnsafeSlow=function(e){return a(null,e)},h.isBuffer=function(e){return!(null==e||!e._isBuffer)},h.compare=function(e,t){if(!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;for(var n=h.allocUnsafe(t),r=0,i=0;i<e.length;++i){var o=e[i];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},h.byteLength=f,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},h.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?O(this,0,e):t.apply(this,arguments)},h.prototype.equals=function(e){if(h.isBuffer(e))return this===e||0===h.compare(this,e);throw new TypeError("Argument must be a Buffer")},h.prototype.inspect=function(){var e="",t=C.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t)&&(e+=" ... "),"<Buffer "+e+">"},h.prototype.compare=function(e,t,n,r,i){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),(t=void 0===t?0:t)<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),c=0;c<s;++c)if(u[c]!==l[c]){o=u[c],a=l[c];break}return o<a?-1:a<o?1:0},h.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},h.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},h.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},h.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,a,s,u=!1;;)switch(r){case"hex":var l=this,c=e,h=t,f=n,p=(h=Number(h)||0,l.length-h);if((!f||p<(f=Number(f)))&&(f=p),(p=c.length)%2!=0)throw new TypeError("Invalid hex string");p/2<f&&(f=p/2);for(var y=0;y<f;++y){var d=parseInt(c.substr(2*y,2),16);if(isNaN(d))return y;l[h+y]=d}return y;case"utf8":case"utf-8":return p=t,s=n,M(R(e,(a=this).length-p),a,p,s);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return v(this,e,t,n);case"base64":return a=this,s=t,o=n,M(A(e),a,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,e,t,n);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var b=4096;function g(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function w(e,t,n,r,i,o){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function _(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function S(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,i){return i||S(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function T(e,t,n,r,i){return i||S(e,0,n,8),o.write(e,t,n,r,52,8),n+8}h.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),h.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=h.prototype;else for(var r=t-e,i=new h(r,void 0),o=0;o<r;++o)i[o]=this[o+e];return i},h.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||g(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},h.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||g(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},h.prototype.readUInt8=function(e,t){return t||g(e,1,this.length),this[e]},h.prototype.readUInt16LE=function(e,t){return t||g(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUInt16BE=function(e,t){return t||g(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUInt32LE=function(e,t){return t||g(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUInt32BE=function(e,t){return t||g(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||g(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},h.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||g(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},h.prototype.readInt8=function(e,t){return t||g(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){t||g(e,2,this.length);t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},h.prototype.readInt16BE=function(e,t){t||g(e,2,this.length);t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},h.prototype.readInt32LE=function(e,t){return t||g(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return t||g(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readFloatLE=function(e,t){return t||g(e,4,this.length),o.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return t||g(e,4,this.length),o.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return t||g(e,8,this.length),o.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return t||g(e,8,this.length),o.read(this,e,!1,52,8)},h.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||w(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},h.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||w(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},h.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,255,0),h.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},h.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},h.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},h.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):_(this,e,t,!0),t+4},h.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},h.prototype.writeIntLE=function(e,t,n,r){e=+e,t|=0,r||w(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},h.prototype.writeIntBE=function(e,t,n,r){e=+e,t|=0,r||w(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var i=n-1,o=1,a=0;for(this[t+i]=255&e;0<=--i&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},h.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,127,-128),h.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},h.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},h.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},h.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):_(this,e,t,!0),t+4},h.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},h.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},h.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},h.prototype.writeDoubleLE=function(e,t,n){return T(this,e,t,!0,n)},h.prototype.writeDoubleBE=function(e,t,n){return T(this,e,t,!1,n)},h.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),(r=0<r&&r<n?n:r)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var i,o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(this===e&&n<t&&t<r)for(i=o-1;0<=i;--i)e[i+t]=this[i+n];else if(o<1e3||!h.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},h.prototype.fill=function(e,t,n,r){if("string"==typeof e){var i;if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length&&(i=e.charCodeAt(0))<256&&(e=i),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(!(n<=t))if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var o=h.isBuffer(e)?e:R(new h(e,r).toString()),a=o.length,s=0;s<n-t;++s)this[s+t]=o[s%a];return this};var E=/[^+\/0-9A-Za-z-_]/g;function R(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if(--t<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function A(e){return k.toByteArray((e=>{var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(E,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e})(e))}function M(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}.call(this,j(4))},function(e,t,n){t.byteLength=function(e){var e=c(e),t=e[0],e=e[1];return 3*(t+e)/4-e},t.toByteArray=function(e){var t,n,r=c(e),i=r[0],r=r[1],o=new l(((e,t)=>3*(e+t)/4-t)(i,r)),a=0,s=0<r?i-4:i;for(n=0;n<s;n+=4)t=u[e.charCodeAt(n)]<<18|u[e.charCodeAt(n+1)]<<12|u[e.charCodeAt(n+2)]<<6|u[e.charCodeAt(n+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;2===r&&(t=u[e.charCodeAt(n)]<<2|u[e.charCodeAt(n+1)]>>4,o[a++]=255&t);1===r&&(t=u[e.charCodeAt(n)]<<10|u[e.charCodeAt(n+1)]<<4|u[e.charCodeAt(n+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t);return o},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(((e,t,n)=>{for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push((e=>s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e])(r));return i.join("")})(e,o,a<o+16383?a:o+16383));1==r?(t=e[n-1],i.push(s[t>>2]+s[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],i.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return i.join("")};for(var s=[],u=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)s[i]=r[i],u[r.charCodeAt(i)]=i;function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("="),t=(e=-1===e?t:e)===t?0:4-e%4;return[e,t]}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,i=e[t+h];for(h+=f,o=i&(1<<-c)-1,i>>=-c,c+=s;0<c;o=256*o+e[t+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;0<c;a=256*a+e[t+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(i?-1:1);a+=Math.pow(2,r),o-=l}return(i?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u=8*o-i-1,l=(1<<u)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,o=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-a))<1&&(a--,r*=2),2<=(t+=1<=a+c?h/r:h*Math.pow(2,1-c))*r&&(a++,r/=2),l<=a+c?(s=0,a=l):1<=a+c?(s=(t*r-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));8<=i;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;0<u;e[n+f]=255&a,f+=p,a/=256,u-=8);e[n+f-p]|=128*o}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(A,M,e){e.r(M);var C={},j=(e.r(C),e.d(C,"ArcCurve",function(){return Hb}),e.d(C,"CatmullRomCurve3",function(){return rg}),e.d(C,"CubicBezierCurve",function(){return dg}),e.d(C,"CubicBezierCurve3",function(){return kg}),e.d(C,"EllipseCurve",function(){return Nb}),e.d(C,"LineCurve",function(){return jg}),e.d(C,"LineCurve3",function(){return Gg}),e.d(C,"QuadraticBezierCurve",function(){return Kg}),e.d(C,"QuadraticBezierCurve3",function(){return aw}),e.d(C,"SplineCurve",function(){return dw}),["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"]),I=1234567,G=Math.PI/180,H=180/Math.PI;function V(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(j[255&e]+j[e>>8&255]+j[e>>16&255]+j[e>>24&255]+"-"+j[255&t]+j[t>>8&255]+"-"+j[t>>16&15|64]+j[t>>24&255]+"-"+j[63&n|128]+j[n>>8&255]+"-"+j[n>>16&255]+j[n>>24&255]+j[255&r]+j[r>>8&255]+j[r>>16&255]+j[r>>24&255]).toLowerCase()}function Y(e,t,n){return Math.max(t,Math.min(n,e))}function W(e,t){return(e%t+t)%t}function q(e,t,n){return(1-n)*e+n*t}function X(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function o(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Z={DEG2RAD:G,RAD2DEG:H,generateUUID:V,clamp:Y,euclideanModulo:W,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:q,damp:function(e,t,n,r){return q(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(W(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(I=e),e=I+=1831565813,e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296},degToRad:function(e){return e*G},radToDeg:function(e){return e*H},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var o=Math.cos,a=Math.sin,s=o(n/2),u=a(n/2),l=o((t+r)/2),c=a((t+r)/2),h=o((t-r)/2),f=a((t-r)/2),p=o((r-t)/2),y=a((r-t)/2);switch(i){case"XYX":e.set(s*c,u*h,u*f,s*l);break;case"YZY":e.set(u*f,s*c,u*h,s*l);break;case"ZXZ":e.set(u*h,u*f,s*c,s*l);break;case"XZX":e.set(s*c,u*y,u*p,s*l);break;case"YXY":e.set(u*p,s*c,u*y,s*l);break;case"ZYZ":e.set(u*y,u*p,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:o,denormalize:X};function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(){K=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new P(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=f,function(e,t){if(s===y)throw Error("Generator is already running");if(s===d){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=y;n=h(i,o,a);if("normal"===n.type){if(s=a.done?d:p,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var t={},w=(o(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(T([]))),x=(w&&w!==e&&l.call(w,r)&&(t=w),g.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==J(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(J(t)+" is not iterable")}return c(x,"constructor",{value:b.prototype=g,configurable:!0}),c(g,"constructor",{value:b,configurable:!0}),b.displayName=o(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),o(x,i,"Generator"),o(x,r,function(){return this}),o(x,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=J(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=J(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==J(e)?e:e+""))(r.key),r)}}var $=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,o=this,a=e;if(!(o instanceof a))throw new TypeError("Cannot call a class as a function");this.isQuaternion=!0,this._x=t,this._y=n,this._z=r,this._w=i},t=[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e._x,r=e._y,i=e._z,o=e._order,e=Math.cos,a=Math.sin,s=e(n/2),u=e(r/2),l=e(i/2),c=a(n/2),h=a(r/2),f=a(i/2);switch(o){case"XYZ":this._x=c*u*l+s*h*f,this._y=s*h*l-c*u*f,this._z=s*u*f+c*h*l,this._w=s*u*l-c*h*f;break;case"YXZ":this._x=c*u*l+s*h*f,this._y=s*h*l-c*u*f,this._z=s*u*f-c*h*l,this._w=s*u*l+c*h*f;break;case"ZXY":this._x=c*u*l-s*h*f,this._y=s*h*l+c*u*f,this._z=s*u*f+c*h*l,this._w=s*u*l-c*h*f;break;case"ZYX":this._x=c*u*l-s*h*f,this._y=s*h*l+c*u*f,this._z=s*u*f-c*h*l,this._w=s*u*l+c*h*f;break;case"YZX":this._x=c*u*l+s*h*f,this._y=s*h*l+c*u*f,this._z=s*u*f-c*h*l,this._w=s*u*l-c*h*f;break;case"XZY":this._x=c*u*l-s*h*f,this._y=s*h*l-c*u*f,this._z=s*u*f+c*h*l,this._w=s*u*l+c*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var t=t/2,n=Math.sin(t);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(t),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var e=e.elements,t=e[0],n=e[4],r=e[8],i=e[1],o=e[5],a=e[9],s=e[2],u=e[6],e=e[10],l=t+o+e;return 0<l?(l=.5/Math.sqrt(l+1),this._w=.25/l,this._x=(u-a)*l,this._y=(r-s)*l,this._z=(i-n)*l):o<t&&e<t?(l=2*Math.sqrt(1+t-o-e),this._w=(u-a)/l,this._x=.25*l,this._y=(n+i)/l,this._z=(r+s)/l):e<o?(l=2*Math.sqrt(1+o-t-e),this._w=(r-s)/l,this._x=(n+i)/l,this._y=.25*l,this._z=(a+u)/l):(l=2*Math.sqrt(1+e-t-o),this._w=(i-n)/l,this._x=(r+s)/l,this._y=(a+u)/l,this._z=.25*l),this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),this._w=n,this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Y(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);return 0!==n&&(t=Math.min(1,t/n),this.slerp(e,t)),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(e=1/e),this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,e=e._w,o=t._x,a=t._y,s=t._z,t=t._w;return this._x=n*t+e*o+r*s-i*a,this._y=r*t+e*a+i*o-n*s,this._z=i*t+e*s+n*a-r*o,this._w=e*t-n*o-r*a-i*s,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0!==t){if(1===t)return this.copy(e);var n,r=this._x,i=this._y,o=this._z,a=this._w,s=a*e._w+r*e._x+i*e._y+o*e._z;s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),1<=s?(this._w=a,this._x=r,this._y=i,this._z=o):(e=1-s*s)<=Number.EPSILON?(this._w=(n=1-t)*a+t*this._w,this._x=n*r+t*this._x,this._y=n*i+t*this._y,this._z=n*o+t*this._z,this.normalize()):(n=Math.sqrt(e),e=Math.atan2(n,s),s=Math.sin((1-t)*e)/n,t=Math.sin(t*e)/n,this._w=a*s+this._w*t,this._x=r*s+this._x*t,this._y=i*s+this._y*t,this._z=o*s+this._z*t,this._onChangeCallback())}return this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),n=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),n*Math.sin(t),n*Math.cos(t))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:K().mark(function e(){return K().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}},e,this)})}],n=[{key:"slerpFlat",value:function(e,t,n,r,i,o,a){var s,u,l,c=n[r+0],h=n[r+1],f=n[r+2],n=n[r+3],r=i[o+0],p=i[o+1],y=i[o+2],i=i[o+3];0===a?(e[t+0]=c,e[t+1]=h,e[t+2]=f,e[t+3]=n):1===a?(e[t+0]=r,e[t+1]=p,e[t+2]=y,e[t+3]=i):(n===i&&c===r&&h===p&&f===y||(o=1-a,s=0<=(u=c*r+h*p+f*y+n*i)?1:-1,(l=1-u*u)>Number.EPSILON&&(l=Math.sqrt(l),u=Math.atan2(l,u*s),o=Math.sin(o*u)/l,a=Math.sin(a*u)/l),c=c*o+r*(u=a*s),h=h*o+p*u,f=f*o+y*u,n=n*o+i*u,o===1-a&&(c*=l=1/Math.sqrt(c*c+h*h+f*f+n*n),h*=l,f*=l,n*=l)),e[t]=c,e[t+1]=h,e[t+2]=f,e[t+3]=n)}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,o){var a=n[r],s=n[r+1],u=n[r+2],n=n[r+3],r=i[o],l=i[o+1],c=i[o+2],i=i[o+3];return e[t]=a*i+n*r+s*c-u*l,e[t+1]=s*i+n*l+u*r-a*c,e[t+2]=u*i+n*c+a*l-s*r,e[t+3]=n*i-a*r-s*l-u*c,e}}],t&&Q(e.prototype,t),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(){te=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new P(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=f,function(e,t){if(s===y)throw Error("Generator is already running");if(s===d){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=y;n=h(i,o,a);if("normal"===n.type){if(s=a.done?d:p,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var t={},w=(o(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(T([]))),x=(w&&w!==e&&l.call(w,r)&&(t=w),g.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==ee(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(ee(t)+" is not iterable")}return c(x,"constructor",{value:b.prototype=g,configurable:!0}),c(g,"constructor",{value:b,configurable:!0}),b.displayName=o(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),o(x,i,"Generator"),o(x,r,function(){return this}),o(x,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ee(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ee(e)?e:e+""))(r.key),r)}}var F=(()=>{function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=this,i=o;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");o.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}return e=o,(t=[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(ie.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(ie.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,e=e.elements;return this.x=e[0]*t+e[3]*n+e[6]*r,this.y=e[1]*t+e[4]*n+e[7]*r,this.z=e[2]*t+e[5]*n+e[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,e=e.elements,i=1/(e[3]*t+e[7]*n+e[11]*r+e[15]);return this.x=(e[0]*t+e[4]*n+e[8]*r+e[12])*i,this.y=(e[1]*t+e[5]*n+e[9]*r+e[13])*i,this.z=(e[2]*t+e[6]*n+e[10]*r+e[14])*i,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,e=e.w,s=2*(o*r-a*n),u=2*(a*t-i*r),l=2*(i*n-o*t);return this.x=t+e*s+o*l-a*u,this.y=n+e*u+a*s-i*l,this.z=r+e*l+i*u-o*s,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*r,this.y=e[1]*t+e[5]*n+e[9]*r,this.z=e[2]*t+e[6]*n+e[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,e=e.z,i=t.x,o=t.y,t=t.z;return this.x=r*t-e*o,this.y=e*i-n*t,this.z=n*o-r*i,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();return 0===t?this.set(0,0,0):(t=e.dot(this)/t,this.copy(e).multiplyScalar(t))}},{key:"projectOnPlane",value:function(e){return re.copy(this).projectOnVector(e),this.sub(re)}},{key:"reflect",value:function(e){return this.sub(re.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:(e=this.dot(e)/t,Math.acos(Y(e,-1,1)))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,e=this.z-e.z;return t*t+n*n+e*e}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){e=e.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),e=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=e,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}},{key:Symbol.iterator,value:te().mark(function e(){return te().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}},e,this)})}])&&ne(e.prototype,t),n&&ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})(),re=new F,ie=new $,oe=0,ae=1,se="srgb-linear",t="display-p3-linear",ue="linear";function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=le(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=le(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==le(e)?e:e+""))(r.key),r)}}var b=(()=>{function v(e,t,n,r,i,o,a,s,u,l,c,h,f,p,y,d){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");v.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,u,l,c,h,f,p,y,d)}return e=v,(t=[{key:"set",value:function(e,t,n,r,i,o,a,s,u,l,c,h,f,p,y,d){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=u,v[6]=l,v[10]=c,v[14]=h,v[3]=f,v[7]=p,v[11]=y,v[15]=d,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new v).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,e=e.elements;return t[12]=e[12],t[13]=e[13],t[14]=e[14],this}},{key:"setFromMatrix3",value:function(e){e=e.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/he.setFromMatrixColumn(e,0).length(),i=1/he.setFromMatrixColumn(e,1).length(),e=1/he.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t,n,r,i,o=this.elements,a=e.x,s=e.y,u=e.z,l=Math.cos(a),a=Math.sin(a),c=Math.cos(s),s=Math.sin(s),h=Math.cos(u),u=Math.sin(u);return"XYZ"===e.order?(n=l*h,r=l*u,i=a*h,t=a*u,o[0]=c*h,o[4]=-c*u,o[8]=s,o[1]=r+i*s,o[5]=n-t*s,o[9]=-a*c,o[2]=t-n*s,o[6]=i+r*s,o[10]=l*c):"YXZ"===e.order?(t=c*u,n=s*h,o[0]=(i=c*h)+(r=s*u)*a,o[4]=n*a-t,o[8]=l*s,o[1]=l*u,o[5]=l*h,o[9]=-a,o[2]=t*a-n,o[6]=r+i*a,o[10]=l*c):"ZXY"===e.order?(t=c*u,n=s*h,o[0]=(r=c*h)-(i=s*u)*a,o[4]=-l*u,o[8]=n+t*a,o[1]=t+n*a,o[5]=l*h,o[9]=i-r*a,o[2]=-l*s,o[6]=a,o[10]=l*c):"ZYX"===e.order?(t=l*h,n=l*u,i=a*h,r=a*u,o[0]=c*h,o[4]=i*s-n,o[8]=t*s+r,o[1]=c*u,o[5]=r*s+t,o[9]=n*s-i,o[2]=-s,o[6]=a*c,o[10]=l*c):"YZX"===e.order?(r=l*c,t=l*s,n=a*c,i=a*s,o[0]=c*h,o[4]=i-r*u,o[8]=n*u+t,o[1]=u,o[5]=l*h,o[9]=-a*h,o[2]=-s*h,o[6]=t*u+n,o[10]=r-i*u):"XZY"===e.order&&(t=l*c,n=l*s,r=a*c,i=a*s,o[0]=c*h,o[4]=-u,o[8]=s*h,o[1]=t*u+i,o[5]=l*h,o[9]=n*u-r,o[2]=r*u-n,o[6]=a*h,o[10]=i*u+t),o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(pe,e,ye)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return me.subVectors(e,t),0===me.lengthSq()&&(me.z=1),me.normalize(),de.crossVectors(n,me),0===de.lengthSq()&&(1===Math.abs(n.z)?me.x+=1e-4:me.z+=1e-4,me.normalize(),de.crossVectors(n,me)),de.normalize(),ve.crossVectors(me,de),r[0]=de.x,r[4]=ve.x,r[8]=me.x,r[1]=de.y,r[5]=ve.y,r[9]=me.y,r[2]=de.z,r[6]=ve.z,r[10]=me.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var e=e.elements,t=t.elements,n=this.elements,r=e[0],i=e[4],o=e[8],a=e[12],s=e[1],u=e[5],l=e[9],c=e[13],h=e[2],f=e[6],p=e[10],y=e[14],d=e[3],v=e[7],m=e[11],e=e[15],b=t[0],g=t[4],w=t[8],x=t[12],_=t[1],S=t[5],k=t[9],O=t[13],P=t[2],T=t[6],E=t[10],R=t[14],A=t[3],M=t[7],C=t[11],t=t[15];return n[0]=r*b+i*_+o*P+a*A,n[4]=r*g+i*S+o*T+a*M,n[8]=r*w+i*k+o*E+a*C,n[12]=r*x+i*O+o*R+a*t,n[1]=s*b+u*_+l*P+c*A,n[5]=s*g+u*S+l*T+c*M,n[9]=s*w+u*k+l*E+c*C,n[13]=s*x+u*O+l*R+c*t,n[2]=h*b+f*_+p*P+y*A,n[6]=h*g+f*S+p*T+y*M,n[10]=h*w+f*k+p*E+y*C,n[14]=h*x+f*O+p*R+y*t,n[3]=d*b+v*_+m*P+e*A,n[7]=d*g+v*S+m*T+e*M,n[11]=d*w+v*k+m*E+e*C,n[15]=d*x+v*O+m*R+e*t,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],l=e[2],c=e[6],h=e[10],f=e[14];return e[3]*(+i*s*c-r*u*c-i*a*h+n*u*h+r*a*f-n*s*f)+e[7]*(+t*s*f-t*u*h+i*o*h-r*o*f+r*u*l-i*s*l)+e[11]*(+t*u*c-t*a*f-i*o*c+n*o*f+i*a*l-n*u*l)+e[15]*(-r*a*l-t*s*c+t*a*h+r*o*c-n*o*h+n*s*l)}},{key:"transpose",value:function(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11],p=e[12],y=e[13],d=e[14],v=e[15],m=c*d*u-y*h*u+y*s*f-a*d*f-c*s*v+a*h*v,b=p*h*u-l*d*u-p*s*f+o*d*f+l*s*v-o*h*v,g=l*y*u-p*c*u+p*a*f-o*y*f-l*a*v+o*c*v,w=p*c*s-l*y*s-p*a*h+o*y*h+l*a*d-o*c*d,x=t*m+n*b+r*g+i*w;return 0==x?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(e[0]=m*(m=1/x),e[1]=(y*h*i-c*d*i-y*r*f+n*d*f+c*r*v-n*h*v)*m,e[2]=(a*d*i-y*s*i+y*r*u-n*d*u-a*r*v+n*s*v)*m,e[3]=(c*s*i-a*h*i-c*r*u+n*h*u+a*r*f-n*s*f)*m,e[4]=b*m,e[5]=(l*d*i-p*h*i+p*r*f-t*d*f-l*r*v+t*h*v)*m,e[6]=(p*s*i-o*d*i-p*r*u+t*d*u+o*r*v-t*s*v)*m,e[7]=(o*h*i-l*s*i+l*r*u-t*h*u-o*r*f+t*s*f)*m,e[8]=g*m,e[9]=(p*c*i-l*y*i-p*n*f+t*y*f+l*n*v-t*c*v)*m,e[10]=(o*y*i-p*a*i+p*n*u-t*y*u-o*n*v+t*a*v)*m,e[11]=(l*a*i-o*c*i-l*n*u+t*c*u+o*n*f-t*a*f)*m,e[12]=w*m,e[13]=(l*y*r-p*c*r+p*n*h-t*y*h-l*n*d+t*c*d)*m,e[14]=(p*a*r-o*y*r-p*n*s+t*y*s+o*n*d-t*a*d)*m,e[15]=(o*c*r-l*a*r+l*n*s-t*c*s-o*n*h+t*a*h)*m,this)}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,e=e.z;return t[0]*=n,t[4]*=r,t[8]*=e,t[1]*=n,t[5]*=r,t[9]*=e,t[2]*=n,t[6]*=r,t[10]*=e,t[3]*=n,t[7]*=r,t[11]*=e,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];return Math.sqrt(Math.max(t,e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}},{key:"makeTranslation",value:function(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),t=Math.sin(t),r=1-n,i=e.x,o=e.y,e=e.z,a=r*i,s=r*o;return this.set(a*i+n,a*o-t*e,a*e+t*o,0,a*o+t*e,s*o+n,s*e-t*i,0,a*e-t*o,s*e+t*i,r*e*e+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,t=t._w,s=i+i,u=o+o,l=a+a,c=i*s,h=i*u,i=i*l,f=o*u,o=o*l,a=a*l,s=t*s,u=t*u,t=t*l,l=n.x,p=n.y,n=n.z;return r[0]=(1-(f+a))*l,r[1]=(h+t)*l,r[2]=(i-u)*l,r[3]=0,r[4]=(h-t)*p,r[5]=(1-(c+a))*p,r[6]=(o+s)*p,r[7]=0,r[8]=(i+u)*n,r[9]=(o-s)*n,r[10]=(1-(c+f))*n,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=he.set(r[0],r[1],r[2]).length(),o=he.set(r[4],r[5],r[6]).length(),a=he.set(r[8],r[9],r[10]).length(),e=(this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],fe.copy(this),1/i),r=1/o,s=1/a;return fe.elements[0]*=e,fe.elements[1]*=e,fe.elements[2]*=e,fe.elements[4]*=r,fe.elements[5]*=r,fe.elements[6]*=r,fe.elements[8]*=s,fe.elements[9]*=s,fe.elements[10]*=s,t.setFromRotationMatrix(fe),n.x=i,n.y=o,n.z=a,this}},{key:"makePerspective",value:function(e,t,n,r,i,o){var a,s,u=6<arguments.length&&void 0!==arguments[6]?arguments[6]:2e3,l=this.elements,c=2*i/(t-e),h=2*i/(n-r),t=(t+e)/(t-e),e=(n+r)/(n-r);if(2e3===u)a=-(o+i)/(o-i),s=-2*o*i/(o-i);else{if(2001!==u)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);a=-o/(o-i),s=-o*i/(o-i)}return l[0]=c,l[4]=0,l[8]=t,l[12]=0,l[1]=0,l[5]=h,l[9]=e,l[13]=0,l[2]=0,l[6]=0,l[10]=a,l[14]=s,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,o){var a,s,u=6<arguments.length&&void 0!==arguments[6]?arguments[6]:2e3,l=this.elements,c=1/(t-e),h=1/(n-r),f=1/(o-i),t=(t+e)*c,e=(n+r)*h;if(2e3===u)a=(o+i)*f,s=-2*f;else{if(2001!==u)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);a=i*f,s=-1*f}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-t,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-e,l[2]=0,l[6]=0,l[10]=s,l[14]=-a,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}])&&ce(e.prototype,t),n&&ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})(),he=new F,fe=new b,pe=new F(0,0,0),ye=new F(1,1,1),de=new F,ve=new F,me=new F;function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=be(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=be(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==be(e)?e:e+""))(r.key),r)}}var we=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}return t=e,(n=[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){var n;return void 0!==this._listeners&&void 0!==(n=this._listeners)[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){var n;void 0!==this._listeners&&void 0!==(e=this._listeners[e])&&-1!==(n=e.indexOf(t))&&e.splice(n,1)}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}])&&ge(t.prototype,n),r&&ge(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r})();function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(){_e=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new P(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=f,function(e,t){if(s===y)throw Error("Generator is already running");if(s===d){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=y;n=h(i,o,a);if("normal"===n.type){if(s=a.done?d:p,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var t={},w=(o(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(T([]))),x=(w&&w!==e&&l.call(w,r)&&(t=w),g.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==xe(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(xe(t)+" is not iterable")}return c(x,"constructor",{value:b.prototype=g,configurable:!0}),c(g,"constructor",{value:b,configurable:!0}),b.displayName=o(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),o(x,i,"Generator"),o(x,r,function(){return this}),o(x,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=xe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=xe(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==xe(e)?e:e+""))(r.key),r)}}var ke=new b,Oe=new $,Pe=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e.DEFAULT_ORDER,o=this,a=e;if(!(o instanceof a))throw new TypeError("Cannot call a class as a function");this.isEuler=!0,this._x=t,this._y=n,this._z=r,this._order=i},(t=[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._order,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],e=e.elements,r=e[0],i=e[4],o=e[8],a=e[1],s=e[5],u=e[9],l=e[2],c=e[6],h=e[10];switch(t){case"XYZ":this._y=Math.asin(Y(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-i,r)):(this._x=Math.atan2(c,s),this._z=0);break;case"YXZ":this._x=Math.asin(-Y(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(a,s)):(this._y=Math.atan2(-l,r),this._z=0);break;case"ZXY":this._x=Math.asin(Y(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(-l,h),this._z=Math.atan2(-i,s)):(this._y=0,this._z=Math.atan2(a,r));break;case"ZYX":this._y=Math.asin(-Y(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(c,h),this._z=Math.atan2(a,r)):(this._x=0,this._z=Math.atan2(-i,s));break;case"YZX":this._z=Math.asin(Y(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,s),this._y=Math.atan2(-l,r)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Y(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(c,s),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return ke.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ke,t,n)}},{key:"setFromVector3",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Oe.setFromEuler(this),this.setFromQuaternion(Oe,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:_e().mark(function e(){return _e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}},e,this)})}])&&Se(e.prototype,t),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Te(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Te(e)?e:e+""))(r.key),r)}}Pe.DEFAULT_ORDER="XYZ";var Re=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.mask=1}return t=e,(n=[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!=(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!=(this.mask&(1<<e|0))}}])&&Ee(t.prototype,n),r&&Ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r})();function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Ae(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Ae(e)?e:e+""))(r.key),r)}}var Ce=(()=>{function l(e,t,n,r,i,o,a,s,u){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");l.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,u)}return e=l,(t=[{key:"set",value:function(e,t,n,r,i,o,a,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){e=e.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var e=e.elements,t=t.elements,n=this.elements,r=e[0],i=e[3],o=e[6],a=e[1],s=e[4],u=e[7],l=e[2],c=e[5],e=e[8],h=t[0],f=t[3],p=t[6],y=t[1],d=t[4],v=t[7],m=t[2],b=t[5],t=t[8];return n[0]=r*h+i*y+o*m,n[3]=r*f+i*d+o*b,n[6]=r*p+i*v+o*t,n[1]=a*h+s*y+u*m,n[4]=a*f+s*d+u*b,n[7]=a*p+s*v+u*t,n[2]=l*h+c*y+e*m,n[5]=l*f+c*d+e*b,n[8]=l*p+c*v+e*t,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],e=e[8];return t*o*e-t*a*u-n*i*e+n*a*s+r*i*u-r*o*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=l*o-a*u,h=a*s-l*i,f=u*i-o*s,p=t*c+n*h+r*f;return 0==p?this.set(0,0,0,0,0,0,0,0,0):(e[0]=c*(c=1/p),e[1]=(r*u-l*n)*c,e[2]=(a*n-r*o)*c,e[3]=h*c,e[4]=(l*t-r*s)*c,e[5]=(r*i-a*t)*c,e[6]=f*c,e[7]=(n*s-u*t)*c,e[8]=(o*t-n*i)*c,this)}},{key:"transpose",value:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,o,a){var s=Math.cos(i),i=Math.sin(i);return this.set(n*s,n*i,-n*(s*o+i*a)+o+e,-r*i,r*s,-r*(-i*o+s*a)+a+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(je.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(je.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(je.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,-e,0,e,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}])&&Me(e.prototype,t),n&&Me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})(),je=new Ce;function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e){return(e=>{if(Array.isArray(e))return Ne(e)})(e)||(e=>{if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)})(e)||((e,t)=>{var n;if(e)return"string"==typeof e?Ne(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0})(e)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Le(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Le(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Le(e)?e:e+""))(r.key),r)}}function Be(e,t,n){t=Ue(t);var r=e,t=Fe()?Reflect.construct(t,n||[],Ue(e).constructor):t.apply(e,n);if(!t||"object"!=Le(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Fe=function(){return!!e})()}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ge=0,He=new F,Ve=new $,Ye=new b,We=new F,qe=new F,Xe=new F,Ze=new $,Je=new F(1,0,0),Ke=new F(0,1,0),Qe=new F(0,0,1),$e={type:"added"},et={type:"removed"},tt={type:"childadded",child:null},nt={type:"childremoved",child:null},g=(()=>{function o(){var e;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");(e=Be(this,o)).isObject3D=!0,Object.defineProperty(e,"id",{value:Ge++}),e.uuid=V(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=o.DEFAULT_UP.clone();var t=new F,n=new Pe,r=new $,i=new F(1,1,1);return n._onChange(function(){r.setFromEuler(n,!1)}),r._onChange(function(){n.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(e,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new b},normalMatrix:{value:new Ce}}),e.matrix=new b,e.matrixWorld=new b,e.matrixAutoUpdate=o.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldAutoUpdate=o.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.layers=new Re,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}var e,t=o,n=we;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&ze(t,n),t=o,(n=[{key:"onBeforeShadow",value:function(){}},{key:"onAfterShadow",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Ve.setFromAxisAngle(e,t),this.quaternion.multiply(Ve),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Ve.setFromAxisAngle(e,t),this.quaternion.premultiply(Ve),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Je,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(Ke,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Qe,e)}},{key:"translateOnAxis",value:function(e,t){return He.copy(e).applyQuaternion(this.quaternion),this.position.add(He.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Je,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(Ke,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Qe,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ye.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?We.copy(e):We.set(e,t,n);e=this.parent;this.updateWorldMatrix(!0,!1),qe.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ye.lookAt(qe,We,this.up):Ye.lookAt(We,qe,this.up),this.quaternion.setFromRotationMatrix(Ye),e&&(Ye.extractRotation(e.matrixWorld),Ve.setFromRotationMatrix(Ye),this.quaternion.premultiply(Ve.invert()))}},{key:"add",value:function(e){if(1<arguments.length)for(var t=0;t<arguments.length;t++)this.add(arguments[t]);else e===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",e):e&&e.isObject3D?(e.removeFromParent(),(e.parent=this).children.push(e),e.dispatchEvent($e),tt.child=e,this.dispatchEvent(tt),tt.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e);return this}},{key:"remove",value:function(e){if(1<arguments.length)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);else{var n=this.children.indexOf(e);-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(et),nt.child=e,this.dispatchEvent(nt),nt.child=null)}return this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){return this.remove.apply(this,Ie(this.children))}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Ye.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Ye.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ye),e.removeFromParent(),(e.parent=this).children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent($e),tt.child=e,this.dispatchEvent(tt),tt.child=null,this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],r=(this[e]===t&&n.push(this),this.children),i=0,o=r.length;i<o;i++)r[i].getObjectsByProperty(e,t,n);return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qe,e,Xe),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qe,Ze,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e=!(this.matrixWorldNeedsUpdate=!1));for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(n){var e,t,r,i,o,a,s=void 0===n||"string"==typeof n,u={},l=(s&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},u.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"}),{});function c(e,t){return void 0===e[t.uuid]&&(e[t.uuid]=t.toJSON(n)),t.uuid}if(l.uuid=this.uuid,l.type=this.type,""!==this.name&&(l.name=this.name),!0===this.castShadow&&(l.castShadow=!0),!0===this.receiveShadow&&(l.receiveShadow=!0),!1===this.visible&&(l.visible=!1),!1===this.frustumCulled&&(l.frustumCulled=!1),0!==this.renderOrder&&(l.renderOrder=this.renderOrder),0<Object.keys(this.userData).length&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),l.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor)&&(l.instanceColor=this.instanceColor.toJSON()),this.isBatchedMesh&&(l.type="BatchedMesh",l.perObjectFrustumCulled=this.perObjectFrustumCulled,l.sortObjects=this.sortObjects,l.drawRanges=this._drawRanges,l.reservedRanges=this._reservedRanges,l.visibility=this._visibility,l.active=this._active,l.bounds=this._bounds.map(function(e){return{boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()}}),l.maxInstanceCount=this._maxInstanceCount,l.maxVertexCount=this._maxVertexCount,l.maxIndexCount=this._maxIndexCount,l.geometryInitialized=this._geometryInitialized,l.geometryCount=this._geometryCount,l.matricesTexture=this._matricesTexture.toJSON(n),null!==this._colorsTexture&&(l.colorsTexture=this._colorsTexture.toJSON(n)),null!==this.boundingSphere&&(l.boundingSphere={center:l.boundingSphere.center.toArray(),radius:l.boundingSphere.radius}),null!==this.boundingBox)&&(l.boundingBox={min:l.boundingBox.min.toArray(),max:l.boundingBox.max.toArray()}),this.isScene)this.background&&(this.background.isColor?l.background=this.background.toJSON():this.background.isTexture&&(l.background=this.background.toJSON(n).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(l.environment=this.environment.toJSON(n).uuid);else if(this.isMesh||this.isLine||this.isPoints){l.geometry=c(n.geometries,this.geometry);var h=this.geometry.parameters;if(void 0!==h&&void 0!==h.shapes){var f=h.shapes;if(Array.isArray(f))for(var p=0,y=f.length;p<y;p++){var d=f[p];c(n.shapes,d)}else c(n.shapes,f)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton)&&(c(n.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid),void 0!==this.material)if(Array.isArray(this.material)){for(var v=[],m=0,b=this.material.length;m<b;m++)v.push(c(n.materials,this.material[m]));l.material=v}else l.material=c(n.materials,this.material);if(0<this.children.length){l.children=[];for(var g=0;g<this.children.length;g++)l.children.push(this.children[g].toJSON(n).object)}if(0<this.animations.length){l.animations=[];for(var w=0;w<this.animations.length;w++){var x=this.animations[w];l.animations.push(c(n.animations,x))}}return s&&(h=_(n.geometries),s=_(n.materials),e=_(n.textures),t=_(n.images),r=_(n.shapes),i=_(n.skeletons),o=_(n.animations),a=_(n.nodes),0<h.length&&(u.geometries=h),0<s.length&&(u.materials=s),0<e.length&&(u.textures=e),0<t.length&&(u.images=t),0<r.length&&(u.shapes=r),0<i.length&&(u.skeletons=i),0<o.length&&(u.animations=o),0<a.length)&&(u.nodes=a),u.object=l,u;function _(e){var t,n=[];for(t in e){var r=e[t];delete r.metadata,n.push(r)}return n}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}])&&De(t.prototype,n),e&&De(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=rt(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==rt(e)?e:e+""))(r.key),r)}}function ot(e,t,n){t=lt(t);var r=e,t=at()?Reflect.construct(t,n||[],lt(e).constructor):t.apply(e,n);if(!t||"object"!=rt(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function at(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(at=function(){return!!e})()}function st(e,t,n,r){var i=ut(lt(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function ut(){return(ut="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=lt(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){return(ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}g.DEFAULT_UP=new F(0,1,0),g.DEFAULT_MATRIX_AUTO_UPDATE=!0,g.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var ht=(()=>{function n(){var e;if(this instanceof n)return(e=ot(this,n)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.backgroundRotation=new Pe,e.environmentIntensity=1,e.environmentRotation=new Pe,e.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:e})),e;throw new TypeError("Cannot call a class as a function")}var e,t=n,r=g;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ct(t,r),t=n,(r=[{key:"copy",value:function(e,t){return st(n,"copy",this,3)([e,t]),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){e=st(n,"toJSON",this,3)([e]);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),0<this.backgroundBlurriness&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}])&&it(t.prototype,r),e&&it(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t,n){return(t=(e=>(e=((e,t)=>{if("object"!=ft(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ft(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ft(e)?e:e+""))(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=(new Ce).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),dt=(new Ce).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),vt=pt(pt(pt(pt({},se,{transfer:ue,primaries:"rec709",luminanceCoefficients:[.2126,.7152,.0722],toReference:function(e){return e},fromReference:function(e){return e}}),"srgb",{transfer:"srgb",primaries:"rec709",luminanceCoefficients:[.2126,.7152,.0722],toReference:function(e){return e.convertSRGBToLinear()},fromReference:function(e){return e.convertLinearToSRGB()}}),t,{transfer:ue,primaries:"p3",luminanceCoefficients:[.2289,.6917,.0793],toReference:function(e){return e.applyMatrix3(dt)},fromReference:function(e){return e.applyMatrix3(yt)}}),"display-p3",{transfer:"srgb",primaries:"p3",luminanceCoefficients:[.2289,.6917,.0793],toReference:function(e){return e.convertSRGBToLinear().applyMatrix3(dt)},fromReference:function(e){return e.applyMatrix3(yt).convertLinearToSRGB()}}),mt=new Set([se,t]),bt={enabled:!0,_workingColorSpace:se,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!mt.has(e))throw new Error('Unsupported working color space, "'.concat(e,'".'));this._workingColorSpace=e},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(t=vt[t].toReference,(0,vt[n].fromReference)(t(e))):e},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return vt[e].primaries},getTransfer:function(e){return""===e?ue:vt[e].transfer},getLuminanceCoefficients:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._workingColorSpace;return e.fromArray(vt[t].luminanceCoefficients)}};function gt(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function wt(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var xt=.001,_t=se,St=se;function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(){Ot=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new P(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=f,function(e,t){if(s===y)throw Error("Generator is already running");if(s===d){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=y;n=h(i,o,a);if("normal"===n.type){if(s=a.done?d:p,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var t={},w=(o(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(T([]))),x=(w&&w!==e&&l.call(w,r)&&(t=w),g.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==kt(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(kt(t)+" is not iterable")}return c(x,"constructor",{value:b.prototype=g,configurable:!0}),c(g,"constructor",{value:b,configurable:!0}),b.displayName=o(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),o(x,i,"Generator"),o(x,r,function(){return this}),o(x,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=kt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=kt(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==kt(e)?e:e+""))(r.key),r)}}var Tt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Et={h:0,s:0,l:0},Rt={h:0,s:0,l:0};function At(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var v=(()=>{function r(e,t,n){if(this instanceof r)return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n);throw new TypeError("Cannot call a class as a function")}return e=r,(t=[{key:"set",value:function(e,t,n){var r;return void 0===t&&void 0===n?(r=e)&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r):this.setRGB(e,t,n),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_t;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,bt.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:bt.workingColorSpace;return this.r=e,this.g=t,this.b=n,bt.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:bt.workingColorSpace;return e=W(e,1),t=Y(t,0,1),n=Y(n,0,1),0===t?this.r=this.g=this.b=n:(this.r=At(t=2*n-(n=n<=.5?n*(1+t):n+t-n*t),n,e+1/3),this.g=At(t,n,e),this.b=At(t,n,e-1/3)),bt.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_t;function n(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}if(a=/^(\w+)\(([^\)]*)\)/.exec(t)){var r,i=a[1],o=a[2];switch(i){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(t)){var i=a[1],a=i.length;if(3===a)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,e);if(6===a)return this.setHex(parseInt(i,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&0<t.length)return this.setColorName(t,e);return this}},{key:"setColorName",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_t,n=Tt[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=gt(e.r),this.g=gt(e.g),this.b=gt(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=wt(e.r),this.g=wt(e.g),this.b=wt(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:_t;return bt.fromWorkingColorSpace(Mt.copy(this),e),65536*Math.round(Y(255*Mt.r,0,255))+256*Math.round(Y(255*Mt.g,0,255))+Math.round(Y(255*Mt.b,0,255))}},{key:"getHexString",value:function(){return("000000"+this.getHex(0<arguments.length&&void 0!==arguments[0]?arguments[0]:_t).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:bt.workingColorSpace,r=(bt.fromWorkingColorSpace(Mt.copy(this),n),Mt.r),i=Mt.g,o=Mt.b,n=Math.max(r,i,o),a=Math.min(r,i,o),s=(a+n)/2;if(a===n)l=t=0;else{var u=n-a,l=s<=.5?u/(n+a):u/(2-n-a);switch(n){case r:t=(i-o)/u+(i<o?6:0);break;case i:t=(o-r)/u+2;break;case o:t=(r-i)/u+4}t/=6}return e.h=t,e.s=l,e.l=s,e}},{key:"getRGB",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:bt.workingColorSpace;return bt.fromWorkingColorSpace(Mt.copy(this),t),e.r=Mt.r,e.g=Mt.g,e.b=Mt.b,e}},{key:"getStyle",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:_t,t=(bt.fromWorkingColorSpace(Mt.copy(this),e),Mt.r),n=Mt.g,r=Mt.b;return e!==_t?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Et),this.setHSL(Et.h+e,Et.s+t,Et.l+n)}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Et),e.getHSL(Rt);var e=q(Et.h,Rt.h,t),n=q(Et.s,Rt.s,t),t=q(Et.l,Rt.l,t);return this.setHSL(e,n,t),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,e=e.elements;return this.r=e[0]*t+e[3]*n+e[6]*r,this.g=e[1]*t+e[4]*n+e[7]*r,this.b=e[2]*t+e[5]*n+e[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:Ot().mark(function e(){return Ot().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}},e,this)})}])&&Pt(e.prototype,t),n&&Pt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})(),Mt=new v;function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Ct(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Ct(e)?e:e+""))(r.key),r)}}v.NAMES=Tt;var Lt=(()=>{function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e3,r=this,i=o;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");this.isFog=!0,this.name="",this.color=new v(e),this.near=t,this.far=n}return e=o,(t=[{key:"clone",value:function(){return new o(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}])&&jt(e.prototype,t),n&&jt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(){Nt=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new P(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=f,function(e,t){if(s===y)throw Error("Generator is already running");if(s===d){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=y;n=h(i,o,a);if("normal"===n.type){if(s=a.done?d:p,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var t={},w=(o(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(T([]))),x=(w&&w!==e&&l.call(w,r)&&(t=w),g.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==It(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(It(t)+" is not iterable")}return c(x,"constructor",{value:b.prototype=g,configurable:!0}),c(g,"constructor",{value:b,configurable:!0}),b.displayName=o(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),o(x,i,"Generator"),o(x,r,function(){return this}),o(x,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=It(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=It(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==It(e)?e:e+""))(r.key),r)}}var U=(()=>{function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this,r=i;if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");i.prototype.isVector2=!0,this.x=e,this.y=t}return e=i,(t=[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,e=e.elements;return this.x=e[0]*t+e[3]*n+e[6],this.y=e[1]*t+e[4]*n+e[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:(e=this.dot(e)/t,Math.acos(Y(e,-1,1)))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,e=this.y-e.y;return t*t+e*e}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),t=Math.sin(t),r=this.x-e.x,i=this.y-e.y;return this.x=r*n-i*t+e.x,this.y=r*t+i*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:Nt().mark(function e(){return Nt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}},e,this)})}])&&Dt(e.prototype,t),n&&Dt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Bt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Bt(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Bt(e)?e:e+""))(r.key),r)}}var Ut=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new F(1/0,1/0,1/0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new F(-1/0,-1/0,-1/0),r=this,i=e;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");this.isBox3=!0,this.min=t,this.max=n},(t=[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(Gt.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(Gt.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){t=Gt.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this}},{key:"setFromObject",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(e.updateWorldMatrix(!1,!1),e.geometry);if(void 0!==n){var r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(var i=0,o=r.count;i<o;i++)!0===e.isMesh?e.getVertexPosition(i,Gt):Gt.fromBufferAttribute(r,i),Gt.applyMatrix4(e.matrixWorld),this.expandByPoint(Gt);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Ht.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Ht.copy(n.boundingBox)),Ht.applyMatrix4(e.matrixWorld),this.union(Ht)}for(var a=e.children,s=0,u=a.length;s<u;s++)this.expandByObject(a[s],t);return this}},{key:"containsPoint",value:function(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Gt),Gt.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n=0<e.normal.x?(t=e.normal.x*this.min.x,e.normal.x*this.max.x):(t=e.normal.x*this.max.x,e.normal.x*this.min.x);return 0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){return!this.isEmpty()&&(this.getCenter(Jt),Kt.subVectors(this.max,Jt),Vt.subVectors(e.a,Jt),Yt.subVectors(e.b,Jt),Wt.subVectors(e.c,Jt),qt.subVectors(Yt,Vt),Xt.subVectors(Wt,Yt),Zt.subVectors(Vt,Wt),!!en([0,-qt.z,qt.y,0,-Xt.z,Xt.y,0,-Zt.z,Zt.y,qt.z,0,-qt.x,Xt.z,0,-Xt.x,Zt.z,0,-Zt.x,-qt.y,qt.x,0,-Xt.y,Xt.x,0,-Zt.y,Zt.x,0],Vt,Yt,Wt,Kt))&&!!en([1,0,0,0,1,0,0,0,1],Vt,Yt,Wt,Kt)&&(Qt.crossVectors(qt,Xt),en([Qt.x,Qt.y,Qt.z],Vt,Yt,Wt,Kt))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,Gt).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Gt).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(zt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),zt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),zt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),zt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),zt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),zt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),zt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),zt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(zt)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}])&&Ft(e.prototype,t),n&&Ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})(),zt=[new F,new F,new F,new F,new F,new F,new F,new F],Gt=new F,Ht=new Ut,Vt=new F,Yt=new F,Wt=new F,qt=new F,Xt=new F,Zt=new F,Jt=new F,Kt=new F,Qt=new F,$t=new F;function en(e,t,n,r,i){for(var o=0,a=e.length-3;o<=a;o+=3){$t.fromArray(e,o);var s=i.x*Math.abs($t.x)+i.y*Math.abs($t.y)+i.z*Math.abs($t.z),u=t.dot($t),l=n.dot($t),c=r.dot($t);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}function tn(e,t,n){t=rn(t);var r=e,t=nn()?Reflect.construct(t,n||[],rn(e).constructor):t.apply(e,n);if(!t||"object"!=sn(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function nn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nn=function(){return!!e})()}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function on(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&an(e,t)}function an(e,t){return(an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=sn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=sn(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==sn(e)?e:e+""))(r.key),r)}}function cn(e,t,n){return t&&ln(e.prototype,t),n&&ln(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var a=new F,hn=new U,fn=(()=>cn(function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(un(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=35044,this.updateRanges=[],this.gpuType=1015,this.version=0},[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"addUpdateRange",value:function(e,t){this.updateRanges.push({start:e,count:t})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)hn.fromBufferAttribute(this,t),hn.applyMatrix3(e),this.setXY(t,hn.x,hn.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)a.fromBufferAttribute(this,r),a.applyMatrix3(e),this.setXYZ(r,a.x,a.y,a.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)a.fromBufferAttribute(this,t),a.applyMatrix4(e),this.setXYZ(t,a.x,a.y,a.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)a.fromBufferAttribute(this,t),a.applyNormalMatrix(e),this.setXYZ(t,a.x,a.y,a.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)a.fromBufferAttribute(this,t),a.transformDirection(e),this.setXYZ(t,a.x,a.y,a.z);return this}},{key:"set",value:function(e){return this.array.set(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0),this}},{key:"getComponent",value:function(e,t){e=this.array[e*this.itemSize+t];return e=this.normalized?X(e,this.array):e}},{key:"setComponent",value:function(e,t,n){return this.normalized&&(n=o(n,this.array)),this.array[e*this.itemSize+t]=n,this}},{key:"getX",value:function(e){e=this.array[e*this.itemSize];return e=this.normalized?X(e,this.array):e}},{key:"setX",value:function(e,t){return this.normalized&&(t=o(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){e=this.array[e*this.itemSize+1];return e=this.normalized?X(e,this.array):e}},{key:"setY",value:function(e,t){return this.normalized&&(t=o(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){e=this.array[e*this.itemSize+2];return e=this.normalized?X(e,this.array):e}},{key:"setZ",value:function(e,t){return this.normalized&&(t=o(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){e=this.array[e*this.itemSize+3];return e=this.normalized?X(e,this.array):e}},{key:"setW",value:function(e,t){return this.normalized&&(t=o(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=o(t,this.array),n=o(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=o(t,this.array),n=o(n,this.array),r=o(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=o(t,this.array),n=o(n,this.array),r=o(r,this.array),i=o(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}]))(),pn=(()=>{function r(e,t,n){return un(this,r),tn(this,r,[new Uint16Array(e),t,n])}return on(r,fn),cn(r)})(),yn=(()=>{function r(e,t,n){return un(this,r),tn(this,r,[new Uint32Array(e),t,n])}return on(r,fn),cn(r)})(),dn=(()=>{function r(e,t,n){return un(this,r),tn(this,r,[new Float32Array(e),t,n])}return on(r,fn),cn(r)})();function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=vn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=vn(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==vn(e)?e:e+""))(r.key),r)}}var bn=new Ut,gn=new F,wn=new F,xn=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new F,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,r=this,i=e;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");this.isSphere=!0,this.center=t,this.radius=n},(t=[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){for(var n=this.center,r=(void 0!==t?n.copy(t):bn.setFromPoints(e).getCenter(n),0),i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?e.makeEmpty():(e.set(this.center,this.center),e.expandByScalar(this.radius)),e}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){var t;return this.isEmpty()?(this.center.copy(e),this.radius=0):(gn.subVectors(e,this.center),(e=gn.lengthSq())>this.radius*this.radius&&(t=.5*((e=Math.sqrt(e))-this.radius),this.center.addScaledVector(gn,t/e),this.radius+=t)),this}},{key:"union",value:function(e){return e.isEmpty()||(this.isEmpty()?this.copy(e):!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(wn.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(gn.copy(e.center).add(wn)),this.expandByPoint(gn.copy(e.center).sub(wn)))),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])&&mn(e.prototype,t),n&&mn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})(),_n=e(1);function Sn(e){for(var t=e.length-1;0<=t;--t)if(65535<=e[t])return 1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function kn(e){return _n.b.document.createElementNS("http://www.w3.org/1999/xhtml",e)}function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=On(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=On(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==On(e)?e:e+""))(r.key),r)}}function Tn(e,t,n){t=Rn(t);var r=e,t=En()?Reflect.construct(t,n||[],Rn(e).constructor):t.apply(e,n);if(!t||"object"!=On(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function En(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(En=function(){return!!e})()}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t){return(An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Mn=0,Cn=new b,jn=new g,Ln=new F,In=new Ut,Nn=new Ut,Dn=new F,Bn=(()=>{function m(){var e;if(this instanceof m)return(e=Tn(this,m)).isBufferGeometry=!0,Object.defineProperty(e,"id",{value:Mn++}),e.uuid=V(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e;throw new TypeError("Cannot call a class as a function")}var e,t=m,n=we;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&An(t,n),t=m,(n=[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(Sn(e)?yn:pn)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){this.groups.push({start:e,count:t,materialIndex:2<arguments.length&&void 0!==arguments[2]?arguments[2]:0})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position,t=(void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0),this.attributes.normal),n=(void 0!==t&&(n=(new Ce).getNormalMatrix(e),t.applyNormalMatrix(n),t.needsUpdate=!0),this.attributes.tangent);return void 0!==n&&(n.transformDirection(e),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Cn.makeRotationFromQuaternion(e),this.applyMatrix4(Cn),this}},{key:"rotateX",value:function(e){return Cn.makeRotationX(e),this.applyMatrix4(Cn),this}},{key:"rotateY",value:function(e){return Cn.makeRotationY(e),this.applyMatrix4(Cn),this}},{key:"rotateZ",value:function(e){return Cn.makeRotationZ(e),this.applyMatrix4(Cn),this}},{key:"translate",value:function(e,t,n){return Cn.makeTranslation(e,t,n),this.applyMatrix4(Cn),this}},{key:"scale",value:function(e,t,n){return Cn.makeScale(e,t,n),this.applyMatrix4(Cn),this}},{key:"lookAt",value:function(e){return jn.lookAt(e),jn.updateMatrix(),this.applyMatrix4(jn.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ln).negate(),this.translate(Ln.x,Ln.y,Ln.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new dn(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Ut);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];In.setFromBufferAttribute(i),this.morphTargetsRelative?(Dn.addVectors(this.boundingBox.min,In.min),this.boundingBox.expandByPoint(Dn),Dn.addVectors(this.boundingBox.max,In.max),this.boundingBox.expandByPoint(Dn)):(this.boundingBox.expandByPoint(In.min),this.boundingBox.expandByPoint(In.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new xn);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new F,1/0);else if(e){var n=this.boundingSphere.center;if(In.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];Nn.setFromBufferAttribute(o),this.morphTargetsRelative?(Dn.addVectors(In.min,Nn.min),In.expandByPoint(Dn),Dn.addVectors(In.max,Nn.max),In.expandByPoint(Dn)):(In.expandByPoint(Nn.min),In.expandByPoint(Nn.max))}In.getCenter(n);for(var a=0,s=0,u=e.count;s<u;s++)Dn.fromBufferAttribute(e,s),a=Math.max(a,n.distanceToSquared(Dn));if(t)for(var l=0,c=t.length;l<c;l++)for(var h=t[l],f=this.morphTargetsRelative,p=0,y=h.count;p<y;p++)Dn.fromBufferAttribute(h,p),f&&(Ln.fromBufferAttribute(e,p),Dn.add(Ln)),a=Math.max(a,n.distanceToSquared(Dn));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");else{for(var n=t.position,r=t.normal,i=t.uv,o=(!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new fn(new Float32Array(4*n.count),4)),this.getAttribute("tangent")),a=[],s=[],u=0;u<n.count;u++)a[u]=new F,s[u]=new F;for(var l,c,h,f,p=new F,y=new F,d=new F,v=new U,m=new U,b=new U,g=new F,w=new F,x=this.groups,_=0,S=(x=0===x.length?[{start:0,count:e.count}]:x).length;_<S;++_)for(var k=x[_],O=k.start,P=O,N=O+k.count;P<N;P+=3)l=e.getX(P+0),c=e.getX(P+1),h=e.getX(P+2),f=void 0,p.fromBufferAttribute(n,l),y.fromBufferAttribute(n,c),d.fromBufferAttribute(n,h),v.fromBufferAttribute(i,l),m.fromBufferAttribute(i,c),b.fromBufferAttribute(i,h),y.sub(p),d.sub(p),m.sub(v),b.sub(v),f=1/(m.x*b.y-b.x*m.y),isFinite(f)&&(g.copy(y).multiplyScalar(b.y).addScaledVector(d,-m.y).multiplyScalar(f),w.copy(d).multiplyScalar(m.x).addScaledVector(y,-b.x).multiplyScalar(f),a[l].add(g),a[c].add(g),a[h].add(g),s[l].add(w),s[c].add(w),s[h].add(w));for(var T=new F,E=new F,R=new F,A=new F,M=0,D=x.length;M<D;++M)for(var C=x[M],j=C.start,L=j,B=j+C.count;L<B;L+=3)I(e.getX(L+0)),I(e.getX(L+1)),I(e.getX(L+2))}function I(e){R.fromBufferAttribute(r,e),A.copy(R);var t=a[e],t=(T.copy(t),T.sub(R.multiplyScalar(R.dot(t))).normalize(),E.crossVectors(A,t),E.dot(s[e]));o.setXYZW(e,T.x,T.y,T.z,t<0?-1:1)}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new fn(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var o=new F,a=new F,s=new F,u=new F,l=new F,c=new F,h=new F,f=new F;if(e)for(var p=0,y=e.count;p<y;p+=3){var d=e.getX(p+0),v=e.getX(p+1),m=e.getX(p+2);o.fromBufferAttribute(t,d),a.fromBufferAttribute(t,v),s.fromBufferAttribute(t,m),h.subVectors(s,a),f.subVectors(o,a),h.cross(f),u.fromBufferAttribute(n,d),l.fromBufferAttribute(n,v),c.fromBufferAttribute(n,m),u.add(h),l.add(h),c.add(h),n.setXYZ(d,u.x,u.y,u.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,c.x,c.y,c.z)}else for(var b=0,g=t.count;b<g;b+=3)o.fromBufferAttribute(t,b+0),a.fromBufferAttribute(t,b+1),s.fromBufferAttribute(t,b+2),h.subVectors(s,a),f.subVectors(o,a),h.cross(f),n.setXYZ(b+0,h.x,h.y,h.z),n.setXYZ(b+1,h.x,h.y,h.z),n.setXYZ(b+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Dn.fromBufferAttribute(e,t),Dn.normalize(),e.setXYZ(t,Dn.x,Dn.y,Dn.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r),a=0,s=0,u=0,l=t.length;u<l;u++)for(var a=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r,c=0;c<r;c++)o[s++]=n[a++];return new fn(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t,n=new m,r=this.index.array,i=this.attributes;for(t in i){var o=e(i[t],r);n.setAttribute(t,o)}var a,s=this.morphAttributes;for(a in s){for(var u=[],l=s[a],c=0,h=l.length;c<h;c++){var f=e(l[c],r);u.push(f)}n.morphAttributes[a]=u}n.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,y=0,d=p.length;y<d;y++){var v=p[y];n.addGroup(v.start,v.count,v.materialIndex)}return n}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),0<Object.keys(this.userData).length&&(e.userData=this.userData),void 0!==this.parameters){var t,n=this.parameters;for(t in n)void 0!==n[t]&&(e[t]=n[t])}else{e.data={attributes:{}};var r,i=this.index,o=(null!==i&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)}),this.attributes);for(r in o){var a=o[r];e.data.attributes[r]=a.toJSON(e.data)}var s,u={},l=!1;for(s in this.morphAttributes){for(var c=this.morphAttributes[s],h=[],f=0,p=c.length;f<p;f++){var y=c[f];h.push(y.toJSON(e.data))}0<h.length&&(u[s]=h,l=!0)}l&&(e.data.morphAttributes=u,e.data.morphTargetsRelative=this.morphTargetsRelative);i=this.groups,i=(0<i.length&&(e.data.groups=JSON.parse(JSON.stringify(i))),this.boundingSphere);null!==i&&(e.data.boundingSphere={center:i.center.toArray(),radius:i.radius})}return e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t,n={},r=(this.name=e.name,e.index),i=(null!==r&&this.setIndex(r.clone(n)),e.attributes);for(t in i){var o=i[t];this.setAttribute(t,o.clone(n))}var a,s=e.morphAttributes;for(a in s){for(var u=[],l=s[a],c=0,h=l.length;c<h;c++)u.push(l[c].clone(n));this.morphAttributes[a]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,p=0,y=f.length;p<y;p++){var d=f[p];this.addGroup(d.start,d.count,d.materialIndex)}r=e.boundingBox,null!==r&&(this.boundingBox=r.clone()),r=e.boundingSphere;return null!==r&&(this.boundingSphere=r.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}])&&Pn(t.prototype,n),e&&Pn(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Fn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Fn(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Fn(e)?e:e+""))(r.key),r)}}function zn(e,t,n){t=Vn(t);var r=e,t=Gn()?Reflect.construct(t,n||[],Vn(e).constructor):t.apply(e,n);if(!t||"object"!=Fn(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Gn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Gn=function(){return!!e})()}function Hn(){return(Hn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Vn(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yn(e,t){return(Yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Wn=(()=>{function P(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=this,o=P;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");(i=zn(this,P)).type="PlaneGeometry",i.parameters={width:e,height:t,widthSegments:n,heightSegments:r};for(var a=e/2,s=t/2,u=Math.floor(n),l=Math.floor(r),c=u+1,h=l+1,f=e/u,p=t/l,y=[],d=[],v=[],m=[],b=0;b<h;b++)for(var g=b*p-s,w=0;w<c;w++)d.push(w*f-a,-g,0),v.push(0,0,1),m.push(w/u),m.push(1-b/l);for(var x=0;x<l;x++)for(var _=0;_<u;_++){var S=_+c*(x+1),k=_+1+c*(x+1),O=_+1+c*x;y.push(_+c*x,S,O),y.push(S,k,O)}return i.setIndex(y),i.setAttribute("position",new dn(d,3)),i.setAttribute("normal",new dn(v,3)),i.setAttribute("uv",new dn(m,2)),i}var e,t=P,n=Bn;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Yn(t,n),t=P,n=[{key:"fromJSON",value:function(e){return new P(e.width,e.height,e.widthSegments,e.heightSegments)}}],(e=[{key:"copy",value:function(e){var t,n,r,i,o;return t=P,n="copy",r=this,o=Hn(Vn(1&(i=3)?t.prototype:t),n,r),(2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o)([e]),this.parameters=Object.assign({},e.parameters),this}}])&&Un(t.prototype,e),n&&Un(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t})();function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=qn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=qn(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==qn(e)?e:e+""))(r.key),r)}}function Zn(e,t,n){t=Kn(t);var r=e,t=Jn()?Reflect.construct(t,n||[],Kn(e).constructor):t.apply(e,n);if(!t||"object"!=qn(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Jn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jn=function(){return!!e})()}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qn(e,t){return(Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var $n=0,er=(()=>{function t(){var e;if(this instanceof t)return(e=Zn(this,t)).isMaterial=!0,Object.defineProperty(e,"id",{value:$n++}),e.uuid=V(),e.name="",e.type="Material",e.blending=1,e.side=oe,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.alphaHash=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=100,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.blendColor=new v(0,0,0),e.blendAlpha=0,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=7680,e.stencilZFail=7680,e.stencilZPass=7680,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=xt,e;throw new TypeError("Cannot call a class as a function")}var e,n=t,r=we;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Qn(n,r),n=t,(r=[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){0<this._alphaTest!=0<e&&this.version++,this._alphaTest=e}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n,r=e[t];void 0===r?console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined.")):void 0===(n=this[t])?console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,".")):n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e,n=(t&&(e={textures:{},images:{}}),{metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}});function r(e){var t,n=[];for(t in e){var r=e[t];delete r.metadata,n.push(r)}return n}return n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine)&&(n.combine=this.combine),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==oe&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),100!==this.blendEquation&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),7680!==this.stencilFail&&(n.stencilFail=this.stencilFail),7680!==this.stencilZFail&&(n.stencilZFail=this.stencilZFail),7680!==this.stencilZPass&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),0<Object.keys(this.userData).length&&(n.userData=this.userData),t&&(t=r(e.textures),e=r(e.images),0<t.length&&(n.textures=t),0<e.length)&&(n.images=e),n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t)for(var r=t.length,n=new Array(r),i=0;i!==r;++i)n[i]=t[i].clone();return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"onBuild",value:function(){console.warn("Material: onBuild() has been removed.")}}])&&Xn(n.prototype,r),e&&Xn(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n})();function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=tr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=tr(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==tr(e)?e:e+""))(r.key),r)}}function rr(e,t,n){t=ar(t);var r=e,t=ir()?Reflect.construct(t,n||[],ar(e).constructor):t.apply(e,n);if(!t||"object"!=tr(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function ir(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ir=function(){return!!e})()}function or(){return(or="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ar(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e,t){return(sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ur,lr=(()=>{function a(e){var t;if(this instanceof a)return(t=rr(this,a)).isMeshBasicMaterial=!0,t.type="MeshBasicMaterial",t.color=new v(16777215),t.map=null,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=null,t.aoMapIntensity=1,t.specularMap=null,t.alphaMap=null,t.envMap=null,t.envMapRotation=new Pe,t.combine=0,t.reflectivity=1,t.refractionRatio=.98,t.wireframe=!1,t.wireframeLinewidth=1,t.wireframeLinecap="round",t.wireframeLinejoin="round",t.fog=!0,t.setValues(e),t;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=er;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&sr(t,n),t=a,(n=[{key:"copy",value:function(e){var t,n,r,i,o;return t=a,n="copy",r=this,o=or(ar(1&(i=3)?t.prototype:t),n,r),(2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o)([e]),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}])&&nr(t.prototype,n),e&&nr(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=cr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=cr(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==cr(e)?e:e+""))(r.key),r)}}var fr=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}return t=e,r=[{key:"getDataURL",value:function(e){var t;return/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement?e.src:2048<(t=e instanceof HTMLCanvasElement?e:((ur=void 0===ur?kn("canvas"):ur).width=e.width,ur.height=e.height,t=ur.getContext("2d"),e instanceof ImageData?t.putImageData(e,0,0):t.drawImage(e,0,0,e.width,e.height),ur)).width||2048<t.height?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){for(var t=kn("canvas"),n=(t.width=e.width,t.height=e.height,t.getContext("2d")),r=(n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)),i=r.data,o=0;o<i.length;o++)i[o]=255*gt(i[o]/255);return n.putImageData(r,0,0),t}if(e.data){for(var a=e.data.slice(0),s=0;s<a.length;s++)a instanceof Uint8Array||a instanceof Uint8ClampedArray?a[s]=Math.floor(255*gt(a[s]/255)):a[s]=gt(a[s]);return{data:a,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}],(n=null)&&hr(t.prototype,n),r&&hr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r})();function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=pr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=pr(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==pr(e)?e:e+""))(r.key),r)}}var dr=0,vr=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=this,r=e;if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");this.isSource=!0,Object.defineProperty(this,"id",{value:dr++}),this.uuid=V(),this.data=t,this.dataReady=!0,this.version=0},(t=[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){if(Array.isArray(r))for(var i=[],o=0,a=r.length;o<a;o++)r[o].isDataTexture?i.push(mr(r[o].image)):i.push(mr(r[o]));else i=mr(r);n.url=i}return t||(e.images[this.uuid]=n),n}}])&&yr(e.prototype,t),n&&yr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function mr(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?fr.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=br(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=br(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==br(e)?e:e+""))(r.key),r)}}function wr(e,t,n){t=_r(t);var r=e,t=xr()?Reflect.construct(t,n||[],_r(e).constructor):t.apply(e,n);if(!t||"object"!=br(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function xr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xr=function(){return!!e})()}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sr(e,t){return(Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var kr=0,Or=(()=>{function f(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.DEFAULT_IMAGE,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f.DEFAULT_MAPPING,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1001,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1001,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1006,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1008,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1023,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:1009,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:f.DEFAULT_ANISOTROPY,l=9<arguments.length&&void 0!==arguments[9]?arguments[9]:"",c=this,h=f;if(c instanceof h)return(c=wr(this,f)).isTexture=!0,Object.defineProperty(c,"id",{value:kr++}),c.uuid=V(),c.name="",c.source=new vr(e),c.mipmaps=[],c.mapping=t,c.channel=0,c.wrapS=n,c.wrapT=r,c.magFilter=i,c.minFilter=o,c.anisotropy=u,c.format=a,c.internalFormat=null,c.type=s,c.offset=new U(0,0),c.repeat=new U(1,1),c.center=new U(0,0),c.rotation=0,c.matrixAutoUpdate=!0,c.matrix=new Ce,c.generateMipmaps=!0,c.premultiplyAlpha=!1,c.flipY=!0,c.unpackAlignment=4,c.colorSpace=l,c.userData={},c.version=0,c.onUpdate=null,c.isRenderTargetTexture=!1,c.pmremVersion=0,c;throw new TypeError("Cannot call a class as a function")}var e,t=f,n=we;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Sr(t,n),t=f,(n=[{key:"image",get:function(){return this.source.data},set:function(){this.source.data=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t,n=void 0===e||"string"==typeof e;return n||void 0===e.textures[this.uuid]?(t={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment},0<Object.keys(this.userData).length&&(t.userData=this.userData),n||(e.textures[this.uuid]=t),t):e.textures[this.uuid]}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300===this.mapping){if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}return e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"needsPMREMUpdate",set:function(e){!0===e&&this.pmremVersion++}}])&&gr(t.prototype,n),e&&gr(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Pr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Pr(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Pr(e)?e:e+""))(r.key),r)}}function Er(e,t,n){t=Ar(t);var r=e,t=Rr()?Reflect.construct(t,n||[],Ar(e).constructor):t.apply(e,n);if(!t||"object"!=Pr(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Rr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Rr=function(){return!!e})()}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mr(e,t){return(Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Or.DEFAULT_IMAGE=null,Or.DEFAULT_MAPPING=300,Or.DEFAULT_ANISOTROPY=1;var Cr=(()=>{function l(e,t,n,r,i,o,a,s,u){if(this instanceof l)return(e=Er(this,l,[e,t,n,r,i,o,a,s,u])).isCanvasTexture=!0,e.needsUpdate=!0,e;throw new TypeError("Cannot call a class as a function")}var e,t,n=l,r=Or;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Mr(n,r),n=l,e&&Tr(n.prototype,e),t&&Tr(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n})();function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=jr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=jr(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==jr(e)?e:e+""))(r.key),r)}}var Ir=new F,Nr=new F,Dr=new Ce,Br=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new F(1,0,0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=this,i=e;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");this.isPlane=!0,this.normal=t,this.constant=n},(t=[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){n=Ir.subVectors(n,t).cross(Nr.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(Ir),r=this.normal.dot(n);return 0===r?0===this.distanceToPoint(e.start)?t.copy(e.start):null:(r=-(e.start.dot(this.normal)+this.constant)/r)<0||1<r?null:t.copy(e.start).addScaledVector(n,r)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),e=this.distanceToPoint(e.end);return t<0&&0<e||e<0&&0<t}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){t=t||Dr.getNormalMatrix(e),e=this.coplanarPoint(Ir).applyMatrix4(e),t=this.normal.applyMatrix3(t).normalize();return this.constant=-e.dot(t),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])&&Lr(e.prototype,t),n&&Lr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Fr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Fr(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Fr(e)?e:e+""))(r.key),r)}}var zr=new F,Gr=new F,Hr=new F,Vr=new F,Yr=new F,Wr=new F,qr=new F,Xr=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new F,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new F(0,0,-1),r=this,i=e;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");this.origin=t,this.direction=n},(t=[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,zr)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);e=t.dot(this.direction);return e<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=zr.subVectors(e,this.origin).dot(this.direction);return(t<0?this.origin:(zr.copy(this.origin).addScaledVector(this.direction,t),zr)).distanceToSquared(e)}},{key:"distanceSqToSegment",value:function(e,t,n,r){Gr.copy(e).add(t).multiplyScalar(.5),Hr.copy(t).sub(e).normalize(),Vr.copy(this.origin).sub(Gr);var i,o,a,e=.5*e.distanceTo(t),t=-this.direction.dot(Hr),s=Vr.dot(this.direction),u=-Vr.dot(Hr),l=Vr.lengthSq(),c=Math.abs(1-t*t);return c=0<c?(o=t*s-u,a=e*c,0<=(i=t*u-s)?-a<=o?o<=a?(i*=c=1/c)*(i+t*(o*=c)+2*s)+o*(t*i+o+2*u)+l:(o=e,-(i=Math.max(0,-(t*o+s)))*i+o*(o+2*u)+l):(o=-e,-(i=Math.max(0,-(t*o+s)))*i+o*(o+2*u)+l):o<=-a?-(i=Math.max(0,-(-t*e+s)))*i+(o=0<i?-e:Math.min(Math.max(-e,-u),e))*(o+2*u)+l:o<=a?(i=0,(o=Math.min(Math.max(-e,-u),e))*(o+2*u)+l):-(i=Math.max(0,-(t*e+s)))*i+(o=0<i?e:Math.min(Math.max(-e,-u),e))*(o+2*u)+l):(o=0<t?-e:e,-(i=Math.max(0,-(t*o+s)))*i+o*(o+2*u)+l),n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(Gr).addScaledVector(Hr,o),c}},{key:"intersectSphere",value:function(e,t){zr.subVectors(e.center,this.origin);var n=zr.dot(this.direction),r=zr.dot(zr)-n*n,e=e.radius*e.radius;return e<r||(r=n-(e=Math.sqrt(e-r)),(n=n+e)<0)?null:r<0?this.at(n,t):this.at(r,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);return 0===t?0===e.distanceToPoint(this.origin)?0:null:0<=(e=-(this.origin.dot(e.normal)+e.constant)/t)?e:null}},{key:"intersectPlane",value:function(e,t){e=this.distanceToPlane(e);return null===e?null:this.at(e,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,o=1/this.direction.x,a=1/this.direction.y,s=1/this.direction.z,u=this.origin,o=0<=o?(n=(e.min.x-u.x)*o,(e.max.x-u.x)*o):(n=(e.max.x-u.x)*o,(e.min.x-u.x)*o),a=0<=a?(i=(e.min.y-u.y)*a,(e.max.y-u.y)*a):(i=(e.max.y-u.y)*a,(e.min.y-u.y)*a);return a<n||o<i||((n<i||isNaN(n))&&(n=i),(a<o||isNaN(o))&&(o=a),(i=0<=s?(r=(e.min.z-u.z)*s,(e.max.z-u.z)*s):(r=(e.max.z-u.z)*s,(e.min.z-u.z)*s))<n)||o<r||((n<r||n!=n)&&(n=r),(o=i<o||o!=o?i:o)<0)?null:this.at(0<=n?n:o,t)}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,zr)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Yr.subVectors(t,e),Wr.subVectors(n,e),qr.crossVectors(Yr,Wr);var o,t=this.direction.dot(qr);if(0<t){if(r)return null;o=1}else{if(!(t<0))return null;o=-1,t=-t}Vr.subVectors(this.origin,e);n=o*this.direction.dot(Wr.crossVectors(Vr,Wr));return n<0||(r=o*this.direction.dot(Yr.cross(Vr)))<0||t<n+r||(e=-o*Vr.dot(qr))<0?null:this.at(e/t,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])&&Ur(e.prototype,t),n&&Ur(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function Zr(e){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(){Jr=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new P(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=f,function(e,t){if(s===y)throw Error("Generator is already running");if(s===d){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=y;n=h(i,o,a);if("normal"===n.type){if(s=a.done?d:p,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var t={},w=(o(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(T([]))),x=(w&&w!==e&&l.call(w,r)&&(t=w),g.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==Zr(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(Zr(t)+" is not iterable")}return c(x,"constructor",{value:b.prototype=g,configurable:!0}),c(g,"constructor",{value:b,configurable:!0}),b.displayName=o(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),o(x,i,"Generator"),o(x,r,function(){return this}),o(x,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Zr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Zr(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Zr(e)?e:e+""))(r.key),r)}}var Qr=(()=>{function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=this,o=a;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");a.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}return e=a,(t=[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*r+e[12]*i,this.y=e[1]*t+e[5]*n+e[9]*r+e[13]*i,this.z=e[2]*t+e[6]*n+e[10]*r+e[14]*i,this.w=e[3]*t+e[7]*n+e[11]*r+e[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,o,a,s,u,l,c,e=e.elements,h=e[0],f=e[4],p=e[8],y=e[1],d=e[5],v=e[9],m=e[2],b=e[6],e=e[10];return Math.abs(f-y)<.01&&Math.abs(p-m)<.01&&Math.abs(v-b)<.01?Math.abs(f+y)<.1&&Math.abs(p+m)<.1&&Math.abs(v+b)<.1&&Math.abs(h+d+e-3)<.1?this.set(1,0,0,0):(i=Math.PI,a=(e+1)/2,s=(f+y)/4,u=(p+m)/4,l=(v+b)/4,(o=(d+1)/2)<(c=(h+1)/2)&&a<c?r=c<.01?(t=0,n=.707106781):(n=s/(t=Math.sqrt(c)),u/t):a<o?r=o<.01?(n=0,t=.707106781):(t=s/(n=Math.sqrt(o)),l/n):a<.01?(n=t=.707106781,r=0):(t=u/(r=Math.sqrt(a)),n=l/r),this.set(t,n,r,i)):(c=Math.sqrt((b-v)*(b-v)+(p-m)*(p-m)+(y-f)*(y-f)),Math.abs(c)<.001&&(c=1),this.x=(b-v)/c,this.y=(p-m)/c,this.z=(y-f)/c,this.w=Math.acos((h+d+e-1)/2)),this}},{key:"setFromMatrixPosition",value:function(e){e=e.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:Jr().mark(function e(){return Jr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}},e,this)})}])&&Kr(e.prototype,t),n&&Kr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=$r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=$r(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==$r(e)?e:e+""))(r.key),r)}}var t0=new F,n0=new F,r0=new F,i0=new F,o0=new F,a0=new F,s0=new F,u0=new F,l0=new F,c0=new F,h0=new Qr,f0=new Qr,p0=new Qr,y0=(()=>{function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new F,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new F,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new F,r=this,i=o;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");this.a=e,this.b=t,this.c=n}return e=o,n=[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),t0.subVectors(e,t),r.cross(t0);n=r.lengthSq();return 0<n?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){t0.subVectors(r,t),n0.subVectors(n,t),r0.subVectors(e,t);var r=t0.dot(t0),n=t0.dot(n0),e=t0.dot(r0),t=n0.dot(n0),o=n0.dot(r0),a=r*t-n*n;return 0==a?(i.set(0,0,0),null):i.set(1-(t=(t*e-n*o)*(i=1/a))-(a=(r*o-n*e)*i),a,t)}},{key:"containsPoint",value:function(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,i0)&&0<=i0.x&&0<=i0.y&&i0.x+i0.y<=1}},{key:"getInterpolation",value:function(e,t,n,r,i,o,a,s){return null===this.getBarycoord(e,t,n,r,i0)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,i0.x),s.addScaledVector(o,i0.y),s.addScaledVector(a,i0.z),s)}},{key:"getInterpolatedAttribute",value:function(e,t,n,r,i,o){return h0.setScalar(0),f0.setScalar(0),p0.setScalar(0),h0.fromBufferAttribute(e,t),f0.fromBufferAttribute(e,n),p0.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(h0,i.x),o.addScaledVector(f0,i.y),o.addScaledVector(p0,i.z),o}},{key:"isFrontFacing",value:function(e,t,n,r){return t0.subVectors(n,t),n0.subVectors(e,t),t0.cross(n0).dot(r)<0}}],(t=[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return t0.subVectors(this.c,this.b),n0.subVectors(this.a,this.b),.5*t0.cross(n0).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(e){return o.getNormal(this.a,this.b,this.c,e)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(e,t){return o.getBarycoord(e,this.a,this.b,this.c,t)}},{key:"getInterpolation",value:function(e,t,n,r,i){return o.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}},{key:"containsPoint",value:function(e){return o.containsPoint(e,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(e){return o.isFrontFacing(this.a,this.b,this.c,e)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n=this.a,r=this.b,i=this.c,o=(o0.subVectors(r,n),a0.subVectors(i,n),u0.subVectors(e,n),o0.dot(u0)),a=a0.dot(u0);if(o<=0&&a<=0)return t.copy(n);l0.subVectors(e,r);var s=o0.dot(l0),u=a0.dot(l0);if(0<=s&&u<=s)return t.copy(r);var l=o*u-s*a;if(l<=0&&0<=o&&s<=0)return c=o/(o-s),t.copy(n).addScaledVector(o0,c);c0.subVectors(e,i);var c,h,e=o0.dot(c0),f=a0.dot(c0);return 0<=f&&e<=f?t.copy(i):(o=e*a-o*f)<=0&&0<=a&&f<=0?(h=a/(a-f),t.copy(n).addScaledVector(a0,h)):(a=s*f-e*u)<=0&&0<=u-s&&0<=e-f?(s0.subVectors(i,r),h=(u-s)/(u-s+(e-f)),t.copy(r).addScaledVector(s0,h)):(c=o*(i=1/(a+o+l)),h=l*i,t.copy(n).addScaledVector(o0,c).addScaledVector(a0,h))}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}])&&e0(e.prototype,t),n&&e0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function d0(e){return(d0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=d0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=d0(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==d0(e)?e:e+""))(r.key),r)}}function m0(e,t,n){t=w0(t);var r=e,t=b0()?Reflect.construct(t,n||[],w0(e).constructor):t.apply(e,n);if(!t||"object"!=d0(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function b0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b0=function(){return!!e})()}function g0(){return(g0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=w0(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function w0(e){return(w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x0(e,t){return(x0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var _0=new b,S0=new Xr,k0=new xn,O0=new F,P0=new F,T0=new F,E0=new F,R0=new F,A0=new F,M0=new F,C0=new F,j0=(()=>{function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Bn,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new lr,n=this,r=s;if(n instanceof r)return(n=m0(this,s)).isMesh=!0,n.type="Mesh",n.geometry=e,n.material=t,n.updateMorphTargets(),n;throw new TypeError("Cannot call a class as a function")}var e,t=s,n=g;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&x0(t,n),t=s,(n=[{key:"copy",value:function(e,t){var n,r,i,o,a;return n=s,r="copy",i=this,a=g0(w0(1&(o=3)?n.prototype:n),r,i),(2&o&&"function"==typeof a?function(e){return a.apply(i,e)}:a)([e,t]),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(0<t.length){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var o=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative,a=(t.fromBufferAttribute(r,e),this.morphTargetInfluences);if(i&&a){A0.set(0,0,0);for(var s=0,u=i.length;s<u;s++){var l=a[s],c=i[s];0!==l&&(R0.fromBufferAttribute(c,e),o?A0.addScaledVector(R0,l):A0.addScaledVector(R0.sub(t),l))}t.add(A0)}return t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),k0.copy(n.boundingSphere),k0.applyMatrix4(i),S0.copy(e.ray).recast(e.near),!1===k0.containsPoint(S0.origin)){if(null===S0.intersectSphere(k0,O0))return;if(S0.origin.distanceToSquared(O0)>Math.pow(e.far-e.near,2))return}_0.copy(i).invert(),S0.copy(e.ray).applyMatrix4(_0),null!==n.boundingBox&&!1===S0.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,S0)}}},{key:"_computeIntersections",value:function(e,t,n){var r=this.geometry,i=this.material,o=r.index,a=r.attributes.position,s=r.attributes.uv,u=r.attributes.uv1,l=r.attributes.normal,c=r.groups,h=r.drawRange;if(null!==o)if(Array.isArray(i))for(var f=0,p=c.length;f<p;f++)for(var y,d=c[f],v=i[d.materialIndex],m=Math.max(d.start,h.start),b=Math.min(o.count,Math.min(d.start+d.count,h.start+h.count));m<b;m+=3)(y=L0(this,v,e,n,s,u,l,o.getX(m),o.getX(m+1),o.getX(m+2)))&&(y.faceIndex=Math.floor(m/3),y.face.materialIndex=d.materialIndex,t.push(y));else for(var g=Math.max(0,h.start),w=Math.min(o.count,h.start+h.count);g<w;g+=3)(y=L0(this,i,e,n,s,u,l,o.getX(g),o.getX(g+1),o.getX(g+2)))&&(y.faceIndex=Math.floor(g/3),t.push(y));else if(void 0!==a)if(Array.isArray(i))for(var x=0,_=c.length;x<_;x++)for(var S=c[x],k=i[S.materialIndex],O=Math.max(S.start,h.start),P=Math.min(a.count,Math.min(S.start+S.count,h.start+h.count));O<P;O+=3)(y=L0(this,k,e,n,s,u,l,O,O+1,O+2))&&(y.faceIndex=Math.floor(O/3),y.face.materialIndex=S.materialIndex,t.push(y));else for(var T=Math.max(0,h.start),E=Math.min(a.count,h.start+h.count);T<E;T+=3)(y=L0(this,i,e,n,s,u,l,T,T+1,T+2))&&(y.faceIndex=Math.floor(T/3),t.push(y))}}])&&v0(t.prototype,n),e&&v0(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function L0(e,t,n,r,i,o,a,s,u,l){e.getVertexPosition(s,P0),e.getVertexPosition(u,T0),e.getVertexPosition(l,E0);e=e,n=n,c=r,h=P0,y=T0,p=E0,f=M0;var c,h,f,p,y=null===(c=(t=t).side===ae?c.intersectTriangle(p,y,h,!0,f):c.intersectTriangle(h,y,p,t.side===oe,f))||(C0.copy(f),C0.applyMatrix4(e.matrixWorld),(h=n.ray.origin.distanceTo(C0))<n.near)||h>n.far?null:{distance:h,point:C0.clone(),object:e};return y&&(p=new F,y0.getBarycoord(M0,P0,T0,E0,p),i&&(y.uv=y0.getInterpolatedAttribute(i,s,u,l,p,new U)),o&&(y.uv1=y0.getInterpolatedAttribute(o,s,u,l,p,new U)),a&&(y.normal=y0.getInterpolatedAttribute(a,s,u,l,p,new F),0<y.normal.dot(r.direction))&&y.normal.multiplyScalar(-1),t={a:s,b:u,c:l,normal:new F,materialIndex:0},y0.getNormal(P0,T0,E0,t.normal),y.face=t,y.barycoord=p),y}function I0(e){return(I0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=I0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=I0(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==I0(e)?e:e+""))(r.key),r)}}var D0=new b,B0=(()=>{return e=function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1/0,o=this,a=e;if(!(o instanceof a))throw new TypeError("Cannot call a class as a function");this.ray=new Xr(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new Re,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}},(t=[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"setFromXRController",value:function(e){return D0.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(D0),this}},{key:"intersectObject",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return U0(e,this,n,t),n.sort(F0),n}},{key:"intersectObjects",value:function(e){for(var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)U0(e[r],this,n,t);return n.sort(F0),n}}])&&N0(e.prototype,t),n&&N0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function F0(e,t){return e.distance-t.distance}function U0(e,t,n,r){var i=!0;if(!0===(i=e.layers.test(t.layers)&&!1===e.raycast(t,n)?!1:i)&&!0===r)for(var o=e.children,a=0,s=o.length;a<s;a++)U0(o[a],t,n,!0)}var s={AMAP_SATELLITE:1,AMAP_VECTOR:2,BAIDU_VECTOR:4,BAIDU_SATELLITE:8,TD_VECTOR:16,TD_SATELLITE:32,OSM:64},t={FOV:35,CAMERA_NEAR:1,CAMERA_FAR:1e5,ZOOM_UPPER_BOUND:30,TILT_UPPER_BOUND:90,THOUSAND:1e3,DEG2RAD:.0174532,RAD2DEG:57.2957795,DRAW_TIME:500,EPS:.001},z0=(Object.freeze(t),t),G0={YELLOW:"YELLOW",CELESTE:"CELESTE",GRAY:"GRAY",PEACH:"PEACH",PINK:"PINK",SAPPHIRE:"SAPPHIRE",NONE:"NONE",CUSTOM:"CUSTOM"};function H0(e){return(H0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=H0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=H0(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==H0(e)?e:e+""))(r.key),r)}}function Y0(e,t,n){t=q0(t);var r=e,t=W0()?Reflect.construct(t,n||[],q0(e).constructor):t.apply(e,n);if(!t||"object"!=H0(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function W0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(W0=function(){return!!e})()}function q0(e){return(q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X0(e,t){return(X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Z0=(()=>{function t(){var e;if(this instanceof t)return(e=Y0(this,t)).isGroup=!0,e.type="Group",e;throw new TypeError("Cannot call a class as a function")}var e,n,r=t,i=g;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&X0(r,i),r=t,e&&V0(r.prototype,e),n&&V0(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r})();function J0(e){return(J0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=J0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=J0(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==J0(e)?e:e+""))(r.key),r)}}var Q0=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.disposed=!1}return t=e,(n=[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.disposeInternal())}},{key:"disposeInternal",value:function(){}}])&&K0(t.prototype,n),r&&K0(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r})();function $0(e,t){return t<e?1:e<t?-1:0}function ei(e,t,n){var r,i=e.length;if(e[0]<=t)return 0;if(!(t<=e[i-1]))if(0<n){for(r=1;r<i;++r)if(e[r]<t)return r-1}else if(n<0){for(r=1;r<i;++r)if(e[r]<=t)return r}else for(r=1;r<i;++r){if(e[r]==t)return r;if(e[r]<t)return"function"==typeof n?0<n(t,e[r-1],e[r])?r-1:r:e[r-1]-t<t-e[r]?r-1:r}return i-1}function ti(e,t){for(var n=Array.isArray(t)?t:[t],r=n.length,i=0;i<r;i++)e[e.length]=n[i]}function ni(e,t){var n=e.length;if(n===t.length){for(var r=0;r<n;r++)if(e[r]!==t[r])return;return 1}}function ri(){return!0}function ii(){}function u(){throw new Error("Unimplemented abstract method.")}var oi=0;function ai(e){return e.ol_uid||(e.ol_uid=String(++oi))}var t="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",si=(t.indexOf("firefox"),-1!==t.indexOf("safari")&&t.indexOf("chrom"),-1!==t.indexOf("webkit")&&t.indexOf("edge"),t.indexOf("macintosh"),"undefined"!=typeof devicePixelRatio?devicePixelRatio:1),ui="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,li="undefined"!=typeof Image&&Image.prototype.decode;(()=>{var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(e){}})();function ci(e){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ci(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ci(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ci(e)?e:e+""))(r.key),r)}}function fi(e,t,n){t=vi(t);var r=e,t=yi()?Reflect.construct(t,n||[],vi(e).constructor):t.apply(e,n);if(!t||"object"!=ci(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function pi(e){var n="function"==typeof Map?new Map:void 0;return function(e){if(null===e||!(t=>{try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}})(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return function(e,t,n){var r;return yi()?Reflect.construct.apply(null,arguments):((r=[null]).push.apply(r,t),t=new(e.bind.apply(e,r)),n&&di(t,n.prototype),t)}(e,arguments,vi(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),di(t,e)}(e)}function yi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yi=function(){return!!e})()}function di(e,t){return(di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vi(e){return(vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mi=(e=>{function r(e){var t,n;if(this instanceof r)return(n=fi(this,r,[t="Assertion failed. See https://openlayers.org/en/latest/doc/errors/#"+e+" for details."])).code=e,n.name="AssertionError",n.message=t,n;throw new TypeError("Cannot call a class as a function")}var t,n,i=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");return i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&di(i,e),i=r,t&&hi(i.prototype,t),n&&hi(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i})(pi(Error));function l(e,t){if(!e)throw new mi(t)}new Array(6);function bi(){return[1,0,0,1,0,0]}function gi(e,t){var n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function wi(e,t,n,r,i,o,a,s){var u=Math.sin(o),o=Math.cos(o);return e[0]=r*o,e[1]=i*u,e[2]=-r*u,e[3]=i*o,e[4]=a*r*o-s*r*u+t,e[5]=a*i*u+s*i*o+n,e}function xi(e,t){var n=t[0]*t[3]-t[1]*t[2],r=(l(0!=n,32),t[0]),i=t[1],o=t[2],a=t[3],s=t[4],t=t[5];return e[0]=a/n,e[1]=-i/n,e[2]=-o/n,e[3]=r/n,e[4]=(o*t-a*s)/n,e[5]=-(r*t-i*s)/n,e}var _i={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Si={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function ki(e,t,n){t=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,n=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0;return t*t+n*n}function Oi(e,t){return Pi(e,t[0],t[1])}function Pi(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function Ti(e,t){var n=e[0],r=t[0],t=t[1],i=Si.UNKNOWN;return r<n?i|=Si.LEFT:e[2]<r&&(i|=Si.RIGHT),t<e[1]?i|=Si.BELOW:e[3]<t&&(i|=Si.ABOVE),i=i===Si.UNKNOWN?Si.INTERSECTING:i}function Ei(){return[1/0,1/0,-1/0,-1/0]}function Ri(e,t,n,r,i){return i?(i[0]=e,i[1]=t,i[2]=n,i[3]=r,i):[e,t,n,r]}function Ai(e){return Ri(1/0,1/0,-1/0,-1/0,e)}function Mi(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function Ci(e,t,n,r,i){for(;n<r;n+=i)o=e,a=t[n],s=t[n+1],o[0]=Math.min(o[0],a),o[1]=Math.min(o[1],s),o[2]=Math.max(o[2],a),o[3]=Math.max(o[3],s);var o,a,s;return e}function ji(e){return[e[0],e[1]]}function Li(e){return[e[2],e[1]]}function Ii(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function Ni(e,t,n,r,i){var o=t*r[0]/2,t=t*r[1]/2,r=Math.cos(n),n=Math.sin(n),a=o*r,o=o*n,r=t*r,t=t*n,n=e[0],e=e[1],s=n-a+t,u=n-a-t,l=n+a-t,n=n+a+t,a=e-o-r,t=e-o+r,c=e+o+r,e=e+o-r;return Ri(Math.min(s,u,l,n),Math.min(a,t,c,e),Math.max(s,u,l,n),Math.max(a,t,c,e),i)}function Di(e){return e[3]-e[1]}function Bi(e,t,n){n=n||Ei();return Gi(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],n[1]=(t[1]<e[1]?e:t)[1],n[2]=(e[2]<t[2]?e:t)[2],n[3]=(e[3]<t[3]?e:t)[3]):Ai(n),n}function Fi(e){return[e[0],e[3]]}function Ui(e){return[e[2],e[3]]}function zi(e){return e[2]-e[0]}function Gi(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function Hi(e){return e[2]<e[0]||e[3]<e[1]}function Vi(e,t,n,r){var i=[];if(1<r)for(var o=e[2]-e[0],a=e[3]-e[1],s=0;s<r;++s)i.push(e[0]+o*s/r,e[1],e[2],e[1]+a*s/r,e[2]-o*s/r,e[3],e[0],e[3]-a*s/r);else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(i,i,2);for(var u,l=[],c=[],h=0,f=i.length;h<f;h+=2)l.push(i[h]),c.push(i[h+1]);return t=l,u=c,n=n,Ri(Math.min.apply(null,t),Math.min.apply(null,u),Math.max.apply(null,t),Math.max.apply(null,u),n)}function Yi(e,t,n){return Math.min(Math.max(e,t),n)}var Wi="cosh"in Math?Math.cosh:function(e){e=Math.exp(e);return(e+1/e)/2};"log2"in Math&&Math.log2;function qi(e,t,n,r){n-=e,e=r-t;return n*n+e*e}function Xi(e){return e*Math.PI/180}function Zi(e,t){e%=t;return e*t<0?e+t:e}function Ji(e,t){t=Math.pow(10,t);return Math.round(e*t)/t}function Ki(e,t){return Math.floor(Ji(e,t))}function Qi(e,t){return Math.ceil(Ji(e,t))}var $i=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,eo=/^([a-z]*)$|^hsla?\(.*\)$/i;function to(e){var t,n,r;return"string"==typeof e?e:((t=(e=e)[0])!=(0|t)&&(t=t+.5|0),(n=e[1])!=(0|n)&&(n=n+.5|0),(r=e[2])!=(0|r)&&(r=r+.5|0),e=void 0===e[3]?1:Math.round(100*e[3])/100,"rgba("+t+","+n+","+r+","+e+")")}function no(e){var t=document.createElement("div");return t.style.color=e,""!==t.style.color?(document.body.appendChild(t),e=getComputedStyle(t).color,document.body.removeChild(t),e):""}ro={},io=0;var ro,io,oo=function(e){var t;if(ro.hasOwnProperty(e))t=ro[e];else{if(1024<=io){var n,r=0;for(n in ro)0==(3&r++)&&(delete ro[n],--io)}t=(e=>{var t,n,r,i,o,a;return eo.exec(e)&&(e=no(e)),$i.exec(e)?(a=e.length-1,o=a<=4?1:2,a=4==a||8==a,t=parseInt(e.substr(1+0*o,o),16),n=parseInt(e.substr(+o+1,o),16),r=parseInt(e.substr(1+2*o,o),16),i=a?parseInt(e.substr(1+3*o,o),16):255,1==o&&(t=(t<<4)+t,n=(n<<4)+n,r=(r<<4)+r,a)&&(i=(i<<4)+i),o=[t,n,r,i/255]):0==e.indexOf("rgba(")?so(o=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((o=e.slice(4,-1).split(",").map(Number)).push(1),so(o)):l(!1,14),o})(e),ro[e]=t,++io}return t};function ao(e){return Array.isArray(e)?e:oo(e)}function so(e){e[0]=Yi(e[0]+.5|0,0,255),e[1]=Yi(e[1]+.5|0,0,255),e[2]=Yi(e[2]+.5|0,0,255),e[3]=Yi(e[3],0,1)}function uo(e){return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=uo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=uo(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==uo(e)?e:e+""))(r.key),r)}}t=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t=e,(n=[{key:"clear",value:function(){this.cache_={},this.cacheSize_=0}},{key:"canExpireCache",value:function(){return this.cacheSize_>this.maxCacheSize_}},{key:"expire",value:function(){if(this.canExpireCache()){var e,t=0;for(e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}}},{key:"get",value:function(e,t,n){e=co(e,t,n);return e in this.cache_?this.cache_[e]:null}},{key:"set",value:function(e,t,n,r){e=co(e,t,n);this.cache_[e]=r,++this.cacheSize_}},{key:"setSize",value:function(e){this.maxCacheSize_=e,this.expire()}}])&&lo(t.prototype,n),r&&lo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r})();function co(e,t,n){return t+":"+e+":"+(n?to(n):"null")}var ho=new t;function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=fo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=fo(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==fo(e)?e:e+""))(r.key),r)}}var yo=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return e=t,(n=[{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&po(e.prototype,n),r&&po(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r})(),vo="propertychange",mo="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function bo(e){for(var t in e)delete e[t]}"function"==typeof Object.values&&Object.values;function go(e){for(var t in e)return;return!t}function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=wo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=wo(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==wo(e)?e:e+""))(r.key),r)}}function _o(e,t,n){t=ko(t);var r=e,t=So()?Reflect.construct(t,n||[],ko(e).constructor):t.apply(e,n);if(!t||"object"!=wo(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function So(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(So=function(){return!!e})()}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oo(e,t){return(Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Po=(()=>{function n(e){var t;if(this instanceof n)return(t=_o(this,n)).eventTarget_=e,t.pendingRemovals_=null,t.dispatching_=null,t.listeners_=null,t;throw new TypeError("Cannot call a class as a function")}var e,t=n,r=Q0;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Oo(t,r),t=n,(r=[{key:"addEventListener",value:function(e,t){var n;e&&t&&-1===(n=(n=this.listeners_||(this.listeners_={}))[e]||(n[e]=[])).indexOf(t)&&n.push(t)}},{key:"dispatchEvent",value:function(e){var t="string"==typeof e,n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(r){var i,o=t?new yo(e):e,t=(o.target||(o.target=this.eventTarget_||this),this.dispatching_||(this.dispatching_={})),e=this.pendingRemovals_||(this.pendingRemovals_={});n in t||(t[n]=0,e[n]=0),++t[n];for(var a=0,s=r.length;a<s;++a)if(!1===(i="handleEvent"in r[a]?r[a].handleEvent(o):r[a].call(this,o))||o.propagationStopped){i=!1;break}if(0==--t[n]){var u=e[n];for(delete e[n];u--;)this.removeEventListener(n,ii);delete t[n]}return i}}},{key:"disposeInternal",value:function(){this.listeners_&&bo(this.listeners_)}},{key:"getListeners",value:function(e){return this.listeners_&&this.listeners_[e]||void 0}},{key:"hasListener",value:function(e){return!!this.listeners_&&(e?e in this.listeners_:0<Object.keys(this.listeners_).length)}},{key:"removeEventListener",value:function(e,t){var n=this.listeners_&&this.listeners_[e];n&&-1!==(t=n.indexOf(t))&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[t]=ii,++this.pendingRemovals_[e]):(n.splice(t,1),0===n.length&&delete this.listeners_[e]))}}])&&xo(t.prototype,r),e&&xo(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})(),To="change",Eo="error",Ro="load",Ao="resize";function Mo(e,t,n,r,i){r&&r!==e&&(n=n.bind(r)),i&&(o=n,n=function(){e.removeEventListener(t,n),o.apply(this,arguments)});var o,r={target:e,type:t,listener:n};return e.addEventListener(t,n),r}function Co(e,t,n,r){return Mo(e,t,n,r,!0)}function jo(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),bo(e))}function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Lo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Lo(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Lo(e)?e:e+""))(r.key),r)}}function No(e,t,n){t=Bo(t);var r=e,t=Do()?Reflect.construct(t,n||[],Bo(e).constructor):t.apply(e,n);if(!t||"object"!=Lo(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Do(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Do=function(){return!!e})()}function Bo(e){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fo(e,t){return(Fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t=(()=>{function t(){var e;if(this instanceof t)return(e=No(this,t)).on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e;throw new TypeError("Cannot call a class as a function")}var e,n=t,r=Po;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Fo(n,r),n=t,(r=[{key:"changed",value:function(){++this.revision_,this.dispatchEvent(To)}},{key:"getRevision",value:function(){return this.revision_}},{key:"onInternal",value:function(e,t){if(Array.isArray(e)){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=Mo(this,e[i],t);return r}return Mo(this,e,t)}},{key:"onceInternal",value:function(e,t){if(Array.isArray(e))for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=Co(this,e[i],t);else r=Co(this,e,t);return t.ol_key=r}},{key:"unInternal",value:function(e,t){var n=t.ol_key;if(n){var r=n;if(Array.isArray(r))for(var i=0,o=r.length;i<o;++i)jo(r[i]);else jo(r)}else if(Array.isArray(e))for(var a=0,s=e.length;a<s;++a)this.removeEventListener(e[a],t);else this.removeEventListener(e,t)}}])&&Io(n.prototype,r),e&&Io(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n})();t.prototype.on,t.prototype.once,t.prototype.un;var Uo=t;function zo(e){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=zo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=zo(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==zo(e)?e:e+""))(r.key),r)}}function Ho(e,t,n){return t&&Go(e.prototype,t),n&&Go(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yo(e,t,n){t=qo(t);var r=e,t=Wo()?Reflect.construct(t,n||[],qo(e).constructor):t.apply(e,n);if(!t||"object"!=zo(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Wo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Wo=function(){return!!e})()}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zo(e,t)}function Zo(e,t){return(Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Jo=(()=>{function r(e,t,n){return Vo(this,r),(e=Yo(this,r,[e])).key=t,e.oldValue=n,e}return Xo(r,yo),Ho(r)})(),Ko=(()=>{function n(e){var t;return Vo(this,n),(t=Yo(this,n)).on,ai(t),t.values_=null,void 0!==e&&t.setProperties(e),t}return Xo(n,Uo),Ho(n,[{key:"get",value:function(e){var t;return t=this.values_&&this.values_.hasOwnProperty(e)?this.values_[e]:t}},{key:"getKeys",value:function(){return this.values_&&Object.keys(this.values_)||[]}},{key:"getProperties",value:function(){return this.values_&&mo({},this.values_)||{}}},{key:"hasProperties",value:function(){return!!this.values_}},{key:"notify",value:function(e,t){var n="change:".concat(e);this.hasListener(n)&&this.dispatchEvent(new Jo(n,e,t)),n=vo,this.hasListener(n)&&this.dispatchEvent(new Jo(n,e,t))}},{key:"addChangeListener",value:function(e,t){this.addEventListener("change:".concat(e),t)}},{key:"removeChangeListener",value:function(e,t){this.removeEventListener("change:".concat(e),t)}},{key:"set",value:function(e,t,n){var r=this.values_||(this.values_={});n?r[e]=t:(n=r[e])!==(r[e]=t)&&this.notify(e,n)}},{key:"setProperties",value:function(e,t){for(var n in e)this.set(n,e[n],t)}},{key:"applyProperties",value:function(e){e.values_&&mo(this.values_||(this.values_={}),e.values_)}},{key:"unset",value:function(e,t){var n;this.values_&&e in this.values_&&(n=this.values_[e],delete this.values_[e],go(this.values_)&&(this.values_=null),t||this.notify(e,n))}}])})(),Qo="opacity",$o="visible",ea="extent",ta="zIndex",na="maxResolution",ra="minResolution",ia="maxZoom",oa="minZoom",aa="source",sa="map";function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ua(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ua(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ua(e)?e:e+""))(r.key),r)}}function ca(e,t,n){t=pa(t);var r=e,t=ha()?Reflect.construct(t,n||[],pa(e).constructor):t.apply(e,n);if(!t||"object"!=ua(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function ha(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ha=function(){return!!e})()}function fa(){return(fa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=pa(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function pa(e){return(pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e,t){return(ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var da=(()=>{function o(e){var t;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");(t=ca(this,o)).on,t.background_=e.background;var n=mo({},e);return"object"===ua(e.properties)&&(delete n.properties,mo(n,e.properties)),n[Qo]=void 0!==e.opacity?e.opacity:1,l("number"==typeof n[Qo],64),n[$o]=void 0===e.visible||e.visible,n[ta]=e.zIndex,n[na]=void 0!==e.maxResolution?e.maxResolution:1/0,n[ra]=void 0!==e.minResolution?e.minResolution:0,n[oa]=void 0!==e.minZoom?e.minZoom:-1/0,n[ia]=void 0!==e.maxZoom?e.maxZoom:1/0,t.className_=void 0!==n.className?n.className:"ol-layer",delete n.className,t.setProperties(n),t.state_=null,t}var e,t=o,n=Ko;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&ya(t,n),t=o,(n=[{key:"getBackground",value:function(){return this.background_}},{key:"getClassName",value:function(){return this.className_}},{key:"getLayerState",value:function(e){var e=this.state_||{layer:this,managed:void 0===e||e},t=this.getZIndex();return e.opacity=Yi(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==t||e.managed?t:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e}},{key:"getLayersArray",value:u},{key:"getLayerStatesArray",value:function(e){return u()}},{key:"getExtent",value:function(){return this.get(ea)}},{key:"getMaxResolution",value:function(){return this.get(na)}},{key:"getMinResolution",value:function(){return this.get(ra)}},{key:"getMinZoom",value:function(){return this.get(oa)}},{key:"getMaxZoom",value:function(){return this.get(ia)}},{key:"getOpacity",value:function(){return this.get(Qo)}},{key:"getSourceState",value:function(){return u()}},{key:"getVisible",value:function(){return this.get($o)}},{key:"getZIndex",value:function(){return this.get(ta)}},{key:"setBackground",value:function(e){this.background_=e,this.changed()}},{key:"setExtent",value:function(e){this.set(ea,e)}},{key:"setMaxResolution",value:function(e){this.set(na,e)}},{key:"setMinResolution",value:function(e){this.set(ra,e)}},{key:"setMaxZoom",value:function(e){this.set(ia,e)}},{key:"setMinZoom",value:function(e){this.set(oa,e)}},{key:"setOpacity",value:function(e){l("number"==typeof e,64),this.set(Qo,e)}},{key:"setVisible",value:function(e){this.set($o,e)}},{key:"setZIndex",value:function(e){this.set(ta,e)}},{key:"disposeInternal",value:function(){var e,t,n,r,i;this.state_&&(this.state_.layer=null,this.state_=null),e=o,t="disposeInternal",n=this,i=fa(pa(1&(r=3)?e.prototype:e),t,n),(2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i)([])}}])&&la(t.prototype,n),e&&la(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})(),va="prerender",ma="postrender",ba="precompose",ga="rendercomplete",wa="undefined",xa="ready";function _a(e){return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=_a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=_a(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==_a(e)?e:e+""))(r.key),r)}}function ka(e,t,n){t=Ta(t);var r=e,t=Oa()?Reflect.construct(t,n||[],Ta(e).constructor):t.apply(e,n);if(!t||"object"!=_a(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Oa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Oa=function(){return!!e})()}function Pa(){return(Pa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ta(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ea(e,t){return(Ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ra(e,t){if(e.visible){var n=t.resolution;if(!(n<e.minResolution||n>=e.maxResolution))return e.minZoom<(n=t.zoom)&&n<=e.maxZoom}}var Aa=(()=>{function o(e){var t;if(this instanceof o)return delete(t=mo({},e)).source,(t=ka(this,o,[t])).on,t.mapPrecomposeKey_=null,t.mapRenderKey_=null,t.sourceChangeKey_=null,t.renderer_=null,t.rendered=!1,e.render&&(t.render=e.render),e.map&&t.setMap(e.map),t.addChangeListener(aa,t.handleSourcePropertyChange_),e=e.source||null,t.setSource(e),t;throw new TypeError("Cannot call a class as a function")}var e,t=o,n=da;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Ea(t,n),t=o,(n=[{key:"getLayersArray",value:function(e){e=e||[];return e.push(this),e}},{key:"getLayerStatesArray",value:function(e){e=e||[];return e.push(this.getLayerState()),e}},{key:"getSource",value:function(){return this.get(aa)||null}},{key:"getRenderSource",value:function(){return this.getSource()}},{key:"getSourceState",value:function(){var e=this.getSource();return e?e.getState():wa}},{key:"handleSourceChange_",value:function(){this.changed()}},{key:"handleSourcePropertyChange_",value:function(){this.sourceChangeKey_&&(jo(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=Mo(e,To,this.handleSourceChange_,this)),this.changed()}},{key:"getFeatures",value:function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(function(e){return e([])})}},{key:"getData",value:function(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}},{key:"render",value:function(e,t){var n=this.getRenderer();if(n.prepareFrame(e))return this.rendered=!0,n.renderFrame(e,t)}},{key:"unrender",value:function(){this.rendered=!1}},{key:"setMapInternal",value:function(e){e||this.unrender(),this.set(sa,e)}},{key:"getMapInternal",value:function(){return this.get(sa)}},{key:"setMap",value:function(e){this.mapPrecomposeKey_&&(jo(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(jo(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Mo(e,ba,function(e){var e=e.frameState.layerStatesArray,t=this.getLayerState(!1);l(!e.some(function(e){return e.layer===t.layer}),67),e.push(t)},this),this.mapRenderKey_=Mo(this,To,e.render,e),this.changed())}},{key:"setSource",value:function(e){this.set(aa,e)}},{key:"getRenderer",value:function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}},{key:"hasRenderer",value:function(){return!!this.renderer_}},{key:"createRenderer",value:function(){return null}},{key:"disposeInternal",value:function(){var e,t,n,r,i;this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e=o,t="disposeInternal",n=this,i=Pa(Ta(1&(r=3)?e.prototype:e),t,n),(2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i)([])}}])&&Sa(t.prototype,n),e&&Sa(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Ma(e,t){for(var n=!0,r=e.length-1;0<=r;--r)if(e[r]!=t[r]){n=!1;break}return n}function Ca(e,t,n){var r=t.getExtent(),i=0;return t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])&&(t=n||zi(r),i=Math.floor((e[0]-r[0])/t)),i}function ja(e){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ja(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ja(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ja(e)?e:e+""))(r.key),r)}}function Ia(e,t,n){t=Da(t);var r=e,t=Na()?Reflect.construct(t,n||[],Da(e).constructor):t.apply(e,n);if(!t||"object"!=ja(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Na(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Na=function(){return!!e})()}function Da(e){return(Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ba(e,t){return(Ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Fa(e,t){ho.expire()}var Ua=(()=>{function n(e){var t;if(this instanceof n)return(t=Ia(this,n)).map_=e,t;throw new TypeError("Cannot call a class as a function")}var e,t=n,r=Q0;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Ba(t,r),t=n,(r=[{key:"dispatchRenderEvent",value:function(e,t){u()}},{key:"calculateMatrices2D",value:function(e){var t=e.viewState,n=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;wi(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),xi(r,n)}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,r,i,o,a,s){var u,l=t.viewState;function c(e,t,n,r){return i.call(o,t,e?n:null,r)}for(var h,f,p,y,d=l.projection,v=(h=e.slice(),(p=d).canWrapX()&&(f=zi(p.getExtent()),p=Ca(h,p,f))&&(h[0]-=p*f),h),m=[[0,0]],b=(d.canWrapX()&&r&&(p=zi(d.getExtent()),m.push([-p,0],[p,0])),t.layerStatesArray),g=b.length,w=[],x=[],_=0;_<m.length;_++)for(var S=g-1;0<=S;--S){var k=b[S],O=k.layer;if(O.hasRenderer()&&Ra(k,l)&&a.call(s,O)){var P=O.getRenderer(),O=O.getSource();if(P&&O&&(O=O.getWrapX()?v:e,k=c.bind(null,k.managed),x[0]=O[0]+m[_][0],x[1]=O[1]+m[_][1],u=P.forEachFeatureAtCoordinate(x,t,n,k,w)),u)return u}}if(0!==w.length)return y=1/w.length,w.forEach(function(e,t){return e.distanceSq+=t*y}),w.sort(function(e,t){return e.distanceSq-t.distanceSq}),w.some(function(e){return u=e.callback(e.feature,e.layer,e.geometry)}),u}},{key:"forEachLayerAtPixel",value:function(e,t,n,r,i){return u()}},{key:"hasFeatureAtCoordinate",value:function(e,t,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,r,ri,this,i,o)}},{key:"getMap",value:function(){return this.map_}},{key:"renderFrame",value:function(e){u()}},{key:"scheduleExpireIconCache",value:function(e){ho.canExpireCache()&&e.postRenderFunctions.push(Fa)}}])&&La(t.prototype,r),e&&La(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function za(e){return(za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=za(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=za(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==za(e)?e:e+""))(r.key),r)}}function Ha(e,t,n){t=Wa(t);var r=e,t=Va()?Reflect.construct(t,n||[],Wa(e).constructor):t.apply(e,n);if(!t||"object"!=za(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Va(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Va=function(){return!!e})()}function Ya(){return(Ya="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Wa(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e,t){return(qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Xa=(()=>{function o(e){if(this instanceof o)return(e=Ha(this,o,[e])).children_=[],e.renderedVisible_=!0,e;throw new TypeError("Cannot call a class as a function")}var e,t=o,n=Ua;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&qa(t,n),t=o,(n=[{key:"disposeInternal",value:function(){var e,t,n,r,i;e=o,t="disposeInternal",n=this,i=Ya(Wa(1&(r=3)?e.prototype:e),t,n),(2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i)([])}},{key:"renderFrame",value:function(e){this.calculateMatrices2D(e);for(var t=e.layerStatesArray.sort(function(e,t){return e.zIndex-t.zIndex}),n=e.viewState,r=[],i=null,o=this.children_.length=0,a=t.length;o<a;++o){var s=t[o],u=(e.layerIndex=o,s.layer),l=u.getSourceState();!Ra(s,n)||l!=xa&&l!=wa?u.unrender():(s=u.render(e,i))&&(s!==i&&(this.children_.push(s),i=s),"getDeclutter"in u)&&r.push(u)}for(var c=r.length-1;0<=c;--c)r[c].renderDeclutter(e);this.scheduleExpireIconCache(e)}}])&&Ga(t.prototype,n),e&&Ga(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})(),Za="add",Ja="remove";function Ka(e){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Ka(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Ka(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Ka(e)?e:e+""))(r.key),r)}}function $a(e,t,n){return t&&Qa(e.prototype,t),n&&Qa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function e1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t1(e,t,n){t=r1(t);var r=e,t=n1()?Reflect.construct(t,n||[],r1(e).constructor):t.apply(e,n);if(!t||"object"!=Ka(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function n1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(n1=function(){return!!e})()}function r1(e){return(r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i1(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o1(e,t)}function o1(e,t){return(o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var a1="length",s1=(()=>{function r(e,t,n){return e1(this,r),(e=t1(this,r,[e])).element=t,e.index=n,e}return i1(r,yo),$a(r)})(),u1=(()=>{function o(e,t){e1(this,o),(n=t1(this,o)).on;var n,t=t||{};if(n.unique_=!!t.unique,n.array_=e||[],n.unique_)for(var r=0,i=n.array_.length;r<i;++r)n.assertUnique_(n.array_[r],r);return n.updateLength_(),n}return i1(o,Ko),$a(o,[{key:"clear",value:function(){for(;0<this.getLength();)this.pop()}},{key:"extend",value:function(e){for(var t=0,n=e.length;t<n;++t)this.push(e[t]);return this}},{key:"forEach",value:function(e){for(var t=this.array_,n=0,r=t.length;n<r;++n)e(t[n],n,t)}},{key:"getArray",value:function(){return this.array_}},{key:"item",value:function(e){return this.array_[e]}},{key:"getLength",value:function(){return this.get(a1)}},{key:"insertAt",value:function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new s1(Za,t,e))}},{key:"pop",value:function(){return this.removeAt(this.getLength()-1)}},{key:"push",value:function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()}},{key:"remove",value:function(e){for(var t=this.array_,n=0,r=t.length;n<r;++n)if(t[n]===e)return this.removeAt(n)}},{key:"removeAt",value:function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new s1(Ja,t,e)),t}},{key:"setAt",value:function(e,t){var n=this.getLength();if(e<n){this.unique_&&this.assertUnique_(t,e);var r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new s1(Ja,r,e)),this.dispatchEvent(new s1(Za,t,e))}else{for(var i=n;i<e;++i)this.insertAt(i,void 0);this.insertAt(e,t)}}},{key:"updateLength_",value:function(){this.set(a1,this.array_.length)}},{key:"assertUnique_",value:function(e,t){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===e&&n!==t)throw new mi(58)}}])})();function l1(e){return(l1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=l1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=l1(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==l1(e)?e:e+""))(r.key),r)}}function h1(e,t,n){return t&&c1(e.prototype,t),n&&c1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p1(e,t,n){t=d1(t);var r=e,t=y1()?Reflect.construct(t,n||[],d1(e).constructor):t.apply(e,n);if(!t||"object"!=l1(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function y1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y1=function(){return!!e})()}function d1(e){return(d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v1(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m1(e,t)}function m1(e,t){return(m1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var b1=(()=>{function n(e,t){return f1(this,n),(e=p1(this,n,[e])).layer=t,e}return v1(n,yo),h1(n)})(),g1="layers",w1=(()=>{function n(e){f1(this,n);var e=e||{},t=mo({},e),e=(delete t.layers,e.layers),t=p1(this,n,[t]);return t.on,t.layersListenerKeys_=[],t.listenerKeys_={},t.addChangeListener(g1,t.handleLayersChanged_),e?Array.isArray(e)?e=new u1(e.slice(),{unique:!0}):l("function"==typeof e.getArray,43):e=new u1(void 0,{unique:!0}),t.setLayers(e),t}return v1(n,da),h1(n,[{key:"handleLayerChange_",value:function(){this.changed()}},{key:"handleLayersChanged_",value:function(){this.layersListenerKeys_.forEach(jo),this.layersListenerKeys_.length=0;var e,t=this.getLayers();for(e in this.layersListenerKeys_.push(Mo(t,Za,this.handleLayersAdd_,this),Mo(t,Ja,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(jo);bo(this.listenerKeys_);for(var n=t.getArray(),r=0,i=n.length;r<i;r++){var o=n[r];this.registerLayerListeners_(o),this.dispatchEvent(new b1("addlayer",o))}this.changed()}},{key:"registerLayerListeners_",value:function(e){var t=[Mo(e,vo,this.handleLayerChange_,this),Mo(e,To,this.handleLayerChange_,this)];e instanceof n&&t.push(Mo(e,"addlayer",this.handleLayerGroupAdd_,this),Mo(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ai(e)]=t}},{key:"handleLayerGroupAdd_",value:function(e){this.dispatchEvent(new b1("addlayer",e.layer))}},{key:"handleLayerGroupRemove_",value:function(e){this.dispatchEvent(new b1("removelayer",e.layer))}},{key:"handleLayersAdd_",value:function(e){e=e.element;this.registerLayerListeners_(e),this.dispatchEvent(new b1("addlayer",e)),this.changed()}},{key:"handleLayersRemove_",value:function(e){var e=e.element,t=ai(e);this.listenerKeys_[t].forEach(jo),delete this.listenerKeys_[t],this.dispatchEvent(new b1("removelayer",e)),this.changed()}},{key:"getLayers",value:function(){return this.get(g1)}},{key:"setLayers",value:function(e){var t=this.getLayers();if(t)for(var n=t.getArray(),r=0,i=n.length;r<i;++r)this.dispatchEvent(new b1("removelayer",n[r]));this.set(g1,e)}},{key:"getLayersArray",value:function(e){var t=void 0!==e?e:[];return this.getLayers().forEach(function(e){e.getLayersArray(t)}),t}},{key:"getLayerStatesArray",value:function(e){var t=void 0!==e?e:[],n=t.length,r=(this.getLayers().forEach(function(e){e.getLayerStatesArray(t)}),this.getLayerState()),i=r.zIndex;e||void 0!==r.zIndex||(i=0);for(var o=n,a=t.length;o<a;o++){var s=t[o];s.opacity*=r.opacity,s.visible=s.visible&&r.visible,s.maxResolution=Math.min(s.maxResolution,r.maxResolution),s.minResolution=Math.max(s.minResolution,r.minResolution),s.minZoom=Math.max(s.minZoom,r.minZoom),s.maxZoom=Math.min(s.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==s.extent?s.extent=Bi(s.extent,r.extent):s.extent=r.extent),void 0===s.zIndex&&(s.zIndex=i)}return t}},{key:"getSourceState",value:function(){return xa}}])})();function x1(e){return(x1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=x1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=x1(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==x1(e)?e:e+""))(r.key),r)}}function S1(e,t,n){t=O1(t);var r=e,t=k1()?Reflect.construct(t,n||[],O1(e).constructor):t.apply(e,n);if(!t||"object"!=x1(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function k1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(k1=function(){return!!e})()}function O1(e){return(O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P1(e,t){return(P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var T1=(()=>{function r(e,t,n){if(this instanceof r)return(e=S1(this,r,[e])).map=t,e.frameState=void 0!==n?n:null,e;throw new TypeError("Cannot call a class as a function")}var e,t,n=r,i=yo;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&P1(n,i),n=r,e&&_1(n.prototype,e),t&&_1(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n})(),E1="postrender",R1="movestart",A1="moveend",M1={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};function C1(e){return(C1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=C1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=C1(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==C1(e)?e:e+""))(r.key),r)}}var L1=(()=>{function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e=n,(t=[{key:"clear",value:function(){this.elements_.length=0,this.priorities_.length=0,bo(this.queuedElements_)}},{key:"dequeue",value:function(){var e=this.elements_,t=this.priorities_,n=e[0],e=(1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0)),this.keyFunction_(n));return delete this.queuedElements_[e],n}},{key:"enqueue",value:function(e){l(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=1/0&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}},{key:"getCount",value:function(){return this.elements_.length}},{key:"getLeftChildIndex_",value:function(e){return 2*e+1}},{key:"getRightChildIndex_",value:function(e){return 2*e+2}},{key:"getParentIndex_",value:function(e){return e-1>>1}},{key:"heapify_",value:function(){for(var e=(this.elements_.length>>1)-1;0<=e;e--)this.siftUp_(e)}},{key:"isEmpty",value:function(){return 0===this.elements_.length}},{key:"isKeyQueued",value:function(e){return e in this.queuedElements_}},{key:"isQueued",value:function(e){return this.isKeyQueued(this.keyFunction_(e))}},{key:"siftUp_",value:function(e){for(var t=this.elements_,n=this.priorities_,r=t.length,i=t[e],o=n[e],a=e;e<r>>1;){var s=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),u=u<r&&n[u]<n[s]?u:s;t[e]=t[u],n[e]=n[u],e=u}t[e]=i,n[e]=o,this.siftDown_(a,e)}},{key:"siftDown_",value:function(e,t){for(var n=this.elements_,r=this.priorities_,i=n[t],o=r[t];e<t;){var a=this.getParentIndex_(t);if(!(r[a]>o))break;n[t]=n[a],r[t]=r[a],t=a}n[t]=i,r[t]=o}},{key:"reprioritize",value:function(){for(var e,t,n=this.priorityFunction_,r=this.elements_,i=this.priorities_,o=0,a=r.length,s=0;s<a;++s)(t=n(e=r[s]))==1/0?delete this.queuedElements_[this.keyFunction_(e)]:(i[o]=t,r[o++]=e);r.length=o,i.length=o,this.heapify_()}}])&&j1(e.prototype,t),r&&j1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r})(),I1=0,N1=1,D1=2,B1=3,F1=4;function U1(e){return(U1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=U1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=U1(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==U1(e)?e:e+""))(r.key),r)}}function G1(e,t,n){t=Y1(t);var r=e,t=H1()?Reflect.construct(t,n||[],Y1(e).constructor):t.apply(e,n);if(!t||"object"!=U1(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function H1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(H1=function(){return!!e})()}function V1(){return(V1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Y1(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Y1(e){return(Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W1(e,t){return(W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var q1=(()=>{function a(t,e){var n;if(this instanceof a)return(n=G1(this,a,[function(e){return t.apply(null,e)},function(e){return e[0].getKey()}])).boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=e,n.tilesLoading_=0,n.tilesLoadingKeys_={},n;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=L1;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&W1(t,n),t=a,(n=[{key:"enqueue",value:function(e){o=a,t="enqueue",n=this,i=V1(Y1(1&(r=3)?o.prototype:o),t,n);var t,n,r,i,o=(2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i)([e]);return o&&e[0].addEventListener(To,this.boundHandleTileChange_),o}},{key:"getTilesLoading",value:function(){return this.tilesLoading_}},{key:"handleTileChange",value:function(e){var e=e.target,t=e.getState();t!==D1&&t!==B1&&t!==F1||(e.removeEventListener(To,this.boundHandleTileChange_),(t=e.getKey())in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_())}},{key:"loadMoreTiles",value:function(e,t){for(var n,r,i=0;this.tilesLoading_<e&&i<t&&0<this.getCount();)r=(n=this.dequeue()[0]).getKey(),n.getState()!==I1||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,n.load())}}])&&z1(t.prototype,n),e&&z1(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();t={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};var X1={},Z1=(X1[t.RADIANS]=6370997/(2*Math.PI),X1[t.DEGREES]=2*Math.PI*6370997/360,X1[t.FEET]=.3048,X1[t.METERS]=1,X1[t.USFEET]=1200/3937,t),J1=0,K1=1,Q1={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},$1=42,es=256;function ts(e){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ts(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ts(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ts(e)?e:e+""))(r.key),r)}}var rs=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return e=t,(n=[{key:"canWrapX",value:function(){return this.canWrapX_}},{key:"getCode",value:function(){return this.code_}},{key:"getExtent",value:function(){return this.extent_}},{key:"getUnits",value:function(){return this.units_}},{key:"getMetersPerUnit",value:function(){return this.metersPerUnit_||X1[this.units_]}},{key:"getWorldExtent",value:function(){return this.worldExtent_}},{key:"getAxisOrientation",value:function(){return this.axisOrientation_}},{key:"isGlobal",value:function(){return this.global_}},{key:"setGlobal",value:function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}},{key:"getDefaultTileGrid",value:function(){return this.defaultTileGrid_}},{key:"setDefaultTileGrid",value:function(e){this.defaultTileGrid_=e}},{key:"setExtent",value:function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}},{key:"setWorldExtent",value:function(e){this.worldExtent_=e}},{key:"setGetPointResolution",value:function(e){this.getPointResolutionFunc_=e}},{key:"getPointResolutionFunc",value:function(){return this.getPointResolutionFunc_}}])&&ns(e.prototype,n),r&&ns(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r})();function is(e){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=is(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=is(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==is(e)?e:e+""))(r.key),r)}}function as(e,t,n){t=us(t);var r=e,t=ss()?Reflect.construct(t,n||[],us(e).constructor):t.apply(e,n);if(!t||"object"!=is(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function ss(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ss=function(){return!!e})()}function us(e){return(us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ls(e,t){return(ls=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var cs=6378137,hs=Math.PI*cs,fs=[-hs,-hs,hs,hs],ps=[-180,-85,180,85],ys=cs*Math.log(Math.tan(Math.PI/2)),t=(()=>{function t(e){if(this instanceof t)return as(this,t,[{code:e,units:Z1.METERS,extent:fs,global:!0,worldExtent:ps,getPointResolution:function(e,t){return e/Wi(t[1]/cs)}}]);throw new TypeError("Cannot call a class as a function")}var e,n,r=t,i=rs;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&ls(r,i),r=t,e&&os(r.prototype,e),n&&os(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r})(),t=[new t("EPSG:3857"),new t("EPSG:102100"),new t("EPSG:102113"),new t("EPSG:900913"),new t("http://www.opengis.net/def/crs/EPSG/0/3857"),new t("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ds(e,t,n){var r=e.length,i=1<n?n:2,o=t;void 0===o&&(o=2<i?e.slice():new Array(r));for(var a=0;a<r;a+=i){o[a]=hs*e[a]/180;var s=cs*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));ys<s?s=ys:s<-ys&&(s=-ys),o[a+1]=s}return o}function vs(e,t,n){var r=e.length,i=1<n?n:2,o=t;void 0===o&&(o=2<i?e.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*e[a]/hs,o[a+1]=360*Math.atan(Math.exp(e[a+1]/cs))/Math.PI-90;return o}function ms(e){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ms(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ms(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ms(e)?e:e+""))(r.key),r)}}function gs(e,t,n){t=xs(t);var r=e,t=ws()?Reflect.construct(t,n||[],xs(e).constructor):t.apply(e,n);if(!t||"object"!=ms(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function ws(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ws=function(){return!!e})()}function xs(e){return(xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _s(e,t){return(_s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ss=[-180,-90,180,90],ks=6378137*Math.PI/180,Os=(()=>{function n(e,t){if(this instanceof n)return gs(this,n,[{code:e,units:Z1.DEGREES,extent:Ss,axisOrientation:t,global:!0,metersPerUnit:ks,worldExtent:Ss}]);throw new TypeError("Cannot call a class as a function")}var e,t,r=n,i=rs;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&_s(r,i),r=n,e&&bs(r.prototype,e),t&&bs(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r})(),Os=[new Os("CRS:84"),new Os("EPSG:4326","neu"),new Os("urn:ogc:def:crs:OGC:1.3:CRS84"),new Os("urn:ogc:def:crs:OGC:2:84"),new Os("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Os("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Os("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Ps={};var Ts={};function Es(e,t,n){e=e.getCode(),t=t.getCode();e in Ts||(Ts[e]={}),Ts[e][t]=n}var Rs={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};var As=!0;function Ms(e){As=!(void 0===e||e)}function Cs(e,t,n){var r;if(void 0!==t){for(var i=0,o=e.length;i<o;++i)t[i]=e[i];r=t}else r=e.slice();return r}function js(e,t,n){if(void 0!==t&&e!==t){for(var r=0,i=e.length;r<i;++r)t[r]=e[r];e=t}return e}function Ls(e){var t;t=e.getCode(),Es(Ps[t]=e,e,Cs)}function Is(e){return"string"==typeof e?Ps[t=e]||Ps[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function Ns(e){e.forEach(Ls),e.forEach(function(t){e.forEach(function(e){t!==e&&Es(t,e,Cs)})})}function Ds(e,t){return e?"string"==typeof e?Is(e):e:Is(t)}function Bs(e,t){var n;return e===t||(n=e.getUnits()===t.getUnits(),(e.getCode()===t.getCode()||Fs(e,t)===Cs)&&n)}function Fs(e,t){var n,e=e.getCode(),t=t.getCode();t=t,n=(e=e)in Ts&&t in Ts[e]?Ts[e][t]:n;return n||js}function Us(e,t){return Fs(Is(e),Is(t))}function zs(e,t,n){return Us(t,n)(e,void 0,e.length)}function Gs(e,t,n,r){return Vi(e,Us(t,n),void 0,r)}var Hs,Vs,Ys,Ws=null;function qs(e,t){return Ws?zs(e,t,Ws):e}function Xs(e,t){return Ws?zs(e,Ws,t):(As&&!Ma(e,[0,0])&&-180<=e[0]&&e[0]<=180&&-90<=e[1]&&e[1]<=90&&(As=!1,console.warn("Call useGeographic() ol/proj once to work with [longitude, latitude] coordinates.")),e)}function Zs(e,t){return Ws?Gs(e,Ws,t):e}function Js(l,c,h){return function(e,t,n,r,i){var o,a,s,u;if(e)return t||c?(a=c?0:n[0]*t,n=c?0:n[1]*t,s=i?i[0]:0,i=i?i[1]:0,o=l[0]+a/2+s,(a=l[2]-a/2+s)<o&&(a=o=(a+o)/2),(s=l[3]-n/2+i)<(n=l[1]+n/2+i)&&(s=n=(s+n)/2),i=Yi(e[0],o,a),u=Yi(e[1],n,s),r&&h&&t&&(i+=-(r=30*t)*Math.log(1+Math.max(0,o-e[0])/r)+r*Math.log(1+Math.max(0,e[0]-a)/r),u+=-r*Math.log(1+Math.max(0,n-e[1])/r)+r*Math.log(1+Math.max(0,e[1]-s)/r)),[i,u]):e}}function Ks(e){return e}function Qs(s,u,l,c,h){return function(e,t,n,r){var i,o,a;if(void 0!==e)return n=c?(i=s,a=zi(o=c)/n[0],o=Di(o)/n[1],h?Math.min(i,Math.max(a,o)):Math.min(i,Math.min(a,o))):s,(void 0===l||l)&&r?(i=e,a=n,o=u,r=Math.min(i,a),r*=Math.log(1+50*Math.max(0,i/a-1))/50+1,o&&(r=Math.max(r,o),r/=Math.log(1+50*Math.max(0,o/i-1))/50+1),Yi(r,o/2,2*a)):Yi(e,u,n)}}function $s(e){if(void 0!==e)return 0}function e2(e){if(void 0!==e)return e}function t2(e){return Math.pow(e,3)}function n2(e){return 1-t2(1-e)}function r2(e){return 3*e*e-2*e*e*e}function i2(e){return(i2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=i2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=i2(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==i2(e)?e:e+""))(r.key),r)}}function a2(e,t,n){t=u2(t);var r=e,t=s2()?Reflect.construct(t,n||[],u2(e).constructor):t.apply(e,n);if(!t||"object"!=i2(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function s2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s2=function(){return!!e})()}function u2(e){return(u2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l2(e,t){return(l2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Ns(t),Ns(Os),Hs=t,Vs=ds,Ys=vs,Os.forEach(function(t){Hs.forEach(function(e){Es(t,e,Vs),Es(e,t,Ys)})});function c2(e,t){setTimeout(function(){e(t)},0)}function h2(e,t,n,r,i){var o=Math.cos(-i),i=Math.sin(-i),a=e[0]*o-e[1]*i,e=e[1]*o+e[0]*i;return[(a+=(t[0]/2-n[0])*r)*o-(e+=(n[1]-t[1]/2)*r)*(i=-i),e*o+a*i]}var f2=(()=>{function n(e){var t;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");(t=a2(this,n)).on;e=mo({},e);return t.hints_=[0,0],t.animations_=[],t.updateAnimationKey_,t.projection_=Ds(e.projection,"EPSG:3857"),t.viewportSize_=[100,100],t.targetCenter_=null,t.targetResolution_,t.targetRotation_,t.nextCenter_=null,t.nextResolution_,t.nextRotation_,t.cancelAnchor_=void 0,e.center&&(e.center=Xs(e.center,t.projection_)),e.extent&&(e.extent=Zs(e.extent,t.projection_)),e.projection&&Ms(),t.applyOptions_(e),t}var e,t=n,r=Ko;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&l2(t,r),t=n,(r=[{key:"applyOptions_",value:function(e){var t,n=mo({},e);for(t in Q1)delete n[t];this.setProperties(n,!0);var r=(e=>{var t,n=void 0!==e.minZoom?e.minZoom:0,r=void 0!==e.maxZoom?e.maxZoom:28,i=void 0!==e.zoomFactor?e.zoomFactor:2,o=void 0!==e.multiWorld&&e.multiWorld,a=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,s=void 0!==e.showFullExtent&&e.showFullExtent,u=Ds(e.projection,"EPSG:3857"),l=u.getExtent(),c=e.constrainOnlyCenter,h=e.extent;return o||h||!u.isGlobal()||(c=!1,h=l),o=(l?Math.max(zi(l),Di(l)):360*X1[Z1.DEGREES]/u.getMetersPerUnit())/es/Math.pow(2,0),l=o/Math.pow(2,28),void 0!==(u=e.maxResolution)?n=0:u=o/Math.pow(i,n),void 0===(t=e.minResolution)&&(t=void 0!==e.maxZoom?void 0!==e.maxResolution?u/Math.pow(i,r):o/Math.pow(i,r):l),r=n+Math.floor(Math.log(u/t)/Math.log(i)),t=u/Math.pow(i,r-n),{constraint:Qs(u,t,a,!c&&h,s),maxResolution:u,minResolution:t,minZoom:n,zoomFactor:i}})(e),i=(this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom,(e=>{var t;return void 0!==e.extent?(t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint,Js(e.extent,e.constrainOnlyCenter,t)):(t=Ds(e.projection,"EPSG:3857"),!0!==e.multiWorld&&t.isGlobal()?((e=t.getExtent().slice())[0]=-1/0,e[2]=1/0,Js(e,!1,!1)):Ks)})(e)),o=void 0===(o=e).enableRotation||o.enableRotation?void 0===(o=o.constrainRotation)||!0===o?(e=>{var n=e||Xi(5);return function(e,t){return t?e:void 0!==e?Math.abs(e)<=n?0:e:void 0}})():!1!==o&&"number"==typeof o?(e=>{var n=2*Math.PI/e;return function(e,t){return t?e:void 0!==e?Math.floor(e/n+.5)*n:void 0}})(o):e2:$s;this.constraints_={center:i,resolution:r.constraint,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}},{key:"padding",get:function(){return this.padding_},set:function(e){var t,n,r=this.padding_,i=(this.padding_=e,this.getCenter());i&&(e=e||[0,0,0,0],r=r||[0,0,0,0],t=(n=this.getResolution())/2*(e[3]-r[3]+r[1]-e[1]),n=n/2*(e[0]-r[0]+r[2]-e[2]),this.setCenterInternal([i[0]+t,i[1]-n]))}},{key:"getUpdatedOptions_",value:function(e){var t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),mo({},t,e)}},{key:"animate",value:function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),n=0;n<t.length;++n){var r=arguments[n];r.center&&((r=mo({},r)).center=Xs(r.center,this.getProjection())),r.anchor&&((r=mo({},r)).anchor=Xs(r.anchor,this.getProjection())),t[n]=r}this.animateInternal.apply(this,t)}},{key:"animateInternal",value:function(e){for(var t,n=arguments.length,r=(1<n&&"function"==typeof arguments[n-1]&&(t=arguments[n-1],--n),0);r<n&&!this.isDef();++r){var i=arguments[r];i.center&&this.setCenterInternal(i.center),void 0!==i.zoom?this.setZoom(i.zoom):i.resolution&&this.setResolution(i.resolution),void 0!==i.rotation&&this.setRotation(i.rotation)}if(r===n)t&&c2(t,!0);else{for(var o=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,u=this.targetRotation_,l=[];r<n;++r){var c=arguments[r],h={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||r2,callback:t};c.center&&(h.sourceCenter=a,h.targetCenter=c.center.slice(),a=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=s,h.targetResolution=this.getResolutionForZoom(c.zoom),s=h.targetResolution):c.resolution&&(h.sourceResolution=s,h.targetResolution=c.resolution,s=h.targetResolution),void 0!==c.rotation&&(h.sourceRotation=u,c=Zi(c.rotation-u+Math.PI,2*Math.PI)-Math.PI,h.targetRotation=u+c,u=h.targetRotation),(e=>(!e.sourceCenter||!e.targetCenter||Ma(e.sourceCenter,e.targetCenter))&&e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)(h)?h.complete=!0:o+=h.duration,l.push(h)}this.animations_.push(l),this.setHint(J1,1),this.updateAnimations_()}}},{key:"getAnimating",value:function(){return 0<this.hints_[J1]}},{key:"getInteracting",value:function(){return 0<this.hints_[K1]}},{key:"cancelAnimations",value:function(){var e;this.setHint(J1,-this.hints_[J1]);for(var t=0,n=this.animations_.length;t<n;++t){var r=this.animations_[t];if(r[0].callback&&c2(r[0].callback,!1),!e)for(var i=0,o=r.length;i<o;++i){var a=r[i];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}},{key:"updateAnimations_",value:function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,n=this.animations_.length-1;0<=n;--n){for(var r,i=this.animations_[n],o=!0,a=0,s=i.length;a<s;++a){var u=i[a];if(!u.complete){var l,c,h,f,p=0<u.duration?(e-u.start)/u.duration:1,p=(1<=p?(u.complete=!0,p=1):o=!1,u.easing(p));if(u.sourceCenter&&(c=u.sourceCenter[0],f=u.sourceCenter[1],l=u.targetCenter[0],h=u.targetCenter[1],this.nextCenter_=u.targetCenter,this.targetCenter_=[c+p*(l-c),f+p*(h-f)]),u.sourceResolution&&u.targetResolution&&(l=1===p?u.targetResolution:u.sourceResolution+p*(u.targetResolution-u.sourceResolution),u.anchor&&(c=this.getViewportSize_(this.getRotation()),h=this.constraints_.resolution(l,0,c,!0),this.targetCenter_=this.calculateCenterZoom(h,u.anchor)),this.nextResolution_=u.targetResolution,this.targetResolution_=l,this.applyTargetState_(!0)),void 0!==u.sourceRotation&&void 0!==u.targetRotation&&(f=1===p?Zi(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+p*(u.targetRotation-u.sourceRotation),u.anchor&&(p=this.constraints_.rotation(f,!0),this.targetCenter_=this.calculateCenterRotate(p,u.anchor)),this.nextRotation_=u.targetRotation,this.targetRotation_=f),this.applyTargetState_(!0),t=!0,!u.complete)break}}o&&(this.animations_[n]=null,this.setHint(J1,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN,r=i[0].callback)&&c2(r,!0)}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}},{key:"calculateCenterRotate",value:function(e,t){var n,r,i,o=this.getCenterInternal();return void 0!==o&&(n=[o[0]-t[0],o[1]-t[1]],o=n,e=e-this.getRotation(),r=Math.cos(e),e=Math.sin(e),i=o[0]*r-o[1]*e,r=o[1]*r+o[0]*e,o[0]=i,o[1]=r,e=t,(i=n)[0]+=+e[0],i[1]+=+e[1]),n}},{key:"calculateCenterZoom",value:function(e,t){var n,r=this.getCenterInternal(),i=this.getResolution();return n=void 0!==r&&void 0!==i?[t[0]-e*(t[0]-r[0])/i,t[1]-e*(t[1]-r[1])/i]:n}},{key:"getViewportSize_",value:function(e){var t,n,r=this.viewportSize_;return e?(t=r[0],n=r[1],[Math.abs(t*Math.cos(e))+Math.abs(n*Math.sin(e)),Math.abs(t*Math.sin(e))+Math.abs(n*Math.cos(e))]):r}},{key:"setViewportSize",value:function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}},{key:"getCenter",value:function(){var e=this.getCenterInternal();return e&&qs(e,this.getProjection())}},{key:"getCenterInternal",value:function(){return this.get(Q1.CENTER)}},{key:"getConstraints",value:function(){return this.constraints_}},{key:"getConstrainResolution",value:function(){return this.get("constrainResolution")}},{key:"getHints",value:function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}},{key:"calculateExtent",value:function(e){var t,e=this.calculateExtentInternal(e);return e=e,t=this.getProjection(),Ws?Gs(e,t,Ws):e}},{key:"calculateExtentInternal",value:function(e){var e=e||this.getViewportSizeMinusPadding_(),t=this.getCenterInternal(),n=(l(t,1),this.getResolution()),r=(l(void 0!==n,2),this.getRotation());return l(void 0!==r,3),Ni(t,n,r,e)}},{key:"getMaxResolution",value:function(){return this.maxResolution_}},{key:"getMinResolution",value:function(){return this.minResolution_}},{key:"getMaxZoom",value:function(){return this.getZoomForResolution(this.minResolution_)}},{key:"setMaxZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}},{key:"getMinZoom",value:function(){return this.getZoomForResolution(this.maxResolution_)}},{key:"setMinZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}},{key:"setConstrainResolution",value:function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}},{key:"getProjection",value:function(){return this.projection_}},{key:"getResolution",value:function(){return this.get(Q1.RESOLUTION)}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getResolutionForExtent",value:function(e,t){return this.getResolutionForExtentInternal(Zs(e,this.getProjection()),t)}},{key:"getResolutionForExtentInternal",value:function(e,t){var t=t||this.getViewportSizeMinusPadding_(),n=zi(e)/t[0],e=Di(e)/t[1];return Math.max(n,e)}},{key:"getResolutionForValueFunction",value:function(e){var t=e||2,n=this.getConstrainedResolution(this.maxResolution_),e=this.minResolution_,r=Math.log(n/e)/Math.log(t);return function(e){return n/Math.pow(t,e*r)}}},{key:"getRotation",value:function(){return this.get(Q1.ROTATION)}},{key:"getValueForResolutionFunction",value:function(e){var t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),e=this.minResolution_,r=Math.log(n/e)/t;return function(e){return Math.log(n/e)/t/r}}},{key:"getViewportSizeMinusPadding_",value:function(e){var e=this.getViewportSize_(e),t=this.padding_;return e=t?[e[0]-t[1]-t[3],e[1]-t[0]-t[2]]:e}},{key:"getState",value:function(){var e,t=this.getProjection(),n=this.getResolution(),r=this.getRotation(),i=this.getCenterInternal(),o=this.padding_;return o&&(e=this.getViewportSizeMinusPadding_(),i=h2(i,this.getViewportSize_(),[e[0]/2+o[3],e[1]/2+o[0]],n,r)),{center:i.slice(0),projection:void 0!==t?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}},{key:"getZoom",value:function(){var e,t=this.getResolution();return e=void 0!==t?this.getZoomForResolution(t):e}},{key:"getZoomForResolution",value:function(e){var t,n,r=this.minZoom_||0;return n=this.resolutions_?(n=ei(this.resolutions_,e,1),t=this.resolutions_[r=n],n==this.resolutions_.length-1?2:t/this.resolutions_[n+1]):(t=this.maxResolution_,this.zoomFactor_),r+Math.log(t/e)/Math.log(n)}},{key:"getResolutionForZoom",value:function(e){var t,n;return this.resolutions_?this.resolutions_.length<=1?0:(t=Yi(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1],this.resolutions_[t]/Math.pow(n,Yi(e-t,0,1))):this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}},{key:"fit",value:function(e,t){this.fitInternal(e,t)}},{key:"rotatedExtentForGeometry",value:function(e){for(var t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),i=e.getFlatCoordinates(),o=e.getStride(),a=1/0,s=1/0,u=-1/0,l=-1/0,c=0,h=i.length;c<h;c+=o)var f=i[c]*n-i[c+1]*r,p=i[c]*r+i[c+1]*n,a=Math.min(a,f),s=Math.min(s,p),u=Math.max(u,f),l=Math.max(l,p);return[a,s,u,l]}},{key:"fitInternal",value:function(e,t){var t=t||{},n=(n=t.size)||this.getViewportSizeMinusPadding_(),r=void 0!==t.padding?t.padding:[0,0,0,0],i=void 0!==t.nearest&&t.nearest,o=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0,e=this.rotatedExtentForGeometry(e),n=this.getResolutionForExtentInternal(e,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n=isNaN(n)?o:Math.max(n,o),o=(n=this.getConstrainedResolution(n,i?0:1),this.getRotation()),i=Math.sin(o),o=Math.cos(o),e=Ii(e);e[0]+=(r[1]-r[3])/2*n,e[1]+=(r[0]-r[2])/2*n;r=this.getConstrainedCenter([e[0]*o-e[1]*i,e[1]*o+e[0]*i],n),o=t.callback||ii;void 0!==t.duration?this.animateInternal({resolution:n,center:r,duration:t.duration,easing:t.easing},o):(this.targetResolution_=n,this.targetCenter_=r,this.applyTargetState_(!1,!0),c2(o,!0))}},{key:"centerOn",value:function(e,t,n){this.centerOnInternal(Xs(e,this.getProjection()),t,n)}},{key:"centerOnInternal",value:function(e,t,n){this.setCenterInternal(h2(e,t,n,this.getResolution(),this.getRotation()))}},{key:"calculateCenterShift",value:function(e,t,n,r){var i,o=this.padding_;return o&&e&&(r=h2(e,r,[(r=this.getViewportSizeMinusPadding_(-n))[0]/2+o[3],r[1]/2+o[0]],t,n),i=[e[0]-r[0],e[1]-r[1]]),i}},{key:"isDef",value:function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}},{key:"adjustCenter",value:function(e){var t=qs(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}},{key:"adjustCenterInternal",value:function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}},{key:"adjustResolution",value:function(e,t){t=t&&Xs(t,this.getProjection());this.adjustResolutionInternal(e,t)}},{key:"adjustResolutionInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(r,t)),this.targetResolution_*=e,this.applyTargetState_()}},{key:"adjustZoom",value:function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}},{key:"adjustRotation",value:function(e,t){t=t&&Xs(t,this.getProjection()),this.adjustRotationInternal(e,t)}},{key:"adjustRotationInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=e,this.applyTargetState_()}},{key:"setCenter",value:function(e){this.setCenterInternal(e&&Xs(e,this.getProjection()))}},{key:"setCenterInternal",value:function(e){this.targetCenter_=e,this.applyTargetState_()}},{key:"setHint",value:function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}},{key:"setResolution",value:function(e){this.targetResolution_=e,this.applyTargetState_()}},{key:"setRotation",value:function(e){this.targetRotation_=e,this.applyTargetState_()}},{key:"setZoom",value:function(e){this.setResolution(this.getResolutionForZoom(e))}},{key:"applyTargetState_",value:function(e,t){var t=this.getAnimating()||this.getInteracting()||t,n=this.constraints_.rotation(this.targetRotation_,t),r=this.getViewportSize_(n),i=this.constraints_.resolution(this.targetResolution_,0,r,t),t=this.constraints_.center(this.targetCenter_,i,r,t,this.calculateCenterShift(this.targetCenter_,i,n,r));this.get(Q1.ROTATION)!==n&&this.set(Q1.ROTATION,n),this.get(Q1.RESOLUTION)!==i&&(this.set(Q1.RESOLUTION,i),this.set("zoom",this.getZoom(),!0)),t&&this.get(Q1.CENTER)&&Ma(this.get(Q1.CENTER),t)||this.set(Q1.CENTER,t),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}},{key:"resolveConstraints",value:function(e,t,n){var e=void 0!==e?e:200,t=t||0,r=this.constraints_.rotation(this.targetRotation_),i=this.getViewportSize_(r),t=this.constraints_.resolution(this.targetResolution_,t,i),i=this.constraints_.center(this.targetCenter_,t,i,!1,this.calculateCenterShift(this.targetCenter_,t,r,i));0!==e||this.cancelAnchor_?(n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===t&&this.getRotation()===r&&this.getCenterInternal()&&Ma(this.getCenterInternal(),i)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:i,resolution:t,duration:e,easing:n2,anchor:n}))):(this.targetResolution_=t,this.targetRotation_=r,this.targetCenter_=i,this.applyTargetState_())}},{key:"beginInteraction",value:function(){this.resolveConstraints(0),this.setHint(K1,1)}},{key:"endInteraction",value:function(e,t,n){n=n&&Xs(n,this.getProjection());this.endInteractionInternal(e,t,n)}},{key:"endInteractionInternal",value:function(e,t,n){this.setHint(K1,-1),this.resolveConstraints(e,t,n)}},{key:"getConstrainedCenter",value:function(e,t){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}},{key:"getConstrainedZoom",value:function(e,t){e=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(e,t))}},{key:"getConstrainedResolution",value:function(e,t){var t=t||0,n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}])&&o2(t.prototype,r),e&&o2(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function p2(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}function y2(e){return(y2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=y2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=y2(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==y2(e)?e:e+""))(r.key),r)}}function v2(e,t,n){t=g2(t);var r=e,t=m2()?Reflect.construct(t,n||[],g2(e).constructor):t.apply(e,n);if(!t||"object"!=y2(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function m2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m2=function(){return!!e})()}function b2(){return(b2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=g2(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function g2(e){return(g2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w2(e,t){return(w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x2(e){e instanceof Aa?e.setMapInternal(null):e instanceof w1&&e.getLayers().forEach(x2)}var _2=(()=>{function a(e){var t;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(t=v2(this,a)).on,t.size_=e.size,void 0===t.size_&&(t.size_=[2e3,2e3]);r={},i=(n=e).layers&&"function"==typeof n.layers.getLayers?n.layers:new w1({layers:n.layers}),r[M1.LAYERGROUP]=i,r[M1.TARGET]=n.target,r[M1.VIEW]=n.view instanceof f2?n.view:new f2;var n,r,i={values:r},o=(t.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,t.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:si,t.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(t),t.coordinateToPixelTransform_=bi(),t.pixelToCoordinateTransform_=bi(),t.frameIndex_=0,t.frameState_=null,t.previousExtent_=null,t.viewPropertyListenerKey_=null,t.viewChangeListenerKey_=null,t.layerGroupPropertyListenerKeys_=null,t.moveTolerance_=e.moveTolerance,t.targetChangeHandlerKeys_=null,t.overlayIdIndex_={},t.renderer_=null,t.postRenderFunctions_=[],t.tileQueue_=new q1(t.getTilePriority.bind(t),t.handleTileChange_.bind(t)),t.addChangeListener(M1.VIEW,t.handleViewChanged_),t.addChangeListener(M1.TARGET,t.handleTargetChanged_),t.setProperties(i.values),t);return!e.view||e.view instanceof f2||e.view.then(function(e){o.setView(new f2(e))}),t}var e,t=a,n=Ko;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&w2(t,n),t=a,(n=[{key:"createRenderer",value:function(){throw new Error("Use a map type that has a createRenderer method")}},{key:"addLayer",value:function(e){this.getLayerGroup().getLayers().push(e)}},{key:"handleLayerAdd_",value:function(e){!function e(t,n){if(t instanceof Aa)t.setMapInternal(n);else if(t instanceof w1)for(var r=t.getLayers().getArray(),i=0,o=r.length;i<o;++i)e(r[i],n)}(e.layer,this)}},{key:"addOverlay",value:function(e){this.getOverlays().push(e)}},{key:"addOverlayInternal_",value:function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}},{key:"disposeInternal",value:function(){var e,t,n,r,i;this.setTarget(null),e=a,t="disposeInternal",n=this,i=b2(g2(1&(r=3)?e.prototype:e),t,n),(2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i)([])}},{key:"getAllLayers",value:function(){var n=[];return function t(e){e.forEach(function(e){e instanceof w1?t(e.getLayers()):n.push(e)})}(this.getLayers()),n}},{key:"getTarget",value:function(){return this.get(M1.TARGET)}},{key:"getOverlays",value:function(){return this.overlays_}},{key:"getOverlayById",value:function(e){e=this.overlayIdIndex_[e.toString()];return void 0!==e?e:null}},{key:"getLayerGroup",value:function(){return this.get(M1.LAYERGROUP)}},{key:"setLayers",value:function(e){var t=this.getLayerGroup();e instanceof u1?t.setLayers(e):((t=t.getLayers()).clear(),t.extend(e))}},{key:"getLayers",value:function(){return this.getLayerGroup().getLayers()}},{key:"getLoadingOrNotReady",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var r=e[t].layer;if(!r.getRenderer().ready)return!0;r=r.getSource();if(r&&r.loading)return!0}return!1}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"getSize",value:function(){return this.size_}},{key:"getView",value:function(){return this.get(M1.VIEW)}},{key:"getOverlayContainer",value:function(){return this.overlayContainer_}},{key:"getOverlayContainerStopEvent",value:function(){return this.overlayContainerStopEvent_}},{key:"getTilePriority",value:function(e,t,n,r){return i=this.frameState_,e=e,t=t,n=n,r=r,i&&t in i.wantedTiles&&i.wantedTiles[t][e.getKey()]?(t=i.viewState.center,e=n[0]-t[0],i=n[1]-t[1],65536*Math.log(r)+Math.sqrt(e*e+i*i)/r):1/0;var i}},{key:"handlePostRender",value:function(){for(var e,t,n,r=this.frameState_,i=this.tileQueue_,o=(i.isEmpty()||(n=t=this.maxTilesLoading_,r&&((e=r.viewHints)[J1]||e[K1])&&(t=(e=8<Date.now()-r.time)?0:8,n=e?0:2),i.getTilesLoading()<t&&(i.reprioritize(),i.loadMoreTiles(t,n))),r&&this.hasListener(ga)&&!r.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(ga,r),this.postRenderFunctions_),a=0,s=o.length;a<s;++a)o[a](this,r);o.length=0}},{key:"handleTargetChanged_",value:function(){this.renderer_||(this.renderer_=this.createRenderer()),this.targetChangeHandlerKeys_=[Mo(document,Ao,this.updateSize,this)],this.updateSize()}},{key:"handleTileChange_",value:function(){this.render()}},{key:"handleViewPropertyChanged_",value:function(){this.render()}},{key:"handleViewChanged_",value:function(){this.viewPropertyListenerKey_&&(jo(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(jo(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Mo(e,vo,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Mo(e,To,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}},{key:"isRendered",value:function(){return!!this.frameState_}},{key:"render",value:function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}},{key:"removeLayer",value:function(e){return this.getLayerGroup().getLayers().remove(e)}},{key:"handleLayerRemove_",value:function(e){x2(e.layer)}},{key:"removeOverlay",value:function(e){return this.getOverlays().remove(e)}},{key:"renderFrame_",value:function(e){var t,n=this,r=this.getSize(),i=this.getView(),o=this.frameState_,a=null;void 0!==r&&0<(t=r)[0]&&0<t[1]&&i&&i.isDef()&&(t=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),i=i.getState(),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Ni(i.center,i.resolution,i.rotation,r),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:i,viewHints:t,wantedTiles:{},mapId:ai(this),renderTargets:{}},i.nextCenter)&&i.nextResolution&&(e=isNaN(i.nextRotation)?i.rotation:i.nextRotation,a.nextExtent=Ni(i.nextCenter,i.nextResolution,e,r)),this.frameState_=a,this.renderer_.renderFrame(a),!a||(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),!o||this.previousExtent_&&(Hi(this.previousExtent_)||Mi(a.extent,this.previousExtent_))||(this.dispatchEvent(new T1(R1,this,o)),this.previousExtent_=Ai(this.previousExtent_)),!this.previousExtent_)||a.viewHints[J1]||a.viewHints[K1]||Mi(a.extent,this.previousExtent_)||(this.dispatchEvent(new T1(A1,this,a)),t=a.extent,(i=this.previousExtent_)?(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3]):t.slice()),this.dispatchEvent(new T1(E1,this,a)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))}},{key:"setSize",value:function(e){this.set(M1.SIZE,e)}},{key:"setTarget",value:function(e){this.set(M1.TARGET,e)}},{key:"setView",value:function(e){var t;!e||e instanceof f2?this.set(M1.VIEW,e):(this.set(M1.VIEW,new f2),t=this,e.then(function(e){t.setView(new f2(e))}))}},{key:"updateSize",value:function(){var e=this.size_;this.setSize(e),this.updateViewportSize_()}},{key:"updateViewportSize_",value:function(){var e,t=this.getView();t&&(e=this.size_,t.setViewportSize(e))}}])&&d2(t.prototype,n),e&&d2(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function S2(e){return(S2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=S2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=S2(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==S2(e)?e:e+""))(r.key),r)}}function O2(e,t,n){t=T2(t);var r=e,t=P2()?Reflect.construct(t,n||[],T2(e).constructor):t.apply(e,n);if(!t||"object"!=S2(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function P2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(P2=function(){return!!e})()}function T2(e){return(T2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E2(e,t){return(E2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var R2=(()=>{function t(e){if(this instanceof t)return O2(this,t,[e=mo({},e)]);throw new TypeError("Cannot call a class as a function")}var e,n=t,r=_2;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&E2(n,r),n=t,(r=[{key:"createRenderer",value:function(){return new Xa(this)}}])&&k2(n.prototype,r),e&&k2(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n})();function A2(e){return(A2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=A2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=A2(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==A2(e)?e:e+""))(r.key),r)}}function C2(e,t,n){t=L2(t);var r=e,t=j2()?Reflect.construct(t,n||[],L2(e).constructor):t.apply(e,n);if(!t||"object"!=A2(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function j2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(j2=function(){return!!e})()}function L2(e){return(L2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I2(e,t){return(I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var N2=(()=>{function i(e,t,n){var r;if(this instanceof i)return n=n||{},(r=C2(this,i)).tileCoord=e,r.state=t,r.interimTile=null,r.key="",r.transition_=void 0===n.transition?250:n.transition,r.transitionStarts_={},r.interpolate=!!n.interpolate,r;throw new TypeError("Cannot call a class as a function")}var e,t=i,n=Po;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&I2(t,n),t=i,(n=[{key:"changed",value:function(){this.dispatchEvent(To)}},{key:"release",value:function(){}},{key:"getKey",value:function(){return this.key+"/"+this.tileCoord}},{key:"getInterimTile",value:function(){if(this.interimTile){var e=this.interimTile;do{if(e.getState()==D1)return this.transition_=0,e}while(e=e.interimTile)}return this}},{key:"refreshInterimChain",value:function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==D1){e.interimTile=null;break}}while(e.getState()!=N1&&e.getState()==I1?t.interimTile=e.interimTile:t=e,e=t.interimTile)}}},{key:"getTileCoord",value:function(){return this.tileCoord}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){if(this.state!==B1&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}},{key:"load",value:function(){u()}},{key:"getAlpha",value:function(e,t){if(!this.transition_)return 1;var n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else this.transitionStarts_[e]=n=t;e=t-n+1e3/60;return e>=this.transition_?1:t2(e/this.transition_)}},{key:"inTransition",value:function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}},{key:"endTransition",value:function(e){this.transition_&&(this.transitionStarts_[e]=-1)}}])&&M2(t.prototype,n),e&&M2(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();var D2=0,B2=2,F2=3;function U2(e,t,n){var r=!0,i=!1,o=!1,a=[Co(e,Ro,function(){o=!0,i||t()})];return e.src&&li?(i=!0,e.decode().then(function(){r&&t()}).catch(function(e){r&&(o?t:n)()})):a.push(Co(e,Eo,n)),function(){r=!1,a.forEach(jo)}}function z2(e,t,n,r){n=n&&n.length?n.shift():ui?new OffscreenCanvas(e||300,t||300):document.createElement("canvas");return e&&(n.width=e),t&&(n.height=t),n.getContext("2d",r)}function G2(e){return(G2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=G2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=G2(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==G2(e)?e:e+""))(r.key),r)}}function V2(e,t,n){t=W2(t);var r=e,t=Y2()?Reflect.construct(t,n||[],W2(e).constructor):t.apply(e,n);if(!t||"object"!=G2(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Y2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Y2=function(){return!!e})()}function W2(e){return(W2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q2(e,t){return(q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var X2=(()=>{function a(e,t,n,r,i,o){if(this instanceof a)return(e=V2(this,a,[e,t,o])).crossOrigin_=r,e.src_=n,e.key=n,e.image_=new Image,null!==r&&(e.image_.crossOrigin=r),e.unlisten_=null,e.tileLoadFunction_=i,e;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=N2;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&q2(t,n),t=a,(n=[{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(e){this.image_=e,this.state=D1,this.unlistenImage_(),this.changed()}},{key:"handleImageError_",value:function(){var e;this.state=B1,this.unlistenImage_(),this.image_=((e=z2(1,1)).fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas),this.changed()}},{key:"handleImageLoad_",value:function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=D1:this.state=F1,this.unlistenImage_(),this.changed()}},{key:"load",value:function(){this.state==B1&&(this.state=I1,this.image_=new Image,null!==this.crossOrigin_)&&(this.image_.crossOrigin=this.crossOrigin_),this.state==I1&&(this.state=N1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=U2(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}])&&H2(t.prototype,n),e&&H2(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Z2(e){return(Z2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Z2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Z2(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Z2(e)?e:e+""))(r.key),r)}}var K2=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e=t,(n=[{key:"canExpireCache",value:function(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark}},{key:"expireCache",value:function(e){for(;this.canExpireCache();)this.pop()}},{key:"clear",value:function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}},{key:"containsKey",value:function(e){return this.entries_.hasOwnProperty(e)}},{key:"forEach",value:function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer}},{key:"get",value:function(e,t){e=this.entries_[e];return l(void 0!==e,15),e!==this.newest_&&(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_}},{key:"remove",value:function(e){var t=this.entries_[e];return l(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}},{key:"getCount",value:function(){return this.count_}},{key:"getKeys",value:function(){for(var e=new Array(this.count_),t=0,n=this.newest_;n;n=n.older)e[t++]=n.key_;return e}},{key:"getValues",value:function(){for(var e=new Array(this.count_),t=0,n=this.newest_;n;n=n.older)e[t++]=n.value_;return e}},{key:"peekLast",value:function(){return this.oldest_.value_}},{key:"peekLastKey",value:function(){return this.oldest_.key_}},{key:"peekFirstKey",value:function(){return this.newest_.key_}},{key:"pop",value:function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}},{key:"replace",value:function(e,t){this.get(e),this.entries_[e].value_=t}},{key:"set",value:function(e,t){l(!(e in this.entries_),16);t={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=t:this.oldest_=t,this.newest_=t,this.entries_[e]=t,++this.count_}},{key:"setSize",value:function(e){this.highWaterMark=e}}])&&J2(e.prototype,n),r&&J2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r})();function Q2(e,t,n,r){return void 0!==r?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function $2(e,t,n){return e+"/"+t+"/"+n}function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=eu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=eu(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==eu(e)?e:e+""))(r.key),r)}}function nu(e,t,n){t=iu(t);var r=e,t=ru()?Reflect.construct(t,n||[],iu(e).constructor):t.apply(e,n);if(!t||"object"!=eu(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function ru(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ru=function(){return!!e})()}function iu(e){return(iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ou(e,t){return(ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var au=(()=>{function n(){var e=this,t=n;if(e instanceof t)return nu(this,n,arguments);throw new TypeError("Cannot call a class as a function")}var e,t=n,r=K2;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ou(t,r),t=n,(r=[{key:"expireCache",value:function(e){for(;this.canExpireCache();){if(this.peekLast().getKey()in e)break;this.pop().release()}}},{key:"pruneExceptNewestZ",value:function(){var n;0!==this.getCount()&&(n=this.peekFirstKey().split("/").map(Number)[0],this.forEach(function(e){var t;e.tileCoord[0]!==n&&(this.remove($2((t=e.tileCoord)[0],t[1],t[2])),e.release())}.bind(this)))}}])&&tu(t.prototype,r),e&&tu(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})(),su="tileloadstart",uu="tileloadend",lu="tileloaderror";function cu(e){return(cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=cu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=cu(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==cu(e)?e:e+""))(r.key),r)}}function fu(e,t,n){t=yu(t);var r=e,t=pu()?Reflect.construct(t,n||[],yu(e).constructor):t.apply(e,n);if(!t||"object"!=cu(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function pu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pu=function(){return!!e})()}function yu(e){return(yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function du(e,t){return(du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vu(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var mu=(()=>{function r(e){var t;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");(t=fu(this,r)).projection=Is(e.projection),t.attributions_=vu(e.attributions),t.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,t.loading=!1,t.state_=void 0!==e.state?e.state:xa,t.wrapX_=void 0!==e.wrapX&&e.wrapX,t.interpolate_=!!e.interpolate,t.viewResolver=null,t.viewRejector=null;var n=t;return t.viewPromise_=new Promise(function(e,t){n.viewResolver=e,n.viewRejector=t}),t}var e,t=r,n=Ko;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&du(t,n),t=r,(n=[{key:"getAttributions",value:function(){return this.attributions_}},{key:"getAttributionsCollapsible",value:function(){return this.attributionsCollapsible_}},{key:"getProjection",value:function(){return this.projection}},{key:"getResolutions",value:function(){return u()}},{key:"getView",value:function(){return this.viewPromise_}},{key:"getState",value:function(){return this.state_}},{key:"getWrapX",value:function(){return this.wrapX_}},{key:"getInterpolate",value:function(){return this.interpolate_}},{key:"refresh",value:function(){this.changed()}},{key:"setAttributions",value:function(e){this.attributions_=vu(e),this.changed()}},{key:"setState",value:function(e){this.state_=e,this.changed()}}])&&hu(t.prototype,n),e&&hu(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function bu(e){return(bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=bu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=bu(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==bu(e)?e:e+""))(r.key),r)}}var wu=(()=>{function i(e,t,n,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.minX=e,this.maxX=t,this.minY=n,this.maxY=r}return e=i,(t=[{key:"contains",value:function(e){return this.containsXY(e[1],e[2])}},{key:"containsTileRange",value:function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}},{key:"containsXY",value:function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}},{key:"equals",value:function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}},{key:"extend",value:function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}},{key:"getHeight",value:function(){return this.maxY-this.minY+1}},{key:"getSize",value:function(){return[this.getWidth(),this.getHeight()]}},{key:"getWidth",value:function(){return this.maxX-this.minX+1}},{key:"intersects",value:function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}])&&gu(e.prototype,t),n&&gu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function xu(e,t,n,r,i){return void 0!==i?(i.minX=e,i.maxX=t,i.minY=n,i.maxY=r,i):new wu(e,t,n,r)}var _u=wu;function Su(e){return(Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ku(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Su(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Su(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Su(e)?e:e+""))(r.key),r)}}var Ou=[0,0,0],Pu=(()=>{function u(e){var n,r,i,t;if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,l((n=this.resolutions_,r=!0,i=function(e,t){return t-e}||$0,n.every(function(e,t){return 0===t||!(0<(t=i(n[t-1],e))||r&&0===t)})),17),!e.origins)for(var o=0,a=this.resolutions_.length-1;o<a;++o)if(t){if(this.resolutions_[o]/this.resolutions_[o+1]!==t){t=void 0;break}}else t=this.resolutions_[o]/this.resolutions_[o+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,l(this.origins_.length==this.resolutions_.length,20));var s=e.extent;void 0===s||this.origin_||this.origins_||(this.origin_=Fi(s)),l(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,l(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:es,l(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(e,t){e=new _u(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));return s&&(t=this.getTileRangeForExtentAndZ(s,t),e.minX=Math.max(t.minX,e.minX),e.maxX=Math.min(t.maxX,e.maxX),e.minY=Math.max(t.minY,e.minY),e.maxY=Math.min(t.maxY,e.maxY)),e},this):s&&this.calculateTileRanges_(s)}return e=u,(t=[{key:"forEachTileCoord",value:function(e,t,n){for(var r=this.getTileRangeForExtentAndZ(e,t),i=r.minX,o=r.maxX;i<=o;++i)for(var a=r.minY,s=r.maxY;a<=s;++a)n([t,i,a])}},{key:"forEachTileCoordParentTileRange",value:function(e,t,n,r){var i,o,a=null,s=e[0]-1;for(2===this.zoomFactor_?(i=e[1],o=e[2]):a=this.getTileCoordExtent(e,r);s>=this.minZoom;){if(t(s,2===this.zoomFactor_?xu(i=Math.floor(i/2),i,o=Math.floor(o/2),o,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1}},{key:"getExtent",value:function(){return this.extent_}},{key:"getMaxZoom",value:function(){return this.maxZoom}},{key:"getMinZoom",value:function(){return this.minZoom}},{key:"getOrigin",value:function(e){return this.origin_||this.origins_[e]}},{key:"getResolution",value:function(e){return this.resolutions_[e]}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getTileCoordChildTileRange",value:function(e,t,n){var r;return e[0]<this.maxZoom?2===this.zoomFactor_?xu(r=2*e[1],1+r,r=2*e[2],1+r,t):(r=this.getTileCoordExtent(e,n||this.tmpExtent_),this.getTileRangeForExtentAndZ(r,e[0]+1,t)):null}},{key:"getTileRangeForTileCoordAndZ",value:function(e,t,n){var r,i,o,a,s,u;return t>this.maxZoom||t<this.minZoom?null:(u=e[0],r=e[1],i=e[2],t===u?xu(r,i,r,i,n):this.zoomFactor_?(o=Math.pow(this.zoomFactor_,t-u),a=Math.floor(r*o),s=Math.floor(i*o),t<u?xu(a,a,s,s,n):xu(a,Math.floor(o*(r+1))-1,s,Math.floor(o*(i+1))-1,n)):(u=this.getTileCoordExtent(e,this.tmpExtent_),this.getTileRangeForExtentAndZ(u,t,n)))}},{key:"getTileRangeExtent",value:function(e,t,n){var r=this.getOrigin(e),i=this.getResolution(e),e=p2(this.getTileSize(e),this.tmpSize_),o=r[0]+t.minX*e[0]*i,a=r[0]+(t.maxX+1)*e[0]*i;return Ri(o,r[1]+t.minY*e[1]*i,a,r[1]+(t.maxY+1)*e[1]*i,n)}},{key:"getTileRangeForExtentAndZ",value:function(e,t,n){var r=Ou,i=(this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,r),r[1]),o=r[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,r),xu(i,r[1],o,r[2],n)}},{key:"getTileCoordCenter",value:function(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),r=p2(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*n,t[1]-(e[2]+.5)*r[1]*n]}},{key:"getTileCoordExtent",value:function(e,t){var n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=p2(this.getTileSize(e[0]),this.tmpSize_),o=n[0]+e[1]*i[0]*r,n=n[1]-(e[2]+1)*i[1]*r;return Ri(o,n,o+i[0]*r,n+i[1]*r,t)}},{key:"getTileCoordForCoordAndResolution",value:function(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}},{key:"getTileCoordForXYAndResolution_",value:function(e,t,n,r,i){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),u=p2(this.getTileSize(o),this.tmpSize_),e=a*(e-s[0])/n/u[0],a=a*(s[1]-t)/n/u[1],a=r?(e=Qi(e,5)-1,Qi(a,5)-1):(e=Ki(e,5),Ki(a,5));return Q2(o,e,a,i)}},{key:"getTileCoordForXYAndZ_",value:function(e,t,n,r,i){var o=this.getOrigin(n),a=this.getResolution(n),s=p2(this.getTileSize(n),this.tmpSize_),e=(e-o[0])/a/s[0],o=(o[1]-t)/a/s[1],o=r?(e=Qi(e,5)-1,Qi(o,5)-1):(e=Ki(e,5),Ki(o,5));return Q2(n,e,o,i)}},{key:"getTileCoordForCoordAndZ",value:function(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}},{key:"getTileCoordResolution",value:function(e){return this.resolutions_[e[0]]}},{key:"getTileSize",value:function(e){return this.tileSize_||this.tileSizes_[e]}},{key:"getFullTileRange",value:function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}},{key:"getZForResolution",value:function(e,t){return Yi(ei(this.resolutions_,e,t||0),this.minZoom,this.maxZoom)}},{key:"calculateTileRanges_",value:function(e){for(var t=this.resolutions_.length,n=new Array(t),r=this.minZoom;r<t;++r)n[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=n}}])&&ku(e.prototype,t),n&&ku(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function Tu(e){var t,n,r,i=e.getDefaultTileGrid();return i||(i=((e,t,n,r)=>(r=void 0!==r?r:_i.TOP_LEFT,t=Eu(e,t,n),new Pu({extent:e,origin:((e,t)=>{var n;return t===_i.BOTTOM_LEFT?n=ji(e):t===_i.BOTTOM_RIGHT?n=Li(e):t===_i.TOP_LEFT?n=Fi(e):t===_i.TOP_RIGHT?n=Ui(e):l(!1,13),n})(e,r),resolutions:t,tileSize:n})))(Ru(e),t,n,r),e.setDefaultTileGrid(i)),i}function Eu(e,t,n,r){for(var t=void 0!==t?t:$1,i=Di(e),e=zi(e),n=p2(void 0!==n?n:es),o=0<r?r:Math.max(e/n[0],i/n[1]),a=t+1,s=new Array(a),u=0;u<a;++u)s[u]=o/Math.pow(2,u);return s}function Ru(e){var t=(e=Is(e)).getExtent();return t=t?t:Ri(-(e=180*X1[Z1.DEGREES]/e.getMetersPerUnit()),-e,e,e)}function Au(e){return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Au(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Au(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Au(e)?e:e+""))(r.key),r)}}function ju(e,t,n){return t&&Cu(e.prototype,t),n&&Cu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lu(e,t,n){t=Du(t);var r=e,t=Iu()?Reflect.construct(t,n||[],Du(e).constructor):t.apply(e,n);if(!t||"object"!=Au(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Iu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Iu=function(){return!!e})()}function Nu(){return(Nu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Du(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Du(e){return(Du=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fu(e,t)}function Fu(e,t){return(Fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var t=(()=>{function o(e){var t;Mu(this,o),(t=Lu(this,o,[{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}])).on,t.opaque_=void 0!==e.opaque&&e.opaque,t.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,t.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;return t.tileGrid&&p2(t.tileGrid.getTileSize(t.tileGrid.getMinZoom()),[256,256]),t.tileCache=new au(e.cacheSize||0),t.tmpSize=[0,0],t.key_=e.key||"",t.tileOptions={transition:e.transition,interpolate:e.interpolate},t.zDirection=e.zDirection||0,t}return Bu(o,mu),ju(o,[{key:"canExpireCache",value:function(){return this.tileCache.canExpireCache()}},{key:"expireCache",value:function(e,t){e=this.getTileCacheForProjection(e);e&&e.expireCache(t)}},{key:"forEachLoadedTile",value:function(e,t,n,r){var i=this.getTileCacheForProjection(e);if(!i)return!1;for(var o,a,s=!0,u=n.minX;u<=n.maxX;++u)for(var l=n.minY;l<=n.maxY;++l)o=$2(t,u,l),a=!1,(a=i.containsKey(o)?(a=(o=i.get(o)).getState()===D1)&&!1!==r(o):a)||(s=!1);return s}},{key:"getGutterForProjection",value:function(e){return 0}},{key:"getKey",value:function(){return this.key_}},{key:"setKey",value:function(e){this.key_!==e&&(this.key_=e,this.changed())}},{key:"getOpaque",value:function(e){return this.opaque_}},{key:"getResolutions",value:function(){return this.tileGrid?this.tileGrid.getResolutions():null}},{key:"getTile",value:function(e,t,n,r,i){return u()}},{key:"getTileGrid",value:function(){return this.tileGrid}},{key:"getTileGridForProjection",value:function(e){return this.tileGrid||Tu(e)}},{key:"getTileCacheForProjection",value:function(e){return l(Bs(this.getProjection(),e),68),this.tileCache}},{key:"getTilePixelRatio",value:function(e){return this.tilePixelRatio_}},{key:"getTilePixelSize",value:function(e,t,n){var n=this.getTileGridForProjection(n),t=this.getTilePixelRatio(t),n=p2(n.getTileSize(e),this.tmpSize);return 1==t?n:(e=n,n=t,(t=void 0===(t=this.tmpSize)?[0,0]:t)[0]=e[0]*n+.5|0,t[1]=e[1]*n+.5|0,t)}},{key:"getTileCoordForTileUrlFunction",value:function(e,t){var n,r,i,o,t=void 0!==t?t:this.getProjection(),a=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(n=a,t=t,i=(r=e)[0],o=n.getTileCoordCenter(r),e=Oi(t=Ru(t),o)?r:(r=zi(t),t=Math.ceil((t[0]-o[0])/r),o[0]+=r*t,n.getTileCoordForCoordAndZ(o,i))),((e,t)=>{var n=e[0],r=e[1],e=e[2];return!(t.getMinZoom()>n||n>t.getMaxZoom())&&(!(t=t.getFullTileRange(n))||t.containsXY(r,e))})(e,a)?e:null}},{key:"clear",value:function(){this.tileCache.clear()}},{key:"refresh",value:function(){var e,t,n,r,i;this.clear(),e=o,t="refresh",n=this,i=Nu(Du(1&(r=3)?e.prototype:e),t,n),(2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i)([])}},{key:"updateCacheSize",value:function(e,t){t=this.getTileCacheForProjection(t);e>t.highWaterMark&&(t.highWaterMark=e)}},{key:"useTile",value:function(e,t,n,r){}}])})(),Uu=(()=>{function n(e,t){return Mu(this,n),(e=Lu(this,n,[e])).tile=t,e}return Bu(n,yo),ju(n)})(),zu=t;function Gu(e,t){for(var i,n=e.length,r=new Array(n),o=0;o<n;++o)r[o]=((r,i)=>{var o=/\{z\}/g,a=/\{x\}/g,s=/\{y\}/g,u=/\{-y\}/g;return function(t,e,n){if(t)return r.replace(o,t[0].toString()).replace(a,t[1].toString()).replace(s,t[2].toString()).replace(u,function(){var e=t[0],e=i.getFullTileRange(e);return l(e,55),(e.getHeight()-t[2]-1).toString()})}})(e[o],t);return 1!==(i=r).length?function(e,t,n){var r;if(e)return r=Zi((e[1]<<e[0])+e[2],i.length),i[r](e,t,n)}:i[0]}function Hu(e){return(Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Hu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Hu(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Hu(e)?e:e+""))(r.key),r)}}function Yu(e,t,n){t=qu(t);var r=e,t=Wu()?Reflect.construct(t,n||[],qu(e).constructor):t.apply(e,n);if(!t||"object"!=Hu(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Wu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Wu=function(){return!!e})()}function qu(e){return(qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xu(e,t){return(Xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Zu=(()=>{function n(e){var t;if(this instanceof n)return(t=Yu(this,n,[{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}])).generateTileUrlFunction_=t.tileUrlFunction===n.prototype.tileUrlFunction,t.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(t.tileUrlFunction=e.tileUrlFunction),t.urls=null,e.urls?t.setUrls(e.urls):e.url&&t.setUrl(e.url),t.tileLoadingKeys_={},t;throw new TypeError("Cannot call a class as a function")}var e,t=n,r=zu;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Xu(t,r),t=n,(r=[{key:"getTileLoadFunction",value:function(){return this.tileLoadFunction}},{key:"getTileUrlFunction",value:function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}},{key:"getUrls",value:function(){return this.urls}},{key:"handleTileChange",value:function(e){var t,e=e.target,n=ai(e),r=e.getState();r==N1?(this.tileLoadingKeys_[n]=!0,t=su):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],t=r==B1?lu:r==D1?uu:void 0),null!=t&&this.dispatchEvent(new Uu(t,e))}},{key:"setTileLoadFunction",value:function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}},{key:"setTileUrlFunction",value:function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()}},{key:"setUrl",value:function(e){e=(e=>{var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n)for(var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=r;o<=i;++o)t.push(e.replace(n[0],String.fromCharCode(o)));else if(n=/\{(\d+)-(\d+)\}/.exec(e))for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)t.push(e.replace(n[0],s.toString()));else t.push(e);return t})(e);this.urls=e,this.setUrls(e)}},{key:"setUrls",value:function(e){var t=(this.urls=e).join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Gu(e,this.tileGrid),t):this.setKey(t)}},{key:"tileUrlFunction",value:function(e,t,n){}},{key:"useTile",value:function(e,t,n){e=$2(e,t,n);this.tileCache.containsKey(e)&&this.tileCache.get(e)}}])&&Vu(t.prototype,r),e&&Vu(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Ju(e){return(Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ku(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Ju(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Ju(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Ju(e)?e:e+""))(r.key),r)}}function Qu(e,t,n){t=n4(t);var r=e,t=$u()?Reflect.construct(t,n||[],n4(e).constructor):t.apply(e,n);if(!t||"object"!=Ju(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function $u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($u=function(){return!!e})()}function e4(e,t,n,r){var i=t4(n4(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function t4(){return(t4="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=n4(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function n4(e){return(n4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r4(e,t){return(r4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i4(e,t){e.getImage().src=t}var o4=(()=>{function n(e){var t;if(this instanceof n)return t=void 0===e.imageSmoothing||e.imageSmoothing,void 0!==e.interpolate&&(t=e.interpolate),(t=Qu(this,n,[{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction||i4,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:t,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}])).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,t.tileClass=void 0!==e.tileClass?e.tileClass:X2,t.tileCacheForProjection={},t.tileGridForProjection={},t.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,t.renderReprojectionEdges_=!1,t;throw new TypeError("Cannot call a class as a function")}var e,t=n,r=Zu;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&r4(t,r),t=n,(r=[{key:"canExpireCache",value:function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}},{key:"expireCache",value:function(e,t){var n,r=this.getTileCacheForProjection(e);for(n in this.tileCache.expireCache(this.tileCache==r?t:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[n];i.expireCache(i==r?t:{})}}},{key:"getGutterForProjection",value:function(e){return this.getProjection()&&e&&!Bs(this.getProjection(),e)?0:this.getGutter()}},{key:"getGutter",value:function(){return 0}},{key:"getKey",value:function(){var e=e4(n,"getKey",this,3)([]);return this.getInterpolate()||(e+=":disable-interpolation"),e}},{key:"getOpaque",value:function(e){return!(this.getProjection()&&e&&!Bs(this.getProjection(),e))&&e4(n,"getOpaque",this,3)([e])}},{key:"getTileGridForProjection",value:function(e){var t=this.getProjection();return!this.tileGrid||t&&!Bs(t,e)?((t=ai(e))in this.tileGridForProjection||(this.tileGridForProjection[t]=Tu(e)),this.tileGridForProjection[t]):this.tileGrid}},{key:"getTileCacheForProjection",value:function(e){var t=this.getProjection();return!t||Bs(t,e)?this.tileCache:((t=ai(e))in this.tileCacheForProjection||(this.tileCacheForProjection[t]=new au(this.tileCache.highWaterMark)),this.tileCacheForProjection[t])}},{key:"createTile_",value:function(e,t,n,r,i,o){e=[e,t,n],t=this.getTileCoordForTileUrlFunction(e,i),n=t?this.tileUrlFunction(t,r,i):void 0,t=new this.tileClass(e,void 0!==n?I1:F1,void 0!==n?n:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return t.key=o,t.addEventListener(To,this.handleTileChange.bind(this)),t}},{key:"getTile",value:function(e,t,n,r,i){var o=this.getProjection();return this.getTileInternal(e,t,n,r,o||i)}},{key:"getTileInternal",value:function(e,t,n,r,i){var o,a=null,s=$2(e,t,n),u=this.getKey();return this.tileCache.containsKey(s)?(a=this.tileCache.get(s)).key!=u&&(o=a,a=this.createTile_(e,t,n,r,i,u),o.getState()==I1?a.interimTile=o.interimTile:a.interimTile=o,a.refreshInterimChain(),this.tileCache.replace(s,a)):(a=this.createTile_(e,t,n,r,i,u),this.tileCache.set(s,a)),a}},{key:"setRenderReprojectionEdges",value:function(e){if(this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}}])&&Ku(t.prototype,r),e&&Ku(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function a4(e){return(a4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=a4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=a4(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==a4(e)?e:e+""))(r.key),r)}}function u4(e,t,n){t=c4(t);var r=e,t=l4()?Reflect.construct(t,n||[],c4(e).constructor):t.apply(e,n);if(!t||"object"!=a4(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function l4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l4=function(){return!!e})()}function c4(e){return(c4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h4(e,t){return(h4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var f4=(()=>{function o(e){var t,n,r,i;if(this instanceof o)return t=void 0===(e=e||{}).imageSmoothing||e.imageSmoothing,void 0!==e.interpolate&&(t=e.interpolate),n=void 0!==e.projection?e.projection:"EPSG:3857",r=void 0!==e.tileGrid?e.tileGrid:(r={extent:Ru(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize},i={extent:i=(r=r||{}).extent||Is("EPSG:3857").getExtent(),minZoom:r.minZoom,tileSize:r.tileSize,resolutions:Eu(i,r.maxZoom,r.tileSize,r.maxResolution)},new Pu(i)),u4(this,o,[{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:t,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}]);throw new TypeError("Cannot call a class as a function")}var e,t,n=o,r=o4;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&h4(n,r),n=o,e&&s4(n.prototype,e),t&&s4(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n})();function p4(e){return(p4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=p4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=p4(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==p4(e)?e:e+""))(r.key),r)}}function d4(e,t,n){t=m4(t);var r=e,t=v4()?Reflect.construct(t,n||[],m4(e).constructor):t.apply(e,n);if(!t||"object"!=p4(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function v4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v4=function(){return!!e})()}function m4(e){return(m4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b4(e,t){return(b4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g4=(()=>{function o(e){var t,n,r,i;if(this instanceof o)return t=void 0===(e=e||{}).imageSmoothing||e.imageSmoothing,void 0!==e.interpolate&&(t=e.interpolate),n=void 0!==e.attributions?e.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],r=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",i=void 0!==e.url?e.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",d4(this,o,[{attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:r,interpolate:t,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,opaque:void 0===e.opaque||e.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection}]);throw new TypeError("Cannot call a class as a function")}var e,t,n=o,r=f4;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&b4(n,r),n=o,e&&y4(n.prototype,e),t&&y4(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n})(),w4="preload",x4="useInterimTilesOnError";function _4(e){return(_4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=_4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=_4(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==_4(e)?e:e+""))(r.key),r)}}function k4(e,t,n){t=T4(t);var r=e,t=O4()?Reflect.construct(t,n||[],T4(e).constructor):t.apply(e,n);if(!t||"object"!=_4(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function O4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(O4=function(){return!!e})()}function P4(){return(P4="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=T4(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function T4(e){return(T4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E4(e,t){return(E4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var R4=(()=>{function a(e){var t;if(this instanceof a)return delete(t=mo({},e=e||{})).preload,delete t.useInterimTilesOnError,(t=k4(this,a,[t])).on,t.setPreload(void 0!==e.preload?e.preload:0),t.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),t;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=Aa;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&E4(t,n),t=a,(n=[{key:"getPreload",value:function(){return this.get(w4)}},{key:"setPreload",value:function(e){this.set(w4,e)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(x4)}},{key:"setUseInterimTilesOnError",value:function(e){this.set(x4,e)}},{key:"getData",value:function(e){return t=a,n="getData",r=this,o=P4(T4(1&(i=3)?t.prototype:t),n,r),(2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o)([e]);var t,n,r,i,o}}])&&S4(t.prototype,n),e&&S4(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function A4(e){return(A4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=A4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=A4(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==A4(e)?e:e+""))(r.key),r)}}function C4(e,t,n){t=I4(t);var r=e,t=j4()?Reflect.construct(t,n||[],I4(e).constructor):t.apply(e,n);if(!t||"object"!=A4(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function j4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(j4=function(){return!!e})()}function L4(){return(L4="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=I4(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function I4(e){return(I4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N4(e,t){return(N4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var D4=(()=>{function o(e){var t;if(this instanceof o)return(t=C4(this,o)).ready=!0,t.boundHandleImageChange_=t.handleImageChange_.bind(t),t.layer_=e,t.declutterExecutorGroup=null,t;throw new TypeError("Cannot call a class as a function")}var e,t=o,n=Uo;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&N4(t,n),t=o,(n=[{key:"getFeatures",value:function(e){return u()}},{key:"getData",value:function(e){return null}},{key:"prepareFrame",value:function(e){return u()}},{key:"renderFrame",value:function(e,t){return u()}},{key:"loadedTileCallback",value:function(e,t,n){e[t]||(e[t]={}),e[t][n.tileCoord.toString()]=n}},{key:"createLoadedTileFinder",value:function(r,i,o){return function(e,t){var n=this.loadedTileCallback.bind(this,o,e);return r.forEachLoadedTile(i,e,t,n)}.bind(this)}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,r,i){}},{key:"getDataAtPixel",value:function(e,t,n){return null}},{key:"getLayer",value:function(){return this.layer_}},{key:"handleFontsChanged",value:function(){}},{key:"handleImageChange_",value:function(e){e.target.getState()===B2&&this.renderIfReadyAndVisible()}},{key:"loadImage",value:function(e){var t=e.getState();return t!=B2&&t!=F2&&e.addEventListener(To,this.boundHandleImageChange_),t==D2&&(e.load(),t=e.getState()),t==B2}},{key:"renderIfReadyAndVisible",value:function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==xa&&e.changed()}},{key:"disposeInternal",value:function(){var e,t,n,r,i;delete this.layer_,e=o,t="disposeInternal",n=this,i=L4(I4(1&(r=3)?e.prototype:e),t,n),(2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i)([])}}])&&M4(t.prototype,n),e&&M4(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function B4(e){return(B4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=B4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=B4(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==B4(e)?e:e+""))(r.key),r)}}function U4(e,t,n){t=G4(t);var r=e,t=z4()?Reflect.construct(t,n||[],G4(e).constructor):t.apply(e,n);if(!t||"object"!=B4(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function z4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(z4=function(){return!!e})()}function G4(e){return(G4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H4(e,t){return(H4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var V4=(()=>{function i(e,t,n,r){if(this instanceof i)return(e=U4(this,i,[e])).inversePixelTransform=t,e.frameState=n,e.context=r,e;throw new TypeError("Cannot call a class as a function")}var e,t,n=i,r=yo;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&H4(n,r),n=i,e&&F4(n.prototype,e),t&&F4(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n})();function Y4(e){return(Y4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Y4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Y4(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Y4(e)?e:e+""))(r.key),r)}}function q4(e,t,n){t=J4(t);var r=e,t=X4()?Reflect.construct(t,n||[],J4(e).constructor):t.apply(e,n);if(!t||"object"!=Y4(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function X4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(X4=function(){return!!e})()}function Z4(){return(Z4="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=J4(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function J4(e){return(J4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K4(e,t){return(K4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Q4=null;var $4=(()=>{function o(e){if(this instanceof o)return(e=q4(this,o,[e])).container=null,e.tempTransform=bi(),e.pixelTransform=bi(),e.inversePixelTransform=bi(),e.context=null,e.containerReused=!1,e.pixelContext_=null,e.frameState=null,e;throw new TypeError("Cannot call a class as a function")}var e,t=o,n=D4;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&K4(t,n),t=o,(n=[{key:"getImageData",value:function(e,t,n){var r,i;Q4||((r=document.createElement("canvas")).width=1,r.height=1,Q4=r.getContext("2d")),Q4.clearRect(0,0,1,1);try{Q4.drawImage(e,t,n,1,1,0,0,1,1),i=Q4.getImageData(0,0,1,1).data}catch(e){return null}return i}},{key:"getBackground",value:function(e){var t=this.getLayer().getBackground();return(t="function"==typeof t?t(e.viewState.resolution):t)||void 0}},{key:"useContainer",value:function(e,t,n,r){var i,o=this.getLayer().getClassName();(i=e&&e.className===o&&""===e.style.opacity&&1===n&&(!r||e.style.backgroundColor&&ni(ao(e.style.backgroundColor),ao(r)))&&(n=e.firstElementChild)instanceof HTMLCanvasElement?n.getContext("2d"):i)&&i.canvas.style.transform===t?(this.container=e,this.context=i,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),this.container||((n=document.createElement("div")).className=o,(t=n.style).position="absolute",t.width="100%",t.height="100%",r&&(t.backgroundColor=r),e=(i=z2()).canvas,n.appendChild(e),(t=e.style).position="absolute",t.left="0",t.transformOrigin="top left",this.container=n,this.context=i)}},{key:"clipUnrotated",value:function(e,t,n){var r=Fi(n),i=Ui(n),o=Li(n),n=ji(n),t=(gi(t.coordinateToPixelTransform,r),gi(t.coordinateToPixelTransform,i),gi(t.coordinateToPixelTransform,o),gi(t.coordinateToPixelTransform,n),this.inversePixelTransform);gi(t,r),gi(t,i),gi(t,o),gi(t,n),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(n[0]),Math.round(n[1])),e.clip()}},{key:"dispatchRenderEvent_",value:function(e,t,n){var r=this.getLayer();r.hasListener(e)&&(e=new V4(e,this.inversePixelTransform,n,t),r.dispatchEvent(e))}},{key:"preRender",value:function(e,t){this.frameState=t,this.dispatchRenderEvent_(va,e,t)}},{key:"postRender",value:function(e,t){this.dispatchRenderEvent_(ma,e,t)}},{key:"getRenderTransform",value:function(e,t,n,r,i,o,a){r/=t,t=-e[0]+a;return wi(this.tempTransform,i/2,o/2,r,-r,-n,t,-e[1])}},{key:"getDataAtPixel",value:function(e,t,n){var r=gi(this.inversePixelTransform,e.slice()),i=this.context,o=this.getLayer().getExtent();if(o&&!Oi(o,gi(t.pixelToCoordinateTransform,e.slice())))return null;var a,o=Math.round(r[0]),t=Math.round(r[1]),e=this.pixelContext_;e||((r=document.createElement("canvas")).width=1,r.height=1,e=r.getContext("2d"),this.pixelContext_=e),e.clearRect(0,0,1,1);try{e.drawImage(i.canvas,o,t,1,1,0,0,1,1),a=e.getImageData(0,0,1,1).data}catch(e){return"SecurityError"===e.name?(this.pixelContext_=null,new Uint8Array):a}return 0===a[3]?null:a}},{key:"disposeInternal",value:function(){var e,t,n,r,i;delete this.frameState,e=o,t="disposeInternal",n=this,i=Z4(J4(1&(r=3)?e.prototype:e),t,n),(2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i)([])}}])&&W4(t.prototype,n),e&&W4(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=el(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=el(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==el(e)?e:e+""))(r.key),r)}}function nl(e,t,n){t=ol(t);var r=e,t=rl()?Reflect.construct(t,n||[],ol(e).constructor):t.apply(e,n);if(!t||"object"!=el(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function rl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rl=function(){return!!e})()}function il(){return(il="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ol(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function al(e,t){return(al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var sl=(()=>{function u(e){var t;if(this instanceof u)return(t=nl(this,u,[e])).extentChanged=!0,t.renderedExtent_=null,t.renderedProjection=null,t.renderedTiles=[],t.newTiles_=!1,t.tmpExtent=Ei(),t.tmpTileRange_=new _u(0,0,0,0),t.thirdMap_=e.thirdMap_,t.layercount_=e.layercount_,t;throw new TypeError("Cannot call a class as a function")}var e,t=u,n=$4;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&al(t,n),t=u,(n=[{key:"isDrawableTile",value:function(e){var t=this.getLayer(),e=e.getState(),t=t.getUseInterimTilesOnError();return e==D1||e==F1||e==B1&&!t}},{key:"getTile",value:function(e,t,n,r){var i=r.pixelRatio,r=r.viewState.projection,o=this.getLayer(),e=o.getSource().getTile(e,t,n,i,r);return e.getState()==B1&&(o.getUseInterimTilesOnError()?0<o.getPreload()&&(this.newTiles_=!0):e.setState(D1)),e=this.isDrawableTile(e)?e:e.getInterimTile()}},{key:"getData",value:function(e){var t=this.frameState;if(t){var n=this.getLayer(),r=gi(t.pixelToCoordinateTransform,e.slice()),e=n.getExtent();if(!e||Oi(e,r))for(var i=t.pixelRatio,o=t.viewState.projection,e=t.viewState,a=n.getRenderSource(),s=a.getTileGridForProjection(e.projection),u=a.getTilePixelRatio(t.pixelRatio),l=s.getZForResolution(e.resolution);l>=s.getMinZoom();--l){var c,h,f,p,y=s.getTileCoordForCoordAndZ(r,l),d=a.getTile(l,y[1],y[2],i,o);if(!(d instanceof X2))return null;if(d.getState()===D1)return p=s.getOrigin(l),c=p2(s.getTileSize(l)),h=s.getResolution(l),f=Math.floor(u*((r[0]-p[0])/h-y[1]*c[0])),p=Math.floor(u*((p[1]-r[1])/h-y[2]*c[1])),this.getImageData(d.getImage(),f,p)}}return null}},{key:"loadedTileCallback",value:function(e,t,n){var r,i,o,a,s;return!!this.isDrawableTile(n)&&(r=u,i="loadedTileCallback",o=this,s=il(ol(1&(a=3)?r.prototype:r),i,o),(2&a&&"function"==typeof s?function(e){return s.apply(o,e)}:s)([e,t,n]))}},{key:"prepareFrame",value:function(e){return!!this.getLayer().getSource()}},{key:"renderFrame",value:function(e,N){var t=e.layerStatesArray[e.layerIndex],n=e.viewState,r=n.projection,i=n.resolution,o=n.center,n=n.rotation,a=e.pixelRatio,s=this.getLayer(),u=s.getSource(),D=u.getRevision(),l=u.getTileGridForProjection(r),c=l.getZForResolution(i,u.zDirection),h=l.getResolution(c),f=e.extent,p=(t.extent&&Zs(t.extent,r)&&(f=Bi(f,Zs(t.extent,r))),u.getTilePixelRatio(a)),y=Math.round(e.size[0]*p),d=Math.round(e.size[1]*p),B=(n&&(d=y=Math.round(Math.sqrt(y*y+d*d))),h*y/2/p),F=h*d/2/p,v=[o[0]-B,o[1]-F,o[0]+B,o[1]+F],m=l.getTileRangeForExtentAndZ(f,c),b={},U=(b[c]={},this.createLoadedTileFinder(u,r,b)),z=this.tmpExtent,G=this.tmpTileRange_;this.newTiles_=!1;for(var g=m.minX;g<=m.maxX;++g)for(var w=m.minY;w<=m.maxY;++w){var x=this.getTile(c,g,w,e);if(this.isDrawableTile(x)){var _=ai(this);if(x.getState()==D1&&(S=(b[c][x.tileCoord.toString()]=x).inTransition(_),this.newTiles_||!S&&-1!==this.renderedTiles.indexOf(x)||(this.newTiles_=!0)),1===x.getAlpha(_,e.time))continue}var S=l.getTileCoordChildTileRange(x.tileCoord,G,z),_=!1;(_=S?U(c+1,S):_)||l.forEachTileCoordParentTileRange(x.tileCoord,U,G,z)}for(var H,k=h/i,O=(wi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/p,1/p,n,-y/2,-d/2),xi(this.inversePixelTransform,this.pixelTransform),wi(this.tempTransform,y/2,d/2,k,k,0,-y/2,-d/2),this.renderedTiles.length=0,Object.keys(b).map(Number)),P=(O.sort($0),1!==t.opacity||this.containerReused&&!u.getOpaque(e.viewState.projection)?(H=[],0):O=O.reverse(),[]),T=null,E=O.length-1;0<=E;--E){var V,R=O[E],A=((null===T||R<T)&&(T=R),u.getTilePixelSize(R,a,r)),Y=l.getResolution(R)/h,W=A[0]*Y*k,q=A[1]*Y*k,M=l.getTileCoordForCoordAndZ(Fi(v),R),A=l.getTileCoordExtent(M),C=gi(this.tempTransform,[p*(A[0]-v[0])/h,p*(v[3]-A[3])/h]),X=p*u.getGutterForProjection(r),Z=b[R];for(V in Z){var j=Z[V],L=j.tileCoord,I=M[1]-L[1],J=Math.round(C[0]-(I-1)*W),L=M[2]-L[2],K=Math.round(C[1]-(L-1)*q),I=Math.round(C[0]-I*W),L=Math.round(C[1]-L*q),J=J-I,K=K-L,Q=c===R,$=Q&&1!==j.getAlpha(ai(this),e.time);this.drawTileImage(j,e,I,L,J,K,X,Q,P),H&&!$?this.renderedTiles.unshift(j):this.renderedTiles.push(j),this.updateUsedTiles(e.usedTiles,u,j)}}return this.renderedRevision=D,this.renderedResolution=h,this.extentChanged=!this.renderedExtent_||!Mi(this.renderedExtent_,v),this.renderedExtent_=v,this.renderedPixelRatio=a,this.renderedProjection=r,this.manageTilePyramid(e,u,l,a,r,f,c,s.getPreload()),this.scheduleExpireCache(e,u),this.thirdMap_&&(1===this.layercount_?this.thirdMap_._updateMesh&&this.thirdMap_._updateMesh(P,T):this.thirdMap_._coverMesh&&this.thirdMap_._coverMesh(P,T)),this.container}},{key:"drawTileImage",value:function(e,t,n,r,i,o,a,s,u){var l,c,h=this.getTileImage(e);h&&(l=ai(this),c=s?e.getAlpha(l,t.time):1,u.push({image:h,x:n,y:r,w:i,h:o,frameState:t}),1!==c?t.animate=!0:s&&e.endTransition(l))}},{key:"getTileImage",value:function(e){return e.getImage()}},{key:"scheduleExpireCache",value:function(e,t){t.canExpireCache()&&(t=function(e,t,n){var r=ai(e);r in n.usedTiles&&e.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,t),e.postRenderFunctions.push(t))}},{key:"updateUsedTiles",value:function(e,t,n){t=ai(t);t in e||(e[t]={}),e[t][n.getKey()]=!0}},{key:"manageTilePyramid",value:function(e,t,n,r,i,o,a,s,u){for(var l,c,h,f,p,y=ai(t),d=(y in e.wantedTiles||(e.wantedTiles[y]={}),e.wantedTiles[y]),v=e.tileQueue,m=0,b=n.getMinZoom();b<=a;++b)for(c=n.getTileRangeForExtentAndZ(o,b,c),h=n.getResolution(b),f=c.minX;f<=c.maxX;++f)for(p=c.minY;p<=c.maxY;++p)a-b<=s?(++m,(l=t.getTile(b,f,p,r,i)).getState()==I1&&(d[l.getKey()]=!0,v.isKeyQueued(l.getKey())||v.enqueue([l,y,n.getTileCoordCenter(l.tileCoord),h])),void 0!==u&&u(l)):t.useTile(b,f,p,i);t.updateCacheSize(m,i)}}])&&tl(t.prototype,n),e&&tl(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function ul(e){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ul(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ul(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ul(e)?e:e+""))(r.key),r)}}function cl(e,t,n){t=fl(t);var r=e,t=hl()?Reflect.construct(t,n||[],fl(e).constructor):t.apply(e,n);if(!t||"object"!=ul(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function hl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hl=function(){return!!e})()}function fl(e){return(fl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pl(e,t){return(pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var yl=(()=>{function n(e){var t;if(this instanceof n)return(t=cl(this,n,[e])).layercount_=e.layercount,t.thirdMap_=e.thirdMap,t;throw new TypeError("Cannot call a class as a function")}var e,t=n,r=R4;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&pl(t,r),t=n,(r=[{key:"createRenderer",value:function(){return new sl(this)}}])&&ll(t.prototype,r),e&&ll(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})(),dl={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function vl(e,t,n,r,i,o){for(var a=o||[],s=0,u=t;u<n;u+=r){var l=e[u],c=e[u+1];a[s++]=i[0]*l+i[2]*c+i[4],a[s++]=i[1]*l+i[3]*c+i[5]}return o&&a.length!=s&&(a.length=s),a}function ml(e){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ml(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ml(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ml(e)?e:e+""))(r.key),r)}}function gl(e,t,n){t=xl(t);var r=e,t=wl()?Reflect.construct(t,n||[],xl(e).constructor):t.apply(e,n);if(!t||"object"!=ml(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function wl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wl=function(){return!!e})()}function xl(e){return(xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _l(e,t){return(_l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Sl=bi(),kl=(()=>{function a(){var e,t,n,r,i,o;if(this instanceof a)return(e=gl(this,a)).extent_=Ei(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=(o=!(t=function(e,t,n){var r;return(n?((r=this.clone()).applyTransform(n),r):this).getSimplifiedGeometry(t)}),function(){var e=Array.prototype.slice.call(arguments);return o&&this===i&&ni(e,r)||(o=!0,i=this,r=e,n=t.apply(this,arguments)),n}),e;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=Ko;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&_l(t,n),t=a,(n=[{key:"simplifyTransformed",value:function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}},{key:"clone",value:function(){return u()}},{key:"closestPointXY",value:function(e,t,n,r){return u()}},{key:"containsXY",value:function(e,t){var n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}},{key:"getClosestPoint",value:function(e,t){t=t||[NaN,NaN];return this.closestPointXY(e[0],e[1],t,1/0),t}},{key:"intersectsCoordinate",value:function(e){return this.containsXY(e[0],e[1])}},{key:"computeExtent",value:function(e){return u()}},{key:"getExtent",value:function(e){var t;return this.extentRevision_!=this.getRevision()&&(t=this.computeExtent(this.extent_),(isNaN(t[0])||isNaN(t[1]))&&Ai(t),this.extentRevision_=this.getRevision()),t=this.extent_,(e=e)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}},{key:"rotate",value:function(e,t){u()}},{key:"scale",value:function(e,t,n){u()}},{key:"simplify",value:function(e){return this.getSimplifiedGeometry(e*e)}},{key:"getSimplifiedGeometry",value:function(e){return u()}},{key:"getType",value:function(){return u()}},{key:"applyTransform",value:function(e){u()}},{key:"intersectsExtent",value:function(e){return u()}},{key:"translate",value:function(e,t){u()}},{key:"transform",value:function(e,o){var a=Is(e),e=a.getUnits()==Z1.TILE_PIXELS?function(e,t,n){var r=a.getExtent(),i=a.getWorldExtent(),r=Di(i)/Di(r);return wi(Sl,i[0],i[3],r,-r,0,0,0),vl(e,0,e.length,n,Sl,t),Us(a,o)(e,t,n)}:Us(a,o);return this.applyTransform(e),this}}])&&bl(t.prototype,n),e&&bl(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Ol(e){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Ol(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Ol(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Ol(e)?e:e+""))(r.key),r)}}function Tl(e,t,n){t=Rl(t);var r=e,t=El()?Reflect.construct(t,n||[],Rl(e).constructor):t.apply(e,n);if(!t||"object"!=Ol(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function El(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(El=function(){return!!e})()}function Rl(e){return(Rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Al(e,t){return(Al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ml(e){var t;return e==dl.XY?t=2:e==dl.XYZ||e==dl.XYM?t=3:e==dl.XYZM&&(t=4),t}var Cl=(()=>{function t(){var e;if(this instanceof t)return(e=Tl(this,t)).layout=dl.XY,e.stride=2,e.flatCoordinates=null,e;throw new TypeError("Cannot call a class as a function")}var e,n=t,r=kl;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Al(n,r),n=t,(r=[{key:"computeExtent",value:function(e){return t=this.flatCoordinates,n=0,r=this.flatCoordinates.length,i=this.stride,Ci(Ai(e),t,n,r,i);var t,n,r,i}},{key:"getCoordinates",value:function(){return u()}},{key:"getFirstCoordinate",value:function(){return this.flatCoordinates.slice(0,this.stride)}},{key:"getFlatCoordinates",value:function(){return this.flatCoordinates}},{key:"getLastCoordinate",value:function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}},{key:"getLayout",value:function(){return this.layout}},{key:"getSimplifiedGeometry",value:function(e){var t;return this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance?this:(t=this.getSimplifiedGeometryInternal(e)).getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}},{key:"getSimplifiedGeometryInternal",value:function(e){return this}},{key:"getStride",value:function(){return this.stride}},{key:"setFlatCoordinates",value:function(e,t){this.stride=Ml(e),this.layout=e,this.flatCoordinates=t}},{key:"setCoordinates",value:function(e,t){u()}},{key:"setLayout",value:function(e,t,n){var r;if(e)r=Ml(e);else{for(var i=0;i<n;++i){if(0===t.length)return this.layout=dl.XY,void(this.stride=2);t=t[0]}e=(e=>{var t;return 2==e?t=dl.XY:3==e?t=dl.XYZ:4==e&&(t=dl.XYZM),t})(r=t.length)}this.layout=e,this.stride=r}},{key:"applyTransform",value:function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}},{key:"rotate",value:function(e,t){var n=this.getFlatCoordinates();if(n){for(var r=this.getStride(),i=n,o=0,a=n.length,s=r,r=e,e=t,t=n,u=t||[],l=Math.cos(r),c=Math.sin(r),h=e[0],f=e[1],p=0,y=o;y<a;y+=s){var d=i[y]-h,v=i[y+1]-f;u[p++]=h+d*l-v*c,u[p++]=f+d*c+v*l;for(var m=y+2;m<y+s;++m)u[p++]=i[m]}t&&u.length!=p&&(u.length=p),this.changed()}}},{key:"scale",value:function(e,t,n){var r=t;void 0===t&&(r=e);t=(t=n)||Ii(this.getExtent()),n=this.getFlatCoordinates();if(n){for(var i=this.getStride(),o=n,a=0,s=n.length,u=i,l=e,c=r,i=t,e=n,h=e||[],f=i[0],p=i[1],y=0,d=a;d<s;d+=u){var v=o[d]-f,m=o[d+1]-p;h[y++]=f+l*v,h[y++]=p+c*m;for(var b=d+2;b<d+u;++b)h[y++]=o[b]}e&&h.length!=y&&(h.length=y),this.changed()}}},{key:"translate",value:function(e,t){var n=this.getFlatCoordinates();if(n){for(var r=this.getStride(),i=n,o=0,a=n.length,s=r,u=e,l=t,r=n,c=r||[],h=0,f=o;f<a;f+=s){c[h++]=i[f]+u,c[h++]=i[f+1]+l;for(var p=f+2;p<f+s;++p)c[h++]=i[p]}r&&c.length!=h&&(c.length=h),this.changed()}}}])&&Pl(n.prototype,r),e&&Pl(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n})();function jl(e,t,n,r,i,o,a){var s,u,l=e[t],c=e[t+1],h=e[n]-l,f=e[n+1]-c;if(0==h&&0==f)s=t;else{var p=((i-l)*h+(o-c)*f)/(h*h+f*f);if(1<p)s=n;else{if(0<p){for(var y=0;y<r;++y)a[y]=(u=e[t+y])+p*(e[n+y]-u);return void(a.length=r)}s=t}}for(var d=0;d<r;++d)a[d]=e[s+d];a.length=r}function Ll(e,t,n,r,i){var o=e[t],a=e[t+1];for(t+=r;t<n;t+=r){var s=e[t],u=e[t+1],l=qi(o,a,s,u);i<l&&(i=l),o=s,a=u}return i}function Il(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=Ll(e,t,s,r,i),t=s}return i}function Nl(e,t,n,r,i,o,a,s,u,l,c){var h,f;if(t!=n)if(0===i){if((f=qi(a,s,e[t],e[t+1]))<l){for(h=0;h<r;++h)u[h]=e[t+h];return u.length=r,f}}else{for(var p=c||[NaN,NaN],y=t+r;y<n;)if(jl(e,y-r,y,r,a,s,p),(f=qi(a,s,p[0],p[1]))<l){for(l=f,h=0;h<r;++h)u[h]=p[h];y+=u.length=r}else y+=r*Math.max((Math.sqrt(f)-Math.sqrt(l))/i|0,1);if(o&&(jl(e,n-r,t,r,a,s,p),(f=qi(a,s,p[0],p[1]))<l)){for(l=f,h=0;h<r;++h)u[h]=p[h];u.length=r}}return l}function Dl(e,t,n,r,i,o,a,s,u,l,c){for(var h=c||[NaN,NaN],f=0,p=n.length;f<p;++f){var y=n[f];l=Nl(e,t,y,r,i,o,a,s,u,l,h),t=y}return l}function Bl(e,t,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)e[t++]=a[s];return t}function Fl(e,t,n,r,i){for(var o=i||[],a=0,s=0,u=n.length;s<u;++s){var l=Bl(e,t,n[s],r);t=o[a++]=l}return o.length=a,o}function Ul(e,t,n,r,i,o,a){var s=(n-t)/r;if(s<3)for(;t<n;t+=r)o[a++]=e[t],o[a++]=e[t+1];else{for(var u,l,c,h,f,p,y,d=new Array(s),v=(d[0]=1,d[s-1]=1,[t,n-r]),m=0;0<v.length;){for(var b=v.pop(),g=v.pop(),w=0,x=e[g],_=e[g+1],S=e[b],k=e[b+1],O=g+r;O<b;O+=r){var P=e[O],T=(P=P,u=e[O+1],y=p=f=void 0,y=(h=k)-(c=_),0==(p=(T=S)-(l=x))&&0==y||(1<(f=((P-l)*p+(u-c)*y)/(p*p+y*y))?(l=T,c=h):0<f&&(l+=p*f,c+=y*f)),qi(P,u,l,c));w<T&&(m=O,w=T)}i<w&&(d[(m-t)/r]=1,g+r<m&&v.push(g,m),m+r<b)&&v.push(m,b)}for(var E=0;E<s;++E)d[E]&&(o[a++]=e[t+E*r],o[a++]=e[t+E*r+1])}return a}function zl(e,t){return t*Math.round(e/t)}function Gl(e,t,n,r,i,o,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];a=((e,t,n,r,i,o,a)=>{if(t!=n){var s,u=zl(e[t],i),l=zl(e[t+1],i);t+=r,o[a++]=u,o[a++]=l;do{if(s=zl(e[t],i),y=zl(e[t+1],i),(t+=r)==n)return o[a++]=s,o[a++]=y,a}while(s==u&&y==l);for(;t<n;){var c,h,f,p,y,d=zl(e[t],i),v=zl(e[t+1],i);t+=r,d==s&&v==y||(s=((c=s-u)*(p=v-l)==(h=y-l)*(f=d-u)&&(c<0&&f<c||c==f||0<c&&c<f)&&(h<0&&p<h||h==p||0<h&&h<p)||(u=o[a++]=s,l=o[a++]=y),d),y=v)}o[a++]=s,o[a++]=y}return a})(e,t,c,r,i,o,a),s.push(a),t=c}return a}function Hl(e,t,n,r,i){for(var o=void 0!==i?i:[],a=0,s=t;s<n;s+=r)o[a++]=e.slice(s,s+r);return o.length=a,o}function Vl(e,t,n,r,i){for(var o=void 0!==i?i:[],a=0,s=0,u=n.length;s<u;++s){var l=n[s];o[a++]=Hl(e,t,l,r,o[a]),t=l}return o.length=a,o}function Yl(e,t,n,r){for(var i=0,o=e[n-r],a=e[n-r+1];t<n;t+=r){var s=e[t],u=e[t+1];i+=a*s-o*u,o=s,a=u}return i/2}function Wl(e,t,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=Yl(e,t,s,r),t=s}return i}function ql(e){return(ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ql(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ql(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ql(e)?e:e+""))(r.key),r)}}function Zl(e,t,n){t=Kl(t);var r=e,t=Jl()?Reflect.construct(t,n||[],Kl(e).constructor):t.apply(e,n);if(!t||"object"!=ql(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Jl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jl=function(){return!!e})()}function Kl(e){return(Kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ql(e,t){return(Ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var $l=(()=>{function r(e,t){var n;if(this instanceof r)return(n=Zl(this,r)).maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?n.setCoordinates(e,t):n.setFlatCoordinates(t,e),n;throw new TypeError("Cannot call a class as a function")}var e,t=r,n=Cl;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Ql(t,n),t=r,(n=[{key:"clone",value:function(){return new r(this.flatCoordinates.slice(),this.layout)}},{key:"closestPointXY",value:function(e,t,n,r){return r<ki(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ll(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Nl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,r))}},{key:"getArea",value:function(){return Yl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinates",value:function(){return Hl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[];return t.length=Ul(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new r(t,dl.XY)}},{key:"getType",value:function(){return Rs.LINEAR_RING}},{key:"intersectsExtent",value:function(e){return!1}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Bl(this.flatCoordinates,0,e,this.stride),this.changed()}}])&&Xl(t.prototype,n),e&&Xl(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function e5(e){return(e5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=e5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=e5(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==e5(e)?e:e+""))(r.key),r)}}function n5(e,t,n){t=i5(t);var r=e,t=r5()?Reflect.construct(t,n||[],i5(e).constructor):t.apply(e,n);if(!t||"object"!=e5(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function r5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(r5=function(){return!!e})()}function i5(e){return(i5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o5(e,t){return(o5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var a5=(()=>{function r(e,t){var n;if(this instanceof r)return(n=n5(this,r)).setCoordinates(e,t),n;throw new TypeError("Cannot call a class as a function")}var e,t=r,n=Cl;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&o5(t,n),t=r,(n=[{key:"clone",value:function(){var e=new r(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,r){var i=this.flatCoordinates,e=qi(e,t,i[0],i[1]);if(e<r){for(var o=this.stride,a=0;a<o;++a)n[a]=i[a];return n.length=o,e}return r}},{key:"getCoordinates",value:function(){return this.flatCoordinates?this.flatCoordinates.slice():[]}},{key:"computeExtent",value:function(e){return t=this.flatCoordinates,Ri(n=t[0],t=t[1],n,t,e);var t,n}},{key:"getType",value:function(){return Rs.POINT}},{key:"intersectsExtent",value:function(e){return Pi(e,this.flatCoordinates[0],this.flatCoordinates[1])}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=((e,t,n)=>{for(var r=0,i=n.length;r<i;++r)e[t++]=n[r];return t})(this.flatCoordinates,0,e,this.stride),this.changed()}}])&&t5(t.prototype,n),e&&t5(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function s5(t,n,r,i,e){var o;return!((o=function(e){return!u5(t,n,r,i,e[0],e[1])})(ji(e=e))||o(Li(e))||o(Ui(e))||o(Fi(e))||!1)}function u5(e,t,n,r,i,o){for(var a=0,s=e[n-r],u=e[n-r+1];t<n;t+=r){var l=e[t],c=e[t+1];u<=o?o<c&&0<(l-s)*(o-u)-(i-s)*(c-u)&&a++:c<=o&&(l-s)*(o-u)-(i-s)*(c-u)<0&&a--,s=l,u=c}return 0!==a}function l5(e,t,n,r,i,o){if(0===n.length)return!1;if(!u5(e,t,n[0],r,i,o))return!1;for(var a=1,s=n.length;a<s;++a)if(u5(e,n[a-1],n[a],r,i,o))return!1;return!0}function c5(e,t,n,r,i,o,a){for(var s,u,l,c=i[o+1],h=[],f=0,p=n.length;f<p;++f)for(var y=n[f],d=e[y-r],v=e[y-r+1],m=t;m<y;m+=r)w=e[m],l=e[m+1],(c<=v&&l<=c||v<=c&&c<=l)&&h.push(u=(c-v)/(l-v)*(w-d)+d),d=w,v=l;var b=NaN,g=-1/0;for(h.sort($0),d=h[0],m=1,s=h.length;m<s;++m){var w=h[m],x=Math.abs(w-d);g<x&&l5(e,t,n,r,u=(d+w)/2,c)&&(b=u,g=x),d=w}return isNaN(b)&&(b=i[o]),a?(a.push(b,c,g),a):[b,c,g]}function h5(e,t,n,r,p){var i,o,a=Ci(Ei(),e,t,n,r);if(Gi(p,a)){if(o=a,(i=p)[0]<=o[0]&&o[2]<=i[2]&&i[1]<=o[1]&&o[3]<=i[3])return 1;if(a[0]>=p[0]&&a[2]<=p[2])return 1;if(p[1]<=a[1]&&a[3]<=p[3])return 1;var s,u=e,l=t,c=n,h=r,f=function(e,t){return t=t,c=!1,h=Ti(n=p,e=e),f=Ti(n,t),h===Si.INTERSECTING||f===Si.INTERSECTING?c=!0:(r=n[0],i=n[1],o=n[2],n=n[3],a=e[0],s=t[0],e=((t=t[1])-e[1])/(s-a),(c=(c=(c=f&Si.ABOVE&&!(h&Si.ABOVE)?r<=(u=s-(t-n)/e)&&u<=o:c)||!(f&Si.RIGHT)||h&Si.RIGHT?c:i<=(l=t-(s-o)*e)&&l<=n)||!(f&Si.BELOW)||h&Si.BELOW?c:r<=(u=s-(t-i)/e)&&u<=o)||!(f&Si.LEFT)||h&Si.LEFT||(c=i<=(l=t-(s-r)*e)&&l<=n)),c;var n,r,i,o,a,s,u,l,c,h,f};for(l+=h;l<c;l+=h)if(s=f(u.slice(l-h,l),u.slice(l,l+h)))return s}}function f5(e,t,n,r,i){if(o=e,t=t,a=n[0],!(h5(o,t,a,s=r,u=i)||u5(o,t,a,s,u[0],u[1])||u5(o,t,a,s,u[0],u[3])||u5(o,t,a,s,u[2],u[1]))&&!u5(o,t,a,s,u[2],u[3]))return!1;var o,a,s,u;if(1!==n.length)for(var l=1,c=n.length;l<c;++l)if(s5(e,n[l-1],n[l],r,i)&&!h5(e,n[l-1],n[l],r,i))return!1;return!0}function p5(e,t,n,r){for(var i=0,o=e[n-r],a=e[n-r+1];t<n;t+=r){var s=e[t],u=e[t+1];i+=(s-o)*(u+a),o=s,a=u}return 0===i?void 0:0<i}function y5(e,t,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var u=n[a],l=p5(e,t,u,r);if(0===a){if(o&&l||!o&&!l)return}else if(o&&!l||!o&&l)return;t=u}return 1}function d5(e,t,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var u=n[a],l=p5(e,t,u,r);if(0===a?o&&l||!o&&!l:o&&!l||!o&&l){d=y=p=f=h=c=void 0;for(var c=e,h=t,f=u,p=r;h<f-p;){for(var y=0;y<p;++y){var d=c[h+y];c[h+y]=c[f-p+y],c[f-p+y]=d}h+=p,f-=p}}t=u}return t}function v5(e){return(v5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=v5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=v5(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==v5(e)?e:e+""))(r.key),r)}}function b5(e,t,n){t=w5(t);var r=e,t=g5()?Reflect.construct(t,n||[],w5(e).constructor):t.apply(e,n);if(!t||"object"!=v5(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function g5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g5=function(){return!!e})()}function w5(e){return(w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x5(e,t){return(x5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var _5=(()=>{function i(e,t,n){var r;if(this instanceof i)return(r=b5(this,i)).ends_=[],r.flatInteriorPointRevision_=-1,r.flatInteriorPoint_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,void 0!==t&&n?(r.setFlatCoordinates(t,e),r.ends_=n):r.setCoordinates(e,t),r;throw new TypeError("Cannot call a class as a function")}var e,t=i,n=Cl;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&x5(t,n),t=i,(n=[{key:"appendLinearRing",value:function(e){this.flatCoordinates?ti(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var e=new i(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,r){return r<ki(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Il(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Dl(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,r))}},{key:"containsXY",value:function(e,t){return l5(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}},{key:"getArea",value:function(){return Wl(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}},{key:"getCoordinates",value:function(e){var t;return void 0!==e?d5(t=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):t=this.flatCoordinates,Vl(t,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getFlatInteriorPoint",value:function(){var e;return this.flatInteriorPointRevision_!=this.getRevision()&&(e=Ii(this.getExtent()),this.flatInteriorPoint_=c5(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()),this.flatInteriorPoint_}},{key:"getInteriorPoint",value:function(){return new a5(this.getFlatInteriorPoint(),dl.XYM)}},{key:"getLinearRingCount",value:function(){return this.ends_.length}},{key:"getLinearRing",value:function(e){return e<0||this.ends_.length<=e?null:new $l(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}},{key:"getLinearRings",value:function(){for(var e=this.layout,t=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o],u=new $l(t.slice(i,s),e);r.push(u),i=s}return r}},{key:"getOrientedFlatCoordinates",value:function(){var e;return this.orientedRevision_!=this.getRevision()&&(y5(e=this.flatCoordinates,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=d5(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()),this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[],n=[];return t.length=Gl(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new i(t,dl.XY,n)}},{key:"getType",value:function(){return Rs.POLYGON}},{key:"intersectsExtent",value:function(e){return f5(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);t=Fl(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===t.length?0:t[t.length-1],this.changed()}}])&&m5(t.prototype,n),e&&m5(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();var S5=function(e,t,n){n=n||2;var r,i,o,a,s,u=t&&t.length,l=u?t[0]*n:e.length,c=k5(e,0,l,n,!0),h=[];if(c&&c.next!==c.prev){if(u&&(c=((e,t,n,r)=>{var i,o,a,s,u=[];for(i=0,o=t.length;i<o;i++)s=t[i]*r,a=i<o-1?t[i+1]*r:e.length,(s=k5(e,s,a,r,!1))===s.next&&(s.steiner=!0),u.push((e=>{for(var t=e,n=e;(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),(t=t.next)!==e;);return n})(s));for(u.sort(T5),i=0;i<u.length;i++){{l=void 0;c=void 0;var l=u[i];var c=n;(c=((e,t)=>{var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&a<s){if((a=s)===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}}while((r=r.next)!==t);if(!n)return null;if(i!==a){var u,l=n,c=n.x,h=n.y,f=1/0;for(r=n;i>=r.x&&r.x>=c&&i!==r.x&&R5(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),L5(r,e))&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&((e,t)=>O(e.prev,e,t.prev)<0&&O(t.next,e,e.next)<0)(n,r)))&&(n=r,f=u),(r=r.next)!==l;);}return n})(l,c))&&(l=I5(c,l),O5(c,c.next),O5(l,l.next))}n=O5(n,n.next)}return n})(e,t,c,n)),e.length>80*n){for(var f=r=e[0],p=i=e[1],y=n;y<l;y+=n)(o=e[y])<f&&(f=o),(a=e[y+1])<p&&(p=a),r<o&&(r=o),i<a&&(i=a);s=0!==(s=Math.max(r-f,i-p))?1/s:0}P5(c,h,n,f,p,s)}return h};function k5(e,t,n,r,i){var o,a;if(i===0<((e,t,n,r)=>{for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i})(e,t,n,r))for(o=t;o<n;o+=r)a=N5(o,e[o],e[o+1],a);else for(o=n-r;t<=o;o-=r)a=N5(o,e[o],e[o+1],a);return a&&A5(a,a.next)&&(D5(a),a=a.next),a}function O5(e,t){if(!e)return e;t=t||e;var n,r=e;do{if(n=!1,r.steiner||!A5(r,r.next)&&0!==O(r.prev,r,r.next))r=r.next;else{if(D5(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function P5(e,t,n,r,i,o,a){if(e){if(!a&&o){for(var s=e,u=r,l=i,c=o,h=s;null===h.z&&(h.z=E5(h.x,h.y,u,l,c)),h.prevZ=h.prev,h.nextZ=h.next,(h=h.next)!==s;);h.prevZ.nextZ=null,h.prevZ=null;var f,p,y,d,v,m,b,g,w=h,x=1;do{for(p=w,v=w=null,m=0;p;){for(m++,y=p,f=b=0;f<x&&(b++,y=y.nextZ);f++);for(g=x;0<b||0<g&&y;)0!==b&&(0===g||!y||p.z<=y.z)?(p=(d=p).nextZ,b--):(y=(d=y).nextZ,g--),v?v.nextZ=d:w=d,d.prevZ=v,v=d;p=y}}while(v.nextZ=null,x*=2,1<m)}for(var _,S,k=e;e.prev!==e.next;)if(_=e.prev,S=e.next,o?((e,t,n,r)=>{var i=e.prev,o=e,a=e.next;if(!(0<=O(i,o,a))){for(var s=(i.x<o.x?i.x<a.x?i:a:o.x<a.x?o:a).x,u=(i.y<o.y?i.y<a.y?i:a:o.y<a.y?o:a).y,l=(o.x<i.x?i.x>a.x?i:a:o.x>a.x?o:a).x,c=(o.y<i.y?i.y>a.y?i:a:o.y>a.y?o:a).y,h=E5(s,u,t,n,r),f=E5(l,c,t,n,r),p=e.prevZ,y=e.nextZ;p&&p.z>=h&&y&&y.z<=f;){if(p!==e.prev&&p!==e.next&&R5(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&0<=O(p.prev,p,p.next))return;if(p=p.prevZ,y!==e.prev&&y!==e.next&&R5(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&0<=O(y.prev,y,y.next))return;y=y.nextZ}for(;p&&p.z>=h;){if(p!==e.prev&&p!==e.next&&R5(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&0<=O(p.prev,p,p.next))return;p=p.prevZ}for(;y&&y.z<=f;){if(y!==e.prev&&y!==e.next&&R5(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&0<=O(y.prev,y,y.next))return;y=y.nextZ}return 1}})(e,r,i,o):(e=>{var t=e.prev,n=e,r=e.next;if(!(0<=O(t,n,r))){for(var i=e.next.next;i!==e.prev;){if(R5(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&0<=O(i.prev,i,i.next))return;i=i.next}return 1}})(e))t.push(_.i/n),t.push(e.i/n),t.push(S.i/n),D5(e),e=S.next,k=S.next;else if((e=S)===k){a?1===a?P5(e=((e,t,n)=>{var r=e;do{var i=r.prev,o=r.next.next}while(!A5(i,o)&&M5(i,r,r.next,o)&&L5(i,o)&&L5(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),D5(r),D5(r.next),r=e=o),(r=r.next)!==e);return O5(r)})(O5(e),t,n),t,n,r,i,o,2):2===a&&((e,t,n,r,i,o)=>{var a=e;do{for(var s,u=a.next.next;u!==a.prev;){if(a.i!==u.i&&((e,t)=>e.next.i!==t.i&&e.prev.i!==t.i&&!((e,t)=>{var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&M5(n,n.next,e,t))return 1}while((n=n.next)!==e)})(e,t)&&(L5(e,t)&&L5(t,e)&&((e,t)=>{for(var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),(n=n.next)!==e;);return r})(e,t)&&(O(e.prev,e,t.prev)||O(e,t.prev,t))||A5(e,t)&&0<O(e.prev,e,e.next)&&0<O(t.prev,t,t.next)))(a,u))return s=I5(a,u),a=O5(a,a.next),s=O5(s,s.next),P5(a,t,n,r,i,o),P5(s,t,n,r,i,o);u=u.next}}while((a=a.next)!==e)})(e,t,n,r,i,o):P5(O5(e),t,n,r,i,o,1);break}}}function T5(e,t){return e.x-t.x}function E5(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function R5(e,t,n,r,i,o,a,s){return 0<=(i-a)*(t-s)-(e-a)*(o-s)&&0<=(e-a)*(r-s)-(n-a)*(t-s)&&0<=(n-a)*(o-s)-(i-a)*(r-s)}function O(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function A5(e,t){return e.x===t.x&&e.y===t.y}function M5(e,t,n,r){var i=j5(O(e,t,n)),o=j5(O(e,t,r)),a=j5(O(n,r,e)),s=j5(O(n,r,t));return i!==o&&a!==s||0===i&&C5(e,n,t)||0===o&&C5(e,r,t)||0===a&&C5(n,e,r)||!(0!==s||!C5(n,t,r))}function C5(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function j5(e){return 0<e?1:e<0?-1:0}function L5(e,t){return O(e.prev,e,e.next)<0?0<=O(e,t,e.next)&&0<=O(e,e.prev,t):O(e,t,e.prev)<0||O(e,e.next,t)<0}function I5(e,t){var n=new B5(e.i,e.x,e.y),r=new B5(t.i,t.x,t.y),i=e.next,o=t.prev;return(e.next=t).prev=e,(n.next=i).prev=n,r.next=n,(o.next=n.prev=r).prev=o,r}function N5(e,t,n,r){e=new B5(e,t,n);return r?(e.next=r.next,(e.prev=r).next.prev=e,r.next=e):(e.prev=e).next=e,e}function D5(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function B5(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function F5(e){return(e=>{if(Array.isArray(e))return U5(e)})(e)||(e=>{if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)})(e)||((e,t)=>{var n;if(e)return"string"==typeof e?U5(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U5(e,t):void 0})(e)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function U5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var z5={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return z5.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[],o=(G5(e),H5(n,e),e.length);t.forEach(G5);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,H5(n,t[a]);for(var s=S5(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i},triangulate:function(e){(i=[]).push.apply(i,F5(e[0]));for(var t=[],n=1;n<e.length;n++){var r=[];r.push.apply(r,F5(e[n])),t.push(r)}if(!z5.isClockWise(i))for(var i=i.reverse(),o=0,a=t.length;o<a;o++){var s=t[o];z5.isClockWise(s)&&(t[o]=s.reverse())}return z5.triangulateShape(i,t)}};function G5(e){var t,n=e.length;2<n&&(n=e[n-1],t=e[0],n.x===t.x)&&n.y===t.y&&e.pop()}function H5(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function V5(e){return(V5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=V5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=V5(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==V5(e)?e:e+""))(r.key),r)}}function W5(e,t,n){return t&&Y5(e.prototype,t),n&&Y5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var q5=1e-5,X5=Math.PI/180,Z5=180/Math.PI,Os=W5(function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")});Object.assign(Os.prototype,{_epsilon:function(){return q5},_deg2Rad:function(){return X5},_rad2Deg:function(){return Z5},_isZero:function(e){return e<q5&&-q5<e},_gtZero:function(e){return q5<e},_ltZero:function(e){return e<-q5},_cross:function(e,t,n){t=(e.x-n.x)*(t.y-n.y)-(t.x-n.x)*(e.y-n.y);return Math.abs(t)<q5?0:t},distanceOfTwoPoints:function(e,t){return e&&t?Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)):Number.NaN},distance:function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},isPolygonContainPoint:function(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r].x,o=e[r].y,a=0,s=0,s=(r<e.length-1?(a=e[r+1].x,e[r+1]):(a=e[0].x,e[0])).y;if(i===t.x&&o===t.y||a===t.x&&s===t.y)return!0;if(s!==o){var u=i+(t.y-o)*(a-i)/(s-o);if(u===t.x)return!0;i!==a?u<=Math.max(i,a)&&u>=Math.min(i,a)&&u>t.x&&u!==i&&(u===a&&0<(o-t.y)*(s-t.y)?n+=2:n++):u<=Math.max(i,a)&&u>=Math.min(i,a)&&u>t.x&&(u===a&&0<(o-t.y)*(s-t.y)?n+=2:n++)}}return 0<n%2},isPolygonContainPoint2:function(e,t){var n=e.length;if(n<3)return!1;for(var r=n-1,i=0,o=0;o<n;o++){var a=e[o],s=e[r];a.y>t.y!=s.y>t.y&&t.x<(s.x-a.x)*(t.y-a.y)/(s.y-a.y)+a.x&&(a.y>s.y?i++:i--),r=o}return 0!=i},isPolygonInPolygon:function(e,t){var n=Object.assign([],e),r=Object.assign([],t);n.push(n[0]),r.push(r[0]);for(var i=0;i<n.length-1;i++){var o=n[i];if(!this.isPolygonContainPoint(r,o)&&!this.isPolygonContainPoint2(r,o))return!1}for(var a=0;a<n.length-1;a++)for(var s=0;s<r.length-1;s++)if(this._isLinesIntersect(n[a],n[a+1],r[s],r[s+1]).isintersect&&!this._isPointOnLine(r[s],r[s+1],n[a])&&!this._isPointOnLine(r[s],r[s+1],n[a+1]))return!1;return!0},_isRectCross:function(e,t,n,r){return!(Math.max(e.x,t.x)<Math.min(n.x,r.x)||Math.max(e.y,t.y)<Math.min(n.y,r.y)||Math.max(n.x,r.x)<Math.min(e.x,t.x)||Math.max(n.y,r.y)<Math.min(e.y,t.y))},_isLineSegmentCross:function(e,t,n,r){return!(Math.max(e.x,t.x)<Math.min(n.x,r.x)||Math.max(e.y,t.y)<Math.min(n.y,r.y)||Math.max(n.x,r.x)<Math.min(e.x,t.x)||Math.max(n.y,r.y)<Math.min(e.y,t.y)||0===this._cross(n,t,e)&&0===this._cross(t,r,e)||this._cross(n,t,e)*this._cross(t,r,e)<0||this._cross(e,r,n)*this._cross(r,t,n)<0)},_isPointInRect:function(e,t,n){return!(e.x<t.x||e.y<t.y||e.x>n.x||n.y<e.y)},_isPointInRect1:function(e,t,n){var r=Math.min(t.x,n.x),i=Math.max(t.x,n.x),o=Math.min(t.y,n.y),t=Math.max(t.y,n.y);return!(e.x<r||e.x>i||e.y<o||e.y>t)},_isPointInLineRect:function(e,t,n){var r=Math.min(n.x,t.x),i=Math.max(n.x,t.x),o=Math.min(n.y,t.y),n=Math.max(n.y,t.y);return!(e.x<r||e.x>i||e.y<o||e.y>n)},_isPointInPolygon:function(e,t,n){for(var r,i,o=!1,a=0;a<n;a++)r=t[a],i=t[(a+1)%n],(r.y<e.y&&i.y>=e.y||i.y<e.y&&r.y>=e.y)&&(r.x<=e.x||i.x<=e.x)&&r.x+(e.y-r.y)/(i.y-r.y)*(i.x-r.x)<e.x&&(o=!o);return o},_isPointOnSegment:function(e,t,n){return(e.x-t.x)*(n.y-t.y)==(n.x-t.x)*(e.y-t.y)&&Math.min(t.x,n.x)<=e.x&&e.x<=Math.max(t.x,n.x)&&Math.min(t.y,n.y)<=e.y&&e.y<=Math.max(t.y,n.y)},_distance:function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},_distanceSquare:function(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)},_distanceSquarePointToLine:function(e,t,n){var r=t.x,t=t.y,i=n.x,n=n.y,o=e.x,e=e.y,a=i-r,s=n-t,u=a*a+s*s,l=o-r,c=e-t,h=l*l+c*c;return this._isZero(u)?this._isZero(h)?0:h:(u=Math.sqrt(u),c=this._gtZero(s=(a=a/u)*l+(l=s/u)*c)?this._ltZero(s-u)?(c=o-(r+s*a))*c+(u=e-(t+s*l))*u:(r=o-i)*r+(a=e-n)*a:h,this._isZero(c)?0:c)},_distancePointToLine:function(e,t,n,r){var i,o=t.x,a=t.y,s=n.x,u=n.y,l=e.x,e=e.y,c=s-o,h=u-a,f=Math.sqrt(c*c+h*h),p=l-o,y=e-a,d=Math.sqrt(p*p+y*y);return this._isZero(f)?(r.x=t.x,r.y=t.y,this._isZero(i=d)?0:i):(i=this._gtZero(h=(c=c/f)*p+(p=h/f)*y)?this._ltZero(h-f)?(f=l-(y=o+h*c),c=e-(o=a+h*p),a=Math.sqrt(f*f+c*c),r.x=y,r.y=o,a):(h=l-s,p=e-u,f=Math.sqrt(h*h+p*p),r.x=n.x,r.y=n.y,f):(r.x=t.x,r.y=t.y,d),this._isZero(i)?0:i)},_calcGravityCenter:function(e,t){for(var n=0,r=0,i=0,o=0;o<t;o++){var a=e[o],s=e[(o+1)%t],u=(a.x*s.y-a.y*s.x)/2;n+=u,r+=u*(a.x+s.x)/3,i+=u*(a.y+s.y)/3}return{x:r/=n,y:i/=n}},_calcCentroid:function(e){for(var t=z5.triangulate([e]),n=0,r=0,i=0,o=0;o<t.length;o++){var a=e[t[o][0]],s=e[t[o][1]],u=e[t[o][2]],l=s.x-a.x,c=s.y-a.y,h=u.x-a.x,l=(l*(u.y-a.y)-h*c)/2;n+=l,r+=(a.x+s.x+u.x)/3*l,i+=(a.y+s.y+u.y)/3*l}return{x:r/n,y:i/n}},_calcPolygonArea:function(e,t){if(t<3)return 0;for(var n=0,r=0;r<t;++r){var i=e[r],o=e[(r+1)%t];n+=i.x*o.y-i.y*o.x}return Math.abs(n/2)},_calcCrossPoint:function(e,t,n,r,i){var o;return this._isLineSegmentCross(e,t,n,r)?(o=(r.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-r.y),i.x=((e.y-n.y)*(t.x-e.x)*(r.x-n.x)+n.x*(r.y-n.y)*(t.x-e.x)-e.x*(t.y-e.y)*(r.x-n.x))/o,i.y=(t.y*(e.x-t.x)*(r.y-n.y)+(r.x-t.x)*(r.y-n.y)*(e.y-t.y)-r.y*(n.x-r.x)*(t.y-e.y))/(o=(e.x-t.x)*(r.y-n.y)-(t.y-e.y)*(n.x-r.x)),1):0},_rayIntersect:function(e,t,n,r,i){var o=Math.min(n.x,r.x),a=Math.max(n.x,r.x),s=Math.min(n.y,r.y),u=Math.max(n.y,r.y),l=e.x,c=e.y,h=n.x,f=n.y,p=r.x,y=r.y;if(90==t)return!(e.x<o||e.x>a||(a-o<.001?e.y>=f&&e.y<=y||e.y>=y&&e.y<=f?(i.x=e.x,i.y=e.y,0):f<y&&e.x<f?(i.x=h,i.y=f,0):!(y<f&&e.x<y)||(i.x=p,i.y=y,0):(i.y=d=(y-f)/(p-h)*(l-h)+f,i.x=l,d<c||!this._isPointInLineRect(i,n,r))));if(270==t)return!(e.x<o||e.x>a||(Math.abs(a-o<.001)?e.y>=f&&e.y<=y||e.y>=y&&e.y<=f?(i.x=e.x,i.y=e.y,0):f<y&&e.y>y?(i.x=p,i.y=y,0):!(y<f&&e.y>f)||(i.x=h,i.y=f,0):(i.y=d=(y-f)/(p-h)*(l-h)+f,i.x=l,c<d||!this._isPointInLineRect(i,n,r))));if(270!=t&&90!=t&&Math.abs(a-o<.001)){var e=o,d=Math.tan(t/180*Math.PI)*(e-l)+c;if(i.y=d,i.x=e,this._isPointInLineRect(i,n,r))return a=d-c,0<(o=e-l)/Math.sqrt(o*o+a*a)*Math.cos(t/180*Math.PI)}return Math.abs(u-s<=.001)?(d=s,e=1/Math.tan(t/180*Math.PI)*(d-c)+l,i.x=e,i.y=d,!!this._isPointInLineRect(i,n,r)&&(o=d-c,0<(a=e-l)/Math.sqrt(a*a+o*o)*Math.cos(t/180*Math.PI))):(e=c+(u=Math.tan(t/180*Math.PI))*((d=(f-c-((s=(y-f)/(p-h))*h-u*l))/(u-s))-l),i.x=d,i.y=e,!!this._isPointInLineRect(i,n,r)&&(a=d-l,o=e-c,Math.abs(a)<=.001&&Math.abs(o)<=.001||0<a/Math.sqrt(a*a+o*o)*Math.cos(t/180*Math.PI)))},_isPointXYEqual:function(e,t){return Math.abs(e.x-t.x)<q5&&Math.abs(e.y-t.y)<q5},_calcFootOfUpright:function(e,t,n,r){var i,o,a,s,u=e.x,l=e.y,c=t.x,h=t.y,f=n.x,p=n.y;return this._isPointXYEqual(e,t)||this._isPointXYEqual(e,n)?(r.x=u,r.y=l,!0):(a=Math.min(t.x,n.x),s=Math.max(t.x,n.x),i=Math.min(t.y,n.y),o=Math.max(t.y,n.y),Math.abs(c-f)<1e-5?(r.x=c,i<=(r.y=l)&&l<=o):Math.abs(h-p)<1e-5?(r.x=u,r.y=h,a<=u&&u<=s):(s=l+(i=-1/((p-h)/(f-c)))*((a=(h-l-((o=(p-h)/(f-c))*c-i*u))/(i-o))-u),r.x=a,r.y=s,!!this._isPointInLineRect(r,t,n)||!(!this._isPointXYEqual(e,t)&&!this._isPointXYEqual(e,n))))},_vectorCross:function(e,t){return{x:e.y*t.z-e.z*t.y,y:e.z*t.x-e.x*t.z,z:e.x*t.y-e.y*t.x}},_vectorDot:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},_vectorLength:function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)},_vector2DDot:function(e,t){return e.x*t.x+e.y*t.y},_vector2DCross:function(e,t){return e.x*t.y-e.y*t.x},_vector2DLength:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},_calcRotateAngle:function(e,t){var n,r;return 0==e.x&&0==e.y||0==t.x&&0==t.y?0:(n={x:t.x,y:t.y,z:0},n=this._vectorCross({x:e.x,y:e.y,z:0},n),r=this._vector2DDot(e,t),r=Math.acos(r/(this._vector2DLength(e)*this._vector2DLength(t))),0<n.z?r/Math.PI*180:360-r/Math.PI*180)},_segCrossPolygon:function(e,t,n,r){for(var i=0;i<n.length;i++)if(1==this._calcCrossPoint(e,t,n[i],n[(i+1)%n.length],r))return!0;return!1},_rayCrossSegment:function(e,t,n,r,i){var o=Math.min(e.x,n.x,r.x),a=Math.max(e.x,n.x,r.x),s=Math.min(e.y,n.y,r.y),u=Math.max(e.y,n.y,r.y),a=Math.sqrt((a-o)*(a-o)+(u-s)*(u-s)),o=t/180*Math.PI,u=a*Math.cos(o)+e.x,s=a*Math.sin(o)+e.y;return 1==this._calcCrossPoint(e,{x:u,y:s},n,r,i)},_calcCenter:function(e){var t={x:null,y:null},n=0,r=0,i=e.length;1<e.length&&e[0].x===e[e.length-1].x&&e[0].y===e[e.length-1].y&&i--;for(var o=0;o<i;o++)n+=e[o].x,r+=e[o].y;return t.x=n/e.length,t.y=r/e.length,t},_intersectionSegmentByCircle:function(e,t,n,r){var i=[],o=e.x-t,a=e.x+t,s=e.y-t,u=e.y+t,l=Math.min(n.x,r.x),c=Math.max(n.x,r.x),h=Math.min(n.y,r.y),f=Math.max(n.y,r.y);return c<o||a<l||f<s||u<h||(a=(e=((o=r.x-n.x)*(a=e.x-n.x)+(s=r.y-n.y)*(u=e.y-n.y))/(r=o*o+s*s))*e-(a*a+u*u-t*t)/r)<0||(u=Math.sqrt(a),r={x:n.x-o*(t=-e+u),y:n.y-s*t},o={x:n.x-o*(a=-e-u),y:n.y-s*a},t!==a&&(l<=r.x&&r.x<=c&&h<=r.y&&r.y<=f&&i.push(r),l<=o.x)&&o.x<=c&&h<=o.y&&o.y<=f&&i.push(o)),i},_compare:function(e,t){return Math.abs(e.x-t.x)<=q5&&Math.abs(e.y-t.y)<=q5},_calcFootPoint:function(e,t,n){var r,i={};if(e.x!=t.x)return r=t=(t.y-e.y)/(t.x-e.x),i.x=(+n.x- -1*r*n.y-r*(t=e.y-t*e.x))/(r*r+1),i.y=(r*r*n.y- -1*r*n.x- -1*t)/(r*r+1),i;i.x=e.x,i.y=n.y},_isLinesIntersect:function(e,t,n,r){var i,o,a,s,u={point:null,isintersect:!1};return this.distanceOfTwoPoints(e,n)<.001||this.distanceOfTwoPoints(e,r)<.001?(u.isintersect=!0,u.point=e):this.distanceOfTwoPoints(t,n)<.001||this.distanceOfTwoPoints(t,r)<.001?(u.isintersect=!0,u.point=t):(i={x:t.x-e.x,y:t.y-e.y},o={x:r.x-n.x,y:r.y-n.y},r={x:r.x-e.x,y:r.y-e.y},t={x:t.x-n.x,y:t.y-n.y},a={x:-(n={x:n.x-e.x,y:n.y-e.y}).x,y:-n.y},s=this._vector2DCross(o,i),Math.abs(s)<=1e-5||this._vector2DCross(n,i)*this._vector2DCross(r,i)<=-5e-4&&this._vector2DCross(a,o)*this._vector2DCross(t,o)<-5e-4&&(r=this._vector2DCross(o,n)/s,u.point={x:e.x+i.x*r,y:e.y+i.y*r},u.isintersect=!0)),u},_isClockwise:function(e,t,n){return e.x===t.x&&(t.x=t.x+1),e.y===t.y&&(t.y=t.y+1),t.x===n.x&&(n.x=n.x+1),t.y===n.y&&(n.y=n.y+1),!(0<(t.x-e.x)*(n.y-t.y)-(t.y-e.y)*(n.x-t.x))},getAngle:function(e){var t=e.p1,e=e.p2,n=e.x-t.x,e=e.y-t.y,t=Math.sqrt(n*n+e*e),t=Math.asin(Math.abs(e)/t);return 0<n&&0<e?t:n<0&&0<e?Math.PI-t:n<0&&e<0?Math.PI+t:0<n&&e<0?2*Math.PI-t:0==n&&0<e?t:0==n&&e<0?3*Math.PI/2:0<n&&0==e?t:n<0&&0==e?Math.PI:null},_calcTriangleArea:function(e){var t=this.distanceOfTwoPoints(e[0],e[1]),n=this.distanceOfTwoPoints(e[1],e[2]),e=this.distanceOfTwoPoints(e[0],e[2]),r=(t+n+e)/2;return Math.sqrt(r*(r-t)*(r-n)*(r-e))},_isPointInTriangle:function(e,t){var n,r,i,o,a;return this._distancePointToLine(e,t[0],t[1],{})<1e-4||this._distancePointToLine(e,t[0],t[2],{})<1e-4||this._distancePointToLine(e,t[1],t[2],{})<1e-4||(o={x:t[1].x-t[0].x,y:t[1].y-t[0].y},n={x:t[0].x-t[2].x,y:t[0].y-t[2].y},r={x:t[2].x-t[1].x,y:t[2].y-t[1].y},a={x:e.x-t[0].x,y:e.y-t[0].y},i={x:e.x-t[1].x,y:e.y-t[1].y},e={x:e.x-t[2].x,y:e.y-t[2].y},t=this._vector2DCross(o,a),o=this._vector2DCross(r,i),a=this._vector2DCross(n,e),q5<t*o&&q5<o*a)},_calcLinePolyIntersect:function(e,t,n){var r=n.length,i={isintersect:!1,start:null,end:null,type:0,outer:null},o=[];if(this._isPointInTriangle(e,n)&&(i.start=e),this._isPointInTriangle(t,n)&&(i.end=t),null!=i.start&&null!=i.end)i.isintersect=!0,i.type=1;else{for(var a=(n[1].x+n[2].x)/2,s=(n[1].y+n[2].y)/2,u=1;u<r;u++){var l,c=this._isLinesIntersect(e,t,n[u-1],n[u]);if(c.isintersect){if(null!=i.start)return i.end=c.point,i.isintersect=!0,i.outer="end",l=this._calcRotateAngle({x:a-n[0].x,y:s-n[0].y},{x:t.x-n[0].x,y:t.y-n[0].y}),i.type=0<(l=l<180?l:l-360)?2:3,i;if(null!=i.end)return i.start=c.point,i.isintersect=!0,i.outer="start",l=this._calcRotateAngle({x:a-n[0].x,y:s-n[0].y},{x:e.x-n[0].x,y:e.y-n[0].y}),i.type=0<(l=l<180?l:l-360)?2:3,i;o.push(c)}}var h,f=this._isLinesIntersect(e,t,n[0],n[r-1]);if(f.isintersect){if(null!=i.start)return i.end=f.point,i.isintersect=!0,i.outer="end",h=this._calcRotateAngle({x:a-n[0].x,y:s-n[0].y},{x:t.x-n[0].x,y:t.y-n[0].y}),i.type=0<(h=h<180?h:h-360)?2:3,i;if(null!=i.end)return i.start=f.point,i.isintersect=!0,i.outer="start",h=this._calcRotateAngle({x:a-n[0].x,y:s-n[0].y},{x:e.x-n[0].x,y:e.y-n[0].y}),i.type=0<(h=h<180?h:h-360)?2:3,i;o.push(f)}2!=o.length||this.distanceOfTwoPoints(o[0].point,o[1].point)<.01||(this.distanceOfTwoPoints(o[0].point,e)<=this.distanceOfTwoPoints(o[0].point,t)?(i.start=o[0].point,i.end=o[1].point):(i.start=o[1].point,i.end=o[0].point),i.isintersect=!0,i.type=4)}return i},_calcLineScanIntersect:function(e,t,n){var r=n.length,i={isintersect:!1,start:null,end:null},o=[];if(this._isPointInTriangle(e,n)&&(i.start=e),this._isPointInTriangle(t,n)&&(i.end=t),null!=i.start&&null!=i.end)i.isintersect=!0;else{for(var a=1;a<r;a++){var s=this._isLinesIntersect(e,t,n[a-1],n[a]);if(s.isintersect){if(null!=i.start)return i.end=s.point,i.isintersect=!0,i;if(null!=i.end)return i.start=e,i.isintersect=!0,i;o.push(s)}}var u=this._isLinesIntersect(e,t,n[0],n[r-1]);if(u.isintersect){if(null!=i.start)return i.end=u.point,i.isintersect=!0,i;if(null!=i.end)return i.start=e,i.isintersect=!0,i;o.push(u)}2==o.length&&(i.start=(this.distanceOfTwoPoints(o[0].point,e)<=this.distanceOfTwoPoints(o[0].point,t)?o[0]:o[1]).point,i.end=(this.distanceOfTwoPoints(o[0].point,e)>this.distanceOfTwoPoints(o[0].point,t)?o[0]:o[1]).point,i.isintersect=!0)}return i},_lineSegmentSplit:function(i,e){if(0==e.length)return[i];for(var t,n,r=this._lineSegmentMerge(e),o=[],a=(r.sort(function(e,t){var n=(e._startPoint.x-i._startPoint.x)*(e._startPoint.x-i._startPoint.x)+(e._startPoint.y-i._startPoint.y)*(e._startPoint.y-i._startPoint.y),r=(t._startPoint.x-i._startPoint.x)*(t._startPoint.x-i._startPoint.x)+(t._startPoint.y-i._startPoint.y)*(t._startPoint.y-i._startPoint.y),e=(e._endPoint.x-i._startPoint.x)*(e._endPoint.x-i._startPoint.x)+(e._endPoint.y-i._startPoint.y)*(e._endPoint.y-i._startPoint.y),t=(t._endPoint.x-i._startPoint.x)*(t._endPoint.x-i._startPoint.x)+(t._endPoint.y-i._startPoint.y)*(t._endPoint.y-i._startPoint.y);return(n<e?n:e)<(r<t?r:t)}),0),a=0;a<r.length;a++)this.distanceOfTwoPoints(r[a]._startPoint,r[a]._endPoint)<.01||(t=this.distanceOfTwoPoints(r[a]._startPoint,i._startPoint),n=this.distanceOfTwoPoints(r[a]._endPoint,i._startPoint),t<.01?i._startPoint=r[a]._endPoint:n<.01?i._startPoint=r[a]._startPoint:t<n?.1<this.distanceOfTwoPoints(i._startPoint,r[a]._startPoint)&&(o.push({_roadID:i._roadID,_startPoint:i._startPoint,_endPoint:r[a]._startPoint,_distance:i._distance,_road:i._road}),i._startPoint=r[a]._endPoint):.1<this.distanceOfTwoPoints(i._startPoint,r[a]._endPoint)&&(o.push({_roadID:i._roadID,_startPoint:i._startPoint,_endPoint:r[a]._endPoint,_distance:i._distance,_road:i._road}),i._startPoint=r[a]._startPoint),r.splice(a,1));return.1<this.distanceOfTwoPoints(i._startPoint,i._endPoint)&&o.push(i),o},_lineSegmentMerge:function(e){var t=[];if(1==e.length)return e;for(var n=e[0],r=1;0<e.length;){if(e.length<=r){if(t.push(n),e.splice(0,1),e.length<1)break;n=e[0],r=1}if(1===e.length){t.push(n);break}this._isPointOnLine(n._startPoint,n._endPoint,e[r]._startPoint)?(this._isPointOnLine(n._startPoint,n._endPoint,e[r]._endPoint)||(n._endPoint=e[r]._endPoint),e.splice(r,1)):this._isPointOnLine(n._startPoint,n._endPoint,e[r]._endPoint)?(n._startPoint=e[r]._startPoint,e.splice(r,1)):this._isPointOnLine(e[r]._startPoint,e[r]._endPoint,n._startPoint)?(n=(this._isPointOnLine(e[r]._startPoint,e[r]._endPoint,n._endPoint)||(e[r]._endPoint=n._endPoint),e[r]),e.splice(r,1)):this._isPointOnLine(e[r]._startPoint,e[r]._endPoint,n._endPoint)?(e[r]._startPoint=n._startPoint,n=e[r],e.splice(r,1)):r++}return t},_isPointOnLine:function(e,t,n){var r=e.x-n.x,i=e.y-n.y,o=t.x-n.x,a=t.y-n.y,s=this.distanceOfTwoPoints(e,n),n=this.distanceOfTwoPoints(t,n),e=this.distanceOfTwoPoints(e,t);return r*a-i*o<1e-5&&s+n-e<.001},_extendLine:function(e,t,n){var r=t.x-e.x,e=t.y-e.y,i=Math.sqrt(r*r+e*e);return{x:t.x+r/i*n,y:t.y+e/i*n}},_checkClockwise:function(e){for(var t=null,n=0,r=0,i=0,o=0;o<e.length;o++)(null===t||e[o].x>t)&&(t=e[o].x,n=o);var a=new F(e[n].x,e[n].y,0),r=0===n?e.length-1:n-1,i=n===e.length-1?0:n+1,r=new F(e[r].x,e[r].y,0),i=new F(e[i].x,e[i].y,0),r=(new F).copy(a).sub(r),i=(new F).copy(i).sub(a);return 0<r.cross(i).z}});var J5=new Os;function K5(e){return(K5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=K5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=K5(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==K5(e)?e:e+""))(r.key),r)}}t=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");e=e||{},this._size=4e3,this._displayValue=1,void 0!==e.imageQuality&&"low"===e.imageQuality&&(this._displayValue=.5),this._offset=void 0!==e.offset?e.offset:1,this._visible=void 0===e.visible||e.visible,this._mode=void 0!==e.mode?e.mode:s.AMAP_VECTOR,this._mode!==s.TD_VECTOR&&this._mode!==s.TD_SATELLITE||(this._size=5e3),this._replaceColor=e.replaceColor,this._replaceOpacity=e.replaceOpacity,void 0===this._replaceOpacity&&(this._replaceOpacity=1),this._filterObject={YELLOW:"sepia(60%) hue-rotate(3deg) grayscale(5%) saturate(2)",CELESTE:"grayscale(100%) sepia(50%) hue-rotate(170deg) saturate(2)",GRAY:"grayscale(220%) sepia(2%) hue-rotate(-20deg) saturate(2.5) invert(10%) contrast(1.5)",PEACH:"grayscale(90%) sepia(30%) hue-rotate(-44deg) saturate(4) contrast(1.2)",PINK:"grayscale(10%) sepia(10%) hue-rotate(-80deg)",SAPPHIRE:"grayscale(60%) hue-rotate(20deg) sepia(70%) invert(95%) brightness(3)",NONE:"none",CUSTOM:"custom"},this._filter=e.filter,void 0===this._filter&&(this._filter=G0.NONE),this._filterValue=this._filterObject[this._filter],this._filterCustomization=e.filterCustomization,"custom"===this._filterValue&&(this._filterValue=this._filterCustomization,void 0===this._filterValue)&&(this._filterValue="none"),this._replaceZoomMap=new Map,this._replaceZoomMap.set(""+s.AMAP_SATELLITE,20),this._replaceZoomMap.set(""+s.AMAP_VECTOR,20),this._replaceZoomMap.set(""+s.BAIDU_VECTOR,20),this._replaceZoomMap.set(""+s.BAIDU_SATELLITE,20),this._replaceZoomMap.set(""+s.TD_VECTOR,20),this._replaceZoomMap.set(""+s.TD_SATELLITE,20),this._isOffline=!1,this._mapcenter=null,this._maprotation=0,this._maptilt=0,this._offlineUrl=e.offlineUrl,void 0!==this._offlineUrl&&(this._isOffline=!0),this._imageType=e.imageType,void 0===this._imageType&&(this._imageType="png"),this._fog_near=.5*this._size,this._fog_far=.9*this._size,this._container=null,this._scene=new ht,this._scene.background=new v(13426943),this._scene.fog=new Lt(13426943,this._fog_near,this._fog_far),this._mapgroup=new Z0,this._scene.add(this._mapgroup),this._raycaster=new B0,this._parent=null,this._height=this._offset,this._OLMap=null,this._plane=new Br(new F(0,1,0),0),this._isInit=!1,this._checkEvent=this._checkEvent.bind(this),this._viewModeChanged=this._viewModeChanged.bind(this),this._meshArray=[],this._isminRangeZoom=!1,this._replaceCanvas=null,this._fogScale=1.2,this._imageArrayTotal=[],this._coverImageArray=[]}return e=t,(n=[{key:"visible",get:function(){return this._visible},set:function(e){this._visible=e,this._scene.visible=this._visible,this._parent.enableUpdateRender()}},{key:"addTo",value:function(e){this._parent=e,this._parent.getRenderManager().setTileLayScene(this._scene),this._height=this._parent.getFloor(this._parent.getVisibleLevels()[0]).height-this._offset,this._maprotation=e.getRotation(),this._maptilt=e.getTilt(),this._init(),e.enableUpdateRender()}},{key:"remove",value:function(){this.dispose(),this._parent.off("resize",this._checkEvent),this._parent.off("viewChanged",this._checkEvent),this._parent.off("viewModeChanged",this._viewModeChanged),this._parent.off("visibleLevelsLoaded",this._checkEvent),this._parent.off("zoom",this._checkEvent),this._parent=null,this._isInit=!1}},{key:"dispose",value:function(){this._OLMap&&this._OLMap.dispose(),this._OLMap=null,this._deleteMesh(),this._mapgroup.parent&&this._mapgroup.parent.remove(this._mapgroup),this._parent.getRenderManager().setTileLayScene(void 0),this._parent.enableUpdateRender()}},{key:"setFilter",value:function(e,t){this._filter=e,void 0===this._filter&&(this._filter=G0.NONE),this._filterValue=this._filterObject[this._filter],this._filterCustomization=t,"custom"===this._filterValue&&(this._filterValue=this._filterCustomization,void 0===this._filterValue)&&(this._filterValue="none"),this._updateFilter(),this._parent.enableUpdateRender()}},{key:"getFilter",value:function(){return{filter:this._filter,value:this._filterValue}}}])&&Q5(e.prototype,n),r&&Q5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r})(),Object.assign(t.prototype,{_init:function(){this._isInit||(this._container=this._parent.getContainer(),this._OLMap=this._initOLMap(),this._updateMapObject(),this._parent.on("resize",this._checkEvent),this._parent.on("viewChanged",this._checkEvent),this._parent.on("viewModeChanged",this._viewModeChanged),this._parent.on("visibleLevelsLoaded",this._checkEvent),this._parent.on("zoom",this._checkEvent),this._isInit=!0)},_updateReplaceColor:function(){if(0!==this._meshArray.length)if(this._isReplace())for(var e=this._createReplaceCanvas(),t=0;t<this._meshArray.length;t++){var n,r=this._meshArray[t];r.oldTexture||(r.oldTexture=r.material.map.clone(),r.material.map.dispose(),(n=new Cr(e)).minFilter=1006,r.material.map=n)}else for(var i=0;i<this._meshArray.length;i++){var o=this._meshArray[i];o.oldTexture&&(o.material.map.dispose(),o.material.map=o.oldTexture.clone(),o.oldTexture=null)}},_updateFilter:function(){for(var e=0;e<this._meshArray.length;e++){var t=this._meshArray[e].imageinfo.image,n=this._meshArray[e].coverImage,r=document.createElement("canvas"),i=(r.width=t.width*this._displayValue,r.height=t.height*this._displayValue,r.getContext("2d"));i.filter=this._filterValue,i.drawImage(t,0,0,r.width,r.height),n&&i.drawImage(n,0,0,r.width,r.height),this._meshArray[e].material.map=new Cr(r)}},_checkEvent:function(e){var t,n,r;"viewChanged"===e.type?(t=this._parent.getCenter(),n=this._parent.getRotation(),r=this._parent.getTilt(),this._mapcenter.x!==t.x||this._mapcenter.y!==t.y?this._updateMapObject(e):n===this._maprotation&&r===this._maptilt||(this._initMeshs(),this._mode!==s.TD_VECTOR&&this._mode!==s.TD_SATELLITE)||this._coverMesh(),this._maprotation=this._parent.getRotation(),this._maptilt=this._parent.getTilt()):"visibleLevelsLoaded"===e.type?this._updateHeight():"resize"===e.type?this._initMeshs():"zoom"===e.type&&(this._updateMapObject(),this._updateReplaceColor())},_updateZoomRange:function(e){var t=4;this._mode===s.AMAP_SATELLITE||this._mode===s.AMAP_VECTOR||this._mode===s.BAIDU_VECTOR||this._mode===s.BAIDU_SATELLITE?t=5:this._mode!==s.TD_VECTOR&&this._mode!==s.TD_SATELLITE||(t=4),e!==t||this._isminRangeZoom||(e=this._parent.getZoomRange(),this._isminRangeZoom=!0,e[0]=this._parent.getZoom(),this._parent.setZoomRange(e))},_createReplaceCanvas:function(){var e;return null===this._replaceCanvas&&(this._replaceCanvas=document.createElement("canvas"),this._replaceCanvas.width=128,this._replaceCanvas.height=128,(e=this._replaceCanvas.getContext("2d")).fillStyle=this._replaceColor,e.globalAlpha=this._replaceOpacity,e.fillRect(0,0,128,128)),this._replaceCanvas},_isReplace:function(){var e=this._replaceZoomMap.get(""+this._mode),t=this._parent.getZoom();return!!(e&&this._replaceColor&&e<=t)},_coverMesh:function(e,t){if(0!==this._meshArray.length&&!this._isReplace()){var i=this;void 0!==e?(this._updateZoomRange(t),this._coverImageArray=e):e=this._coverImageArray;for(var n,r,o,a=0;a<e.length;a++){var s,u=(e=>{for(var t=null,n=0;n<i._meshArray.length;n++){var r=i._meshArray[n].imageinfo;if(e.x===r.x&&e.y===r.y&&e.w===r.w&&e.h===r.h){t=i._meshArray[n];break}}return t})(e[a]);null!==u&&(s=u.imageinfo.image,n=e[a].image,o=r=void 0,(r=document.createElement("canvas")).width=s.width*i._displayValue,r.height=s.height*i._displayValue,(o=r.getContext("2d")).filter=i._filterValue,o.drawImage(s,0,0,r.width,r.height),o.drawImage(n,0,0,r.width,r.height),(s=new Cr(r)).minFilter=1006,u.material.map.dispose(),u.material.map=s,u.coverImage=e[a].image)}}},_updateMesh:function(e,t){this._parent&&(this._updateZoomRange(t),t=this._getScale(),this._mapgroup.scale.set(t,t,t),this._initMeshs(e),"OrthographicCamera"===this._parent.camera.type?(this._scene.fog.near=1e4*this._fog_near,this._scene.fog.far=1e4*this._fog_far):(t=this._fogScale*this._getScale(!0),this._scene.fog.near=this._fog_near*t,this._scene.fog.far=this._fog_far*t),this._parent.getRenderManager().render())},_initMeshs:function(e){for(var s=this,t=(void 0!==e?this._imageArrayTotal=e:e=this._imageArrayTotal,this._getShowImage(e)),n=0;n<this._meshArray.length;n++)this._meshArray[n].visible=!1;var u=this._isReplace();if(0===this._meshArray.length)for(var r=0;r<t.length;r++){var i=k(t[r]);this._mapgroup.add(i),this._meshArray.push(i)}else{for(var o=[],a=[],l=0;l<t.length;l++){var c,h=t[l].image.width,f=t[l].image.height,p=((e,t)=>{for(var n=null,r=0;r<e.length;r++)if(e[r].src===t){n=r;break}return n})(this._meshArray,t[l].image.src);null!==p&&((c=this._meshArray[p]).scale.set(t[l].w/h,t[l].h/f,1),c.imageinfo=t[l],c.position.x=t[l].x+t[l].w/2-this._size/2,c.position.z=t[l].y+t[l].h/2-this._size/2,c.visible=!0,o.push(c),this._meshArray.splice(p,1),a.push(l))}t=_(a,t);for(var y=a.length=0;y<t.length&&0!==this._meshArray.length;y++){var d,v=t[y].image.width,m=t[y].image.height,b=this._meshArray.splice(0,1)[0],g=S(t[y].image),g=new Cr(g);g.minFilter=1006,b.material.map.dispose(),u?((d=new Cr(this._createReplaceCanvas())).minFilter=1006,b.material.map=d):b.material.map=g,b.scale.set(t[y].w/v,t[y].h/m,1),b.position.x=t[y].x+t[y].w/2-this._size/2,b.position.z=t[y].y+t[y].h/2-this._size/2,b.src=t[y].image.src,b.imageinfo=t[y],b.visible=!0,b.oldTexture=u?g:null,o.push(b),a.push(y)}for(var t=_(a,t),w=0;w<t.length;w++){var x=k(t[w]);this._mapgroup.add(x),o.push(x)}this._deleteMesh(),this._meshArray=o}function _(e,t){for(var n=[],r=0;r<t.length;r++)((e,t)=>{for(var n=!0,r=0;r<e.length;r++)if(e[r]===t){n=!1;break}return n})(e,r)&&n.push(t[r]);return n}function S(e){var t=document.createElement("canvas"),n=(t.width=e.width*s._displayValue,t.height=e.height*s._displayValue,t.getContext("2d"));return n.filter=s._filterValue,n.drawImage(e,0,0,t.width,t.height),t}function k(e){var t=e.image.width,n=e.image.height,r=new Wn(t,n),i=S(e.image),i=new Cr(i),o=null,a=((o=u?(a=new Cr(s._createReplaceCanvas()),new lr({map:a,depthWrite:!1,transparent:!0})):new lr({map:i,depthWrite:!1,transparent:!0})).polygonOffset=!0,o.polygonOffsetFactor=1,o.polygonOffsetUnits=4,new j0(r,o));return a.material.map.minFilter=1006,a.material.needsUpdate=!0,a.src=e.image.src,a.imageinfo=e,a.scale.set(e.w/t,e.h/n,1),a.position.x=e.x+e.w/2-s._size/2,a.position.z=e.y+e.h/2-s._size/2,a.rotation.x=-Math.PI/2,a.renderOrder=-10,a.oldTexture=u?i:null,a}this._mapgroup.position.y=this._height},_getShowImage:function(e){var o=this,t=[],n=this._parent.getMapOptions().container.getBoundingClientRect(),r=[];r.push(fengmap.FMUtil.coordsScreenToMap(this._parent,{x:n.left,y:n.top})),r.push(fengmap.FMUtil.coordsScreenToMap(this._parent,{x:n.right,y:n.top})),r.push(fengmap.FMUtil.coordsScreenToMap(this._parent,{x:n.right,y:n.bottom})),r.push(fengmap.FMUtil.coordsScreenToMap(this._parent,{x:n.left,y:n.bottom}));for(var i=0;i<e.length;i++){var a=e[i].x+e[i].w/2-this._size/2,s=e[i].y+e[i].h/2-this._size/2,a=((e,t)=>{for(var n=[],r=(n.push(o._mapgroup.localToWorld(new F(e.x-t.w/2,0,e.z-t.h/2))),n.push(o._mapgroup.localToWorld(new F(e.x-t.w/2,0,e.z+t.h/2))),n.push(o._mapgroup.localToWorld(new F(e.x+t.w/2,0,e.z+t.h/2))),n.push(o._mapgroup.localToWorld(new F(e.x+t.w/2,0,e.z-t.h/2))),[]),i=0;i<n.length;i++)r.push({x:n[i].x+o._parent.x,y:o._parent.y-n[i].z});return r})(new F(a,0,s),e[i]);this._isContainScreen(r,a)&&t.push(e[i])}return t},_isContainScreen:function(e,t){for(var n=!1,r=0;r<t.length;r++)if(J5._isPointInPolygon(t[r],e,e.length)){n=!0;break}if(!n)for(var i=0;i<=t.length-1;i++){for(var o=null,a=null,a=i===t.length-1?(o=t[0],t[i]):(o=t[i],t[i+1]),s=0;s<e.length-1;s++){var u=null,l=null,l=s===t.length-1?(u=e[0],e[s]):(u=e[s],e[s+1]);if(J5._isLineSegmentCross(o,a,u,l)){n=!0;break}}if(n)break}return n},_deleteMesh:function(){for(var e=0;e<this._meshArray.length;e++)this._meshArray[e].parent&&(this._meshArray[e].parent.remove(this._meshArray[e]),this._meshArray[e].geometry.dispose(),this._meshArray[e].material.map.dispose(),this._meshArray[e].material.dispose());this._meshArray.length=0},_initOLMap:function(){var e,r=this,t=Is("EPSG:3857");if(this._mode===s.AMAP_SATELLITE||this._mode===s.AMAP_VECTOR){var n={url:this._getGEURL(),crossOrigin:"anonymous",maxZoom:18,thirdMap:this};this._mode===s.AMAP_SATELLITE&&(n.maxZoom=18),n=new f4(n)}else if(this._mode===s.BAIDU_VECTOR||this._mode===s.BAIDU_SATELLITE){for(var i=[],o=0;o<19;o++)i[o]=Math.pow(2,18-o);var a=new Pu({origin:[0,0],resolutions:i}),n=new o4({projection:t,crossOrigin:"anonymous",tileGrid:a,tileUrlFunction:function(e){var t,n;return e?(t=e[0],r._getDBURL(n=(n=e[1])<0?"M"+-n:n,n=(n=-e[2]-1)<0?"M"+-n:n,t)):""}})}else this._mode===s.OSM?n=new g4:(n=new f4({url:this._getTDURL()[0],crossOrigin:"anonymous",tileSize:[512,512],maxZoom:18}),e=new f4({url:this._getTDURL()[1],crossOrigin:"anonymous",tileSize:[512,512],maxZoom:18}));a=new R2({size:[this._size,this._size],view:new f2({projection:t}),layers:[new yl({layercount:1,source:n,thirdMap:this}),new yl({layercount:2,source:e,thirdMap:this})]});return a.setTarget(this._container),a},_getGEURL:function(){var e=this._isOffline?this._offlineUrl+"/{z}/{x}/{y}."+this._imageType:this._mode===s.AMAP_SATELLITE?"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=6&x={x}&y={y}&z={z}":"https://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=2&style=7&x={x}&y={y}&z={z}";return e},_getDBURL:function(e,t,n){e=this._mode===s.BAIDU_SATELLITE?"https://gss0.bdstatic.com/5bwHcj7lABFY8t_jkk_Z1zRvfdw6buu/it/u=x="+e+";y="+t+";z="+n+";v=009;type=sate&fm=46&udt=20210415&scaler=2":"https://maponline"+parseInt(4*Math.random())+".bdimg.com/tile/?qt=vtile&x="+e+"&y="+t+"&z="+n+"&styles=pl&scaler=2&udt=20210415&from=jsapi2_0&scaler=2";return e},_getTDURL:function(){var e;return this._isOffline?this._mode===s.TD_SATELLITE?((e=[]).push(this._offlineUrl+"?type=img_w&number={0-7}&x={x}&y={y}&z={z}"),e.push(this._offlineUrl+"?type=cia_w&number={0-7}&x={x}&y={y}&z={z}")):((e=[]).push(this._offlineUrl+"?type=vec_w&number={0-7}&x={x}&y={y}&z={z}"),e.push(this._offlineUrl+"?type=cva_w&number={0-7}&x={x}&y={y}&z={z}")):this._mode===s.TD_SATELLITE?((e=[]).push("http://t{0-7}.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&Layer=img&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=9a8b557e9db74e442bd9544001392255"),e.push("https://t{0-7}.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}&tk=9a8b557e9db74e442bd9544001392255")):((e=[]).push("http://t{0-7}.tianditu.gov.cn/vec_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&Layer=vec&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=9a8b557e9db74e442bd9544001392255"),e.push("https://t{0-7}.tianditu.gov.cn/cva_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cva&STYLE=default&TILEMATRIXSET=w&FORMAT=png&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}&tk=9a8b557e9db74e442bd9544001392255")),e},_updateSize:function(){this._renderer.setSize(this._parent.getContainer().clientWidth,this._parent.getContainer().clientHeight)},_viewModeChanged:function(){var e;"OrthographicCamera"===this._parent.camera.type?(this._scene.fog.near=1e4*this._fog_near,this._scene.fog.far=1e4*this._fog_far):(e=this._getScale(!0)*this._fogScale,this._scene.fog.near=this._fog_near*e,this._scene.fog.far=this._fog_far*e)},_updateMapObject:function(e){var t,n,r;this._beforeTarget&&e&&e.target&&e.target.target&&e.target.target.x===this._beforeTarget.x&&e.target.target.z===this._beforeTarget.z||(e&&e.target&&e.target.target&&(this._beforeTarget={x:e.target.target.x,y:e.target.target.y,z:e.target.target.z}),e=new F(0,0,.5),t=this._parent.camera,this._raycaster.setFromCamera(e,t),e=new F,this._raycaster.ray.intersectPlane(this._plane,e),t=this._getScale(),r=e.x+this._parent.x,n=-e.z+this._parent.y,t=this._size/2*t,this._mapgroup.position.x=e.x,this._mapgroup.position.z=e.z,r=(e=[r-t,n-t,r+t,n+t])[0],n=e[2],n=new _5(e=[r,t=e[1],r,e=e[3],n,e,n,t,r,t],dl.XY,[e.length]),this._OLMap.getView().fit(n),r=this._parent.getCenter(),this._mapcenter={x:r.x,y:r.y})},_getScale:function(e){var t=this._parent.camera,n=3;return this._mode!==s.BAIDU_VECTOR&&this._mode!==s.BAIDU_SATELLITE||(n=6),e&&(n=2.8),this._raycaster.setFromCamera(new F(0,0,.5),t),this._raycaster.ray.distanceToPlane(this._plane)*Math.tan(z0.FOV*z0.DEG2RAD/2)*2*n/this._size},_updateHeight:function(){this._height=this._parent.getFloor(this._parent.getVisibleLevels()[0]).height-this._offset,this._mapgroup.position.y=this._height}}),Os=t;function $5(e){try{t=new URL(e,"http://fakehost.com/")}catch(e){return null}var e=t.pathname.split("/").pop(),t=e.lastIndexOf(".");return-1===t||t===e.length-1?null:e.substring(t+1)}function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ec(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ec(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ec(e)?e:e+""))(r.key),r)}}var nc=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.maxSize=800,this.minSize=600,this.unloadPercent=.05,this.itemSet=new Map,this.itemList=[],this.usedSet=new Set,this.callbacks=new Map,this.unloadPriorityCallback=null;var t=this.itemSet;this.defaultPriorityCallback=function(e){return t.get(e)}}return t=e,(n=[{key:"isFull",value:function(){return this.itemSet.size>=this.maxSize}},{key:"add",value:function(e,t){var n,r,i,o=this.itemSet;return!o.has(e)&&!this.isFull()&&(n=this.usedSet,r=this.itemList,i=this.callbacks,r.push(e),n.add(e),o.set(e,Date.now()),i.set(e,t),!0)}},{key:"remove",value:function(e){var t,n=this.usedSet,r=this.itemSet,i=this.itemList,o=this.callbacks;return!!r.has(e)&&(o.get(e)(e),t=i.indexOf(e),i.splice(t,1),n.delete(e),r.delete(e),o.delete(e),!0)}},{key:"markUsed",value:function(e){var t=this.itemSet,n=this.usedSet;t.has(e)&&!n.has(e)&&(t.set(e,Date.now()),n.add(e))}},{key:"markAllUnused",value:function(){this.usedSet.clear()}},{key:"unloadUnusedContent",value:function(){var e=this.unloadPercent,t=this.minSize,n=this.itemList,r=this.itemSet,i=this.usedSet,o=this.callbacks,a=n.length-i.size,s=n.length-t,u=this.unloadPriorityCallback||this.defaultPriorityCallback;if(0<s&&0<a){n.sort(function(e,t){var n=i.has(e),r=i.has(t);return n&&r?0:n||r?n?1:-1:u(t)-u(e)});for(var s=Math.min(s,a),t=Math.max(t*e,s*e),s=Math.min(t,a),s=Math.ceil(s),l=n.splice(0,s),c=0,h=l.length;c<h;c++){var f=l[c];o.get(f)(f),r.delete(f),o.delete(f)}}}},{key:"scheduleUnload",value:function(){var e=this,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.scheduled||(this.scheduled=!0,Promise.resolve().then(function(){e.scheduled=!1,e.unloadUnusedContent(),t&&e.markAllUnused()}))}}])&&tc(t.prototype,n),r&&tc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r})();function rc(e){return(rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=rc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=rc(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==rc(e)?e:e+""))(r.key),r)}}var oc=(()=>{function t(){var e=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.maxJobs=6,this.items=[],this.callbacks=new Map,this.currJobs=0,this.scheduled=!1,this.autoUpdate=!0,this.priorityCallback=function(){throw new Error("PriorityQueue: PriorityCallback function not defined.")},this.schedulingCallback=function(e){requestAnimationFrame(e)},this._runjobs=function(){e.tryRunJobs(),e.scheduled=!1}}return e=t,(n=[{key:"sort",value:function(){var e=this.priorityCallback;this.items.sort(e)}},{key:"add",value:function(i,o){var a=this;return new Promise(function(e,t){var n=a.items,r=a.callbacks;n.push(i),r.set(i,function(){return o.apply(void 0,arguments).then(e).catch(t)}),a.autoUpdate&&a.scheduleJobRun()})}},{key:"remove",value:function(e){var t=this.items,n=this.callbacks,r=t.indexOf(e);-1!==r&&(t.splice(r,1),n.delete(e))}},{key:"tryRunJobs",value:function(){for(var e=this,t=(this.sort(),this.items),n=this.callbacks,r=this.maxJobs,i=this.currJobs;i<r&&0<t.length;){i++;var o=t.pop(),a=n.get(o);n.delete(o),a(o).then(function(){e.currJobs--,e.autoUpdate&&e.scheduleJobRun()}).catch(function(){e.currJobs--,e.autoUpdate&&e.scheduleJobRun()})}this.currJobs=i}},{key:"scheduleJobRun",value:function(){this.scheduled||(this.schedulingCallback(this._runjobs),this.scheduled=!0)}}])&&ic(e.prototype,n),r&&ic(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r})(),ac=3,sc=4,uc=6378137;function lc(e){return e===ac||e===sc}function cc(e,t){return e.__lastFrameVisited===t&&e.__used}function hc(e,t){e.__lastFrameVisited!==t&&(e.__lastFrameVisited=t,e.__used=!1,e.__inFrustum=!1,e.__isLeaf=!1,e.__visible=!1,e.__active=!1,e.__error=1/0,e.__distanceFromCamera=1/0,e.__childrenWereVisible=!1,e.__allChildrenLoaded=!1)}function fc(e,t,n,r,i){var o=1<arguments.length&&void 0!==t?t:null,a=2<arguments.length&&void 0!==n?n:null,t=3<arguments.length&&void 0!==r?r:null,s=4<arguments.length&&void 0!==i?i:0;if(!o||!o(e,t,s))for(var u=e.children,l=0,c=u.length;l<c;l++)fc(u[l],o,a,e,s+1);a&&a(e,t,s)}function pc(e,t){var n=t.stats,r=t.frameCount,i=t.errorTarget,o=t.maxDepth,a=t.loadSiblings,s=t.lruCache,u=t.stopAtEmptyTiles;if(hc(e,r),!1===t.tileInView(e))return!1;if(e.__used=!0,s.markUsed(e),e.__inFrustum=!0,n.inFrustum++,(u||!e.__contentEmpty)&&!e.__externalTileSet){if(t.calculateError(e),e.__error<=i)return!0;if(0<t.maxDepth&&e.__depth+1>=o)return!0}for(var l=!1,c=e.children,h=0,f=c.length;h<f;h++)var p=pc(c[h],t),l=l||p;if(l&&a)for(var y=0,d=c.length;y<d;y++)!function e(t,n,r){if(hc(t,n),t.__used=!0,r.markUsed(t),t.__contentEmpty)for(var i=t.children,o=0,a=i.length;o<a;o++)e(i[o],n,r)}(c[y],r,s);return!0}function yc(e,t){var n=t.stats,r=t.frameCount;if(cc(e,r)){var i=e.parent,i=i?i.__depthFromRenderedParent:-1,o=(e.__depthFromRenderedParent=i,t.lruCache);if(e.__isLeaf)e.__depthFromRenderedParent++,e.__loadingState===ac?(e.__inFrustum&&(e.__visible=!0,n.visible++),e.__active=!0,n.active++):o.isFull()||e.__contentEmpty&&!e.__externalTileSet||t.requestTileContents(e);else{var i=e.__error<=(t.errorTarget+1)*t.errorThreshold,a=i||"ADD"===e.refine,s=!e.__contentEmpty,u=s||e.__externalTileSet,l=lc(e.__loadingState)&&u,c=e.__childrenWereVisible,h=e.children,f=e.__allChildrenLoaded;if(a&&s&&e.__depthFromRenderedParent++,a&&!l&&!o.isFull()&&u&&t.requestTileContents(e),(i&&!f&&!c&&l||"ADD"===e.refine&&l)&&(e.__inFrustum&&(e.__visible=!0,n.visible++),e.__active=!0,n.active++),"ADD"!==e.refine&&i&&!f&&l)for(var p=0,y=h.length;p<y;p++){var d=h[p];cc(d,r)&&!o.isFull()&&(d.__depthFromRenderedParent=e.__depthFromRenderedParent+1,function e(t,n,r){if(!t.__contentEmpty||t.__externalTileSet&&!lc(t.__loadingState))r.requestTileContents(t);else for(var i=t.children,o=0,a=i.length;o<a;o++){var s=i[o];s.__depthFromRenderedParent=n,e(s,n,r)}}(d,d.__depthFromRenderedParent,t))}else for(var v=0,m=h.length;v<m;v++){var b=h[v];cc(b,r)&&yc(b,t)}}}}function dc(e){return(dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vc(e,t,n){return(t=(e=>(e=((e,t)=>{if("object"!=dc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=dc(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==dc(e)?e:e+""))(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mc(a,e){var s=1<arguments.length&&void 0!==e?e:{};return new Promise(function(t,n){var e=s.method||"GET",r=s.responseType||"json",i=s.xhr||new XMLHttpRequest,o=(i.addEventListener("timeout",function(){n({errorType:"timeout_error",xhr:i})}),i.addEventListener("abort",function(){n({errorType:"abort",xhr:i})}),i.addEventListener("error",function(e){n({errorType:"onerror",xhr:i,error:e})}),{arraybuffer:"arrayBuffer",json:"json"});i.addEventListener("load",function(){var e;200===i.status||0===i.status||201===i.status?(e=vc(vc({},o[r],function(){return i.response}),"ok",!0),t(e)):n({errorType:"loadError",xhr:i})}),"POST"===e?(i.open("POST",a,!0),i.responseType=r,i.setRequestHeader("Accept","application/json"),i.send(JSON.parse(s.data))):(i.open("GET",a,!0),i.responseType=r,i.send())})}function bc(e){return(bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=bc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=bc(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==bc(e)?e:e+""))(r.key),r)}}function wc(e,t){return e.__depth!==t.__depth?e.__depth>t.__depth?-1:1:e.__inFrustum!==t.__inFrustum?e.__inFrustum?1:-1:e.__used!==t.__used?e.__used?1:-1:e.__error!==t.__error?e.__error>t.__error?1:-1:e.__distanceFromCamera!==t.__distanceFromCamera?e.__distanceFromCamera>t.__distanceFromCamera?-1:1:0}function xc(e){return 1/(e.__depthFromRenderedParent+1)}var _c=(()=>{function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.tileSets={},this.rootURL=e,this.fetchOptions={},this.preprocessURL=null;var e=new nc,t=(e.unloadPriorityCallback=xc,new oc),n=(t.maxJobs=4,t.priorityCallback=wc,new oc);n.maxJobs=1,n.priorityCallback=wc,this.lruCache=e,this.downloadQueue=t,this.parseQueue=n,this.stats={parsing:0,downloading:0,failed:0,inFrustum:0,used:0,active:0,visible:0},this.frameCount=0,this.errorTarget=6,this.errorThreshold=1/0,this.loadSiblings=!0,this.displayActiveTiles=!1,this.maxDepth=1/0,this.stopAtEmptyTiles=!0}return e=r,(t=[{key:"rootTileSet",get:function(){var e=this.tileSets[this.rootURL];return!e||e instanceof Promise?null:e}},{key:"root",get:function(){var e=this.rootTileSet;return e?e.root:null}},{key:"traverse",value:function(e,t){var n=this.tileSets[this.rootURL];n&&n.root&&fc(n.root,e,t)}},{key:"update",value:function(){var e=this.stats,t=this.lruCache,n=this.tileSets,r=n[this.rootURL];this.rootURL in n?r&&r.root&&(n=r.root,e.inFrustum=0,e.used=0,e.active=0,e.visible=0,this.frameCount++,pc(n,this),function e(t,n){var r=n.stats,i=n.frameCount;if(cc(t,i)){r.used++;for(var o=t.children,a=!1,s=0,u=o.length;s<u;s++)var l=o[s],a=a||cc(l,i);if(a){for(var c=!1,h=!0,f=0,p=o.length;f<p;f++){var y=o[f];e(y,n),c=c||y.__wasSetVisible||y.__childrenWereVisible,cc(y,i)&&(y=y.__allChildrenLoaded||!y.__contentEmpty&&lc(y.__loadingState)||y.__externalTileSet&&y.__loadingState===sc,h=h&&y)}t.__childrenWereVisible=c,t.__allChildrenLoaded=h}else t.__isLeaf=!0}}(n,this),yc(n,this),function e(t,n){var r=cc(t,n.frameCount);if(r||t.__usedLastFrame)for(var i=!1,o=!1,a=(r&&(i=t.__active,o=n.displayActiveTiles&&t.__active||t.__visible),t.__contentEmpty||t.__loadingState!==ac||(t.__wasSetActive!==i&&n.setTileActive(t,i),t.__wasSetVisible!==o&&n.setTileVisible(t,o)),t.__wasSetActive=i,t.__wasSetVisible=o,t.__usedLastFrame=r,t.children),s=0,u=a.length;s<u;s++)e(a[s],n)}(n,this),t.scheduleUnload()):this.loadRootTileSet(this.rootURL)}},{key:"parseTile",value:function(e,t,n){return null}},{key:"disposeTile",value:function(e){}},{key:"preprocessNode",value:function(e,t,n){e.content&&(!("uri"in e.content)&&"url"in e.content&&(e.content.uri=e.content.url,delete e.content.url),e.content.uri&&(e.content.uri=new URL(e.content.uri,n+"/").toString()),e.content.boundingVolume)&&!("box"in e.content.boundingVolume||"sphere"in e.content.boundingVolume||"region"in e.content.boundingVolume)&&delete e.content.boundingVolume,e.parent=t,e.children=e.children||[],e.content&&e.content.uri?(n=$5(e.content.uri),n=Boolean(n&&"json"===n.toLowerCase()),e.__externalTileSet=n,e.__contentEmpty=n):(e.__externalTileSet=!1,e.__contentEmpty=!0),e.__distanceFromCamera=1/0,e.__error=1/0,e.__inFrustum=!1,e.__isLeaf=!1,e.__usedLastFrame=!1,e.__used=!1,e.__wasSetVisible=!1,e.__visible=!1,e.__childrenWereVisible=!1,e.__allChildrenLoaded=!1,e.__wasSetActive=!1,e.__active=!1,e.__loadingState=0,e.__loadIndex=0,e.__loadAbort=null,e.__depthFromRenderedParent=-1,null===t?(e.__depth=0,e.refine=e.refine||"REPLACE"):(e.__depth=t.__depth+1,e.refine=e.refine||t.refine)}},{key:"setTileActive",value:function(e,t){}},{key:"setTileVisible",value:function(e,t){}},{key:"calculateError",value:function(e){return 0}},{key:"tileInView",value:function(e){return!0}},{key:"resetFailedTiles",value:function(){var e=this.stats;0!==e.failed&&(this.traverse(function(e){e.__loadingState===sc&&(e.__loadingState=0)}),e.failed=0)}},{key:"fetchTileSet",value:function(r,e){var i=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return mc(r,e).then(function(e){if(e.ok)return e.json();throw new Error('TilesRenderer: Failed to load tileset "'.concat(r,'" with status ').concat(e.status," : ").concat(e.statusText))}).then(function(e){var t=e.asset.version,n=(console.assert("1.0"===t||"0.0"===t,'asset.version is expected to be a string of "1.0" or "0.0"'),r.replace(/\/[^\/]*\/?$/,"")),n=new URL(n,window.location.href).toString();return fc(e.root,function(e,t){return i.preprocessNode(e,t,n)},null,o,o?o.__depth:0),e})}},{key:"loadRootTileSet",value:function(t){var e,n=this.tileSets;return t in n?n[t]instanceof Error?Promise.reject(n[t]):Promise.resolve(n[t]):((e=this.fetchTileSet(this.preprocessURL?this.preprocessURL(t):t,this.fetchOptions).then(function(e){n[t]=e})).catch(function(e){console.error(e),n[t]=e}),n[t]=e)}},{key:"requestTileContents",value:function(t){var r,n,i,o,a,s,u,e,l=this;0===t.__loadingState&&(r=this.stats,n=this.lruCache,i=this.downloadQueue,o=this.parseQueue,a=t.__externalTileSet,n.add(t,function(e){1===e.__loadingState?(e.__loadAbort.abort(),e.__loadAbort=null):a?e.children.length=0:l.disposeTile(e),1===e.__loadingState?r.downloading--:2===e.__loadingState&&r.parsing--,e.__loadingState=0,e.__loadIndex++,o.remove(e),i.remove(e)}),t.__loadIndex++,s=t.__loadIndex,u=new XMLHttpRequest,r.downloading++,t.__loadAbort={abort:u.abort.bind(u)},t.__loadingState=1,e=function(e){t.__loadIndex===s&&("AbortError"!==e.name?(o.remove(t),i.remove(t),2===t.__loadingState?r.parsing--:1===t.__loadingState&&r.downloading--,r.failed++,console.error('TilesRenderer : Failed to load tile at url "'.concat(t.content.uri,'".')),console.error(e),t.__loadingState=sc):n.remove(t))},(a?i.add(t,function(e){var t;return e.__loadIndex!==s?Promise.resolve():(t=l.preprocessURL?l.preprocessURL(e.content.uri):e.content.uri,l.fetchTileSet(t,Object.assign({xhr:u,responseType:"json"},l.fetchOptions),e))}).then(function(e){t.__loadIndex===s&&(r.downloading--,t.__loadAbort=null,t.__loadingState=ac,t.children.push(e.root))}):i.add(t,function(e){return e.__loadIndex!==s?Promise.resolve():mc(l.preprocessURL?l.preprocessURL(e.content.uri):e.content.uri,Object.assign({xhr:u,responseType:"arraybuffer"},l.fetchOptions))}).then(function(e){if(t.__loadIndex===s){if(e.ok)return e.arrayBuffer();throw new Error("Failed to load model with error code ".concat(e.status))}}).then(function(n){if(t.__loadIndex===s)return r.downloading--,r.parsing++,t.__loadAbort=null,t.__loadingState=2,o.add(t,function(e){var t;return e.__loadIndex!==s?Promise.resolve():(t=$5(e.content.uri),l.parseTile(n,e,t))})}).then(function(){t.__loadIndex===s&&(r.parsing--,t.__loadingState=ac,t.__wasSetVisible&&l.setTileVisible(t,!0),t.__wasSetActive)&&l.setTileActive(t,!0)})).catch(e))}},{key:"dispose",value:function(){var t=this.lruCache;this.traverse(function(e){t.remove(e)}),this.stats={parsing:0,downloading:0,failed:0,inFrustum:0,used:0,active:0,visible:0},this.frameCount=0}}])&&gc(e.prototype,t),n&&gc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function Sc(e){return(Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kc(e,t,n){t=Tc(t);var r=e,t=Oc()?Reflect.construct(t,n||[],Tc(e).constructor):t.apply(e,n);if(!t||"object"!=Sc(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Oc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Oc=function(){return!!e})()}function Pc(){return(Pc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Tc(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Tc(e){return(Tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ec(e,t){return(Ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Rc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Sc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Sc(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Sc(e)?e:e+""))(r.key),r)}}function Mc(e,t,n){return t&&Ac(e.prototype,t),n&&Ac(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Cc=(()=>Mc(function e(t,n,r,i){Rc(this,e),this.buffer=t,this.binOffset=n+r,this.binLength=i;i=null;i=0!==r?(t=new Uint8Array(t,n,r),JSON.parse((n=t,(new TextDecoder).decode(n)))):{},this.header=i},[{key:"getKeys",value:function(){return Object.keys(this.header)}},{key:"getData",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,i=this.header;if(!(e in i))return null;i=i[e];if(i instanceof Object){if(Array.isArray(i))return i;var o,a,s=this.buffer,u=this.binOffset,l=this.binLength,c=i.byteOffset||0,h=i.type||r,n=i.componentType||n;if("type"in i&&r&&i.type!==r)throw new Error("FeatureTable: Specified type does not match expected type.");switch(h){case"SCALAR":o=1;break;case"VEC2":o=2;break;case"VEC3":o=3;break;case"VEC4":o=4;break;default:throw new Error('FeatureTable : Feature type not provided for "'.concat(e,'".'))}var f=u+c,p=t*o;switch(n){case"BYTE":a=new Int8Array(s,f,p);break;case"UNSIGNED_BYTE":a=new Uint8Array(s,f,p);break;case"SHORT":a=new Int16Array(s,f,p);break;case"UNSIGNED_SHORT":a=new Uint16Array(s,f,p);break;case"INT":a=new Int32Array(s,f,p);break;case"UNSIGNED_INT":a=new Uint32Array(s,f,p);break;case"FLOAT":a=new Float32Array(s,f,p);break;case"DOUBLE":a=new Float64Array(s,f,p);break;default:throw new Error('FeatureTable : Feature component type not provided for "'.concat(e,'".'))}if(u+l<f+p*a.BYTES_PER_ELEMENT)throw new Error("FeatureTable: Feature data read outside binary body length.");return a}return i}}]))(),jc=(()=>{function u(e,t,n,r,i){return Rc(this,u),(e=kc(this,u,[e,n,r,i])).batchSize=t,e}var e=u,t=Cc;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ec(e,t),Mc(u,[{key:"getData",value:function(e){var t,n,r,i,o,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return t=u,n="getData",r=this,o=Pc(Tc(1&(i=3)?t.prototype:t),n,r),(2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o)([e,this.batchSize,a,s])}}])})();function Lc(e){return(Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Lc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Lc(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Lc(e)?e:e+""))(r.key),r)}}var Nc=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.fetchOptions={},this.workingPath=""}return t=e,(n=[{key:"load",value:function(t){var n=this;return fetch(t,this.fetchOptions).then(function(e){if(e.ok)return e.arrayBuffer();throw new Error('Failed to load file "'.concat(t,'" with status ').concat(e.status," : ").concat(e.statusText))}).then(function(e){return""===n.workingPath&&(n.workingPath=n.workingPathForURL(t)),n.parse(e)})}},{key:"resolveExternalURL",value:function(e){return/^[^\\/]/.test(e)?this.workingPath+"/"+e:e}},{key:"workingPathForURL",value:function(e){e=e.split(/[\\/]/g);return e.pop(),e.join("/")+"/"}},{key:"parse",value:function(e){throw new Error("LoaderBase: Parse not implemented.")}}])&&Ic(t.prototype,n),r&&Ic(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r})();function Dc(e){var t=e instanceof DataView?e:new DataView(e);if("{"===String.fromCharCode(t.getUint8(0)))return null;for(var n="",r=0;r<4;r++)n+=String.fromCharCode(t.getUint8(r));return n}function Bc(e){return(Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Bc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Bc(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Bc(e)?e:e+""))(r.key),r)}}function Uc(e,t,n){t=Gc(t);var r=e,t=zc()?Reflect.construct(t,n||[],Gc(e).constructor):t.apply(e,n);if(!t||"object"!=Bc(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function zc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zc=function(){return!!e})()}function Gc(e){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hc(e,t){return(Hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Vc=(()=>{function n(){var e=this,t=n;if(e instanceof t)return Uc(this,n,arguments);throw new TypeError("Cannot call a class as a function")}var e,t=n,r=Nc;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Hc(t,r),t=n,(r=[{key:"parse",value:function(e){var t=new DataView(e),n=Dc(t),n=(console.assert("b3dm"===n),t.getUint32(4,!0)),r=(console.assert(1===n),t.getUint32(8,!0)),i=(console.assert(r===e.byteLength),t.getUint32(12,!0)),o=t.getUint32(16,!0),a=t.getUint32(20,!0),t=t.getUint32(24,!0),s=e.slice(28,28+i+o),s=new Cc(s,0,i,o),i=28+i+o,o=e.slice(i,i+a+t),o=new jc(o,s.getData("BATCH_LENGTH"),0,a,t),i=i+a+t;return{version:n,featureTable:s,batchTable:o,glbBytes:new Uint8Array(e,i,r-i)}}}])&&Fc(t.prototype,r),e&&Fc(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Yc(e){return(Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Yc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Yc(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Yc(e)?e:e+""))(r.key),r)}}function qc(e,t,n){return t&&Wc(e.prototype,t),n&&Wc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Xc=qc(function e(t,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var i=this,o=!1,a=0,s=0,u=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.record=new Map,this.itemStart=function(e){this.record.has(e)||this.record.set(e,{}),s++,!1===o&&void 0!==i.onStart&&i.onStart(e,a,s),o=!0},this.itemEnd=function(e){this.record.delete(e),a++,void 0!==i.onProgress&&i.onProgress(e,a,s),a===s&&(o=!1,void 0!==i.onLoad)&&i.onLoad()},this.itemError=function(e){this.record.delete(e),void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){e=l.indexOf(e);return-1!==e&&l.splice(e,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null},this.isLoaded=function(){return 0===this.record.size}}),Zc=new Xc;function Jc(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Kc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qc(n){for(var e=n.length,t=new Array(e),r=0;r!==e;++r)t[r]=r;return t.sort(function(e,t){return n[e]-n[t]}),t}function $c(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i}function e6(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))for(;void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),void 0!==(o=e[i++]););else if(void 0!==a.toArray)for(;void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),void 0!==(o=e[i++]););else for(;void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),void 0!==(o=e[i++]););}}function t6(e){return(t6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=t6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=t6(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==t6(e)?e:e+""))(r.key),r)}}var r6=(()=>{function i(e,t,n,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}return e=i,(t=[{key:"evaluate",value:function(e){var t,n=this.parameterPositions,r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{n:{r:if(!(e<i)){for(var a=r+2;;){if(void 0===i){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,e<(i=n[++r]))break t}t=n.length;break n}if(o<=e)break e;var s=n[1];e<s&&(r=2,o=s);for(var u=r-2;;){if(void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(i=o,(o=n[--r-1])<=e)break t}t=r,r=0}for(;r<t;){var l=r+t>>>1;e<n[l]?t=l:r=1+l}if(i=n[r],void 0===(o=n[r-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}])&&n6(e.prototype,t),n&&n6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function i6(e){return(i6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=i6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=i6(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==i6(e)?e:e+""))(r.key),r)}}function a6(e,t,n){t=u6(t);var r=e,t=s6()?Reflect.construct(t,n||[],u6(e).constructor):t.apply(e,n);if(!t||"object"!=i6(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function s6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s6=function(){return!!e})()}function u6(e){return(u6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l6(e,t){return(l6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var c6=(()=>{function i(e,t,n,r){if(this instanceof i)return(e=a6(this,i,[e,t,n,r]))._weightPrev=-0,e._offsetPrev=-0,e._weightNext=-0,e._offsetNext=-0,e.DefaultSettings_={endingStart:2400,endingEnd:2400},e;throw new TypeError("Cannot call a class as a function")}var e,t=i,n=r6;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&l6(t,n),t=i,(n=[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=e,a=2*t-n;break;case 2402:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=e,s=2*n-t;break;case 2402:s=n+r[o=1]-r[0];break;default:o=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=o*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,l=this._offsetPrev,c=this._offsetNext,e=this._weightPrev,h=this._weightNext,n=(n-t)/(r-t),r=n*n,t=r*n,f=-e*t+2*e*r-e*n,p=(1+e)*t+(-1.5-2*e)*r+(-.5+e)*n+1,y=(-1-h)*t+(1.5+h)*r+.5*n,d=h*t-h*r,v=0;v!==a;++v)i[v]=f*o[l+v]+p*o[u+v]+y*o[s+v]+d*o[c+v];return i}}])&&o6(t.prototype,n),e&&o6(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function h6(e){return(h6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=h6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=h6(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==h6(e)?e:e+""))(r.key),r)}}function p6(e,t,n){t=d6(t);var r=e,t=y6()?Reflect.construct(t,n||[],d6(e).constructor):t.apply(e,n);if(!t||"object"!=h6(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function y6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y6=function(){return!!e})()}function d6(e){return(d6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v6(e,t){return(v6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var m6=(()=>{function i(e,t,n,r){if(this instanceof i)return p6(this,i,[e,t,n,r]);throw new TypeError("Cannot call a class as a function")}var e,t=i,n=r6;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&v6(t,n),t=i,(n=[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,l=(n-t)/(r-t),c=1-l,h=0;h!==a;++h)i[h]=o[u+h]*c+o[s+h]*l;return i}}])&&f6(t.prototype,n),e&&f6(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function b6(e){return(b6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=b6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=b6(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==b6(e)?e:e+""))(r.key),r)}}function w6(e,t,n){t=_6(t);var r=e,t=x6()?Reflect.construct(t,n||[],_6(e).constructor):t.apply(e,n);if(!t||"object"!=b6(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function x6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(x6=function(){return!!e})()}function _6(e){return(_6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S6(e,t){return(S6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var k6=(()=>{function i(e,t,n,r){if(this instanceof i)return w6(this,i,[e,t,n,r]);throw new TypeError("Cannot call a class as a function")}var e,t=i,n=r6;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&S6(t,n),t=i,(n=[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}])&&g6(t.prototype,n),e&&g6(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function O6(e){return(O6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=O6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=O6(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==O6(e)?e:e+""))(r.key),r)}}var T6=(()=>{function i(e,t,n,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Jc(t,this.TimeBufferType),this.values=Jc(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}return e=i,n=[{key:"toJSON",value:function(e){var t,n=e.constructor;return n.toJSON!==this.toJSON?t=n.toJSON(e):(t={name:e.name,times:Jc(e.times,Array),values:Jc(e.values,Array)},(n=e.getInterpolation())!==e.DefaultInterpolation&&(t.interpolation=n)),t.type=e.ValueTypeName,t}}],(t=[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new k6(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new m6(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new c6(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",n)}else this.createInterpolant=t;return this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n,r=this.times,i=r.length,o=0,a=i-1;o!==i&&r[o]<e;)++o;for(;-1!==a&&r[a]>t;)--a;return++a,0===o&&a===i||(a<=o&&(o=(a=Math.max(a,1))-1),n=this.getValueSize(),this.times=r.slice(o,a),this.values=this.values.slice(o*n,a*n)),this}},{key:"validate",value:function(){for(var e=!0,t=this.getValueSize(),n=(t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1),this.times),r=this.values,i=n.length,o=(0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1),null),a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&s<o){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&Kc(r))for(var u=0,l=r.length;u!==l;++u){var c=r[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=2302===this.getInterpolation(),i=e.length-1,o=1,a=1;a<i;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==e[0]))if(r)s=!0;else for(var l=a*n,c=l-n,h=l+n,f=0;f!==n;++f){var p=t[l+f];if(p!==t[c+f]||p!==t[h+f]){s=!0;break}}if(s){if(a!==o){e[o]=e[a];for(var y=a*n,d=o*n,v=0;v!==n;++v)t[d+v]=t[y+v]}++o}}if(0<i){e[o]=e[i];for(var m=i*n,b=o*n,g=0;g!==n;++g)t[b+g]=t[m+g];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=this.times.slice(),t=this.values.slice(),e=new this.constructor(this.name,e,t);return e.createInterpolant=this.createInterpolant,e}}])&&P6(e.prototype,t),n&&P6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function E6(e){return(E6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=E6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=E6(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==E6(e)?e:e+""))(r.key),r)}}function A6(e,t,n){t=C6(t);var r=e,t=M6()?Reflect.construct(t,n||[],C6(e).constructor):t.apply(e,n);if(!t||"object"!=E6(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function M6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(M6=function(){return!!e})()}function C6(e){return(C6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j6(e,t){return(j6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}T6.prototype.TimeBufferType=Float32Array,T6.prototype.ValueBufferType=Float32Array,T6.prototype.DefaultInterpolation=2301;var L6=(()=>{function r(e,t,n){if(this instanceof r)return A6(this,r,[e,t,n]);throw new TypeError("Cannot call a class as a function")}var e,t,n=r,i=T6;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&j6(n,i),n=r,e&&R6(n.prototype,e),t&&R6(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n})();function I6(e){return(I6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=I6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=I6(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==I6(e)?e:e+""))(r.key),r)}}function D6(e,t,n){t=F6(t);var r=e,t=B6()?Reflect.construct(t,n||[],F6(e).constructor):t.apply(e,n);if(!t||"object"!=I6(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function B6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(B6=function(){return!!e})()}function F6(e){return(F6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U6(e,t){return(U6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}L6.prototype.ValueTypeName="bool",L6.prototype.ValueBufferType=Array,L6.prototype.DefaultInterpolation=2300,L6.prototype.InterpolantFactoryMethodLinear=void 0,L6.prototype.InterpolantFactoryMethodSmooth=void 0;var z6=(()=>{function n(){var e=this,t=n;if(e instanceof t)return D6(this,n,arguments);throw new TypeError("Cannot call a class as a function")}var e,t,r=n,i=T6;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&U6(r,i),r=n,e&&N6(r.prototype,e),t&&N6(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r})();function G6(e){return(G6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=G6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=G6(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==G6(e)?e:e+""))(r.key),r)}}function V6(e,t,n){t=W6(t);var r=e,t=Y6()?Reflect.construct(t,n||[],W6(e).constructor):t.apply(e,n);if(!t||"object"!=G6(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Y6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Y6=function(){return!!e})()}function W6(e){return(W6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q6(e,t){return(q6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}z6.prototype.ValueTypeName="color";var X6=(()=>{function n(){var e=this,t=n;if(e instanceof t)return V6(this,n,arguments);throw new TypeError("Cannot call a class as a function")}var e,t,r=n,i=T6;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&q6(r,i),r=n,e&&H6(r.prototype,e),t&&H6(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r})();function Z6(e){return(Z6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Z6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Z6(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Z6(e)?e:e+""))(r.key),r)}}function K6(e,t,n){t=$6(t);var r=e,t=Q6()?Reflect.construct(t,n||[],$6(e).constructor):t.apply(e,n);if(!t||"object"!=Z6(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Q6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Q6=function(){return!!e})()}function $6(e){return($6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e3(e,t){return(e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}X6.prototype.ValueTypeName="number";var t3=(()=>{function i(e,t,n,r){if(this instanceof i)return K6(this,i,[e,t,n,r]);throw new TypeError("Cannot call a class as a function")}var e,t=i,n=r6;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&e3(t,n),t=i,(n=[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t),u=e*a,l=u+a;u!==l;u+=4)$.slerpFlat(i,0,o,u-a,o,u,s);return i}}])&&J6(t.prototype,n),e&&J6(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function n3(e){return(n3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=n3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=n3(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==n3(e)?e:e+""))(r.key),r)}}function i3(e,t,n){t=a3(t);var r=e,t=o3()?Reflect.construct(t,n||[],a3(e).constructor):t.apply(e,n);if(!t||"object"!=n3(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function o3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o3=function(){return!!e})()}function a3(e){return(a3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s3(e,t){return(s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var u3=(()=>{function n(){var e=this,t=n;if(e instanceof t)return i3(this,n,arguments);throw new TypeError("Cannot call a class as a function")}var e,t=n,r=T6;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&s3(t,r),t=n,(r=[{key:"InterpolantFactoryMethodLinear",value:function(e){return new t3(this.times,this.values,this.getValueSize(),e)}}])&&r3(t.prototype,r),e&&r3(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function l3(e){return(l3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=l3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=l3(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==l3(e)?e:e+""))(r.key),r)}}function h3(e,t,n){t=p3(t);var r=e,t=f3()?Reflect.construct(t,n||[],p3(e).constructor):t.apply(e,n);if(!t||"object"!=l3(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function f3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f3=function(){return!!e})()}function p3(e){return(p3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y3(e,t){return(y3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}u3.prototype.ValueTypeName="quaternion",u3.prototype.InterpolantFactoryMethodSmooth=void 0;var d3=(()=>{function r(e,t,n){if(this instanceof r)return h3(this,r,[e,t,n]);throw new TypeError("Cannot call a class as a function")}var e,t,n=r,i=T6;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&y3(n,i),n=r,e&&c3(n.prototype,e),t&&c3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n})();function v3(e){return(v3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=v3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=v3(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==v3(e)?e:e+""))(r.key),r)}}function b3(e,t,n){t=w3(t);var r=e,t=g3()?Reflect.construct(t,n||[],w3(e).constructor):t.apply(e,n);if(!t||"object"!=v3(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function g3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g3=function(){return!!e})()}function w3(e){return(w3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x3(e,t){return(x3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}d3.prototype.ValueTypeName="string",d3.prototype.ValueBufferType=Array,d3.prototype.DefaultInterpolation=2300,d3.prototype.InterpolantFactoryMethodLinear=void 0,d3.prototype.InterpolantFactoryMethodSmooth=void 0;var _3=(()=>{function n(){var e=this,t=n;if(e instanceof t)return b3(this,n,arguments);throw new TypeError("Cannot call a class as a function")}var e,t,r=n,i=T6;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&x3(r,i),r=n,e&&m3(r.prototype,e),t&&m3(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r})();function S3(e){return(S3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=S3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=S3(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==S3(e)?e:e+""))(r.key),r)}}_3.prototype.ValueTypeName="vector";var O3=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2500,o=this,a=e;if(!(o instanceof a))throw new TypeError("Cannot call a class as a function");this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=V(),this.duration<0&&this.resetDuration()},n=[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push((e=>{if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t,n,r=(e=>{switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return X6;case"vector":case"vector2":case"vector3":case"vector4":return _3;case"color":return z6;case"quaternion":return u3;case"bool":case"boolean":return L6;case"string":return d3}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)})(e.type);return void 0===e.times&&(t=[],n=[],e6(e.keys,t,n,"value"),e.times=t,e.values=n),void 0!==r.parse?r.parse(e):new r(e.name,e.times,e.values,e.interpolation)})(n[i]).scale(r));var a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,e={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},r=0,i=n.length;r!==i;++r)t.push(T6.toJSON(n[r]));return e}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=((l=[]).push((a+i-1)%i,a,(a+1)%i),s.push(0,1,0),Qc(l)),l=$c(l,1,u),s=$c(s,1,u);r||0!==l[0]||(l.push(i),s.push(s[0])),o.push(new X6(".morphTargetInfluences["+t[a].name+"]",l,s).scale(1/n))}return new this(e,-1,o)}},{key:"findByName",value:function(e,t){var n=e;Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations);for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s,u=e[o],l=u.name.match(i);l&&1<l.length&&((s=r[l=l[1]])||(r[l]=s=[]),s.push(u))}var c,h=[];for(c in r)h.push(this.CreateFromMorphTargetSequence(c,r[c],t,n));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){var o;0!==n.length&&(e6(n,n=[],o=[],r),0!==n.length)&&i.push(new e(t,n,o))},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var h,f={},p=void 0,p=0;p<c.length;p++)if(c[p].morphTargets)for(var y=0;y<c[p].morphTargets.length;y++)f[c[p].morphTargets[y]]=-1;for(h in f){for(var d=[],v=[],m=0;m!==c[p].morphTargets.length;++m){var b=c[p];d.push(b.time),v.push(b.morphTarget===h?1:0)}r.push(new X6(".morphTargetInfluence["+h+"]",d,v))}s=f.length*o}else{var g=".bones["+t[l].name+"]";n(_3,g+".position",c,"pos",r),n(u3,g+".quaternion",c,"rot",r),n(_3,g+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,a)}}],(t=[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t)var r=this.tracks[t],e=Math.max(e,r.times[r.times.length-1]);return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}])&&k3(e.prototype,t),n&&k3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function P3(e){return(P3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=P3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=P3(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==P3(e)?e:e+""))(r.key),r)}}function E3(e,t,n){t=C3(t);var r=e,t=R3()?Reflect.construct(t,n||[],C3(e).constructor):t.apply(e,n);if(!t||"object"!=P3(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function R3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(R3=function(){return!!e})()}function A3(e,t,n,r){var i=M3(C3(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function M3(){return(M3="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=C3(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function C3(e){return(C3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j3(e,t){return(j3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var L3=(()=>{function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=this,r=i;if(n instanceof r)return(n=E3(this,i)).isLight=!0,n.type="Light",n.color=new v(e),n.intensity=t,n;throw new TypeError("Cannot call a class as a function")}var e,t=i,n=g;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&j3(t,n),t=i,(n=[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return A3(i,"copy",this,3)([e,t]),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){e=A3(i,"toJSON",this,3)([e]);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(e.object.target=this.target.uuid),e}}])&&T3(t.prototype,n),e&&T3(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function I3(e){return(I3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=I3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=I3(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==I3(e)?e:e+""))(r.key),r)}}var D3=new xn,B3=new F,F3=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Br,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Br,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Br,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new Br,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:new Br,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:new Br,s=this,u=e;if(!(s instanceof u))throw new TypeError("Cannot call a class as a function");this.planes=[t,n,r,i,o,a]},(t=[{key:"set",value:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2e3,n=this.planes,e=e.elements,r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],y=e[11],d=e[12],v=e[13],m=e[14],e=e[15];if(n[0].setComponents(a-r,c-s,y-h,e-d).normalize(),n[1].setComponents(a+r,c+s,y+h,e+d).normalize(),n[2].setComponents(a+i,c+u,y+f,e+v).normalize(),n[3].setComponents(a-i,c-u,y-f,e-v).normalize(),n[4].setComponents(a-o,c-l,y-p,e-m).normalize(),2e3===t)n[5].setComponents(a+o,c+l,y+p,e+m).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,l,p,m).normalize()}return this}},{key:"intersectsObject",value:function(e){var t;return(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),D3.copy(e.boundingSphere)):(null===(t=e.geometry).boundingSphere&&t.computeBoundingSphere(),D3.copy(t.boundingSphere))).applyMatrix4(e.matrixWorld),this.intersectsSphere(D3)}},{key:"intersectsSprite",value:function(e){return D3.center.set(0,0,0),D3.radius=.7071067811865476,D3.applyMatrix4(e.matrixWorld),this.intersectsSphere(D3)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++)if(t[i].distanceToPoint(n)<r)return!1;return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(B3.x=(0<r.normal.x?e.max:e.min).x,B3.y=(0<r.normal.y?e.max:e.min).y,B3.z=(0<r.normal.z?e.max:e.min).z,r.distanceToPoint(B3)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])&&N3(e.prototype,t),n&&N3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function U3(e){return(U3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=U3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=U3(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==U3(e)?e:e+""))(r.key),r)}}var G3=new b,H3=new F,V3=new F,Y3=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new U(512,512),this.map=null,this.mapPass=null,this.matrix=new b,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new F3,this._frameExtents=new U(1,1),this._viewportCount=1,this._viewports=[new Qr(0,0,1,1)]}return e=t,(n=[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;H3.setFromMatrixPosition(e.matrixWorld),t.position.copy(H3),V3.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(V3),t.updateMatrixWorld(),G3.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(G3),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(G3)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}])&&z3(e.prototype,n),r&&z3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r})();function W3(e){return(W3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=W3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=W3(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==W3(e)?e:e+""))(r.key),r)}}function X3(e,t,n){t=Q3(t);var r=e,t=Z3()?Reflect.construct(t,n||[],Q3(e).constructor):t.apply(e,n);if(!t||"object"!=W3(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Z3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Z3=function(){return!!e})()}function J3(e,t,n,r){var i=K3(Q3(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function K3(){return(K3="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Q3(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Q3(e){return(Q3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $3(e,t){return($3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var eh=(()=>{function n(){var e;if(this instanceof n)return(e=X3(this,n)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new b,e.projectionMatrix=new b,e.projectionMatrixInverse=new b,e.coordinateSystem=2e3,e;throw new TypeError("Cannot call a class as a function")}var e,t=n,r=g;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&$3(t,r),t=n,(r=[{key:"copy",value:function(e,t){return J3(n,"copy",this,3)([e,t]),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}},{key:"getWorldDirection",value:function(e){return J3(n,"getWorldDirection",this,3)([e]).negate()}},{key:"updateMatrixWorld",value:function(e){J3(n,"updateMatrixWorld",this,3)([e]),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){J3(n,"updateWorldMatrix",this,3)([e,t]),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])&&q3(t.prototype,r),e&&q3(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function th(e){return(th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=th(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=th(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==th(e)?e:e+""))(r.key),r)}}function rh(e,t,n){t=sh(t);var r=e,t=ih()?Reflect.construct(t,n||[],sh(e).constructor):t.apply(e,n);if(!t||"object"!=th(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function ih(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ih=function(){return!!e})()}function oh(e,t,n,r){var i=ah(sh(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function ah(){return(ah="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=sh(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function sh(e){return(sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uh(e,t){return(uh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var lh=(()=>{function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:.1,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2e3,a=this,s=u;if(a instanceof s)return(a=rh(this,u)).isOrthographicCamera=!0,a.type="OrthographicCamera",a.zoom=1,a.view=null,a.left=e,a.right=t,a.top=n,a.bottom=r,a.near=i,a.far=o,a.updateProjectionMatrix(),a;throw new TypeError("Cannot call a class as a function")}var e,t=u,n=eh;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&uh(t,n),t=u,(n=[{key:"copy",value:function(e,t){return oh(u,"copy",this,3)([e,t]),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e,t=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,o=r-t,r=r+t,t=i+n,i=i-n;null!==this.view&&this.view.enabled&&(n=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom,r=(o+=n*this.view.offsetX)+n*this.view.width,i=(t-=e*this.view.offsetY)-e*this.view.height),this.projectionMatrix.makeOrthographic(o,r,t,i,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){e=oh(u,"toJSON",this,3)([e]);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}])&&nh(t.prototype,n),e&&nh(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function ch(e){return(ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ch(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ch(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ch(e)?e:e+""))(r.key),r)}}function fh(e,t,n){t=yh(t);var r=e,t=ph()?Reflect.construct(t,n||[],yh(e).constructor):t.apply(e,n);if(!t||"object"!=ch(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function ph(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ph=function(){return!!e})()}function yh(e){return(yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dh(e,t){return(dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var vh=(()=>{function t(){var e;if(this instanceof t)return(e=fh(this,t,[new lh(-5,5,5,-5,.5,500)])).isDirectionalLightShadow=!0,e;throw new TypeError("Cannot call a class as a function")}var e,n,r=t,i=Y3;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&dh(r,i),r=t,e&&hh(r.prototype,e),n&&hh(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r})();function mh(e){return(mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=mh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=mh(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==mh(e)?e:e+""))(r.key),r)}}function gh(e,t,n){t=_h(t);var r=e,t=wh()?Reflect.construct(t,n||[],_h(e).constructor):t.apply(e,n);if(!t||"object"!=mh(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function wh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wh=function(){return!!e})()}function xh(){return(xh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_h(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function _h(e){return(_h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sh(e,t){return(Sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var kh=(()=>{function a(e,t){if(this instanceof a)return(e=gh(this,a,[e,t])).isDirectionalLight=!0,e.type="DirectionalLight",e.position.copy(g.DEFAULT_UP),e.updateMatrix(),e.target=new g,e.shadow=new vh,e;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=L3;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Sh(t,n),t=a,(n=[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){var t,n,r,i,o;return t=a,n="copy",r=this,o=xh(_h(1&(i=3)?t.prototype:t),n,r),(2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o)([e]),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}])&&bh(t.prototype,n),e&&bh(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})(),Oh={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Ph(e){return(Ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Th(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Ph(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Ph(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Ph(e)?e:e+""))(r.key),r)}}var Eh=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.manager=void 0!==e?e:Zc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return e=t,(n=[{key:"load",value:function(){}},{key:"loadAsync",value:function(n,r){var i=this;return new Promise(function(e,t){i.load(n,e,r,t)})}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}])&&Th(e.prototype,n),r&&Th(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r})();function Rh(e){return(Rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ah(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Rh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Rh(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Rh(e)?e:e+""))(r.key),r)}}function Mh(e,t,n){t=jh(t);var r=e,t=Ch()?Reflect.construct(t,n||[],jh(e).constructor):t.apply(e,n);if(!t||"object"!=Rh(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Ch(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ch=function(){return!!e})()}function jh(e){return(jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lh(e,t){return(Lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Eh.DEFAULT_MATERIAL_NAME="__DEFAULT";var Ih={},Nh=(()=>{function t(e){if(this instanceof t)return Mh(this,t,[e]);throw new TypeError("Cannot call a class as a function")}var e,n=t,r=Eh;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Lh(n,r),n=t,(r=[{key:"load",value:function(a,e,t,n){void 0===a&&(a=""),void 0!==this.path&&(a=this.path+a),a=this.manager.resolveURL(a);var s=this,r=Oh.get(a);if(void 0!==r)return setTimeout(function(){e&&e(r)},0),r;if(void 0===Ih[a]){var i=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(i){var o=i[1],u=!!i[2],l=i[3],l=decodeURIComponent(l);u&&(l=atob(l));try{var c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),f=0;f<l.length;f++)h[f]=l.charCodeAt(f);p="blob"===c?new Blob([h.buffer],{type:o}):h.buffer;break;case"document":var p=(new DOMParser).parseFromString(l,o);break;case"json":p=JSON.parse(l);break;default:p=l}setTimeout(function(){e&&e(p),s.manager.itemEnd(a)},0)}catch(e){setTimeout(function(){n&&n(e),s.manager.itemError(a),s.manager.itemEnd(a)},0)}}else{Ih[a]=[],Ih[a].push({onLoad:e,onProgress:t,onError:n});var y,d=new _n.a.XMLHttpRequest;for(y in d.open("GET",a,!0),d.addEventListener("load",function(e){var t=this.response,n=Ih[a];if(delete Ih[a],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Oh.add(a,t);for(var r=0,i=n.length;r<i;r++)(o=n[r]).onLoad&&o.onLoad(t)}else{for(var o,r=0,i=n.length;r<i;r++)(o=n[r]).onError&&o.onError(e);s.manager.itemError(a)}s.manager.itemEnd(a)},!1),d.addEventListener("progress",function(e){for(var t=Ih[a],n=0,r=t.length;n<r;n++){var i=t[n];i.onProgress&&i.onProgress(e)}},!1),d.addEventListener("error",function(e){var t=Ih[a];delete Ih[a];for(var n=0,r=t.length;n<r;n++){var i=t[n];i.onError&&i.onError(e)}s.manager.itemError(a),s.manager.itemEnd(a)},!1),d.addEventListener("abort",function(e){var t=Ih[a];delete Ih[a];for(var n=0,r=t.length;n<r;n++){var i=t[n];i.onError&&i.onError(e)}s.manager.itemError(a),s.manager.itemEnd(a)},!1),void 0!==this.responseType&&(d.responseType=this.responseType),void 0!==this.withCredentials&&(d.withCredentials=this.withCredentials),d.overrideMimeType&&d.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)d.setRequestHeader(y,this.requestHeader[y]);d.send(null)}return s.manager.itemStart(a),d}Ih[a].push({onLoad:e,onProgress:t,onError:n})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}},{key:"dispose",value:function(){Ih={}}}])&&Ah(n.prototype,r),e&&Ah(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n})();function Dh(e){return(Dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Dh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Dh(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Dh(e)?e:e+""))(r.key),r)}}function Fh(e,t,n){t=zh(t);var r=e,t=Uh()?Reflect.construct(t,n||[],zh(e).constructor):t.apply(e,n);if(!t||"object"!=Dh(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Uh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Uh=function(){return!!e})()}function zh(e){return(zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gh(e,t){return(Gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Hh=(()=>{function t(){var e;if(this instanceof t)return(e=Fh(this,t)).isBone=!0,e.type="Bone",e;throw new TypeError("Cannot call a class as a function")}var e,n,r=t,i=g;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&Gh(r,i),r=t,e&&Bh(r.prototype,e),n&&Bh(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r})();function Vh(e){return(Vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Vh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Vh(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Vh(e)?e:e+""))(r.key),r)}}var Wh=(()=>{function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRanges=[],this.version=0,this.uuid=V()}return e=n,(t=[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"addUpdateRange",value:function(e,t){this.updateRanges.push({start:e,count:t})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){return this.array.set(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=V()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);e=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),e=new this.constructor(e,this.stride);return e.setUsage(this.usage),e}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=V()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}])&&Yh(e.prototype,t),r&&Yh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r})();function qh(e){return(qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=qh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=qh(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==qh(e)?e:e+""))(r.key),r)}}function Zh(e,t,n){t=$h(t);var r=e,t=Jh()?Reflect.construct(t,n||[],$h(e).constructor):t.apply(e,n);if(!t||"object"!=qh(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Jh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jh=function(){return!!e})()}function Kh(e,t,n,r){var i=Qh($h(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Qh(){return(Qh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=$h(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function $h(e){return($h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ef(e,t){return(ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var tf=(()=>{function a(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=this,o=a;if(i instanceof o)return(i=Zh(this,a,[e,t,n])).isInstancedBufferAttribute=!0,i.meshPerAttribute=r,i;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=fn;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&ef(t,n),t=a,(n=[{key:"copy",value:function(e){return Kh(a,"copy",this,3)([e]),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=Kh(a,"toJSON",this,3)([]);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}])&&Xh(t.prototype,n),e&&Xh(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function nf(e){return(nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=nf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=nf(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==nf(e)?e:e+""))(r.key),r)}}function of(e,t,n){t=sf(t);var r=e,t=af()?Reflect.construct(t,n||[],sf(e).constructor):t.apply(e,n);if(!t||"object"!=nf(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function af(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(af=function(){return!!e})()}function sf(e){return(sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uf(e,t){return(uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var lf=(()=>{function y(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length?arguments[3]:void 0,i=4<arguments.length?arguments[4]:void 0,o=5<arguments.length?arguments[5]:void 0,a=6<arguments.length?arguments[6]:void 0,s=7<arguments.length?arguments[7]:void 0,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:1003,l=9<arguments.length&&void 0!==arguments[9]?arguments[9]:1003,c=10<arguments.length?arguments[10]:void 0,h=11<arguments.length?arguments[11]:void 0,f=this,p=y;if(f instanceof p)return(f=of(this,y,[null,o,a,s,u,l,r,i,c,h])).isDataTexture=!0,f.image={data:e,width:t,height:n},f.generateMipmaps=!1,f.flipY=!1,f.unpackAlignment=1,f;throw new TypeError("Cannot call a class as a function")}var e,t,n=y,r=Or;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&uf(n,r),n=y,e&&rf(n.prototype,e),t&&rf(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n})();function cf(e){return(cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=cf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=cf(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==cf(e)?e:e+""))(r.key),r)}}function ff(e,t,n){t=df(t);var r=e,t=pf()?Reflect.construct(t,n||[],df(e).constructor):t.apply(e,n);if(!t||"object"!=cf(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function pf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pf=function(){return!!e})()}function yf(){return(yf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=df(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function df(e){return(df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vf(e,t){return(vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var mf=new b,bf=new b,gf=[],wf=new Ut,xf=new b,_f=new j0,Sf=new xn,kf=(()=>{function s(e,t,n){var r;if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");(r=ff(this,s,[e,t])).isInstancedMesh=!0,r.instanceMatrix=new tf(new Float32Array(16*n),16),r.instanceColor=null,r.morphTexture=null,r.count=n,r.boundingBox=null,r.boundingSphere=null;for(var i=0;i<n;i++)r.setMatrixAt(i,xf);return r}var e,t=s,n=j0;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&vf(t,n),t=s,(n=[{key:"computeBoundingBox",value:function(){var e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Ut),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,mf),wf.copy(e.boundingBox).applyMatrix4(mf),this.boundingBox.union(wf)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new xn),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,mf),Sf.copy(e.boundingSphere).applyMatrix4(mf),this.boundingSphere.union(Sf)}},{key:"copy",value:function(e,t){var n,r,i,o,a;return n=s,r="copy",i=this,a=yf(df(1&(o=3)?n.prototype:n),r,i),(2&o&&"function"==typeof a?function(e){return a.apply(i,e)}:a)([e,t]),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"getMorphAt",value:function(e,t){for(var n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1,o=0;o<n.length;o++)n[o]=r[i+o]}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(_f.geometry=this.geometry,_f.material=this.material,void 0!==_f.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Sf.copy(this.boundingSphere),Sf.applyMatrix4(n),!1!==e.ray.intersectsSphere(Sf)))for(var i=0;i<r;i++){this.getMatrixAt(i,mf),bf.multiplyMatrices(n,mf),_f.matrixWorld=bf,_f.raycast(e,gf);for(var o=0,a=gf.length;o<a;o++){var s=gf[o];s.instanceId=i,s.object=this,t.push(s)}gf.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new tf(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"setMorphAt",value:function(e,t){for(var n=t.morphTargetInfluences,t=n.length+1,r=(null===this.morphTexture&&(this.morphTexture=new lf(new Float32Array(t*this.count),t,this.count,1028,1015)),this.morphTexture.source.data.data),i=0,o=0;o<n.length;o++)i+=n[o];var a=this.geometry.morphTargetsRelative?1:1-i,t=t*e;r[t]=a,r.set(n,1+t)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}])&&hf(t.prototype,n),e&&hf(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Of(e){return(Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Of(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Of(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Of(e)?e:e+""))(r.key),r)}}var Tf=new F,Ef=(()=>{function a(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=this,o=a;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}return e=a,(t=[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Tf.fromBufferAttribute(this,t),Tf.applyMatrix4(e),this.setXYZ(t,Tf.x,Tf.y,Tf.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Tf.fromBufferAttribute(this,t),Tf.applyNormalMatrix(e),this.setXYZ(t,Tf.x,Tf.y,Tf.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Tf.fromBufferAttribute(this,t),Tf.transformDirection(e),this.setXYZ(t,Tf.x,Tf.y,Tf.z);return this}},{key:"getComponent",value:function(e,t){e=this.array[e*this.data.stride+this.offset+t];return e=this.normalized?X(e,this.array):e}},{key:"setComponent",value:function(e,t,n){return this.normalized&&(n=o(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}},{key:"setX",value:function(e,t){return this.normalized&&(t=o(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=o(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=o(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=o(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){e=this.data.array[e*this.data.stride+this.offset];return e=this.normalized?X(e,this.array):e}},{key:"getY",value:function(e){e=this.data.array[e*this.data.stride+this.offset+1];return e=this.normalized?X(e,this.array):e}},{key:"getZ",value:function(e){e=this.data.array[e*this.data.stride+this.offset+2];return e=this.normalized?X(e,this.array):e}},{key:"getW",value:function(e){e=this.data.array[e*this.data.stride+this.offset+3];return e=this.normalized?X(e,this.array):e}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=o(t,this.array),n=o(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=o(t,this.array),n=o(n,this.array),r=o(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=o(t,this.array),n=o(n,this.array),r=o(r,this.array),i=o(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new a(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return new fn(new this.array.constructor(t),this.itemSize,this.normalized)}},{key:"toJSON",value:function(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}}])&&Pf(e.prototype,t),n&&Pf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function Rf(e){return(Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Rf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Rf(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Rf(e)?e:e+""))(r.key),r)}}function Mf(e,t,n){t=Lf(t);var r=e,t=Cf()?Reflect.construct(t,n||[],Lf(e).constructor):t.apply(e,n);if(!t||"object"!=Rf(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Cf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Cf=function(){return!!e})()}function jf(){return(jf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Lf(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Lf(e){return(Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function If(e,t){return(If=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Nf=(()=>{function a(e){var t;if(this instanceof a)return(t=Mf(this,a)).isLineBasicMaterial=!0,t.type="LineBasicMaterial",t.color=new v(16777215),t.map=null,t.linewidth=1,t.linecap="round",t.linejoin="round",t.fog=!0,t.setValues(e),t;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=er;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&If(t,n),t=a,(n=[{key:"copy",value:function(e){var t,n,r,i,o;return t=a,n="copy",r=this,o=jf(Lf(1&(i=3)?t.prototype:t),n,r),(2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o)([e]),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}])&&Af(t.prototype,n),e&&Af(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Df(e){return(Df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Df(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Df(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Df(e)?e:e+""))(r.key),r)}}function Ff(e,t,n){t=Gf(t);var r=e,t=Uf()?Reflect.construct(t,n||[],Gf(e).constructor):t.apply(e,n);if(!t||"object"!=Df(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Uf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Uf=function(){return!!e})()}function zf(){return(zf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Gf(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Gf(e){return(Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hf(e,t){return(Hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Vf=new F,Yf=new F,Wf=new b,qf=new Xr,Xf=new xn,Zf=new F,Jf=new F,Kf=(()=>{function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Bn,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Nf,n=this,r=s;if(n instanceof r)return(n=Ff(this,s)).isLine=!0,n.type="Line",n.geometry=e,n.material=t,n.updateMorphTargets(),n;throw new TypeError("Cannot call a class as a function")}var e,t=s,n=g;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Hf(t,n),t=s,(n=[{key:"copy",value:function(e,t){var n,r,i,o,a;return n=s,r="copy",i=this,a=zf(Gf(1&(o=3)?n.prototype:n),r,i),(2&o&&"function"==typeof a?function(e){return a.apply(i,e)}:a)([e,t]),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Vf.fromBufferAttribute(t,r-1),Yf.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Vf.distanceTo(Yf);e.setAttribute("lineDistance",new dn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Xf.copy(n.boundingSphere),Xf.applyMatrix4(r),Xf.radius+=i,!1!==e.ray.intersectsSphere(Xf)){Wf.copy(r).invert(),qf.copy(e.ray).applyMatrix4(Wf);var r=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=r*r,s=this.isLineSegments?2:1,u=n.index,i=n.attributes.position;if(null!==u){for(var r=Math.max(0,o.start),n=Math.min(u.count,o.start+o.count),l=r,c=n-1;l<c;l+=s){var h=u.getX(l),f=u.getX(l+1),h=Qf(this,e,qf,a,h,f);h&&t.push(h)}this.isLineLoop&&(n=u.getX(n-1),r=u.getX(r),n=Qf(this,e,qf,a,n,r))&&t.push(n)}else{for(var r=Math.max(0,o.start),n=Math.min(i.count,o.start+o.count),p=r,y=n-1;p<y;p+=s){var d=Qf(this,e,qf,a,p,p+1);d&&t.push(d)}this.isLineLoop&&(i=Qf(this,e,qf,a,n-1,r))&&t.push(i)}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(0<t.length){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var o=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}}])&&Bf(t.prototype,n),e&&Bf(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Qf(e,t,n,r,i,o){var a=e.geometry.attributes.position,a=(Vf.fromBufferAttribute(a,i),Yf.fromBufferAttribute(a,o),n.distanceSqToSegment(Vf,Yf,Zf,Jf));if(!(r<a)){Zf.applyMatrix4(e.matrixWorld);o=t.ray.origin.distanceTo(Zf);if(!(o<t.near||o>t.far))return{distance:o,point:Jf.clone().applyMatrix4(e.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:e}}}function $f(e){return($f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=$f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=$f(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==$f(e)?e:e+""))(r.key),r)}}function t8(e,t,n){t=r8(t);var r=e,t=n8()?Reflect.construct(t,n||[],r8(e).constructor):t.apply(e,n);if(!t||"object"!=$f(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function n8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(n8=function(){return!!e})()}function r8(e){return(r8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i8(e,t){return(i8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var o8=(()=>{function n(e,t){if(this instanceof n)return(e=t8(this,n,[e,t])).isLineLoop=!0,e.type="LineLoop",e;throw new TypeError("Cannot call a class as a function")}var e,t,r=n,i=Kf;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&i8(r,i),r=n,e&&e8(r.prototype,e),t&&e8(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r})();function a8(e){return(a8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=a8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=a8(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==a8(e)?e:e+""))(r.key),r)}}function u8(e,t,n){t=c8(t);var r=e,t=l8()?Reflect.construct(t,n||[],c8(e).constructor):t.apply(e,n);if(!t||"object"!=a8(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function l8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l8=function(){return!!e})()}function c8(e){return(c8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h8(e,t){return(h8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var f8=new F,p8=new F,y8=(()=>{function n(e,t){if(this instanceof n)return(e=u8(this,n,[e,t])).isLineSegments=!0,e.type="LineSegments",e;throw new TypeError("Cannot call a class as a function")}var e,t=n,r=Kf;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&h8(t,r),t=n,(r=[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)f8.fromBufferAttribute(t,r),p8.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+f8.distanceTo(p8);e.setAttribute("lineDistance",new dn(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}])&&s8(t.prototype,r),e&&s8(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})(),d8=e(2);function v8(e){return(v8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=v8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=v8(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==v8(e)?e:e+""))(r.key),r)}}var b8=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}return t=e,r=[{key:"decodeText",value:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||_n.b.environment==d8.a.WX&&_n.b.WX_USER_DATA_PATH.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}],(n=null)&&m8(t.prototype,n),r&&m8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r})();function g8(e){return(g8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=g8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=g8(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==g8(e)?e:e+""))(r.key),r)}}function x8(e,t,n){t=k8(t);var r=e,t=_8()?Reflect.construct(t,n||[],k8(e).constructor):t.apply(e,n);if(!t||"object"!=g8(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function _8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_8=function(){return!!e})()}function S8(){return(S8="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=k8(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function k8(e){return(k8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O8(e,t){return(O8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var P8=(()=>{function a(e){var t;if(this instanceof a)return(t=x8(this,a)).isMeshStandardMaterial=!0,t.defines={STANDARD:""},t.type="MeshStandardMaterial",t.color=new v(16777215),t.roughness=1,t.metalness=0,t.map=null,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=null,t.aoMapIntensity=1,t.emissive=new v(0),t.emissiveIntensity=1,t.emissiveMap=null,t.bumpMap=null,t.bumpScale=1,t.normalMap=null,t.normalMapType=0,t.normalScale=new U(1,1),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.roughnessMap=null,t.metalnessMap=null,t.alphaMap=null,t.envMap=null,t.envMapRotation=new Pe,t.envMapIntensity=1,t.wireframe=!1,t.wireframeLinewidth=1,t.wireframeLinecap="round",t.wireframeLinejoin="round",t.flatShading=!1,t.fog=!0,t.setValues(e),t;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=er;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&O8(t,n),t=a,(n=[{key:"copy",value:function(e){var t,n,r,i,o;return t=a,n="copy",r=this,o=S8(k8(1&(i=3)?t.prototype:t),n,r),(2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o)([e]),this.defines={STANDARD:""},void 0!==e.defines.SHADING_MODE&&(this.defines.SHADING_MODE=e.defines.SHADING_MODE),this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}])&&w8(t.prototype,n),e&&w8(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function T8(e){return(T8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E8(e){return(e=>{if(Array.isArray(e))return R8(e)})(e)||(e=>{if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)})(e)||((e,t)=>{var n;if(e)return"string"==typeof e?R8(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R8(e,t):void 0})(e)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function R8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function A8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=T8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=T8(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==T8(e)?e:e+""))(r.key),r)}}function M8(e,t,n){t=L8(t);var r=e,t=C8()?Reflect.construct(t,n||[],L8(e).constructor):t.apply(e,n);if(!t||"object"!=T8(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function C8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C8=function(){return!!e})()}function j8(){return(j8="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=L8(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function L8(e){return(L8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I8(e,t){return(I8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var N8=(()=>{function a(e){var t;if(this instanceof a)return(t=M8(this,a)).isMeshPhysicalMaterial=!0,t.defines={STANDARD:"",PHYSICAL:""},t.type="MeshPhysicalMaterial",t.anisotropyRotation=0,t.anisotropyMap=null,t.clearcoatMap=null,t.clearcoatRoughness=0,t.clearcoatRoughnessMap=null,t.clearcoatNormalScale=new U(1,1),t.clearcoatNormalMap=null,t.ior=1.5,Object.defineProperty(t,"reflectivity",{get:function(){return Y(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),t.iridescenceMap=null,t.iridescenceIOR=1.3,t.iridescenceThicknessRange=[100,400],t.iridescenceThicknessMap=null,t.sheenColor=new v(0),t.sheenColorMap=null,t.sheenRoughness=1,t.sheenRoughnessMap=null,t.transmissionMap=null,t.thickness=0,t.thicknessMap=null,t.attenuationDistance=1/0,t.attenuationColor=new v(1,1,1),t.specularIntensity=1,t.specularIntensityMap=null,t.specularColor=new v(1,1,1),t.specularColorMap=null,t._anisotropy=0,t._clearcoat=0,t._dispersion=0,t._iridescence=0,t._sheen=0,t._transmission=0,t.setValues(e),t;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=P8;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&I8(t,n),t=a,(n=[{key:"anisotropy",get:function(){return this._anisotropy},set:function(e){0<this._anisotropy!=0<e&&this.version++,this._anisotropy=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){0<this._clearcoat!=0<e&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){0<this._iridescence!=0<e&&this.version++,this._iridescence=e}},{key:"dispersion",get:function(){return this._dispersion},set:function(e){0<this._dispersion!=0<e&&this.version++,this._dispersion=e}},{key:"sheen",get:function(){return this._sheen},set:function(e){0<this._sheen!=0<e&&this.version++,this._sheen=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){0<this._transmission!=0<e&&this.version++,this._transmission=e}},{key:"copy",value:function(e){var t,n,r,i,o;return t=a,n="copy",r=this,o=j8(L8(1&(i=3)?t.prototype:t),n,r),(2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o)([e]),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=E8(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}])&&A8(t.prototype,n),e&&A8(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function D8(e){return(D8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=D8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=D8(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==D8(e)?e:e+""))(r.key),r)}}function F8(e,t,n){t=z8(t);var r=e,t=U8()?Reflect.construct(t,n||[],z8(e).constructor):t.apply(e,n);if(!t||"object"!=D8(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function U8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(U8=function(){return!!e})()}function z8(e){return(z8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G8(e,t){return(G8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var H8=(()=>{function t(e){if(this instanceof t)return(e=F8(this,t,[e])).type="FMMeshStandardMaterial",e.isMask=!1,e.maskType=0,e.maskPolygons=[],e.maskHolePogygons=[],e.maskHeight=0,e.maskExtrudeHeight=0,e.boundCenter=null,e.boundSize=null,e.maskOpacity=null,e.maskNodeHeight=0,e.maskParam="",e.maskHoleParam="",e;throw new TypeError("Cannot call a class as a function")}var e,n=t,r=P8;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&G8(n,r),n=t,(r=[{key:"clone",value:function(){var e=(new this.constructor).copy(this);return e.isMask=this.isMask,e.maskType=this.maskType,e.maskPolygons=this.maskPolygons,e.maskHolePogygons=this.maskHolePogygons,e.maskHeight=this.maskHeight,e.maskExtrudeHeight=this.maskExtrudeHeight,e.boundCenter=this.boundCenter,e.boundSize=this.boundSize,e.maskOpacity=this.maskOpacity,e.maskNodeHeight=this.maskNodeHeight,e.maskParam=this.maskParam,e.maskHoleParam=this.maskHoleParam,e}}])&&B8(n.prototype,r),e&&B8(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n})();function V8(e){return(V8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=V8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=V8(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==V8(e)?e:e+""))(r.key),r)}}function W8(e,t,n){t=J8(t);var r=e,t=q8()?Reflect.construct(t,n||[],J8(e).constructor):t.apply(e,n);if(!t||"object"!=V8(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function q8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(q8=function(){return!!e})()}function X8(e,t,n,r){var i=Z8(J8(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Z8(){return(Z8="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=J8(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function J8(e){return(J8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K8(e,t){return(K8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Q8=new F,$8=new U,e7=new U,t7=(()=>{function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2e3,i=this,o=a;if(i instanceof o)return(i=W8(this,a)).isPerspectiveCamera=!0,i.type="PerspectiveCamera",i.fov=e,i.zoom=1,i.near=n,i.far=r,i.focus=10,i.aspect=t,i.view=null,i.filmGauge=35,i.filmOffset=0,i.updateProjectionMatrix(),i;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=eh;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&K8(t,n),t=a,(n=[{key:"copy",value:function(e,t){return X8(a,"copy",this,3)([e,t]),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){e=.5*this.getFilmHeight()/e;this.fov=2*H*Math.atan(e),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*G*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*H*Math.atan(Math.tan(.5*G*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"getViewBounds",value:function(e,t,n){Q8.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Q8.x,Q8.y).multiplyScalar(-e/Q8.z),Q8.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Q8.x,Q8.y).multiplyScalar(-e/Q8.z)}},{key:"getViewSize",value:function(e,t){return this.getViewBounds(e,$8,e7),t.subVectors(e7,$8)}},{key:"setViewOffset",value:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e,t=this.near,n=t*Math.tan(.5*G*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i,a=this.view,s=(null!==this.view&&this.view.enabled&&(s=a.fullWidth,e=a.fullHeight,o+=a.offsetX*i/s,n-=a.offsetY*r/e,i*=a.width/s,r*=a.height/e),this.filmOffset);0!==s&&(o+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){e=X8(a,"toJSON",this,3)([e]);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}])&&Y8(t.prototype,n),e&&Y8(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function n7(e){return(n7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=n7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=n7(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==n7(e)?e:e+""))(r.key),r)}}function i7(e,t,n){t=a7(t);var r=e,t=o7()?Reflect.construct(t,n||[],a7(e).constructor):t.apply(e,n);if(!t||"object"!=n7(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function o7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o7=function(){return!!e})()}function a7(e){return(a7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s7(e,t){return(s7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var u7=new b,l7=new F,c7=new F,h7=(()=>{function t(){var e;if(this instanceof t)return(e=i7(this,t,[new t7(90,1,.5,500)])).isPointLightShadow=!0,e._frameExtents=new U(4,2),e._viewportCount=6,e._viewports=[new Qr(2,1,1,1),new Qr(0,1,1,1),new Qr(3,1,1,1),new Qr(1,1,1,1),new Qr(3,0,1,1),new Qr(1,0,1,1)],e._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],e._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)],e;throw new TypeError("Cannot call a class as a function")}var e,n=t,r=Y3;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&s7(n,r),n=t,(r=[{key:"updateMatrices",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),l7.setFromMatrixPosition(e.matrixWorld),n.position.copy(l7),c7.copy(n.position),c7.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(c7),n.updateMatrixWorld(),r.makeTranslation(-l7.x,-l7.y,-l7.z),u7.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(u7)}}])&&r7(n.prototype,r),e&&r7(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n})();function f7(e){return(f7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=f7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=f7(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==f7(e)?e:e+""))(r.key),r)}}function y7(e,t,n){t=m7(t);var r=e,t=d7()?Reflect.construct(t,n||[],m7(e).constructor):t.apply(e,n);if(!t||"object"!=f7(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function d7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d7=function(){return!!e})()}function v7(){return(v7="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=m7(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function m7(e){return(m7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b7(e,t){return(b7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g7=(()=>{function s(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2,i=this,o=s;if(i instanceof o)return(i=y7(this,s,[e,t])).isPointLight=!0,i.type="PointLight",i.distance=n,i.decay=r,i.shadow=new h7,i;throw new TypeError("Cannot call a class as a function")}var e,t=s,n=L3;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&b7(t,n),t=s,(n=[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){var n,r,i,o,a;return n=s,r="copy",i=this,a=v7(m7(1&(o=3)?n.prototype:n),r,i),(2&o&&"function"==typeof a?function(e){return a.apply(i,e)}:a)([e,t]),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}])&&p7(t.prototype,n),e&&p7(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function w7(e){return(w7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=w7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=w7(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==w7(e)?e:e+""))(r.key),r)}}function _7(e,t,n){t=O7(t);var r=e,t=S7()?Reflect.construct(t,n||[],O7(e).constructor):t.apply(e,n);if(!t||"object"!=w7(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function S7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(S7=function(){return!!e})()}function k7(){return(k7="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=O7(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function O7(e){return(O7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P7(e,t){return(P7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var T7=(()=>{function a(e){var t;if(this instanceof a)return(t=_7(this,a)).isPointsMaterial=!0,t.type="PointsMaterial",t.color=new v(16777215),t.map=null,t.alphaMap=null,t.size=1,t.sizeAttenuation=!0,t.fog=!0,t.setValues(e),t;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=er;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&P7(t,n),t=a,(n=[{key:"copy",value:function(e){var t,n,r,i,o;return t=a,n="copy",r=this,o=k7(O7(1&(i=3)?t.prototype:t),n,r),(2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o)([e]),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}])&&x7(t.prototype,n),e&&x7(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function E7(e){return(E7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=E7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=E7(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==E7(e)?e:e+""))(r.key),r)}}function A7(e,t,n){t=j7(t);var r=e,t=M7()?Reflect.construct(t,n||[],j7(e).constructor):t.apply(e,n);if(!t||"object"!=E7(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function M7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(M7=function(){return!!e})()}function C7(){return(C7="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=j7(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function j7(e){return(j7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L7(e,t){return(L7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var I7=new b,N7=new Xr,D7=new xn,B7=new F,F7=(()=>{function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Bn,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new T7,n=this,r=s;if(n instanceof r)return(n=A7(this,s)).isPoints=!0,n.type="Points",n.geometry=e,n.material=t,n.updateMorphTargets(),n;throw new TypeError("Cannot call a class as a function")}var e,t=s,n=g;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&L7(t,n),t=s,(n=[{key:"copy",value:function(e,t){var n,r,i,o,a;return n=s,r="copy",i=this,a=C7(j7(1&(o=3)?n.prototype:n),r,i),(2&o&&"function"==typeof a?function(e){return a.apply(i,e)}:a)([e,t]),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),D7.copy(n.boundingSphere),D7.applyMatrix4(r),D7.radius+=i,!1!==e.ray.intersectsSphere(D7)){I7.copy(r).invert(),N7.copy(e.ray).applyMatrix4(I7);var i=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=i*i,s=n.index,u=n.attributes.position;if(null!==s)for(var l=Math.max(0,o.start),c=Math.min(s.count,o.start+o.count);l<c;l++){var h=s.getX(l);B7.fromBufferAttribute(u,h),U7(B7,h,a,r,e,t,this)}else for(var f=Math.max(0,o.start),p=Math.min(u.count,o.start+o.count);f<p;f++)B7.fromBufferAttribute(u,f),U7(B7,f,a,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(0<t.length){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var o=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}}])&&R7(t.prototype,n),e&&R7(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function U7(e,t,n,r,i,o,a){var s=N7.distanceSqToPoint(e);s<n&&(n=new F,N7.closestPointToPoint(e,n),n.applyMatrix4(r),(e=i.ray.origin.distanceTo(n))<i.near||e>i.far||o.push({distance:e,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:a}))}function z7(e){return(z7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=z7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=z7(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==z7(e)?e:e+""))(r.key),r)}}function V7(e,t,n){return t&&H7(e.prototype,t),n&&H7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var t="\\[\\]\\.:\\/",Y7=new RegExp("["+t+"]","g"),W7="[^"+t+"]",t="[^"+t.replace("\\.","")+"]",q7=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",W7)+/(WCOD+)?/.source.replace("WCOD",t)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",W7)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",W7)+"$"),X7=["material","materials","bones","map"],t=(()=>V7(function e(t,n,r){G7(this,e);r=r||i.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,r)},[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,n=this._bindings[n];void 0!==n&&n.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]))(),i=(()=>{function l(e,t,n){G7(this,l),this.path=t,this.parsedPath=n||l.parseTrackName(t),this.node=l.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return V7(l,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=l.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);for(var e=e.skeleton.bones,a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;case"map":if("map"in e)e=e.map;else{if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0===s)t=t.nodeName,console.error("THREE.PropertyBinding: Trying to update property for track: "+t+"."+r+" but it wasn't found.",e);else{var t=this.Versioning.None,u=(void 0!==(this.targetObject=e).needsUpdate?t=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(t=this.Versioning.MatrixWorldNeedsUpdate),this.BindingType.Direct);if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][t]}}else console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(e,t,n){return new(e&&e.isAnimationObjectGroup?l.Composite:l)(e,t,n)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Y7,"")}},{key:"parseTrackName",value:function(e){var t=q7.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n,t={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=t.nodeName&&t.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r&&(n=t.nodeName.substring(r+1),-1!==X7.indexOf(n))&&(t.nodeName=t.nodeName.substring(0,r),t.objectName=n),null===t.propertyName||0===t.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return t}},{key:"findNode",value:function(e,r){if(void 0===r||""===r||"."===r||-1===r||r===e.name||r===e.uuid)return e;if(e.skeleton){var t=e.skeleton.getBoneByName(r);if(void 0!==t)return t}if(e.children){var i=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.name===r||n.uuid===r)return n;n=i(n.children);if(n)return n}return null},t=i(e.children);if(t)return t}return null}}])})();function Z7(e){return(Z7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Z7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Z7(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Z7(e)?e:e+""))(r.key),r)}}i.Composite=t,i.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},i.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},i.prototype.GetterByBindingType=[i.prototype._getValue_direct,i.prototype._getValue_array,i.prototype._getValue_arrayElement,i.prototype._getValue_toArray],i.prototype.SetterByBindingTypeAndVersioning=[[i.prototype._setValue_direct,i.prototype._setValue_direct_setNeedsUpdate,i.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[i.prototype._setValue_array,i.prototype._setValue_array_setNeedsUpdate,i.prototype._setValue_array_setMatrixWorldNeedsUpdate],[i.prototype._setValue_arrayElement,i.prototype._setValue_arrayElement_setNeedsUpdate,i.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[i.prototype._setValue_fromArray,i.prototype._setValue_fromArray_setNeedsUpdate,i.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var K7=new b,Q7=new b,$7=(()=>{function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=this,r=i;if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");this.uuid=V(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}return e=i,(t=[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new b)}}},{key:"calculateInverses",value:function(){for(var e=this.boneInverses.length=0,t=this.bones.length;e<t;e++){var n=new b;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var o=this.bones[r];o&&(o.parent&&o.parent.isBone?(o.matrix.copy(o.parent.matrixWorld).invert(),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:Q7;K7.multiplyMatrices(a,t[i]),K7.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new i(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length),e=4*Math.ceil(e/4),t=(e=Math.max(e,4),new Float32Array(e*e*4)),e=(t.set(this.boneMatrices),new lf(t,e,e,1023,1015));return e.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],o=t[i];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),o=new Hh),this.bones.push(o),this.boneInverses.push((new b).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){for(var e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]},t=(e.uuid=this.uuid,this.bones),n=this.boneInverses,r=0,i=t.length;r<i;r++){var o=t[r],o=(e.bones.push(o.uuid),n[r]);e.boneInverses.push(o.toArray())}return e}}])&&J7(e.prototype,t),n&&J7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function ep(e){return(ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ep(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ep(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ep(e)?e:e+""))(r.key),r)}}function np(e,t,n){t=ap(t);var r=e,t=rp()?Reflect.construct(t,n||[],ap(e).constructor):t.apply(e,n);if(!t||"object"!=ep(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function rp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rp=function(){return!!e})()}function ip(e,t,n,r){var i=op(ap(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function op(){return(op="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ap(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function ap(e){return(ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sp(e,t){return(sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var up=new F,lp=new Qr,cp=new Qr,hp=new F,fp=new b,pp=new F,yp=new xn,dp=new b,vp=new Xr,mp=(()=>{function n(e,t){if(this instanceof n)return(e=np(this,n,[e,t])).isSkinnedMesh=!0,e.type="SkinnedMesh",e.bindMode="attached",e.bindMatrix=new b,e.bindMatrixInverse=new b,e.boundingBox=null,e.boundingSphere=null,e;throw new TypeError("Cannot call a class as a function")}var e,t=n,r=j0;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&sp(t,r),t=n,(r=[{key:"computeBoundingBox",value:function(){for(var e=this.geometry,t=(null===this.boundingBox&&(this.boundingBox=new Ut),this.boundingBox.makeEmpty(),e.getAttribute("position")),n=0;n<t.count;n++)this.getVertexPosition(n,pp),this.boundingBox.expandByPoint(pp)}},{key:"computeBoundingSphere",value:function(){for(var e=this.geometry,t=(null===this.boundingSphere&&(this.boundingSphere=new xn),this.boundingSphere.makeEmpty(),e.getAttribute("position")),n=0;n<t.count;n++)this.getVertexPosition(n,pp),this.boundingSphere.expandByPoint(pp)}},{key:"copy",value:function(e,t){return ip(n,"copy",this,3)([e,t]),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"raycast",value:function(e,t){var n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),yp.copy(this.boundingSphere),yp.applyMatrix4(r),!1!==e.ray.intersectsSphere(yp))&&(dp.copy(r).invert(),vp.copy(e.ray).applyMatrix4(dp),null===this.boundingBox||!1!==vp.intersectsBox(this.boundingBox))&&this._computeIntersections(e,t,vp)}},{key:"getVertexPosition",value:function(e,t){return ip(n,"getVertexPosition",this,3)([e,t]),this.applyBoneTransform(e,t),t}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Qr,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!=1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){ip(n,"updateMatrixWorld",this,3)([e]),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"applyBoneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;lp.fromBufferAttribute(r.attributes.skinIndex,e),cp.fromBufferAttribute(r.attributes.skinWeight,e),up.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var o,a=cp.getComponent(i);0!==a&&(o=lp.getComponent(i),fp.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(hp.copy(up).applyMatrix4(fp),a))}return t.applyMatrix4(this.bindMatrixInverse)}}])&&tp(t.prototype,r),e&&tp(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function bp(e){return(bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=bp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=bp(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==bp(e)?e:e+""))(r.key),r)}}function wp(e,t,n){t=kp(t);var r=e,t=xp()?Reflect.construct(t,n||[],kp(e).constructor):t.apply(e,n);if(!t||"object"!=bp(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function xp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xp=function(){return!!e})()}function _p(e,t,n,r){var i=Sp(kp(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Sp(){return(Sp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=kp(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function kp(e){return(kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Op(e,t){return(Op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Pp=(()=>{function o(){var e;if(this instanceof o)return(e=wp(this,o,[new t7(50,1,.5,500)])).isSpotLightShadow=!0,e.focus=1,e;throw new TypeError("Cannot call a class as a function")}var e,t=o,n=Y3;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Op(t,n),t=o,(n=[{key:"updateMatrices",value:function(e){var t=this.camera,n=2*H*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),_p(o,"updateMatrices",this,3)([e])}},{key:"copy",value:function(e){return _p(o,"copy",this,3)([e]),this.focus=e.focus,this}}])&&gp(t.prototype,n),e&&gp(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Tp(e){return(Tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Tp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Tp(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Tp(e)?e:e+""))(r.key),r)}}function Rp(e,t,n){t=Cp(t);var r=e,t=Ap()?Reflect.construct(t,n||[],Cp(e).constructor):t.apply(e,n);if(!t||"object"!=Tp(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Ap(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ap=function(){return!!e})()}function Mp(){return(Mp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Cp(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Cp(e){return(Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jp(e,t){return(jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Lp=(()=>{function u(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Math.PI/3,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2,a=this,s=u;if(a instanceof s)return(a=Rp(this,u,[e,t])).isSpotLight=!0,a.type="SpotLight",a.position.copy(g.DEFAULT_UP),a.updateMatrix(),a.target=new g,a.distance=n,a.angle=r,a.penumbra=i,a.decay=o,a.map=null,a.shadow=new Pp,a;throw new TypeError("Cannot call a class as a function")}var e,t=u,n=L3;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&jp(t,n),t=u,(n=[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){var n,r,i,o,a;return n=u,r="copy",i=this,a=Mp(Cp(1&(o=3)?n.prototype:n),r,i),(2&o&&"function"==typeof a?function(e){return a.apply(i,e)}:a)([e,t]),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}])&&Ep(t.prototype,n),e&&Ep(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Ip(e){return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Np(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Ip(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Ip(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Ip(e)?e:e+""))(r.key),r)}}function Dp(e,t,n){t=Fp(t);var r=e,t=Bp()?Reflect.construct(t,n||[],Fp(e).constructor):t.apply(e,n);if(!t||"object"!=Ip(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Bp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Bp=function(){return!!e})()}function Fp(e){return(Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Up(e,t){return(Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var zp=(()=>{function t(e){if(this instanceof t)return Dp(this,t,[e]);throw new TypeError("Cannot call a class as a function")}var e,n=t,r=Eh;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Up(n,r),n=t,(r=[{key:"load",value:function(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i,o,a,s,u,l,c,h,f=this,p=Oh.get(t);return void 0!==p?(f.manager.itemStart(t),setTimeout(function(){e&&e(p),f.manager.itemEnd(t)},0),p):_n.b.environment===d8.a.WX?(o=e,a=r,s=Oh,u=f,(i=t).includes(wx.env.USER_DATA_PATH)?(c=wx.getFileSystemManager()).readFile({filePath:i,encoding:"base64",success:function(e){var e="data:image/png;base64,".concat(e.data),t=_n.b.textureHelper.createImage({url:e,onload:function(){s.add(i,t),o&&o(t),u.manager.itemEnd(i),c.unlink({filePath:i,fail:function(e){},success:function(){}})}})},fail:function(e){console.error(e),a&&a(e),u.manager.itemError(i),u.manager.itemEnd(i)}}):l=_n.b.textureHelper.createImage({url:i,onload:function(){s.add(i,l),o&&o(l),u.manager.itemEnd(i)},onerror:function(e){console.error(e),a&&a(e),u.manager.itemError(i),u.manager.itemEnd(i)}}),l):((h=kn("img")).addEventListener("load",y,!1),h.addEventListener("error",d,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(h.crossOrigin=this.crossOrigin),f.manager.itemStart(t),h.src=t,h);function y(){v(),Oh.add(t,this),e&&e(this),f.manager.itemEnd(t)}function d(e){v(),r&&r(e),f.manager.itemError(t),f.manager.itemEnd(t)}function v(){h.removeEventListener("load",y,!1),h.removeEventListener("error",d,!1)}}}])&&Np(n.prototype,r),e&&Np(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n})();function Gp(e){return(Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Gp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Gp(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Gp(e)?e:e+""))(r.key),r)}}function Vp(e,t,n){t=Wp(t);var r=e,t=Yp()?Reflect.construct(t,n||[],Wp(e).constructor):t.apply(e,n);if(!t||"object"!=Gp(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Yp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Yp=function(){return!!e})()}function Wp(e){return(Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qp(e,t){return(qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Xp=(()=>{function t(e){if(this instanceof t)return Vp(this,t,[e]);throw new TypeError("Cannot call a class as a function")}var e,n=t,r=Eh;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&qp(n,r),n=t,(r=[{key:"load",value:function(e,i,t,n){var o=null,r=new zp(this.manager);return r.setCrossOrigin(this.crossOrigin),r.setPath(this.path),r.load(e,function(e){var t=e.width,n=e.height,r=(512<(t=Z.isPowerOfTwo(t)?t:Math.pow(2,Math.floor(Math.log(t)/Math.LN2)))&&(t=512),512<(n=Z.isPowerOfTwo(n)?n:Math.pow(2,Math.floor(Math.log(n)/Math.LN2)))&&(n=512),document.createElement("canvas"));r.width=t,r.height=n,r.getContext("2d").drawImage(e,0,0,r.width,r.height),o=new Cr(r),void 0!==i&&i(o)},t,n),o}}])&&Hp(n.prototype,r),e&&Hp(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n})();function Zp(e,t){if(0===t)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(2!==t&&1!==t)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e;var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<i.count;o++)r.push(o);e.setIndex(r),n=e.getIndex()}var a=n.count-2,s=[];if(2===t)for(var u=1;u<=a;u++)s.push(n.getX(0)),s.push(n.getX(u)),s.push(n.getX(u+1));else for(var l=0;l<a;l++)l%2==0?(s.push(n.getX(l)),s.push(n.getX(l+1)),s.push(n.getX(l+2))):(s.push(n.getX(l+2)),s.push(n.getX(l+1)),s.push(n.getX(l)));s.length/3!=a&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");t=e.clone();return t.setIndex(s),t.clearGroups(),t}function Jp(e,t){return(e=>{if(Array.isArray(e))return e})(e)||((e,t)=>{var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}})(e,t)||e9(e,t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function Kp(e){return(Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qp(){return(Qp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=o9(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function $p(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(r=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){i=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(i)throw n}}};if(Array.isArray(e)||(a=e9(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e9(e,t){var n;if(e)return"string"==typeof e?t9(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t9(e,t):void 0}function t9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Kp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Kp(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Kp(e)?e:e+""))(r.key),r)}}function n(e,t,n){return t&&n9(e.prototype,t),n&&n9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r9(e,t,n){t=o9(t);var r=e,t=i9()?Reflect.construct(t,n||[],o9(e).constructor):t.apply(e,n);if(!t||"object"!=Kp(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function i9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(i9=function(){return!!e})()}function o9(e){return(o9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a9(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s9(e,t)}function s9(e,t){return(s9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var u9=(()=>{function t(e){return c(this,t),(e=r9(this,t,[e])).dracoLoader=null,e.ktx2Loader=null,e.meshoptDecoder=null,e.pluginCallbacks=[],e.register(function(e){return new p9(e)}),e.register(function(e){return new y9(e)}),e.register(function(e){return new S9(e)}),e.register(function(e){return new k9(e)}),e.register(function(e){return new O9(e)}),e.register(function(e){return new v9(e)}),e.register(function(e){return new m9(e)}),e.register(function(e){return new b9(e)}),e.register(function(e){return new g9(e)}),e.register(function(e){return new f9(e)}),e.register(function(e){return new w9(e)}),e.register(function(e){return new d9(e)}),e.register(function(e){return new _9(e)}),e.register(function(e){return new x9(e)}),e.register(function(e){return new c9(e)}),e.register(function(e){return new P9(e)}),e.register(function(e){return new T9(e)}),e}return a9(t,Eh),n(t,[{key:"load",value:function(t,n,e,r){function i(e){r?r(e):console.error(e),a.manager.itemError(t),a.manager.itemEnd(t)}var o,a=this,s=(o=""!==this.resourcePath?this.resourcePath:""!==this.path?(s=b8.extractUrlBase(t),b8.resolveURL(s,this.path)):b8.extractUrlBase(t),this.manager.itemStart(t),new Nh(this.manager));s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,function(e){try{a.parse(e,o,function(e){n(e),a.manager.itemEnd(t)},i)}catch(e){i(e)}},e,i)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var i,o={},a={},s=new TextDecoder;if("string"==typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(s.decode(new Uint8Array(e,0,4))===E9){try{o[y.KHR_BINARY_GLTF]=new M9(e)}catch(e){return void(r&&r(e))}i=JSON.parse(o[y.KHR_BINARY_GLTF].content)}else i=JSON.parse(s.decode(e));else i=e;if(void 0===i.asset||i.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var u=new ey(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(var l=0;l<this.pluginCallbacks.length;l++){var c=this.pluginCallbacks[l](u);c.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[(a[c.name]=c).name]=!0}if(i.extensionsUsed)for(var h=0;h<i.extensionsUsed.length;++h){var f=i.extensionsUsed[h],p=i.extensionsRequired||[];switch(f){case y.KHR_MATERIALS_UNLIT:o[f]=new h9;break;case y.KHR_DRACO_MESH_COMPRESSION:o[f]=new C9(i,this.dracoLoader);break;case y.KHR_TEXTURE_TRANSFORM:o[f]=new j9;break;case y.KHR_MESH_QUANTIZATION:o[f]=new L9;break;default:0<=p.indexOf(f)&&void 0===a[f]&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(n,r)}}},{key:"parseAsync",value:function(n,r){var i=this;return new Promise(function(e,t){i.parse(n,r,e,t)})}}])})();function l9(){var n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}var y={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},c9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}},[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(!r){var i,o=t.json,a=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e],s=new v(16777215),u=(void 0!==a.color&&s.setRGB(a.color[0],a.color[1],a.color[2],se),void 0!==a.range?a.range:0);switch(a.type){case"directional":(i=new kh(s)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new g7(s)).distance=u;break;case"spot":(i=new Lp(s)).distance=u,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,i.angle=a.spot.outerConeAngle,i.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}i.position.set(0,0,0),i.decay=2,J9(i,a),void 0!==a.intensity&&(i.intensity=a.intensity),i.name=t.createUniqueName(a.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r)}return r}},{key:"getDependency",value:function(e,t){if("light"===e)return this._loadLight(t)}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,e=n.json.nodes[e],r=(e.extensions&&e.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then(function(e){return n._getNodeRef(t.cache,r,e)})}}]))(),h9=(()=>n(function e(){c(this,e),this.name=y.KHR_MATERIALS_UNLIT},[{key:"getMaterialType",value:function(){return lr}},{key:"extendParams",value:function(e,t,n){var r,i=[],t=(e.color=new v(1,1,1),e.opacity=1,t.pbrMetallicRoughness);return t&&(Array.isArray(t.baseColorFactor)&&(r=t.baseColorFactor,e.color.setRGB(r[0],r[1],r[2],se),e.opacity=r[3]),void 0!==t.baseColorTexture)&&i.push(n.assignTexture(e,"map",t.baseColorTexture,St)),Promise.all(i)}}]))(),f9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.KHR_MATERIALS_EMISSIVE_STRENGTH},[{key:"extendMaterialParams",value:function(e,t){var e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]&&void 0!==(e=e.extensions[this.name].emissiveStrength)&&(t.emissiveIntensity=e),Promise.resolve()}}]))(),p9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.KHR_MATERIALS_CLEARCOAT},[{key:"getMaterialType",value:function(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?N8:null}},{key:"extendMaterialParams",value:function(e,t){var n,r=this.parser,e=r.json.materials[e];return e.extensions&&e.extensions[this.name]?(n=[],void 0!==(e=e.extensions[this.name]).clearcoatFactor&&(t.clearcoat=e.clearcoatFactor),void 0!==e.clearcoatTexture&&n.push(r.assignTexture(t,"clearcoatMap",e.clearcoatTexture)),void 0!==e.clearcoatRoughnessFactor&&(t.clearcoatRoughness=e.clearcoatRoughnessFactor),void 0!==e.clearcoatRoughnessTexture&&n.push(r.assignTexture(t,"clearcoatRoughnessMap",e.clearcoatRoughnessTexture)),void 0!==e.clearcoatNormalTexture&&(n.push(r.assignTexture(t,"clearcoatNormalMap",e.clearcoatNormalTexture)),void 0!==e.clearcoatNormalTexture.scale)&&(r=e.clearcoatNormalTexture.scale,t.clearcoatNormalScale=new U(r,r)),Promise.all(n)):Promise.resolve()}}]))(),y9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.KHR_MATERIALS_DISPERSION},[{key:"getMaterialType",value:function(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?N8:null}},{key:"extendMaterialParams",value:function(e,t){var e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]&&(e=e.extensions[this.name],t.dispersion=void 0!==e.dispersion?e.dispersion:0),Promise.resolve()}}]))(),d9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.KHR_MATERIALS_IRIDESCENCE},[{key:"getMaterialType",value:function(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?N8:null}},{key:"extendMaterialParams",value:function(e,t){var n,r=this.parser,e=r.json.materials[e];return e.extensions&&e.extensions[this.name]?(n=[],void 0!==(e=e.extensions[this.name]).iridescenceFactor&&(t.iridescence=e.iridescenceFactor),void 0!==e.iridescenceTexture&&n.push(r.assignTexture(t,"iridescenceMap",e.iridescenceTexture)),void 0!==e.iridescenceIor&&(t.iridescenceIOR=e.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==e.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=e.iridescenceThicknessMinimum),void 0!==e.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=e.iridescenceThicknessMaximum),void 0!==e.iridescenceThicknessTexture&&n.push(r.assignTexture(t,"iridescenceThicknessMap",e.iridescenceThicknessTexture)),Promise.all(n)):Promise.resolve()}}]))(),v9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.KHR_MATERIALS_SHEEN},[{key:"getMaterialType",value:function(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?N8:null}},{key:"extendMaterialParams",value:function(e,t){var n,r,i=this.parser,e=i.json.materials[e];return e.extensions&&e.extensions[this.name]?(n=[],t.sheenColor=new v(0,0,0),t.sheenRoughness=0,t.sheen=1,void 0!==(e=e.extensions[this.name]).sheenColorFactor&&(r=e.sheenColorFactor,t.sheenColor.setRGB(r[0],r[1],r[2],se)),void 0!==e.sheenRoughnessFactor&&(t.sheenRoughness=e.sheenRoughnessFactor),void 0!==e.sheenColorTexture&&n.push(i.assignTexture(t,"sheenColorMap",e.sheenColorTexture,St)),void 0!==e.sheenRoughnessTexture&&n.push(i.assignTexture(t,"sheenRoughnessMap",e.sheenRoughnessTexture)),Promise.all(n)):Promise.resolve()}}]))(),m9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.KHR_MATERIALS_TRANSMISSION},[{key:"getMaterialType",value:function(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?N8:null}},{key:"extendMaterialParams",value:function(e,t){var n,r=this.parser,e=r.json.materials[e];return e.extensions&&e.extensions[this.name]?(n=[],void 0!==(e=e.extensions[this.name]).transmissionFactor&&(t.transmission=e.transmissionFactor),void 0!==e.transmissionTexture&&n.push(r.assignTexture(t,"transmissionMap",e.transmissionTexture)),Promise.all(n)):Promise.resolve()}}]))(),b9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.KHR_MATERIALS_VOLUME},[{key:"getMaterialType",value:function(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?N8:null}},{key:"extendMaterialParams",value:function(e,t){var n,r=this.parser,e=r.json.materials[e];return e.extensions&&e.extensions[this.name]?(n=[],e=e.extensions[this.name],t.thickness=void 0!==e.thicknessFactor?e.thicknessFactor:0,void 0!==e.thicknessTexture&&n.push(r.assignTexture(t,"thicknessMap",e.thicknessTexture)),t.attenuationDistance=e.attenuationDistance||1/0,r=e.attenuationColor||[1,1,1],t.attenuationColor=(new v).setRGB(r[0],r[1],r[2],se),Promise.all(n)):Promise.resolve()}}]))(),g9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.KHR_MATERIALS_IOR},[{key:"getMaterialType",value:function(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?N8:null}},{key:"extendMaterialParams",value:function(e,t){var e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]&&(e=e.extensions[this.name],t.ior=void 0!==e.ior?e.ior:1.5),Promise.resolve()}}]))(),w9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.KHR_MATERIALS_SPECULAR},[{key:"getMaterialType",value:function(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?N8:null}},{key:"extendMaterialParams",value:function(e,t){var n,r,i=this.parser,e=i.json.materials[e];return e.extensions&&e.extensions[this.name]?(n=[],e=e.extensions[this.name],t.specularIntensity=void 0!==e.specularFactor?e.specularFactor:1,void 0!==e.specularTexture&&n.push(i.assignTexture(t,"specularIntensityMap",e.specularTexture)),r=e.specularColorFactor||[1,1,1],t.specularColor=(new v).setRGB(r[0],r[1],r[2],se),void 0!==e.specularColorTexture&&n.push(i.assignTexture(t,"specularColorMap",e.specularColorTexture,St)),Promise.all(n)):Promise.resolve()}}]))(),x9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.EXT_MATERIALS_BUMP},[{key:"getMaterialType",value:function(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?N8:null}},{key:"extendMaterialParams",value:function(e,t){var n,r=this.parser,e=r.json.materials[e];return e.extensions&&e.extensions[this.name]?(n=[],e=e.extensions[this.name],t.bumpScale=void 0!==e.bumpFactor?e.bumpFactor:1,void 0!==e.bumpTexture&&n.push(r.assignTexture(t,"bumpMap",e.bumpTexture)),Promise.all(n)):Promise.resolve()}}]))(),_9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.KHR_MATERIALS_ANISOTROPY},[{key:"getMaterialType",value:function(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?N8:null}},{key:"extendMaterialParams",value:function(e,t){var n,r=this.parser,e=r.json.materials[e];return e.extensions&&e.extensions[this.name]?(n=[],void 0!==(e=e.extensions[this.name]).anisotropyStrength&&(t.anisotropy=e.anisotropyStrength),void 0!==e.anisotropyRotation&&(t.anisotropyRotation=e.anisotropyRotation),void 0!==e.anisotropyTexture&&n.push(r.assignTexture(t,"anisotropyMap",e.anisotropyTexture)),Promise.all(n)):Promise.resolve()}}]))(),S9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.KHR_TEXTURE_BASISU},[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(r.extensions&&r.extensions[this.name]){var r=r.extensions[this.name],i=t.options.ktx2Loader;if(i)return t.loadTextureImage(e,r.source,i);if(n.extensionsRequired&&0<=n.extensionsRequired.indexOf(this.name))throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return null}}]))(),k9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.EXT_TEXTURE_WEBP,this.isSupported=null},[{key:"loadTexture",value:function(t){var n,r,i=this.name,o=this.parser,a=o.json,e=a.textures[t];return e.extensions&&e.extensions[i]?(n=e.extensions[i],e=a.images[n.source],r=o.textureLoader,e.uri&&null!==(e=o.options.manager.getHandler(e.uri))&&(r=e),this.detectSupport().then(function(e){if(e)return o.loadTextureImage(t,n.source,r);if(a.extensionsRequired&&0<=a.extensionsRequired.indexOf(i))throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return o.loadTexture(t)})):null}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise(function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}]))(),O9=(()=>n(function e(t){c(this,e),this.parser=t,this.name=y.EXT_TEXTURE_AVIF,this.isSupported=null},[{key:"loadTexture",value:function(t){var n,r,i=this.name,o=this.parser,a=o.json,e=a.textures[t];return e.extensions&&e.extensions[i]?(n=e.extensions[i],e=a.images[n.source],r=o.textureLoader,e.uri&&null!==(e=o.options.manager.getHandler(e.uri))&&(r=e),this.detectSupport().then(function(e){if(e)return o.loadTextureImage(t,n.source,r);if(a.extensionsRequired&&0<=a.extensionsRequired.indexOf(i))throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return o.loadTexture(t)})):null}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise(function(e){var t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}]))(),P9=(()=>n(function e(t){c(this,e),this.name=y.EXT_MESHOPT_COMPRESSION,this.parser=t},[{key:"loadBufferView",value:function(e){var t=this.parser.json,e=t.bufferViews[e];if(e.extensions&&e.extensions[this.name]){var a=e.extensions[this.name],e=this.parser.getDependency("buffer",a.buffer),s=this.parser.options.meshoptDecoder;if(s&&s.supported)return e.then(function(e){var t=a.byteOffset||0,n=a.byteLength||0,r=a.count,i=a.byteStride,o=new Uint8Array(e,t,n);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(r,i,o,a.mode,a.filter).then(function(e){return e.buffer}):s.ready.then(function(){var e=new ArrayBuffer(r*i);return s.decodeGltfBuffer(new Uint8Array(e),r,i,o,a.mode,a.filter),e})});if(t.extensionsRequired&&0<=t.extensionsRequired.indexOf(this.name))throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return null}}]))(),T9=(()=>n(function e(t){c(this,e),this.name=y.EXT_MESH_GPU_INSTANCING,this.parser=t},[{key:"createNodeMesh",value:function(e){var v=this,t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;var r,i=$p(t.meshes[n.mesh].primitives);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.mode!==B9.TRIANGLES&&o.mode!==B9.TRIANGLE_STRIP&&o.mode!==B9.TRIANGLE_FAN&&void 0!==o.mode)return null}}catch(e){i.e(e)}finally{i.f()}var a,s=n.extensions[this.name].attributes,u=[],m={};for(a in s)(t=>{u.push(v.parser.getDependency("accessor",s[t]).then(function(e){return m[t]=e,m[t]}))})(a);return u.length<1?null:(u.push(this.parser.createNodeMesh(e)),Promise.all(u).then(function(e){var t,n=e.pop(),r=n.isGroup?n.children:[n],i=e[0].count,o=[],a=$p(r);try{for(a.s();!(t=a.n()).done;){for(var s,u,l=t.value,c=new b,h=new F,f=new $,p=new F(1,1,1),y=new kf(l.geometry,l.material,i),d=0;d<i;d++)m.TRANSLATION&&h.fromBufferAttribute(m.TRANSLATION,d),m.ROTATION&&f.fromBufferAttribute(m.ROTATION,d),m.SCALE&&p.fromBufferAttribute(m.SCALE,d),y.setMatrixAt(d,c.compose(h,f,p));for(s in m)"_COLOR_0"===s?(u=m[s],y.instanceColor=new tf(u.array,u.itemSize,u.normalized)):"TRANSLATION"!==s&&"ROTATION"!==s&&"SCALE"!==s&&l.geometry.setAttribute(s,m[s]);g.prototype.copy.call(y,l),v.parser.assignFinalMaterial(y),o.push(y)}}catch(e){a.e(e)}finally{a.f()}return n.isGroup?(n.clear(),n.add.apply(n,o),n):o[0]}))}}]))(),E9="glTF",R9=1313821514,A9=5130562,M9=n(function e(t){c(this,e),this.name=y.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==E9)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=this.header.length-12,o=new DataView(t,12),a=0;a<i;){var s,u=o.getUint32(a,!0),l=(a+=4,o.getUint32(a,!0));a+=4,l===R9?(s=new Uint8Array(t,12+a,u),this.content=r.decode(s)):l===A9&&(this.body=t.slice(s=12+a,s+u)),a+=u}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}),C9=(()=>n(function e(t,n){if(c(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=y.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()},[{key:"decodePrimitive",value:function(e,t){var n,r,i=this.json,o=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,u={},l={},c={};for(n in s){var h=H9[n]||n.toLowerCase();u[h]=s[n]}for(r in e.attributes){var f,p,y=H9[r]||r.toLowerCase();void 0!==s[r]&&(f=i.accessors[e.attributes[r]],p=F9[f.componentType],c[y]=p.name,l[y]=!0===f.normalized)}return t.getDependency("bufferView",a).then(function(t){return new Promise(function(r,e){o.decodeDracoFile(t,function(e){for(var t in e.attributes){var n=e.attributes[t],t=l[t];void 0!==t&&(n.normalized=t)}r(e)},u,c,se,e)})})}}]))(),j9=(()=>n(function e(){c(this,e),this.name=y.KHR_TEXTURE_TRANSFORM},[{key:"extendTexture",value:function(e,t){return(void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale)&&(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]))(),L9=n(function e(){c(this,e),this.name=y.KHR_MESH_QUANTIZATION}),I9=(()=>{function i(e,t,n,r){return c(this,i),r9(this,i,[e,t,n,r])}return a9(i,r6),n(i,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,o=0;o!==r;o++)t[o]=n[i+o];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,u=3*a,l=r-t,r=(n-t)/l,n=r*r,t=n*r,c=e*u,h=c-u,f=-2*t+3*n,p=t-n,y=1-f,d=p-n+r,v=0;v!==a;v++){var m=o[h+v+a],b=o[h+v+s]*l,g=o[c+v+a],w=o[c+v]*l;i[v]=y*m+d*b+f*g+p*w}return i}}])})(),N9=new $,D9=(()=>{function l(){return c(this,l),r9(this,l,arguments)}return a9(l,I9),n(l,[{key:"interpolate_",value:function(e,t,n,r){u=l,i="interpolate_",o=this,s=Qp(o9(1&(a=3)?u.prototype:u),i,o);var i,o,a,s,u=(2&a&&"function"==typeof s?function(e){return s.apply(o,e)}:s)([e,t,n,r]);return N9.fromArray(u).normalize().toArray(u),u}}])})(),B9={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},F9={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},U9={9728:1003,9729:1006,9984:1004,9985:1007,9986:1005,9987:1008},z9={33071:1001,33648:1002,10497:1e3},G9={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},H9={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},V9={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Y9={CUBICSPLINE:void 0,LINEAR:2301,STEP:2300},W9="OPAQUE",q9="MASK",X9="BLEND";function Z9(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function J9(e,t){void 0!==t.extras&&("object"===Kp(t.extras)?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function K9(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function Q9(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var $9=new b,ey=(()=>n(function e(){var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(c(this,e),this.json=n,this.extensions={},this.plugins={},this.options=r,this.cache=new l9,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={},!1);"undefined"!=typeof navigator&&(n=!0===/^((?!chrome|android).)*safari/i.test(r=navigator.userAgent),t=r.match(/Version\/(\d+)/),n&&t&&parseInt(t[1],10),-1<r.indexOf("Firefox"))&&r.match(/Firefox\/([0-9]+)\./)[1],this.textureLoader=new Xp(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Nh(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)},[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(r,e){var t=this,i=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all(this._invokeAll(function(e){return e.beforeRoot&&e.beforeRoot()})).then(function(){return Promise.all([t.getDependencies("scene"),t.getDependencies("animation"),t.getDependencies("camera")])}).then(function(e){var n={scene:e[0][i.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:i.asset,parser:t,userData:{}};return Z9(o,n,i),J9(n,i),Promise.all(t._invokeAll(function(e){return e.afterRoot&&e.afterRoot(n)})).then(function(){var e,t=$p(n.scenes);try{for(t.s();!(e=t.n()).done;)e.value.updateMatrixWorld()}catch(e){t.e(e)}finally{t.f()}r(n)})}).catch(e)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var o=t[r].joints,a=0,s=o.length;a<s;a++)e[o[a]].isBone=!0;for(var u=0,l=e.length;u<l;u++){var c=e[u];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin)&&(n[c.mesh].isSkinnedMesh=!0),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r,s,u=this;return e.refs[t]<=1?n:(r=n.clone(),(s=function(e,t){var n,r=u.associations.get(e),i=(null!=r&&u.associations.set(t,r),$p(e.children.entries()));try{for(i.s();!(n=i.n()).done;){var o=Jp(n.value,2),a=o[0];s(o[1],t.children[a])}}catch(e){i.e(e)}finally{i.f()}})(n,r),r.name+="_instance_"+e.uses[t]++,r)}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){for(var t=Object.values(this.plugins),n=(t.unshift(this),[]),r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(t,n){var e=t+":"+n,r=this.cache.get(e);if(!r){switch(t){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(e){return e.loadNode&&e.loadNode(n)});break;case"mesh":r=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(e){return e!=this&&e.getDependency&&e.getDependency(t,n)}))break;throw new Error("Unknown type: "+t)}this.cache.add(e,r)}return r}},{key:"getDependencies",value:function(n){var r,e,t=this.cache.get(n);return t||(e=(r=this).json[n+("mesh"===n?"es":"s")]||[],t=Promise.all(e.map(function(e,t){return r.getDependency(n,t)})),this.cache.add(n,t)),t}},{key:"loadBuffer",value:function(e){var n,r=this.json.buffers[e],i=this.fileLoader;if(r.type&&"arraybuffer"!==r.type)throw new Error("THREE.GLTFLoader: "+r.type+" buffer type is not supported.");return void 0===r.uri&&0===e?Promise.resolve(this.extensions[y.KHR_BINARY_GLTF].body):(n=this.options,new Promise(function(e,t){i.load(b8.resolveURL(r.uri,n.path),e,void 0,function(){t(new Error('THREE.GLTFLoader: Failed to load buffer "'+r.uri+'".'))})}))}},{key:"loadBufferView",value:function(e){var r=this.json.bufferViews[e];return this.getDependency("buffer",r.buffer).then(function(e){var t=r.byteLength||0,n=r.byteOffset||0;return e.slice(n,n+t)})}},{key:"loadAccessor",value:function(e){var t,n,b=this,g=this.json,w=this.json.accessors[e];return void 0===w.bufferView&&void 0===w.sparse?(e=G9[w.type],n=F9[w.componentType],t=!0===w.normalized,n=new n(w.count*e),Promise.resolve(new fn(n,e,t))):((n=[]).push(void 0!==w.bufferView?this.getDependency("bufferView",w.bufferView):null),void 0!==w.sparse&&(n.push(this.getDependency("bufferView",w.sparse.indices.bufferView)),n.push(this.getDependency("bufferView",w.sparse.values.bufferView))),Promise.all(n).then(function(e){var t,n=e[0],r=G9[w.type],i=F9[w.componentType],o=i.BYTES_PER_ELEMENT,a=w.byteOffset||0,s=void 0!==w.bufferView?g.bufferViews[w.bufferView].byteStride:void 0,u=!0===w.normalized,l=s&&s!==o*r?(c=Math.floor(a/s),h="InterleavedBuffer:"+w.bufferView+":"+w.componentType+":"+c+":"+w.count,(f=b.cache.get(h))||(t=new i(n,c*s,w.count*s/o),f=new Wh(t,s/o),b.cache.add(h,f)),new Ef(f,r,a%s/o,u)):(t=null===n?new i(w.count*r):new i(n,a,w.count*r),new fn(t,r,u));if(void 0!==w.sparse){var c=F9[w.sparse.indices.componentType],h=w.sparse.indices.byteOffset||0,f=w.sparse.values.byteOffset||0,p=new c(e[1],h,w.sparse.count*G9.SCALAR),y=new i(e[2],f,w.sparse.count*r);(l=null!==n?new fn(l.array.slice(),l.itemSize,l.normalized):l).normalized=!1;for(var d=0,v=p.length;d<v;d++){var m=p[d];if(l.setX(m,y[d*r]),2<=r&&l.setY(m,y[d*r+1]),3<=r&&l.setZ(m,y[d*r+2]),4<=r&&l.setW(m,y[d*r+3]),5<=r)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}l.normalized=u}return l}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,t=t.images[r],i=this.textureLoader;return t.uri&&null!==(n=n.manager.getHandler(t.uri))&&(i=n),this.loadTextureImage(e,r,i)}},{key:"loadTextureImage",value:function(n,e,t){var r=this,i=this.json,o=i.textures[n],a=i.images[e],s=(a.uri||a.bufferView)+":"+o.sampler;return this.textureCache[s]||(e=this.loadImageSource(e,t).then(function(e){e.flipY=!1,e.name=o.name||a.name||"",""===e.name&&"string"==typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(e.name=a.uri);var t=(i.samplers||{})[o.sampler]||{};return e.magFilter=U9[t.magFilter]||1006,e.minFilter=U9[t.minFilter]||1008,e.wrapS=z9[t.wrapS]||1e3,e.wrapT=z9[t.wrapT]||1e3,r.associations.set(e,{textures:n}),e}).catch(function(){return null}),this.textureCache[s]=e)}},{key:"loadImageSource",value:function(e,i){var t=this.json,o=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(function(e){return e.clone()});var n=t.images[e],r=self.URL||self.webkitURL,a=n.uri||"",s=!1;if(void 0!==n.bufferView)a=this.getDependency("bufferView",n.bufferView).then(function(e){s=!0;e=new Blob([e],{type:n.mimeType});return a=r.createObjectURL(e)});else if(void 0===n.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");t=Promise.resolve(a).then(function(r){return new Promise(function(t,e){var n=t;!0===i.isImageBitmapLoader&&(n=function(e){e=new Or(e);e.needsUpdate=!0,t(e)}),i.load(b8.resolveURL(r,o.path),n,void 0,e)})}).then(function(e){var t;return!0===s&&r.revokeObjectURL(a),J9(e,n),e.userData.mimeType=n.mimeType||(0<(t=n.uri).search(/\.jpe?g($|\?)/i)||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":0<t.search(/\.webp($|\?)/i)||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e}).catch(function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",a),e});return this.sourceCache[e]=t}},{key:"assignTexture",value:function(r,i,o,a){var s=this;return this.getDependency("texture",o.index).then(function(e){var t,n;return e?(void 0!==o.texCoord&&0<o.texCoord&&((e=e.clone()).channel=o.texCoord),s.extensions[y.KHR_TEXTURE_TRANSFORM]&&(t=void 0!==o.extensions?o.extensions[y.KHR_TEXTURE_TRANSFORM]:void 0)&&(n=s.associations.get(e),e=s.extensions[y.KHR_TEXTURE_TRANSFORM].extendTexture(e,t),s.associations.set(e,n)),void 0!==a&&(e.colorSpace=a),r[i]=e):null})}},{key:"assignFinalMaterial",value:function(e){var t,n,r=e.geometry,i=e.material,o=void 0===r.attributes.tangent,a=void 0!==r.attributes.color,r=void 0===r.attributes.normal;e.isPoints?(t="PointsMaterial:"+i.uuid,(n=this.cache.get(t))||(n=new T7,er.prototype.copy.call(n,i),n.color.copy(i.color),n.map=i.map,n.sizeAttenuation=!1,this.cache.add(t,n)),i=n):e.isLine&&(t="LineBasicMaterial:"+i.uuid,(n=this.cache.get(t))||(n=new Nf,er.prototype.copy.call(n,i),n.color.copy(i.color),n.map=i.map,this.cache.add(t,n)),i=n),(o||a||r)&&(t="ClonedMaterial:"+i.uuid+":",o&&(t+="derivative-tangents:"),a&&(t+="vertex-colors:"),r&&(t+="flat-shading:"),(n=this.cache.get(t))||(n=i.clone(),a&&(n.vertexColors=!0),r&&(n.flatShading=!0),o&&(n.normalScale&&(n.normalScale.y*=-1),n.clearcoatNormalScale)&&(n.clearcoatNormalScale.y*=-1),this.cache.add(t,n),this.associations.set(n,this.associations.get(i))),i=n),e.material=i}},{key:"getMaterialType",value:function(){return H8}},{key:"loadMaterial",value:function(t){var n,e,r=this,i=this.json,o=this.extensions,a=i.materials[t],s={},i=[],u=((a.extensions||{})[y.KHR_MATERIALS_UNLIT]?(e=o[y.KHR_MATERIALS_UNLIT],n=e.getMaterialType(),i.push(e.extendParams(s,a,r))):(e=a.pbrMetallicRoughness||{},s.color=new v(1,1,1),s.opacity=1,Array.isArray(e.baseColorFactor)&&(u=e.baseColorFactor,s.color.setRGB(u[0],u[1],u[2],se),s.opacity=u[3]),void 0!==e.baseColorTexture&&i.push(r.assignTexture(s,"map",e.baseColorTexture,St)),s.metalness=void 0!==e.metallicFactor?e.metallicFactor:1,s.roughness=void 0!==e.roughnessFactor?e.roughnessFactor:1,void 0!==e.metallicRoughnessTexture&&(i.push(r.assignTexture(s,"metalnessMap",e.metallicRoughnessTexture)),i.push(r.assignTexture(s,"roughnessMap",e.metallicRoughnessTexture))),n=this._invokeOne(function(e){return e.getMaterialType&&e.getMaterialType(t)}),i.push(Promise.all(this._invokeAll(function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,s)})))),!0===a.doubleSided&&(s.side=2),a.alphaMode||W9);return u===X9?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,u===q9&&(s.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&n!==lr&&(i.push(r.assignTexture(s,"normalMap",a.normalTexture)),s.normalScale=new U(1,1),void 0!==a.normalTexture.scale)&&(e=a.normalTexture.scale,s.normalScale.set(e,e)),void 0!==a.occlusionTexture&&n!==lr&&(i.push(r.assignTexture(s,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength)&&(s.aoMapIntensity=a.occlusionTexture.strength),void 0!==a.emissiveFactor&&n!==lr&&(u=a.emissiveFactor,s.emissive=(new v).setRGB(u[0],u[1],u[2],se)),void 0!==a.emissiveTexture&&n!==lr&&i.push(r.assignTexture(s,"emissiveMap",a.emissiveTexture,St)),Promise.all(i).then(function(){var e=new n(s);return a.name&&(e.name=a.name),J9(e,a),r.associations.set(e,{materials:t}),a.extensions&&Z9(o,e,a),e})}},{key:"createUniqueName",value:function(e){e=i.sanitizeNodeName(e||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}},{key:"loadGeometries",value:function(e){var n=this,r=this.extensions,t=this.primitiveCache;for(var i=[],o=0,a=e.length;o<a;o++){var s=e[o],u=(e=>{var t=e.extensions&&e.extensions[y.KHR_DRACO_MESH_COMPRESSION],n=t?"draco:"+t.bufferView+":"+t.indices+":"+K9(t.attributes):e.indices+":"+K9(e.attributes)+":"+e.mode;if(void 0!==e.targets)for(var r=0,i=e.targets.length;r<i;r++)n+=":"+K9(e.targets[r]);return n})(s),l=t[u];l?i.push(l.promise):(l=void 0,l=s.extensions&&s.extensions[y.KHR_DRACO_MESH_COMPRESSION]?(t=>r[y.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,n).then(function(e){return ty(e,t,n)}))(s):ty(new Bn,s,n),t[u]={primitive:s,promise:l},i.push(l))}return Promise.all(i)}},{key:"loadMesh",value:function(_){for(var S=this,e=this.json,k=this.extensions,O=e.meshes[_],P=O.primitives,t=[],n=0,r=P.length;n<r;n++){var i=void 0===P[n].material?(void 0===(i=this.cache).DefaultMaterial&&(i.DefaultMaterial=new H8({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:oe})),i.DefaultMaterial):this.getDependency("material",P[n].material);t.push(i)}return t.push(S.loadGeometries(P)),Promise.all(t).then(function(e){for(var t=e.slice(0,e.length-1),n=e[e.length-1],r=[],i=0,o=n.length;i<o;i++){var a=n[i],s=P[i],u=void 0,l=t[i];if(s.mode===B9.TRIANGLES||s.mode===B9.TRIANGLE_STRIP||s.mode===B9.TRIANGLE_FAN||void 0===s.mode)!0===(u=new(!0===O.isSkinnedMesh?mp:j0)(a,l)).isSkinnedMesh&&u.normalizeSkinWeights(),s.mode===B9.TRIANGLE_STRIP?u.geometry=Zp(u.geometry,1):s.mode===B9.TRIANGLE_FAN&&(u.geometry=Zp(u.geometry,2));else if(s.mode===B9.LINES)u=new y8(a,l);else if(s.mode===B9.LINE_STRIP)u=new Kf(a,l);else if(s.mode===B9.LINE_LOOP)u=new o8(a,l);else{if(s.mode!==B9.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+s.mode);u=new F7(a,l)}if(0<Object.keys(u.geometry.morphAttributes).length){v=d=y=p=f=h=c=void 0;var c=u,h=O;if(c.updateMorphTargets(),void 0!==h.weights)for(var f=0,p=h.weights.length;f<p;f++)c.morphTargetInfluences[f]=h.weights[f];if(h.extras&&Array.isArray(h.extras.targetNames)){var y=h.extras.targetNames;if(c.morphTargetInfluences.length===y.length){c.morphTargetDictionary={};for(var d=0,v=y.length;d<v;d++)c.morphTargetDictionary[y[d]]=d}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}u.name=S.createUniqueName(O.name||"mesh_"+_),J9(u,O),s.extensions&&Z9(k,u,s),S.assignFinalMaterial(u),r.push(u)}for(var m=0,b=r.length;m<b;m++)S.associations.set(r[m],{meshes:_,primitives:m});if(1===r.length)return O.extensions&&Z9(k,r[0],O),r[0];var g=new Z0;O.extensions&&Z9(k,g,O),S.associations.set(g,{meshes:_});for(var w=0,x=r.length;w<x;w++)g.add(r[w]);return g})}},{key:"loadCamera",value:function(e){var t,e=this.json.cameras[e],n=e[e.type];if(n)return"perspective"===e.type?t=new t7(Z.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===e.type&&(t=new lh(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),e.name&&(t.name=this.createUniqueName(e.name)),J9(t,e),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){for(var u=this.json.skins[e],t=[],n=0,r=u.joints.length;n<r;n++)t.push(this._loadNodeShallow(u.joints[n]));return t.push(void 0!==u.inverseBindMatrices?this.getDependency("accessor",u.inverseBindMatrices):null),Promise.all(t).then(function(e){for(var t=e.pop(),n=e,r=[],i=[],o=0,a=n.length;o<a;o++){var s=n[o];s?(r.push(s),s=new b,null!==t&&s.fromArray(t.array,16*o),i.push(s)):console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',u.joints[o])}return new $7(r,i)})}},{key:"loadAnimation",value:function(e){for(var t=this.json,v=this,n=t.animations[e],m=n.name||"animation_"+e,r=[],i=[],o=[],a=[],s=[],u=0,l=n.channels.length;u<l;u++){var c=n.channels[u],h=n.samplers[c.sampler],c=c.target,f=c.node,p=void 0!==n.parameters?n.parameters[h.input]:h.input,y=void 0!==n.parameters?n.parameters[h.output]:h.output;void 0!==c.node&&(r.push(this.getDependency("node",f)),i.push(this.getDependency("accessor",p)),o.push(this.getDependency("accessor",y)),a.push(h),s.push(c))}return Promise.all([Promise.all(r),Promise.all(i),Promise.all(o),Promise.all(a),Promise.all(s)]).then(function(e){for(var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=[],s=0,u=t.length;s<u;s++){var l=t[s],c=n[s],h=r[s],f=i[s],p=o[s];if(void 0!==l){l.updateMatrix&&l.updateMatrix();var y=v._createAnimationTracks(l,c,h,f,p);if(y)for(var d=0;d<y.length;d++)a.push(y[d])}}return new O3(m,void 0,a)})}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then(function(e){e=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&e.traverse(function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]}),e})}},{key:"loadNode",value:function(e){for(var t=this.json.nodes[e],e=this._loadNodeShallow(e),n=[],r=t.children||[],i=0,o=r.length;i<o;i++)n.push(this.getDependency("node",r[i]));t=void 0===t.skin?Promise.resolve(null):this.getDependency("skin",t.skin);return Promise.all([e,Promise.all(n),t]).then(function(e){var t=e[0],n=e[1],r=e[2];null!==r&&t.traverse(function(e){e.isSkinnedMesh&&e.bind(r,$9)});for(var i=0,o=n.length;i<o;i++)t.add(n[i]);return t})}},{key:"_loadNodeShallow",value:function(o){var a,s,t,e=this.json,u=this.extensions,l=this;return void 0===this.nodeCache[o]&&(a=e.nodes[o],s=a.name?l.createUniqueName(a.name):"",t=[],(e=l._invokeOne(function(e){return e.createNodeMesh&&e.createNodeMesh(o)}))&&t.push(e),void 0!==a.camera&&t.push(l.getDependency("camera",a.camera).then(function(e){return l._getNodeRef(l.cameraCache,a.camera,e)})),l._invokeAll(function(e){return e.createNodeAttachment&&e.createNodeAttachment(o)}).forEach(function(e){t.push(e)}),this.nodeCache[o]=Promise.all(t).then(function(e){var t,n=!0===a.isBone?new Hh:1<e.length?new Z0:1===e.length?e[0]:new g;if(n!==e[0])for(var r=0,i=e.length;r<i;r++)n.add(e[r]);return a.name&&(n.userData.name=a.name,n.name=s),J9(n,a),a.extensions&&Z9(u,n,a),void 0!==a.matrix?((t=new b).fromArray(a.matrix),n.applyMatrix4(t)):(void 0!==a.translation&&n.position.fromArray(a.translation),void 0!==a.rotation&&n.quaternion.fromArray(a.rotation),void 0!==a.scale&&n.scale.fromArray(a.scale)),l.associations.has(n)||l.associations.set(n,{}),l.associations.get(n).nodes=o,n})),this.nodeCache[o]}},{key:"loadScene",value:function(e){for(var t=this.extensions,e=this.json.scenes[e],s=this,r=new Z0,n=(e.name&&(r.name=s.createUniqueName(e.name)),J9(r,e),e.extensions&&Z9(t,r,e),e.nodes||[]),i=[],o=0,a=n.length;o<a;o++)i.push(s.getDependency("node",n[o]));return Promise.all(i).then(function(e){for(var t=0,n=e.length;t<n;t++)r.add(e[t]);return s.associations=(e=>{var t,n=new Map,r=$p(s.associations);try{for(r.s();!(t=r.n()).done;){var i=Jp(t.value,2),o=i[0],a=i[1];(o instanceof er||o instanceof Or)&&n.set(o,a)}}catch(e){r.e(e)}finally{r.f()}return e.traverse(function(e){var t=s.associations.get(e);null!=t&&n.set(e,t)}),n})(r),r})}},{key:"_createAnimationTracks",value:function(e,t,n,r,i){var o,a=[],s=e.name||e.uuid,u=[];switch(V9[i.path]===V9.weights?e.traverse(function(e){e.morphTargetInfluences&&u.push(e.name||e.uuid)}):u.push(s),V9[i.path]){case V9.weights:o=X6;break;case V9.rotation:o=u3;break;case V9.position:case V9.scale:o=_3;break;default:o=1===n.itemSize?X6:_3}for(var l=void 0!==r.interpolation?Y9[r.interpolation]:2301,c=this._getArrayFromAccessor(n),h=0,f=u.length;h<f;h++){var p=new o(u[h]+"."+V9[i.path],t.array,c,l);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(p),a.push(p)}return a}},{key:"_getArrayFromAccessor",value:function(e){var t=e.array;if(e.normalized){for(var n=Q9(t.constructor),r=new Float32Array(t.length),i=0,o=t.length;i<o;i++)r[i]=t[i]*n;t=r}return t}},{key:"_createCubicSplineTrackInterpolant",value:function(e){e.createInterpolant=function(e){return new(this instanceof u3?D9:I9)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}]))();function ty(v,m,b){var e,t=m.attributes,n=[];for(e in t){var r=H9[e]||e.toLowerCase();r in v.attributes||n.push(((e,t)=>b.getDependency("accessor",e).then(function(e){v.setAttribute(t,e)}))(t[e],r))}void 0===m.indices||v.index||(i=b.getDependency("accessor",m.indices).then(function(e){v.setIndex(e)}),n.push(i)),bt.workingColorSpace!==se&&"COLOR_0"in t&&console.warn('THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "'.concat(bt.workingColorSpace,'" not supported.')),J9(v,m);var i=v,o=m,a=b,s=o.attributes,u=new Ut;if(void 0!==s.POSITION){var s=a.json.accessors[s.POSITION],l=s.min,c=s.max;if(void 0===l||void 0===c)console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");else{u.set(new F(l[0],l[1],l[2]),new F(c[0],c[1],c[2])),s.normalized&&(l=Q9(F9[s.componentType]),u.min.multiplyScalar(l),u.max.multiplyScalar(l));var h=o.targets;if(void 0!==h){for(var f=new F,p=new F,y=0,d=h.length;y<d;y++){var g,w,x=h[y];void 0!==x.POSITION&&(w=(x=a.json.accessors[x.POSITION]).min,g=x.max,void 0!==w&&void 0!==g?(p.setX(Math.max(Math.abs(w[0]),Math.abs(g[0]))),p.setY(Math.max(Math.abs(w[1]),Math.abs(g[1]))),p.setZ(Math.max(Math.abs(w[2]),Math.abs(g[2]))),x.normalized&&(w=Q9(F9[x.componentType]),p.multiplyScalar(w)),f.max(p)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION."))}u.expandByVector(f)}i.boundingBox=u;c=new xn;u.getCenter(c.center),c.radius=u.min.distanceTo(u.max)/2,i.boundingSphere=c}}return Promise.all(n).then(function(){if(void 0===m.targets)return v;for(var r=v,e=m.targets,t=b,i=!1,o=!1,a=!1,n=0,s=e.length;n<s;n++){var u=e[n];if(void 0!==u.POSITION&&(i=!0),void 0!==u.NORMAL&&(o=!0),void 0!==u.COLOR_0&&(a=!0),i&&o&&a)break}if(!i&&!o&&!a)return Promise.resolve(r);for(var l=[],c=[],h=[],f=0,p=e.length;f<p;f++){var y,d=e[f];i&&(y=void 0!==d.POSITION?t.getDependency("accessor",d.POSITION):r.attributes.position,l.push(y)),o&&(y=void 0!==d.NORMAL?t.getDependency("accessor",d.NORMAL):r.attributes.normal,c.push(y)),a&&(d=void 0!==d.COLOR_0?t.getDependency("accessor",d.COLOR_0):r.attributes.color,h.push(d))}return Promise.all([Promise.all(l),Promise.all(c),Promise.all(h)]).then(function(e){var t=e[0],n=e[1],e=e[2];return i&&(r.morphAttributes.position=t),o&&(r.morphAttributes.normal=n),a&&(r.morphAttributes.color=e),r.morphTargetsRelative=!0,r})})}function ny(e){return(ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ry(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ny(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ny(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ny(e)?e:e+""))(r.key),r)}}function iy(e,t,n){t=sy(t);var r=e,t=oy()?Reflect.construct(t,n||[],sy(e).constructor):t.apply(e,n);if(!t||"object"!=ny(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function oy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oy=function(){return!!e})()}function ay(){return(ay="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=sy(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function sy(e){return(sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uy(e,t){return(uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ly=(()=>{function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Zc,t=this,n=a;if(t instanceof n)return(t=iy(this,a)).manager=e,t.adjustmentTransform=new b,t;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=Vc;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&uy(t,n),t=a,(n=[{key:"parse",value:function(e){var t,n,r,i,o,s=this,u=(t=a,n="parse",r=this,o=ay(sy(1&(i=3)?t.prototype:t),n,r),(2&i&&"function"==typeof o?function(e){return o.apply(r,e)}:o)([e])),l=u.glbBytes.slice().buffer;return new Promise(function(o,e){var t=s.manager,n=s.fetchOptions,t=t.getHandler("path.gltf")||new u9(t),n=("include"===n.credentials&&"cors"===n.mode&&t.setCrossOrigin("use-credentials"),"credentials"in n&&t.setWithCredentials("include"===n.credentials),n.headers&&t.setRequestHeader(n.headers),s.workingPath),a=(!/[\\/]$/.test(n)&&n.length&&(n+="/"),s.adjustmentTransform);t.parse(l,n,function(e){var t=u.batchTable,n=u.featureTable,r=e.scene,i=n.getData("RTC_CENTER");i&&(r.position.x+=i[0],r.position.y+=i[1],r.position.z+=i[2]),e.scene.updateMatrix(),e.scene.matrix.multiply(a),e.scene.matrix.decompose(e.scene.position,e.scene.quaternion,e.scene.scale),e.batchTable=t,e.featureTable=n,r.batchTable=t,r.featureTable=n,o(e)},e)})}}])&&ry(t.prototype,n),e&&ry(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function cy(e){return(cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=cy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=cy(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==cy(e)?e:e+""))(r.key),r)}}function fy(e,t,n){t=yy(t);var r=e,t=py()?Reflect.construct(t,n||[],yy(e).constructor):t.apply(e,n);if(!t||"object"!=cy(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function py(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(py=function(){return!!e})()}function yy(e){return(yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dy(e,t){return(dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var vy=new b,my=(()=>{function n(e){var t;if(this instanceof n)return(t=fy(this,n)).name="TilesRenderer.TilesGroup",t.tilesRenderer=e,t;throw new TypeError("Cannot call a class as a function")}var e,t=n,r=Z0;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&dy(t,r),t=n,(r=[{key:"raycast",value:function(e,t){this.tilesRenderer.optimizeRaycast&&this.tilesRenderer.raycast(e,t)}},{key:"updateMatrixWorld",value:function(e){if(this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldNeedsUpdate||e){null===this.parent?vy.copy(this.matrix):vy.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1;for(var t=vy.elements,n=this.matrixWorld.elements,r=!1,i=0;i<16;i++){var o=t[i],a=n[i];if(Math.abs(o-a)>Number.EPSILON){r=!0;break}}if(r){this.matrixWorld.copy(vy);for(var s=this.children,u=0,l=s.length;u<l;u++)s[u].updateMatrixWorld()}}}}])&&hy(t.prototype,r),e&&hy(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function by(e){return(by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=by(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=by(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==by(e)?e:e+""))(r.key),r)}}var wy=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=this,o=e;if(i instanceof o)return this.radius=t,this.phi=n,this.theta=r,this;throw new TypeError("Cannot call a class as a function")},(t=[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Y(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])&&gy(e.prototype,t),n&&gy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function xy(e){return(xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=xy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=xy(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==xy(e)?e:e+""))(r.key),r)}}function Sy(e){var t=e.x,n=e.y;e.x=e.z,e.y=t,e.z=n}var ky=new wy,Oy=new F,Py=new F,Ty=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,i=this,o=e;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");this.radius=new F(t,n,r)},(t=[{key:"getCartographicToPosition",value:function(e,t,n,r){var i=this.radius,e=(ky.set(1,-e+Math.PI/2,t),Oy.setFromSpherical(ky).normalize(),Sy(Oy),Py.copy(Oy),Py.x*=Math.pow(i.x,2),Py.y*=Math.pow(i.y,2),Py.z*=Math.pow(i.z,2),Math.sqrt(Oy.dot(Py)));return Py.divideScalar(e),r.copy(Py).addScaledVector(Oy,n)}},{key:"getCartographicToNormal",value:function(e,t,n){return ky.set(1,-e+Math.PI/2,t),n.setFromSpherical(ky).normalize(),Sy(n),n}},{key:"getPositionToNormal",value:function(e,t){var n=this.radius;return t.copy(e),t.x/=Math.pow(n.x,2),t.y/=Math.pow(n.y,2),t.z/=Math.pow(n.z,2),t.normalize(),t}}])&&_y(e.prototype,t),n&&_y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function Ey(e){return(Ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ry(e,t){return(e=>{if(Array.isArray(e))return e})(e)||((e,t)=>{var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}})(e,t)||((e,t)=>{var n;if(e)return"string"==typeof e?Ay(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ay(e,t):void 0})(e,t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function Ay(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function My(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Ey(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Ey(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Ey(e)?e:e+""))(r.key),r)}}function Cy(e,t,n){t=Ly(t);var r=e,t=jy()?Reflect.construct(t,n||[],Ly(e).constructor):t.apply(e,n);if(!t||"object"!=Ey(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function jy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jy=function(){return!!e})()}function Ly(e){return(Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Iy(e,t){return(Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ny=Math.PI,Dy=Ny/2,By=new F,Fy=new F,Uy=new F,zy=new b,Gy=0,Hy=[];function Vy(){Gy=0}var Yy=(()=>{function h(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-Dy,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Dy,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:2*Ny,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0,l=this,c=h;if(l instanceof c)return(l=Cy(this,h,[e,t,n])).latStart=r,l.latEnd=i,l.lonStart=o,l.lonEnd=a,l.heightStart=s,l.heightEnd=u,l;throw new TypeError("Cannot call a class as a function")}var e,t=h,n=Ty;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Iy(t,n),t=h,(n=[{key:"_getPoints",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.latStart,n=this.latEnd,r=this.lonStart,i=this.lonEnd,o=this.heightStart,a=this.heightEnd,s=Z.mapLinear(.5,0,1,t,n),u=Z.mapLinear(.5,0,1,r,i),l=Math.floor(r/Dy)*Dy,c=[[-Ny/2,0],[Ny/2,0],[0,l],[0,l+Ny/2],[0,l+Ny],[0,l+3*Ny/2],[t,i],[n,i],[t,r],[n,r],[0,r],[0,i],[s,u],[t,u],[n,u],[s,r],[s,i]],h=[],f=c.length,p=0;p<=1;p++)for(var y=Z.mapLinear(p,0,1,o,a),d=0,v=f;d<v;d++){var m,b=Ry(c[d],2),g=b[0],b=b[1];t<=g&&g<=n&&r<=b&&b<=i&&(m=function(e){return 0<arguments.length&&void 0!==e&&e?(Hy[Gy]||(Hy[Gy]=new F),Hy[++Gy-1]):new F}(e),h.push(m),this.getCartographicToPosition(g,b,y,m))}return h}},{key:"getBoundingBox",value:function(e,t){Vy();for(var n=this.latStart,r=this.latEnd,i=this.lonStart,o=this.lonEnd,a=(r-n<Ny/2?(n=Z.mapLinear(.5,0,1,n,r),r=Z.mapLinear(.5,0,1,i,o),this.getCartographicToNormal(n,r,Uy),Fy.set(0,0,1),By.crossVectors(Fy,Uy),Fy.crossVectors(By,Uy)):(By.set(1,0,0),Fy.set(0,1,0),Uy.set(0,0,1)),t.makeBasis(By,Fy,Uy),zy.copy(t).invert(),this._getPoints(!0)),s=0,u=a.length;s<u;s++)a[s].applyMatrix4(zy);e.makeEmpty(),e.setFromPoints(a)}},{key:"getBoundingSphere",value:function(e,t){Vy();var n=this._getPoints(!0);e.makeEmpty(),e.setFromPoints(n,t)}}])&&My(t.prototype,n),e&&My(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})(),Wy=new xn,qy=new b,Xy=new F,Zy=new F,Jy=new Xr,Ky=[];function Qy(e,t){return e.distance-t.distance}function $y(e,t,n){e.traverse(function(e){Object.getPrototypeOf(e).raycast.call(e,t,n)})}function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function td(e,t){return(e=>{if(Array.isArray(e))return e})(e)||((e,t)=>{var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}})(e,t)||((e,t)=>{var n;if(e)return"string"==typeof e?nd(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nd(e,t):void 0})(e,t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function nd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function rd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hd(r.key),r)}}function id(e,t,n){t=pd(t);var r=e,t=od()?Reflect.construct(t,n||[],pd(e).constructor):t.apply(e,n);if(!t||"object"!=ed(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function od(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(od=function(){return!!e})()}function ad(e,t,n,r){var i=sd(pd(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function sd(){return(sd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=fd(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function ud(e,t){return(ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ld(e,t,n,r,i,o){o=pd(o?e.prototype:e),e=n,n=i;if(!cd(o,t,e,r||o)&&n)throw new TypeError("failed to set property")}function cd(e,t,n,r){return(cd="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var i,e=fd(e,t);if(e){if((i=Object.getOwnPropertyDescriptor(e,t)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,t)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,t,i)}else e=r,i=n,(r=hd(r=t))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i;return!0})(e,t,n,r)}function hd(e){e=((e,t)=>{if("object"!=ed(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ed(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string");return"symbol"==ed(e)?e:e+""}function fd(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=pd(e)););return e}function pd(e){return(pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yd=Symbol("INITIAL_FRUSTUM_CULLED"),dd=new b,vd=new b,md=new F,bd=new F,gd=new F,wd=new F,xd=new F(1,0,0),_d=new F(0,1,0);function Sd(e,t){e.traverse(function(e){e.frustumCulled=e[yd]&&t})}var kd=(()=>{function d(){var t,e=this,n=d;if(!(e instanceof n))throw new TypeError("Cannot call a class as a function");for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(t=id(this,d,[].concat(i))).group=new my(t),t.cameras=[],t.cameraMap=new Map,t.cameraInfo=[],t.activeTiles=new Set,t.visibleTiles=new Set,t._autoDisableRendererCulling=!0,t.optimizeRaycast=!0,t.onLoadTileSet=null,t.onLoadModel=null,t.onDisposeModel=null,t.onTileVisibilityChange=null;var e=new Xc,a=(e.setURLModifier(function(e){return t.preprocessURL?t.preprocessURL(e):e}),t.manager=e,t);return t._overridenRaycast=function(e,t){a.optimizeRaycast||Object.getPrototypeOf(this).raycast.call(this,e,t)},t}var e,t=d,n=_c;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&ud(t,n),t=d,(n=[{key:"autoDisableRendererCulling",get:function(){return this._autoDisableRendererCulling},set:function(t){this._autoDisableRendererCulling!==t&&(ld(d,"_autoDisableRendererCulling",t,this,1,1),this.forEachLoadedModel(function(e){Sd(e,!t)}))}},{key:"getBounds",value:function(e){var t,n;return!!this.root&&(t=(n=this.root.cached).box,n=n.boxTransform,!!t)&&(e.copy(t),e.applyMatrix4(n),!0)}},{key:"getOrientedBounds",value:function(e,t){var n,r;return!!this.root&&(n=(r=this.root.cached).box,r=r.boxTransform,!!n)&&(e.copy(n),t.copy(r),!0)}},{key:"getBoundingSphere",value:function(e){var t;return!!this.root&&!!(t=this.root.cached.sphere)&&(e.copy(t),!0)}},{key:"forEachLoadedModel",value:function(n){this.traverse(function(e){var t=e.cached.scene;t&&n(t,e)})}},{key:"raycast",value:function(e,t){var n;this.root&&(e.firstHitOnly?(n=function e(t,n,r,i){var o;if(r.has(t))return $y(t.cached.scene,i,Ky),0<Ky.length?(1<Ky.length&&Ky.sort(Qy),o=Ky[0],Ky.length=0,o):null;for(var a=[],s=t.children,u=0,l=s.length;u<l;u++){var c=s[u],h=c.cached,f=n.matrixWorld;qy.copy(f),(f=h.sphere)&&(Wy.copy(f),Wy.applyMatrix4(qy),!i.ray.intersectsSphere(Wy))||(f=h.box,h=h.boxTransform,f&&(qy.multiply(h).invert(),Jy.copy(i.ray),Jy.applyMatrix4(qy),Jy.intersectBox(f,Xy))&&(Zy.setFromMatrixScale(qy),h=Zy.x,1e-6<Math.abs(Math.max(Zy.x-Zy.y,Zy.x-Zy.z))&&console.warn("ThreeTilesRenderer : Non uniform scale used for tile which may cause issues when raycasting."),a.push(f={distance:1/0,tile:null}),f.distance=Xy.distanceToSquared(Jy.origin)*h*h,f.tile=c))}a.sort(Qy);for(var p=1/0,y=null,d=0,v=a.length;d<v;d++){var m=a[d];if(p<m.distance)break;var b=(m=m.tile).cached.scene,g=null;r.has(m)?($y(b,i,Ky),0<Ky.length&&(1<Ky.length&&Ky.sort(Qy),g=Ky[0])):g=e(m,n,r,i),g&&((b=g.distance*g.distance)<p&&(p=b,y=g),Ky.length=0)}return y}(this.root,this.group,this.activeTiles,e))&&t.push(n):function e(t,n,r,i,o){var a=t.cached,s=n.matrixWorld,s=(qy.copy(s),a.sphere);if(!s||(Wy.copy(s),Wy.applyMatrix4(qy),i.ray.intersectsSphere(Wy))){var s=a.box,u=a.boxTransform;if(!s||(qy.multiply(u).invert(),Jy.copy(i.ray).applyMatrix4(qy),Jy.intersectsBox(s)))if(u=a.scene,r.has(t))$y(u,i,o);else for(var l=t.children,c=0,h=l.length;c<h;c++)e(l[c],n,r,i,o)}}(this.root,this.group,this.activeTiles,e,t))}},{key:"hasCamera",value:function(e){return this.cameraMap.has(e)}},{key:"setCamera",value:function(e){var t=this.cameras,n=this.cameraMap;return!n.has(e)&&(n.set(e,new U),t.push(e),!0)}},{key:"setResolution",value:function(e,t,n){var r=this.cameraMap;return!!r.has(e)&&(t instanceof U?r.get(e).copy(t):r.get(e).set(t,n),!0)}},{key:"setResolutionFromRenderer",value:function(e,t){var n=this.cameraMap;return!!n.has(e)&&(n=n.get(e),t.getSize(n),n.multiplyScalar(t.getPixelRatio()),!0)}},{key:"deleteCamera",value:function(e){var t,n=this.cameras,r=this.cameraMap;return!!r.has(e)&&(t=n.indexOf(e),n.splice(t,1),r.delete(e),!0)}},{key:"fetchTileSet",value:function(t){for(var n=this,e=arguments.length,r=new Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var o=ad(d,"fetchTileSet",this,3)([t].concat(r));return o.then(function(e){n.onLoadTileSet&&Promise.resolve().then(function(){n.onLoadTileSet(e,t)}).catch(function(e){})}).catch(function(e){}),o}},{key:"update",value:function(){var e=this.group,t=this.cameras,n=this.cameraMap,r=this.cameraInfo;if(0===t.length)console.warn("TilesRenderer: no cameras defined. Cannot update 3d tiles.");else{for(;r.length>t.length;)r.pop();for(;r.length<t.length;)r.push({frustum:new F3,isOrthographic:!1,sseDenominator:-1,position:new F,invScale:-1,pixelSize:0});vd.copy(e.matrixWorld).invert(),md.setFromMatrixScale(vd);var i=md.x;1e-6<Math.abs(Math.max(md.x-md.y,md.x-md.z))&&console.warn("ThreeTilesRenderer : Non uniform scale used for tile which may cause issues when calculating screen space error.");for(var o=0,a=r.length;o<a;o++){var s,u,l=t[o],c=r[o],h=c.frustum,f=c.position,p=n.get(l),y=(0!==p.width&&0!==p.height||console.warn("TilesRenderer: resolution for camera error calculation is not set."),l.projectionMatrix.elements);c.isOrthographic=1===y[15],c.isOrthographic?(s=2/y[0],u=2/y[5],c.pixelSize=Math.max(u/p.height,s/p.width)):c.sseDenominator=2/y[5]/p.height,c.invScale=i,dd.copy(e.matrixWorld),dd.premultiply(l.matrixWorldInverse),dd.premultiply(l.projectionMatrix),h.setFromProjectionMatrix(dd),f.set(0,0,0),f.applyMatrix4(l.matrixWorld),f.applyMatrix4(vd)}ad(d,"update",this,3)([])}}},{key:"preprocessNode",value:function(e,t,n){ad(d,"preprocessNode",this,3)([e,t,n]);var r=new b;if(e.transform)for(var i=e.transform,o=0;o<16;o++)r.elements[o]=i[o];else r.identity();t&&r.premultiply(t.cached.transform);var a,s,n=(new b).copy(r).invert(),t=null,u=null,l=null,c=("box"in e.boundingVolume&&(c=e.boundingVolume.box,t=new Ut,u=new b,l=new b,bd.set(c[3],c[4],c[5]),gd.set(c[6],c[7],c[8]),wd.set(c[9],c[10],c[11]),a=bd.length(),s=gd.length(),h=wd.length(),bd.normalize(),gd.normalize(),wd.normalize(),0===a&&bd.crossVectors(gd,wd),0===s&&gd.crossVectors(bd,wd),0===h&&wd.crossVectors(bd,gd),u.set(bd.x,gd.x,wd.x,c[0],bd.y,gd.y,wd.y,c[1],bd.z,gd.z,wd.z,c[2],0,0,0,1),u.premultiply(r),l.copy(u).invert(),t.min.set(-a,-s,-h),t.max.set(a,s,h)),null),h=("sphere"in e.boundingVolume?(a=e.boundingVolume.sphere,(c=new xn).center.set(a[0],a[1],a[2]),c.radius=a[3],c.applyMatrix4(r)):"box"in e.boundingVolume&&(s=e.boundingVolume.box,c=new xn,t.getBoundingSphere(c),c.center.set(s[0],s[1],s[2]),c.applyMatrix4(r)),null);"region"in e.boundingVolume&&(s=(a=td(e.boundingVolume.region,6))[0],h=new Yy(uc,uc,6356752.314245179,a[1],a[3],s,a[2],a[4],a[5]),null===c&&(c=new xn,h.getBoundingSphere(c)),null===t)&&(t=new Ut,u=new b,l=new b,h.getBoundingBox(t,u),l.copy(u).invert()),e.cached={loadIndex:0,transform:r,transformInverse:n,active:!1,inFrustum:[],box:t,boxTransform:u,boxTransformInverse:l,sphere:c,region:h,scene:null,geometry:null,material:null}}},{key:"parseTile",value:function(e,t,n){var r=this;t._loadIndex=t._loadIndex||0,t._loadIndex++;var i=t.content.uri.split(/[\\\/]/g),i=(i.pop(),i.join("/")),o=this.fetchOptions,a=this.manager,s=t._loadIndex,u=this.rootTileSet.asset&&this.rootTileSet.asset.gltfUpAxis||"y",l=t.cached,c=l.transform;switch(u.toLowerCase()){case"x":dd.makeRotationAxis(_d,-Math.PI/2);break;case"y":dd.makeRotationAxis(xd,Math.PI/2);break;case"z":dd.identity()}var h=Dc(e)||n;return("b3dm"===h?((u=new ly(a)).workingPath=i,u.fetchOptions=o,u.adjustmentTransform.copy(dd),u.parse(e).then(function(e){return e.scene})):(console.warn('TilesRenderer: Content type "'.concat(h,'" not supported.')),Promise.resolve(null))).then(function(e){var i,o,a;t._loadIndex===s&&(e.updateMatrix(),"glb"!==h&&"gltf"!==h||e.matrix.multiply(dd),e.matrix.premultiply(c),e.matrix.decompose(e.position,e.quaternion,e.scale),e.traverse(function(e){e[yd]=e.frustumCulled}),Sd(e,!r.autoDisableRendererCulling),(l.scene=e).traverse(function(e){e.raycast=r._overridenRaycast}),i=[],o=[],a=[],e.traverse(function(e){if(e.geometry&&o.push(e.geometry),e.material){var t,n=e.material;for(t in i.push(e.material),n){var r=n[t];r&&r.isTexture&&a.push(r)}}}),l.materials=i,l.geometry=o,l.textures=a,r.onLoadModel)&&r.onLoadModel(e,t)})}},{key:"disposeTile",value:function(e){var t=e.cached;if(t.scene){for(var n=t.materials,r=t.geometry,i=t.textures,o=t.scene.parent,a=0,s=r.length;a<s;a++)r[a].dispose();for(var u=0,l=n.length;u<l;u++)n[u].dispose();for(var c=0,h=i.length;c<h;c++)i[c].dispose();o&&o.remove(t.scene),this.onDisposeModel&&this.onDisposeModel(t.scene,e),t.scene=null,t.materials=null,t.textures=null,t.geometry=null}this.activeTiles.delete(e),this.visibleTiles.delete(e),e._loadIndex++}},{key:"setTileVisible",value:function(e,t){var n=e.cached.scene,r=this.visibleTiles,i=this.group;t?(i.add(n),r.add(e),n.updateMatrixWorld(!0)):(i.remove(n),r.delete(e)),this.onTileVisibilityChange&&this.onTileVisibilityChange(n,e,t)}},{key:"setTileActive",value:function(e,t){var n=this.activeTiles;t?n.add(e):n.delete(e)}},{key:"calculateError",value:function(e){for(var t,n,r,i,o=e.cached,a=o.inFrustum,s=this.cameras,u=this.cameraInfo,l=o.sphere,c=o.box,h=o.boxTransformInverse,f=o.transformInverse,p=c&&h,y=-1/0,d=1/0,v=0,m=s.length;v<m;v++)a[v]&&(i=(t=u[v]).invScale,n=void 0,t.isOrthographic?(r=t.pixelSize,n=e.geometricError/(r*i)):(md.copy(t.position),r=(p?(md.applyMatrix4(h),c.distanceToPoint(md)):(md.applyMatrix4(f),Math.max(l.distanceToPoint(md),0)))*i,i=t.sseDenominator,n=e.geometricError/(r*i),d=Math.min(d,r)),y=Math.max(y,n));e.__distanceFromCamera=d,e.__error=y}},{key:"tileInView",value:function(e){var e=e.cached,t=e.sphere,n=e.inFrustum;if(t){for(var r=this.cameraInfo,i=!1,o=0,a=r.length;o<a;o++)r[o].frustum.intersectsSphere(t)?n[o]=i=!0:n[o]=!1;return i}return!0}}])&&rd(t.prototype,n),e&&rd(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Od(e){return(Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Od(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Od(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Od(e)?e:e+""))(r.key),r)}}function Td(e,t,n){t=Rd(t);var r=e,t=Ed()?Reflect.construct(t,n||[],Rd(e).constructor):t.apply(e,n);if(!t||"object"!=Od(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Ed(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ed=function(){return!!e})()}function Rd(e){return(Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ad(e,t){return(Ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Md=(()=>{function l(e){if(this instanceof l)return(e=Td(this,l,[e])).decoderPath="",e.decoderConfig={},e.decoderBinary=null,e.decoderPending=null,e.workerLimit=4,e.workerPool=[],e.workerNextTaskID=1,e.workerSourceURL="",e.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},e.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},e;throw new TypeError("Cannot call a class as a function")}var e,t=l,n=Eh;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Ad(t,n),t=l,(n=[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"setVerbosity",value:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")}},{key:"setDrawMode",value:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")}},{key:"setSkipDequantization",value:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")}},{key:"load",value:function(e,n,t,r){var i=this,o=new Nh(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),"use-credentials"===this.crossOrigin&&o.setWithCredentials(!0),o.load(e,function(e){var t={attributeIDs:i.defaultAttributeIDs,attributeTypes:i.defaultAttributeTypes,useUniqueIDs:!1};i.decodeGeometry(e,t).then(n).catch(r)},t,r)}},{key:"decodeDracoFile",value:function(e,t,n,r){r={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,r).then(t)}},{key:"decodeGeometry",value:function(n,r){var e,t=this;for(e in r.attributeTypes){var i=r.attributeTypes[e];void 0!==i.BYTES_PER_ELEMENT&&(r.attributeTypes[e]=i.name)}var o,a=JSON.stringify(r);if(l.taskCache.has(n)){var s=l.taskCache.get(n);if(s.key===a)return s.promise;if(0===n.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var u=this.workerNextTaskID++,s=n.byteLength,s=this._getWorker(u,s).then(function(e){return o=e,new Promise(function(e,t){o._callbacks[u]={resolve:e,reject:t},o.postMessage({type:"decode",id:u,taskConfig:r,buffer:n},[n])})}).then(function(e){return t._createGeometry(e.geometry)});return s.finally(function(){o&&u&&t._releaseTask(o,u)}),l.taskCache.set(n,{key:a,promise:s}),s}},{key:"_createGeometry",value:function(e){var t=new Bn;e.index&&t.setIndex(new fn(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name;t.setAttribute(i,new fn(r.array,r.itemSize))}return t}},{key:"_loadLibrary",value:function(n,e){var r=new Nh(this.manager);return r.setPath(this.decoderPath),r.setResponseType(e),new Promise(function(e,t){r.load(n,e,void 0,t)})}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var n,e,r=this;return this.decoderPending||(e=[],(n="object"!==("undefined"==typeof WebAssembly?"undefined":Od(WebAssembly))||"js"===this.decoderConfig.type)?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then(function(e){var t=e[0],e=(n||(r.decoderConfig.wasmBinary=e[1]),l.DRACOWorker.toString()),t=["/* draco decoder */",t,"","/* worker */",e.substring(e.indexOf("{")+1,e.lastIndexOf("}"))].join("\n");r.workerSourceURL=URL.createObjectURL(new Blob([t]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var r=this;return this._initDecoder().then(function(){var n;return r.workerPool.length<r.workerLimit?((n=new Worker(r.workerSourceURL))._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:r.decoderConfig}),n.onmessage=function(e){var t=e.data;switch(t.type){case"decode":n._callbacks[t.id].resolve(t);break;case"error":n._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},r.workerPool.push(n)):r.workerPool.sort(function(e,t){return e._taskLoad>t._taskLoad?-1:1}),(n=r.workerPool[r.workerPool.length-1])._taskCosts[e]=t,n._taskLoad+=t,n})}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){this.workerPool.map(function(e){return e._taskLoad})}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}])&&Pd(t.prototype,n),e&&Pd(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Cd(e){return(Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Cd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Cd(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Cd(e)?e:e+""))(r.key),r)}}function Ld(e,t,n){t=Nd(t);var r=e,t=Id()?Reflect.construct(t,n||[],Nd(e).constructor):t.apply(e,n);if(!t||"object"!=Cd(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Id(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Id=function(){return!!e})()}function Nd(e){return(Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dd(e,t){return(Dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Md.DRACOWorker=function(){var n,t;onmessage=function(e){var o=e.data;switch(o.type){case"init":n=o.decoderConfig,t=new Promise(function(t){n.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(n)});break;case"decode":var a=o.buffer,s=o.taskConfig;t.then(function(e){var e=e.draco,t=new e.Decoder,n=new e.DecoderBuffer;n.Init(new Int8Array(a),a.byteLength);try{var r=((e,t,n,r)=>{var i,o,a=r.attributeIDs,s=r.attributeTypes,u=t.GetEncodedGeometryType(n);if(u===e.TRIANGULAR_MESH)i=new e.Mesh,o=t.DecodeBufferToMesh(n,i);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");i=new e.PointCloud,o=t.DecodeBufferToPointCloud(n,i)}if(!o.ok()||0===i.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var l,c,h,f={index:null,attributes:[]};for(l in a){var p=self[s[l]];if(r.useUniqueIDs)h=a[l],c=t.GetAttributeByUniqueId(i,h);else{if(-1===(h=t.GetAttributeId(i,e[a[l]])))continue;c=t.GetAttribute(i,h)}f.attributes.push(((e,t,n,r,i,o)=>{var a,s,u=o.num_components(),l=n.num_points()*u;switch(i){case Float32Array:a=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(n,o,a),s=new Float32Array(l);break;case Int8Array:a=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(n,o,a),s=new Int8Array(l);break;case Int16Array:a=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(n,o,a),s=new Int16Array(l);break;case Int32Array:a=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(n,o,a),s=new Int32Array(l);break;case Uint8Array:a=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(n,o,a),s=new Uint8Array(l);break;case Uint16Array:a=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(n,o,a),s=new Uint16Array(l);break;case Uint32Array:a=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(n,o,a),s=new Uint32Array(l);break;default:throw new Error("THREE.DRACOLoader: Unexpected attribute type.")}for(var c=0;c<l;c++)s[c]=a.GetValue(c);return e.destroy(a),{name:r,array:s,itemSize:u}})(e,t,i,l,p,c))}if(u===e.TRIANGULAR_MESH){for(var y=i.num_faces(),d=new Uint32Array(3*y),v=new e.DracoInt32Array,m=0;m<y;++m){t.GetFaceFromMesh(i,m,v);for(var b=0;b<3;++b)d[3*m+b]=v.GetValue(b)}f.index={array:d,itemSize:1},e.destroy(v)}return e.destroy(i),f})(e,t,n,s),i=r.attributes.map(function(e){return e.array.buffer});r.index&&i.push(r.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:r},i)}catch(e){console.error(e),self.postMessage({type:"error",id:o.id,error:e.message})}finally{e.destroy(n),e.destroy(t)}})}}},Md.taskCache=new WeakMap,Md.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},Md.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},Md.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},Md.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")};var Bd=(()=>{function n(e,t){if(this instanceof n)return(e=Ld(this,n,[e,t])).isAmbientLight=!0,e.type="AmbientLight",e;throw new TypeError("Cannot call a class as a function")}var e,t,r=n,i=L3;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&Dd(r,i),r=n,e&&jd(r.prototype,e),t&&jd(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r})();function Fd(e){return(Fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ud(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Fd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Fd(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Fd(e)?e:e+""))(r.key),r)}}var zd=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._map=e,this._layer=null,this._layerName=null,this._mainDeltaAngleToCamera=null,this._secondDeltaAngleToCamera=null,this.createLight=this.createLight.bind(this)}return e=t,(n=[{key:"createLight",value:function(e,t){var n=this._map.getMapOptions(),r=n.lockedLight,n=n.lightConfig[t];return e._ambientLight=new Bd(n[1].color,n[1].intensity),e._target=new g,e._mainLight=new kh(n[0].color,n[0].intensity),e._mainLight.position.set(n[0].position.x,n[0].position.y,n[0].position.z),e._mainLight.target=e._target,e._secondLight=new kh(n[2].color,n[2].intensity),e._secondLight.position.set(n[2].position.x,n[2].position.y,n[2].position.z),e._secondLight.target=e._target,this._layer=e,this._layerName=t,r&&(this._updateLightPositionRelativeCamera=this._updateLightPositionRelativeCamera.bind(this),this._map.on("viewChanged",this._updateLightPositionRelativeCamera)),this}},{key:"createLightByTheme",value:function(e,t,n){return e._ambientLight=new Bd(new v("rgb("+n[1].color+")"),n[1].intensity),e._mainLight=new kh(new v("rgb("+n[0].color+")"),n[0].intensity),e._mainLight.position.set(n[0].position.x,n[0].position.y,n[0].position.z),e._target=new g,e._target.position.set(n[0].target.x,n[0].target.y,n[0].target.z),e._mainLight.target=e._target,e._secondLight=new kh(new v("rgb("+n[2].color+")"),n[2].intensity),e._secondLight.position.set(n[2].position.x,n[2].position.y,n[2].position.z),e._target2=new g,e._target2.position.set(n[2].target.x,n[2].target.y,n[2].target.z),e._secondLight.target=e._target2,this._layer=e,this._layerName=t,this}}])&&Ud(e.prototype,n),r&&Ud(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r})(),Gd=(Object.assign(zd.prototype,{_getThetaByPosition:function(e){var t=new wy;return t.setFromVector3(e),t.theta},_setPositionByTheta:function(e,t){var n=new wy,t=(n.setFromVector3(e),n.theta=t,new F);t.setFromSpherical(n),e.copy(t)},_updateLightPositionRelativeCamera:function(){var e,t,n;this._layer&&(e=this._getThetaByPosition(this._map.camera.position),null===this._mainDeltaAngleToCamera&&(t=this._getThetaByPosition(this._layer._mainLight.position),n=this._getThetaByPosition(this._layer._secondLight.position),this._mainDeltaAngleToCamera=t-e,this._secondDeltaAngleToCamera=n-e),t=e+this._mainDeltaAngleToCamera,this._setPositionByTheta(this._layer._mainLight.position,t),n=e+this._secondDeltaAngleToCamera,this._setPositionByTheta(this._layer._secondLight.position,n))},_dispose:function(){this._map.getMapOptions().lockedLight&&this._map.off("viewChanged",this._updateLightPositionRelativeCamera)}}),e(5)),Hd={NAME_KEY_ERROR:0,MAP_ID_URL_ERROR:2,THEME_ID_URL_ERROR:4,LICENSE_ERROR:8,PATH_ERROR:404,INFO:32,DEFAULT_LEVEL_ERROR:64};function Vd(e){return(Vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yd(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Wd(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Yd(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Zd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Yd(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function qd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zd(r.key),r)}}function Xd(e,t,n){return t&&qd(e.prototype,t),n&&qd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zd(e){e=((e,t)=>{if("object"!=Vd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Vd(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string");return"symbol"==Vd(e)?e:e+""}var W7=Xd(function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._options=Wd({data:null,method:"GET",responseType:"json"},t),this._xhr=null}),Jd=(Object.assign(W7.prototype,{_send:function(e,t,n){var r=this._options,i=r.data,o=r.method,a=r.url,s=r.responseType,u=r.header,l=null;if((l=new(_n.a.environment===d8.a.WX?_n.a.XMLHttpRequest:"undefined"!=typeof XMLHttpRequest?XMLHttpRequest:Gd.a.global().fengmap.XMLHttpRequest)).responseType=s,l.open(o,a),"object"==Vd(u))for(var c in u)l.setRequestHeader(c,u[c]);l.addEventListener("load",function(){200===l.status||0===l.status||201===l.status?e&&e(l.response):t&&(404===l.status?t(Hd.PATH_ERROR):2069===l.response.error_code?t(Hd.NAME_KEY_ERROR):2063===l.response.error_code?t(Hd.MAP_ID_URL_ERROR):400===l.response.error_code?t(Hd.THEME_ID_URL_ERROR):t(l.response))}),l.addEventListener("timeout",function(e){n&&n(e)}),l.addEventListener("error",function(e){t&&t(e)}),l.send(JSON.stringify(i)),this._xhr=l},_dispose:function(){this._xhr&&this._xhr.abort&&(this._xhr.abort(),this._xhr=null)}}),W7);var P=function(e){return null!=e};function Kd(e){var t;this.name="DeveloperError",this.message=e;try{throw new Error}catch(e){t=e.stack}this.stack=t}P(Object.create)&&((Kd.prototype=Object.create(Error.prototype)).constructor=Kd),Kd.prototype.toString=function(){var e="".concat(this.name,": ").concat(this.message);return P(this.stack)&&(e+="\n".concat(this.stack.toString())),e},Kd.throwInstantiationError=function(){throw new Kd("This function defines an interface and should not be called directly.")};var T=Kd;function Qd(e){return(Qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $d={};function ev(e,t,n){return"Expected ".concat(n," to be typeof ").concat(t,", actual typeof was ").concat(e)}$d.typeOf={},$d.defined=function(e,t){if(!P(t))throw new T("".concat(e," is required, actual value was undefined"))},$d.typeOf.func=function(e,t){if("function"!=typeof t)throw new T(ev(Qd(t),"function",e))},$d.typeOf.string=function(e,t){if("string"!=typeof t)throw new T(ev(Qd(t),"string",e))},$d.typeOf.number=function(e,t){if("number"!=typeof t)throw new T(ev(Qd(t),"number",e))},$d.typeOf.number.lessThan=function(e,t,n){if($d.typeOf.number(e,t),n<=t)throw new T("Expected ".concat(e," to be less than ").concat(n,", actual value was ").concat(t))},$d.typeOf.number.lessThanOrEquals=function(e,t,n){if($d.typeOf.number(e,t),n<t)throw new T("Expected ".concat(e," to be less than or equal to ").concat(n,", actual value was ").concat(t))},$d.typeOf.number.greaterThan=function(e,t,n){if($d.typeOf.number(e,t),t<=n)throw new T("Expected ".concat(e," to be greater than ").concat(n,", actual value was ").concat(t))},$d.typeOf.number.greaterThanOrEquals=function(e,t,n){if($d.typeOf.number(e,t),t<n)throw new T("Expected ".concat(e," to be greater than or equal to ").concat(n,", actual value was ").concat(t))},$d.typeOf.object=function(e,t){if("object"!==Qd(t))throw new T(ev(Qd(t),"object",e))},$d.typeOf.bool=function(e,t){if("boolean"!=typeof t)throw new T(ev(Qd(t),"boolean",e))},$d.typeOf.bigint=function(e,t){if("bigint"!=typeof t)throw new T(ev(Qd(t),"bigint",e))},$d.typeOf.number.equals=function(e,t,n,r){if($d.typeOf.number(e,n),$d.typeOf.number(t,r),n!==r)throw new T("".concat(e," must be equal to ").concat(t,", the actual values are ").concat(n," and ").concat(r))};var f=$d;function tv(e,t){return null!=e?e:t}tv.EMPTY_OBJECT=Object.freeze({});var p=tv,d={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,EPSILON21:1e-21,GRAVITATIONALPARAMETER:3986004418e5,SOLAR_RADIUS:6955e5,LUNAR_RADIUS:1737400,SIXTY_FOUR_KILOBYTES:65536,FOUR_GIGABYTES:4294967296},nv=(d.sign=p(Math.sign,function(e){return 0===(e=+e)||e!=e?e:0<e?1:-1}),d.signNotZero=function(e){return e<0?-1:1},d.toSNorm=function(e,t){return t=p(t,255),Math.round((.5*d.clamp(e,-1,1)+.5)*t)},d.fromSNorm=function(e,t){return t=p(t,255),d.clamp(e,0,t)/t*2-1},d.normalize=function(e,t,n){return 0===(n=Math.max(n-t,0))?0:d.clamp((e-t)/n,0,1)},d.sinh=p(Math.sinh,function(e){return(Math.exp(e)-Math.exp(-e))/2}),d.cosh=p(Math.cosh,function(e){return(Math.exp(e)+Math.exp(-e))/2}),d.lerp=function(e,t,n){return(1-n)*e+n*t},d.PI=Math.PI,d.ONE_OVER_PI=1/Math.PI,d.PI_OVER_TWO=Math.PI/2,d.PI_OVER_THREE=Math.PI/3,d.PI_OVER_FOUR=Math.PI/4,d.PI_OVER_SIX=Math.PI/6,d.THREE_PI_OVER_TWO=3*Math.PI/2,d.TWO_PI=2*Math.PI,d.ONE_OVER_TWO_PI=1/(2*Math.PI),d.RADIANS_PER_DEGREE=Math.PI/180,d.DEGREES_PER_RADIAN=180/Math.PI,d.RADIANS_PER_ARCSECOND=d.RADIANS_PER_DEGREE/3600,d.toRadians=function(e){if(P(e))return e*d.RADIANS_PER_DEGREE;throw new T("degrees is required.")},d.toDegrees=function(e){if(P(e))return e*d.DEGREES_PER_RADIAN;throw new T("radians is required.")},d.convertLongitudeRange=function(e){var t;if(P(e))return t=d.TWO_PI,(e=e-Math.floor(e/t)*t)<-Math.PI?e+t:Math.PI<=e?e-t:e;throw new T("angle is required.")},d.clampToLatitudeRange=function(e){if(P(e))return d.clamp(e,-1*d.PI_OVER_TWO,d.PI_OVER_TWO);throw new T("angle is required.")},d.negativePiToPi=function(e){if(P(e))return-d.PI<=e&&e<=d.PI?e:d.zeroToTwoPi(e+d.PI)-d.PI;throw new T("angle is required.")},d.zeroToTwoPi=function(e){var t;if(P(e))return 0<=e&&e<=d.TWO_PI?e:(t=d.mod(e,d.TWO_PI),Math.abs(t)<d.EPSILON14&&Math.abs(e)>d.EPSILON14?d.TWO_PI:t);throw new T("angle is required.")},d.mod=function(e,t){if(!P(e))throw new T("m is required.");if(!P(t))throw new T("n is required.");if(0===t)throw new T("divisor cannot be 0.");return d.sign(e)===d.sign(t)&&Math.abs(e)<Math.abs(t)?e:(e%t+t)%t},d.equalsEpsilon=function(e,t,n,r){if(!P(e))throw new T("left is required.");if(!P(t))throw new T("right is required.");n=p(n,0),r=p(r,n);var i=Math.abs(e-t);return i<=r||i<=n*Math.max(Math.abs(e),Math.abs(t))},d.lessThan=function(e,t,n){if(!P(e))throw new T("first is required.");if(!P(t))throw new T("second is required.");if(P(n))return e-t<-n;throw new T("absoluteEpsilon is required.")},d.lessThanOrEquals=function(e,t,n){if(!P(e))throw new T("first is required.");if(!P(t))throw new T("second is required.");if(P(n))return e-t<n;throw new T("absoluteEpsilon is required.")},d.greaterThan=function(e,t,n){if(!P(e))throw new T("first is required.");if(!P(t))throw new T("second is required.");if(P(n))return n<e-t;throw new T("absoluteEpsilon is required.")},d.greaterThanOrEquals=function(e,t,n){if(!P(e))throw new T("first is required.");if(!P(t))throw new T("second is required.");if(P(n))return-n<e-t;throw new T("absoluteEpsilon is required.")},[1]),rv=(d.factorial=function(e){if("number"!=typeof e||e<0)throw new T("A number greater than or equal to 0 is required.");var t=nv.length;if(t<=e)for(var n=nv[t-1],r=t;r<=e;r++){var i=n*r;nv.push(i),n=i}return nv[e]},d.incrementWrap=function(e,t,n){if(n=p(n,0),!P(e))throw new T("n is required.");if(t<=n)throw new T("maximumValue must be greater than minimumValue.");return e=t<++e?n:e},d.isPowerOfTwo=function(e){if("number"!=typeof e||e<0||4294967295<e)throw new T("A number between 0 and (2^32)-1 is required.");return 0!==e&&0==(e&e-1)},d.nextPowerOfTwo=function(e){if("number"!=typeof e||e<0||2147483648<e)throw new T("A number between 0 and 2^31 is required.");return--e,e=(e=(e=(e=(e|=e>>1)|e>>2)|e>>4)|e>>8)|e>>16,++e},d.previousPowerOfTwo=function(e){if("number"!=typeof e||e<0||4294967295<e)throw new T("A number between 0 and (2^32)-1 is required.");return e=((e=(e=(e=(e=(e=(e|=e>>1)|e>>2)|e>>4)|e>>8)|e>>16)|e>>32)>>>0)-(e>>>1)},d.clamp=function(e,t,n){return f.typeOf.number("value",e),f.typeOf.number("min",t),f.typeOf.number("max",n),e<t?t:n<e?n:e},d.nextRandomNumber=function(){return randomNumberGenerator.random()},d.randomBetween=function(e,t){return d.nextRandomNumber()*(t-e)+e},d.acosClamped=function(e){if(P(e))return Math.acos(d.clamp(e,-1,1));throw new T("value is required.")},d.asinClamped=function(e){if(P(e))return Math.asin(d.clamp(e,-1,1));throw new T("value is required.")},d.chordLength=function(e,t){if(!P(e))throw new T("angle is required.");if(P(t))return 2*t*Math.sin(.5*e);throw new T("radius is required.")},d.logBase=function(e,t){if(!P(e))throw new T("number is required.");if(P(t))return Math.log(e)/Math.log(t);throw new T("base is required.")},d.cbrt=p(Math.cbrt,function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}),d.log2=p(Math.log2,function(e){return Math.log(e)*Math.LOG2E}),d.fog=function(e,t){e*=t;return 1-Math.exp(-e*e)},d.fastApproximateAtan=function(e){return f.typeOf.number("x",e),e*(-.1784*Math.abs(e)-.0663*e*e+1.0301)},d.fastApproximateAtan2=function(e,t){f.typeOf.number("x",e),f.typeOf.number("y",t);var n=Math.abs(e),r=Math.abs(t),i=Math.max(n,r),r=Math.min(n,r)/i;if(isNaN(r))throw new T("either x or y must be nonzero");return n=d.fastApproximateAtan(r),n=Math.abs(t)>Math.abs(e)?d.PI_OVER_TWO-n:n,n=e<0?d.PI-n:n,t<0?-n:n},d);function m(e,t,n){this.x=p(e,0),this.y=p(t,0),this.z=p(n,0)}m.fromSpherical=function(e,t){f.typeOf.object("spherical",e),P(t)||(t=new m);var n=e.clock,r=e.cone,e=p(e.magnitude,1),i=e*Math.sin(r);return t.x=i*Math.cos(n),t.y=i*Math.sin(n),t.z=e*Math.cos(r),t},m.fromElements=function(e,t,n,r){return P(r)?(r.x=e,r.y=t,r.z=n,r):new m(e,t,n)},m.fromCartesian4=m.clone=function(e,t){if(P(e))return P(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new m(e.x,e.y,e.z)},m.packedLength=3,m.pack=function(e,t,n){return f.typeOf.object("value",e),f.defined("array",t),n=p(n,0),t[n++]=e.x,t[n++]=e.y,t[n]=e.z,t},m.unpack=function(e,t,n){return f.defined("array",e),t=p(t,0),(n=P(n)?n:new m).x=e[t++],n.y=e[t++],n.z=e[t],n},m.packArray=function(e,t){f.defined("array",e);var n=e.length,r=3*n;if(P(t)){if(!Array.isArray(t)&&t.length!==r)throw new T("If result is a typed array, it must have exactly array.length * 3 elements");t.length!==r&&(t.length=r)}else t=new Array(r);for(var i=0;i<n;++i)m.pack(e[i],t,3*i);return t},m.unpackArray=function(e,t){if(f.defined("array",e),f.typeOf.number.greaterThanOrEquals("array.length",e.length,3),e.length%3!=0)throw new T("array length must be a multiple of 3.");var n=e.length;P(t)?t.length=n/3:t=new Array(n/3);for(var r=0;r<n;r+=3){var i=r/3;t[i]=m.unpack(e,r,t[i])}return t},m.fromArray=m.unpack,m.maximumComponent=function(e){return f.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z)},m.minimumComponent=function(e){return f.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z)},m.minimumByComponent=function(e,t,n){return f.typeOf.object("first",e),f.typeOf.object("second",t),f.typeOf.object("result",n),n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n},m.maximumByComponent=function(e,t,n){return f.typeOf.object("first",e),f.typeOf.object("second",t),f.typeOf.object("result",n),n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n},m.clamp=function(e,t,n,r){f.typeOf.object("value",e),f.typeOf.object("min",t),f.typeOf.object("max",n),f.typeOf.object("result",r);var i=rv.clamp(e.x,t.x,n.x),o=rv.clamp(e.y,t.y,n.y),e=rv.clamp(e.z,t.z,n.z);return r.x=i,r.y=o,r.z=e,r},m.magnitudeSquared=function(e){return f.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z},m.magnitude=function(e){return Math.sqrt(m.magnitudeSquared(e))};var iv=new m,ov=(m.distance=function(e,t){return f.typeOf.object("left",e),f.typeOf.object("right",t),m.subtract(e,t,iv),m.magnitude(iv)},m.distanceSquared=function(e,t){return f.typeOf.object("left",e),f.typeOf.object("right",t),m.subtract(e,t,iv),m.magnitudeSquared(iv)},m.normalize=function(e,t){f.typeOf.object("cartesian",e),f.typeOf.object("result",t);var n=m.magnitude(e);if(t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,isNaN(t.x)||isNaN(t.y)||isNaN(t.z))throw new T("normalized result is not a number");return t},m.dot=function(e,t){return f.typeOf.object("left",e),f.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z},m.multiplyComponents=function(e,t,n){return f.typeOf.object("left",e),f.typeOf.object("right",t),f.typeOf.object("result",n),n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n},m.divideComponents=function(e,t,n){return f.typeOf.object("left",e),f.typeOf.object("right",t),f.typeOf.object("result",n),n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n},m.add=function(e,t,n){return f.typeOf.object("left",e),f.typeOf.object("right",t),f.typeOf.object("result",n),n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n},m.subtract=function(e,t,n){return f.typeOf.object("left",e),f.typeOf.object("right",t),f.typeOf.object("result",n),n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n},m.multiplyByScalar=function(e,t,n){return f.typeOf.object("cartesian",e),f.typeOf.number("scalar",t),f.typeOf.object("result",n),n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n},m.divideByScalar=function(e,t,n){return f.typeOf.object("cartesian",e),f.typeOf.number("scalar",t),f.typeOf.object("result",n),n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n},m.negate=function(e,t){return f.typeOf.object("cartesian",e),f.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t},m.abs=function(e,t){return f.typeOf.object("cartesian",e),f.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t},new m),av=(m.lerp=function(e,t,n,r){return f.typeOf.object("start",e),f.typeOf.object("end",t),f.typeOf.number("t",n),f.typeOf.object("result",r),m.multiplyByScalar(t,n,ov),r=m.multiplyByScalar(e,1-n,r),m.add(ov,r,r)},new m),sv=new m,uv=(m.angleBetween=function(e,t){f.typeOf.object("left",e),f.typeOf.object("right",t),m.normalize(e,av),m.normalize(t,sv);e=m.dot(av,sv),t=m.magnitude(m.cross(av,sv,av));return Math.atan2(t,e)},new m),lv=(m.mostOrthogonalAxis=function(e,t){f.typeOf.object("cartesian",e),f.typeOf.object("result",t);e=m.normalize(e,uv);return m.abs(e,e),t=e.x<=e.y?e.x<=e.z?m.clone(m.UNIT_X,t):m.clone(m.UNIT_Z,t):e.y<=e.z?m.clone(m.UNIT_Y,t):m.clone(m.UNIT_Z,t)},m.projectVector=function(e,t,n){f.defined("a",e),f.defined("b",t),f.defined("result",n);e=m.dot(e,t)/m.dot(t,t);return m.multiplyByScalar(t,e,n)},m.equals=function(e,t){return e===t||P(e)&&P(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},m.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]},m.equalsEpsilon=function(e,t,n,r){return e===t||P(e)&&P(t)&&rv.equalsEpsilon(e.x,t.x,n,r)&&rv.equalsEpsilon(e.y,t.y,n,r)&&rv.equalsEpsilon(e.z,t.z,n,r)},m.cross=function(e,t,n){f.typeOf.object("left",e),f.typeOf.object("right",t),f.typeOf.object("result",n);var r=e.x,i=e.y,e=e.z,o=t.x,a=t.y,t=t.z,s=e*o-r*t,r=r*a-i*o;return n.x=i*t-e*a,n.y=s,n.z=r,n},m.midpoint=function(e,t,n){return f.typeOf.object("left",e),f.typeOf.object("right",t),f.typeOf.object("result",n),n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y),n.z=.5*(e.z+t.z),n},m.fromDegrees=function(e,t,n,r,i){return f.typeOf.number("longitude",e),f.typeOf.number("latitude",t),e=rv.toRadians(e),t=rv.toRadians(t),m.fromRadians(e,t,n,r,i)},new m),cv=new m,hv=new m(40680631590769,40680631590769,40408299984661.445),fv=(m.fromRadians=function(e,t,n,r,i){f.typeOf.number("longitude",e),f.typeOf.number("latitude",t),n=p(n,0);var r=P(r)?r.radiiSquared:hv,o=Math.cos(t),o=(lv.x=o*Math.cos(e),lv.y=o*Math.sin(e),lv.z=Math.sin(t),lv=m.normalize(lv,lv),m.multiplyComponents(r,lv,cv),Math.sqrt(m.dot(lv,cv)));return cv=m.divideByScalar(cv,o,cv),lv=m.multiplyByScalar(lv,n,lv),P(i)||(i=new m),m.add(cv,lv,i)},m.fromDegreesArray=function(e,t,n){if(f.defined("coordinates",e),e.length<2||e.length%2!=0)throw new T("the number of coordinates must be a multiple of 2 and at least 2");var r=e.length;P(n)?n.length=r/2:n=new Array(r/2);for(var i=0;i<r;i+=2){var o=e[i],a=i/2;n[a]=m.fromDegrees(o,e[i+1],0,t,n[a])}return n},m.fromRadiansArray=function(e,t,n){if(f.defined("coordinates",e),e.length<2||e.length%2!=0)throw new T("the number of coordinates must be a multiple of 2 and at least 2");var r=e.length;P(n)?n.length=r/2:n=new Array(r/2);for(var i=0;i<r;i+=2){var o=e[i],a=i/2;n[a]=m.fromRadians(o,e[i+1],0,t,n[a])}return n},m.fromDegreesArrayHeights=function(e,t,n){if(f.defined("coordinates",e),e.length<3||e.length%3!=0)throw new T("the number of coordinates must be a multiple of 3 and at least 3");var r=e.length;P(n)?n.length=r/3:n=new Array(r/3);for(var i=0;i<r;i+=3){var o=e[i],a=i/3;n[a]=m.fromDegrees(o,e[i+1],e[i+2],t,n[a])}return n},m.fromRadiansArrayHeights=function(e,t,n){if(f.defined("coordinates",e),e.length<3||e.length%3!=0)throw new T("the number of coordinates must be a multiple of 3 and at least 3");var r=e.length;P(n)?n.length=r/3:n=new Array(r/3);for(var i=0;i<r;i+=3){var o=e[i],a=i/3;n[a]=m.fromRadians(o,e[i+1],e[i+2],t,n[a])}return n},m.ZERO=Object.freeze(new m(0,0,0)),m.ONE=Object.freeze(new m(1,1,1)),m.UNIT_X=Object.freeze(new m(1,0,0)),m.UNIT_Y=Object.freeze(new m(0,1,0)),m.UNIT_Z=Object.freeze(new m(0,0,1)),m.prototype.clone=function(e){return m.clone(this,e)},m.prototype.equals=function(e){return m.equals(this,e)},m.prototype.equalsEpsilon=function(e,t,n){return m.equalsEpsilon(this,e,t,n)},m.prototype.toString=function(){return"(".concat(this.x,", ").concat(this.y,", ").concat(this.z,")")},m),pv=new fv,yv=new fv;var dv=function(e,t,n,r,i){if(!P(e))throw new T("cartesian is required.");if(!P(t))throw new T("oneOverRadii is required.");if(!P(n))throw new T("oneOverRadiiSquared is required.");if(!P(r))throw new T("centerToleranceSquared is required.");var o=e.x,a=e.y,s=e.z,u=t.x,l=o*o*u*u,c=a*a*(f=t.y)*f,h=s*s*(t=t.z)*t,u=l+c+h,f=Math.sqrt(1/u),t=fv.multiplyByScalar(e,f,pv);if(u<r)return isFinite(f)?fv.clone(t,i):void 0;var p=n.x,y=n.y,d=n.z,v=((u=yv).x=t.x*p*2,u.y=t.y*y*2,u.z=t.z*d*2,(1-f)*fv.magnitude(e)/(.5*fv.magnitude(u))),m=0;do{var b,g,w,x,_,S,k,m=(k=l*(x=(b=1/(1+(v-=m)*p))*b)+c*(_=(g=1/(1+v*y))*g)+h*(S=(w=1/(1+v*d))*w)-1)/(-2*(l*(x*b)*p+c*(_*g)*y+h*(S*w)*d))}while(Math.abs(k)>rv.EPSILON12);return P(i)?(i.x=o*b,i.y=a*g,i.z=s*w,i):new fv(o*b,a*g,s*w)};function w(e,t,n){this.longitude=p(e,0),this.latitude=p(t,0),this.height=p(n,0)}w.fromRadians=function(e,t,n,r){return f.typeOf.number("longitude",e),f.typeOf.number("latitude",t),n=p(n,0),P(r)?(r.longitude=e,r.latitude=t,r.height=n,r):new w(e,t,n)},w.fromDegrees=function(e,t,n,r){return f.typeOf.number("longitude",e),f.typeOf.number("latitude",t),e=rv.toRadians(e),t=rv.toRadians(t),w.fromRadians(e,t,n,r)};var vv=new fv,mv=new fv,bv=new fv,gv=new fv(1/6378137,1/6378137,1/6356752.314245179),wv=new fv(1/40680631590769,1/40680631590769,1/40408299984661.445),xv=rv.EPSILON1,_v=(w.fromCartesian=function(e,t,n){var r=P(t)?t.oneOverRadii:gv,i=P(t)?t.oneOverRadiiSquared:wv,t=P(t)?t._centerToleranceSquared:xv,r=dv(e,r,i,t,mv);if(P(r))return t=fv.multiplyComponents(r,i,vv),t=fv.normalize(t,t),i=fv.subtract(e,r,bv),r=Math.atan2(t.y,t.x),t=Math.asin(t.z),e=rv.sign(fv.dot(i,e))*fv.magnitude(i),P(n)?(n.longitude=r,n.latitude=t,n.height=e,n):new w(r,t,e)},w.toCartesian=function(e,t,n){return f.defined("cartographic",e),fv.fromRadians(e.longitude,e.latitude,e.height,t,n)},w.clone=function(e,t){if(P(e))return P(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new w(e.longitude,e.latitude,e.height)},w.equals=function(e,t){return e===t||P(e)&&P(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},w.equalsEpsilon=function(e,t,n){return n=p(n,0),e===t||P(e)&&P(t)&&Math.abs(e.longitude-t.longitude)<=n&&Math.abs(e.latitude-t.latitude)<=n&&Math.abs(e.height-t.height)<=n},w.ZERO=Object.freeze(new w(0,0,0)),w.prototype.clone=function(e){return w.clone(this,e)},w.prototype.equals=function(e){return w.equals(this,e)},w.prototype.equalsEpsilon=function(e,t){return w.equalsEpsilon(this,e,t)},w.prototype.toString=function(){return"(".concat(this.longitude,", ").concat(this.latitude,", ").concat(this.height,")")},w);function Sv(e){this._semimajorAxis=6378137,this._oneOverSemimajorAxis=1/this._semimajorAxis}Object.defineProperties(Sv.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),Sv.mercatorAngleToGeodeticLatitude=function(e){return rv.PI_OVER_TWO-2*Math.atan(Math.exp(-e))},Sv.geodeticLatitudeToMercatorAngle=function(e){Sv.MaximumLatitude<e?e=Sv.MaximumLatitude:e<-Sv.MaximumLatitude&&(e=-Sv.MaximumLatitude);e=Math.sin(e);return.5*Math.log((1+e)/(1-e))},Sv.MaximumLatitude=Sv.mercatorAngleToGeodeticLatitude(Math.PI),Sv.prototype.project=function(e,t){var n=this._semimajorAxis,r=e.longitude*n,n=Sv.geodeticLatitudeToMercatorAngle(e.latitude)*n,e=e.height;return P(t)?(t.x=r,t.y=n,t.z=e,t):new fv(r,n,e)},Sv.prototype.unproject=function(e,t){var n,r;if(P(e))return r=this._oneOverSemimajorAxis,n=e.x*r,r=Sv.mercatorAngleToGeodeticLatitude(e.y*r),e=e.z,P(t)?(t.longitude=n,t.latitude=r,t.height=e,t):new _v(n,r,e);throw new T("cartesian is required")};var kv=Sv;function Ov(e){return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Ov(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Ov(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Ov(e)?e:e+""))(r.key),r)}}t=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._url=void 0!==(e=e||{}).url?e.url:"",this._offset=null!=e.offset?parseFloat(e.offset):1,this._height=this._offset,this._isClamp=null==e.isClamp||e.isClamp,this._decoderURL=e.decoderURL,this._container=null,this._map=null,this._camera=null,this._renderer=null,this._scene=new ht,this._lightManager=null,this._update=this._update.bind(this),this._checkEvent=this._checkEvent.bind(this),this._isInit=!1,this._tilesParent=null,this._targetTiles=null,this._transform=null,this._pos=null,this._transM=null,this._rotationM=null,this._mvpM=null,this._tiles=null,this._needsRerender=!0,this._sizeMesh=null}return e=t,(n=[{key:"visible",get:function(){return this._visible},set:function(e){this._visible=e,this._scene.visible=this._visible,this._map.enableUpdateRender()}},{key:"addTo",value:function(e){this._map=e,this._height=this._map.getFloor(this._map.getVisibleLevels()[0]).height-this._offset,this._map.getRenderManager().set3DTilesLayerSceneArr(this._scene),this._init(),this._putLight(),this._needsRerender=!0}},{key:"remove",value:function(){for(var e=this._map.getRenderManager().get3DTilesLayerSceneArr(),t=e.length-1;0<=t;t--)e[t]===this._scene&&e.splice(t,1);0==e.length&&(this._map.off("update",this._update),this._map.off("viewModeChanged",this._checkEvent),this._map.off("visibleLevelsLoaded",this._checkEvent),this._isInit=!1),this._map.enableUpdateRender(),0==e.length&&(this._map=null),this._targetTiles&&(this._targetTiles.dispose(),this._targetTiles=null),this._sizeMesh&&(this._scene.remove(this._sizeMesh),this._sizeMesh.geometry.dispose(),this._sizeMesh.material.dispose(),this._sizeMesh=void 0)}}])&&Pv(e.prototype,n),r&&Pv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r})(),Object.assign(t.prototype,{_init:function(){this._isInit||(this._lightManager=new zd(this._map).createLight(this,"FMExternalModelLayer"),this._container=this._map.getContainer(),this._map.on("update",this._update),this._map.on("viewModeChanged",this._checkEvent),this._map.on("visibleLevelsLoaded",this._checkEvent),this._getData(this._url),this._isInit=!0)},_putLight:function(){this._scene.add(this._mainLight),this._scene.add(this._ambientLight),this._scene.add(this._secondLight),this._scene.add(this._target)},_getData:function(e){var t=this;new Jd({method:"GET",responseType:"json",url:e})._send(function(e){e&&(t._transform=e.root.transform,t._mvpM=new b,t._pos=t._computePos(),t._transM=new b,t._transM.makeTranslation(t._pos.offsetX,t._pos.offsetY,t._height),t._camera=t._map.camera,t._renderer=t._map.getRenderManager().renderer,t._addTilesParent(),t._addTargetTiles())},function(e){})},_addTilesParent:function(){this._tilesParent=new Z0,this._tilesParent.rotation.set(0,0,0),this._scene.add(this._tilesParent)},_addTargetTiles:function(){var o=this,a=this,e=(this._targetTiles=new kd(this._url),new u9(this._targetTiles.manager)),t=(this._decoderURL&&((t=new Md).setDecoderPath(this._decoderURL),e.setDRACOLoader(t)),this._targetTiles.fetchOptions.mode="cors",this._targetTiles.manager.addHandler(/\.gltf$/,e),this._targetTiles.manager.addHandler(/\.glb$/,e),this._targetTiles.onLoadModel=function(e){e.traverse(function(e){e.isMesh&&(e.renderOrder=-8,e.material.map.wrapS=1001,e.material.map.wrapT=1001,e.material.map.minFilter=1006)}),a._needsRerender=!0},this._targetTiles.onDisposeModel=function(e){e.traverse(function(e){e.isMesh&&e.material.dispose()}),a._needsRerender=!0},this._targetTiles.onLoadTileSet=function(){var e,t,n=new Ut,r=new b,i=new b,n=(i.fromArray(a._transform),o._targetTiles.getOrientedBounds(n,r)&&(t=(e=(new F).setFromMatrixPosition(i)).length()),e.normalize()),r=new F(0,1,0),i=o.rotationBetweenDirections(n,r);o._targetTiles.group.quaternion.x=i.x,o._targetTiles.group.quaternion.y=i.y,o._targetTiles.group.quaternion.z=i.z,o._targetTiles.group.quaternion.w=i.w,o._targetTiles.group.position.y=-t,a._needsRerender=!0},this._tilesParent.add(this._targetTiles.group),this._tilesParent.position.x=a._pos.offsetX,this._tilesParent.position.z=a._pos.offsetY,this._tilesParent.position.y=a._height,this._tilesParent.rotation.y=rv.PI-rv.PI/20,this._targetTiles.lruCache.maxSize);this._sizeMesh=new j0(new Wn(t,t),new lr({visible:!1})),this._sizeMesh.position.x=a._pos.offsetX,this._sizeMesh.position.z=a._pos.offsetY,this._sizeMesh.position.y=a._height,this._sizeMesh.rotation.x=-rv.PI/2,this._scene.add(this._sizeMesh)},rotationBetweenDirections:function(e,t){var n=new $,r=(new F).crossVectors(e,t);return n.x=r.x,n.y=r.y,n.z=r.z,n.w=1+e.clone().dot(t),n.normalize(),n},_computePos:function(){var e=this._map.getBuilding(this._map.getMapOptions().mapID),t=e.x,e=e.y,n=this._transform[12],r=this._transform[13],i=this._transform[14],n=new fv(n,r,i),r=_v.fromCartesian(n),i=(new kv).project(r);return{offsetX:i.x-t,offsetY:e-i.y}},_update:function(){this._targetTiles&&(this._targetTiles.setCamera(this._camera),this._targetTiles.setResolutionFromRenderer(this._camera,this._renderer),this._targetTiles.update(),this._needsRerender)&&(null!=this._map&&this._map.enableUpdateRender(),this._needsRerender=!1)},_checkEvent:function(e){"viewModeChanged"==e.type&&(this._targetTiles.deleteCamera(this._camera),this._camera=this._map.camera,this._targetTiles.setCamera(this._camera),this._targetTiles.setResolutionFromRenderer(this._camera,this._renderer),this._targetTiles.update()),this._height=this._map.getFloor(this._map.getVisibleLevels()[0]).height-this._offset,this._isClamp&&(this._tilesParent.position.y=this._height)}}),W7=t;function Tv(e){return(Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ev(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Tv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Tv(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Tv(e)?e:e+""))(r.key),r)}}function Rv(e,t,n){t=Mv(t);var r=e,t=Av()?Reflect.construct(t,n||[],Mv(e).constructor):t.apply(e,n);if(!t||"object"!=Tv(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Av(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Av=function(){return!!e})()}function Mv(e){return(Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cv(e,t){return(Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var jv=(()=>{function d(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:4473924,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:8947848,i=this,o=d;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");for(var n=new v(n),r=new v(r),a=t/2,s=e/t,u=e/2,l=[],c=[],h=0,f=0,p=-u;h<=t;h++,p+=s){l.push(-u,0,p,u,0,p),l.push(p,0,-u,p,0,u);var y=h===a?n:r;y.toArray(c,f),f+=3,y.toArray(c,f),f+=3,y.toArray(c,f),f+=3,y.toArray(c,f),f+=3}i=new Bn,i.setAttribute("position",new dn(l,3)),i.setAttribute("color",new dn(c,3)),o=new Nf({vertexColors:!0,toneMapped:!1});return(e=Rv(this,d,[i,o])).type="GridHelper",e}var e,t=d,n=y8;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Cv(t,n),t=d,(n=[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}])&&Ev(t.prototype,n),e&&Ev(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Lv(e){return(Lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Lv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Lv(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Lv(e)?e:e+""))(r.key),r)}}t=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._offset=e.offset,void 0===this._offset&&(this._offset=1),this._color=e.color,void 0===this._color&&(this._color="#6E6A62"),this._opacity=e.opacity,void 0===this._opacity&&(this._opacity=1),this._gridColor=e.gridColor,void 0===this._gridColor&&(this._gridColor="#000000"),this._gridOpacity=e.gridOpacity,void 0===this._gridOpacity&&(this._gridOpacity=.1),this._size=1e3,this._scene=new ht,this._plane=new Br(new F(0,1,0),0),this._raycaster=new B0,this._bound=null,this._ground=null,this._grid=null,this._map=null,this._visible=!0,this._updateHeight=this._updateHeight.bind(this)}return e=t,(n=[{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._ground.material.color=new v(e),this._mapUpdate()}},{key:"opacity",get:function(){return this._opacity},set:function(e){this._opacity=e,this._ground.material.opacity=e,this._mapUpdate()}},{key:"gridColor",get:function(){return this._gridColor},set:function(e){this._gridColor=e,this._grid.material.color=new v(e),this._mapUpdate()}},{key:"gridOpacity",get:function(){return this._gridOpacity},set:function(e){this._gridOpacity=e,this._grid.material.opacity=e,this._mapUpdate()}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible=e,this._ground.visible=e,this._grid.visible=e,this._mapUpdate()}},{key:"addTo",value:function(e){this._map=e,this._bound=this._map.getBuilding(this._map.getMapOptions().mapID).bound,this._size=20*Math.ceil(Math.max(this._bound.size.x,this._bound.size.y)),this._map.getRenderManager().setGroundLayerScene(this._scene),this._initGround(),this._mapUpdate()}},{key:"remove",value:function(){this._scene.remove(this._ground),this._scene.remove(this._grid),this._ground.geometry.dispose(),this._ground=void 0,this._grid.material.dispose(),this._grid=void 0,this._map.off("levelChanged",this._updateHeight),this._map.getRenderManager().setGroundLayerScene(void 0),this._map.enableUpdateRender()}}])&&Iv(e.prototype,n),r&&Iv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r})(),Object.assign(t.prototype,{_initGround:function(){this._ground=new j0(new Wn(this._size,this._size),new lr({color:new v(this._color),opacity:this._opacity,transparent:!0,depthWrite:!1})),this._ground.renderOrder=-9,this._ground.material.polygonOffset=!0,this._ground.material.polygonOffsetFactor=1,this._ground.material.polygonOffsetUnits=4;var e=this._map.getFloor(this._map.getVisibleLevels()[0]).height-this._offset;this._ground.position.x=this._bound.center.x-this._map.x,this._ground.position.y=e,this._ground.position.z=this._map.y-this._bound.center.y,this._ground.rotation.x=-Math.PI/2,this._scene.add(this._ground),this._grid=new jv(this._size,40,this._gridColor,this._gridColor),this._grid.material.opacity=this._gridOpacity,this._grid.material.depthWrite=!1,this._grid.material.transparent=!0,this._grid.material.polygonOffset=!0,this._grid.material.polygonOffsetFactor=1,this._grid.material.polygonOffsetUnits=4,this._grid.position.x=this._bound.center.x-this._map.x,this._grid.position.y=e,this._grid.position.z=this._map.y-this._bound.center.y,this._grid.renderOrder=-9,this._scene.add(this._grid),this._map.on("levelChanged",this._updateHeight)},_updateHeight:function(){var e=this._map.getFloor(this._map.getVisibleLevels()[0]).height-this._offset;this._ground.position.y=e,this._grid.position.y=e},_mapUpdate:function(){this._map.enableUpdateRender()}});function Nv(e){var t,n={};for(t in e)for(var r in n[t]={},e[t]){var i=e[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),n[t][r]=null):n[t][r]=i.clone():Array.isArray(i)?n[t][r]=i.slice():n[t][r]=i}return n}function Dv(e){return(Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Dv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Dv(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Dv(e)?e:e+""))(r.key),r)}}function Fv(e,t,n){t=Hv(t);var r=e,t=Uv()?Reflect.construct(t,n||[],Hv(e).constructor):t.apply(e,n);if(!t||"object"!=Dv(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Uv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Uv=function(){return!!e})()}function zv(e,t,n,r){var i=Gv(Hv(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Gv(){return(Gv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Hv(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Hv(e){return(Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vv(e,t){return(Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Yv=(()=>{function a(e){var t;if(this instanceof a)return(t=Fv(this,a)).isShaderMaterial=!0,t.type="ShaderMaterial",t.defines={},t.uniforms={},t.uniformsGroups=[],t.vertexShader="\nvoid main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",t.fragmentShader="\nvoid main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}\n",t.linewidth=1,t.wireframe=!1,t.wireframeLinewidth=1,t.fog=!1,t.lights=!1,t.clipping=!1,t.forceSinglePass=!0,t.extensions={clipCullDistance:!1,multiDraw:!1},t.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},t.index0AttributeName=void 0,t.uniformsNeedUpdate=!1,t.glslVersion=null,void 0!==e&&t.setValues(e),t;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=er;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Vv(t,n),t=a,(n=[{key:"copy",value:function(e){return zv(a,"copy",this,3)([e]),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Nv(e.uniforms),this.uniformsGroups=(e=>{for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t})(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t,n=zv(a,"toJSON",this,3)([e]);for(t in n.glslVersion=this.glslVersion,n.uniforms={},this.uniforms){var r=this.uniforms[t].value;r&&r.isTexture?n.uniforms[t]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?n.uniforms[t]={type:"c",value:r.getHex()}:r&&r.isVector2?n.uniforms[t]={type:"v2",value:r.toArray()}:r&&r.isVector3?n.uniforms[t]={type:"v3",value:r.toArray()}:r&&r.isVector4?n.uniforms[t]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?n.uniforms[t]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?n.uniforms[t]={type:"m4",value:r.toArray()}:n.uniforms[t]={value:r}}0<Object.keys(this.defines).length&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;var i,o={};for(i in this.extensions)!0===this.extensions[i]&&(o[i]=!0);return 0<Object.keys(o).length&&(n.extensions=o),n}}])&&Bv(t.prototype,n),e&&Bv(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Wv(e){return(Wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Wv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Wv(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Wv(e)?e:e+""))(r.key),r)}}function Xv(e,t,n){t=Jv(t);var r=e,t=Zv()?Reflect.construct(t,n||[],Jv(e).constructor):t.apply(e,n);if(!t||"object"!=Wv(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Zv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Zv=function(){return!!e})()}function Jv(e){return(Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kv(e,t){return(Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Qv=(()=>{function t(e){if(this instanceof t)return(e=Xv(this,t,[e])).isRawShaderMaterial=!0,e.type="RawShaderMaterial",e;throw new TypeError("Cannot call a class as a function")}var e,n,r=t,i=Yv;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");return r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&Kv(r,i),r=t,e&&qv(r.prototype,e),n&&qv(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r})();function $v(e){return($v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=$v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=$v(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==$v(e)?e:e+""))(r.key),r)}}function tm(e,t,n){t=om(t);var r=e,t=nm()?Reflect.construct(t,n||[],om(e).constructor):t.apply(e,n);if(!t||"object"!=$v(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function nm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nm=function(){return!!e})()}function rm(e,t,n,r){var i=im(om(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function im(){return(im="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=om(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function om(e){return(om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function am(e,t){return(am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var sm=(()=>{function o(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=this,i=o;if(r instanceof i)return(r=tm(this,o,[e,t])).isInstancedInterleavedBuffer=!0,r.meshPerAttribute=n,r;throw new TypeError("Cannot call a class as a function")}var e,t=o,n=Wh;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&am(t,n),t=o,(n=[{key:"copy",value:function(e){return rm(o,"copy",this,3)([e]),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){e=rm(o,"clone",this,3)([e]);return e.meshPerAttribute=this.meshPerAttribute,e}},{key:"toJSON",value:function(e){e=rm(o,"toJSON",this,3)([e]);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}])&&em(t.prototype,n),e&&em(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function um(e){return(um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=um(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=um(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==um(e)?e:e+""))(r.key),r)}}function cm(e,t,n){t=fm(t);var r=e,t=hm()?Reflect.construct(t,n||[],fm(e).constructor):t.apply(e,n);if(!t||"object"!=um(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function hm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hm=function(){return!!e})()}function fm(e){return(fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pm(e,t){return(pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ym=0,dm=new b,vm=new g,mm=new F,bm=new Ut,gm=new Ut,wm=new F,xm=(()=>{function m(){var e;if(this instanceof m)return(e=cm(this,m)).isBufferGeometry=!0,Object.defineProperty(e,"id",{value:ym++}),e.uuid=V(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e;throw new TypeError("Cannot call a class as a function")}var e,t=m,n=we;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&pm(t,n),t=m,(n=[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(Sn(e)?yn:pn)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){this.groups.push({start:e,count:t,materialIndex:2<arguments.length&&void 0!==arguments[2]?arguments[2]:0})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position,t=(void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0),this.attributes.normal),n=(void 0!==t&&(n=(new Ce).getNormalMatrix(e),t.applyNormalMatrix(n),t.needsUpdate=!0),this.attributes.tangent);return void 0!==n&&(n.transformDirection(e),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return dm.makeRotationFromQuaternion(e),this.applyMatrix4(dm),this}},{key:"rotateX",value:function(e){return dm.makeRotationX(e),this.applyMatrix4(dm),this}},{key:"rotateY",value:function(e){return dm.makeRotationY(e),this.applyMatrix4(dm),this}},{key:"rotateZ",value:function(e){return dm.makeRotationZ(e),this.applyMatrix4(dm),this}},{key:"translate",value:function(e,t,n){return dm.makeTranslation(e,t,n),this.applyMatrix4(dm),this}},{key:"scale",value:function(e,t,n){return dm.makeScale(e,t,n),this.applyMatrix4(dm),this}},{key:"lookAt",value:function(e){return vm.lookAt(e),vm.updateMatrix(),this.applyMatrix4(vm.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(mm).negate(),this.translate(mm.x,mm.y,mm.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new dn(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Ut);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];bm.setFromBufferAttribute(i),this.morphTargetsRelative?(wm.addVectors(this.boundingBox.min,bm.min),this.boundingBox.expandByPoint(wm),wm.addVectors(this.boundingBox.max,bm.max),this.boundingBox.expandByPoint(wm)):(this.boundingBox.expandByPoint(bm.min),this.boundingBox.expandByPoint(bm.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new xn);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingSphere.set(new F,1/0);else if(e){var n=this.boundingSphere.center;if(bm.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];gm.setFromBufferAttribute(o),this.morphTargetsRelative?(wm.addVectors(bm.min,gm.min),bm.expandByPoint(wm),wm.addVectors(bm.max,gm.max),bm.expandByPoint(wm)):(bm.expandByPoint(gm.min),bm.expandByPoint(gm.max))}bm.getCenter(n);for(var a=0,s=0,u=e.count;s<u;s++)wm.fromBufferAttribute(e,s),a=Math.max(a,n.distanceToSquared(wm));if(t)for(var l=0,c=t.length;l<c;l++)for(var h=t[l],f=this.morphTargetsRelative,p=0,y=h.count;p<y;p++)wm.fromBufferAttribute(h,p),f&&(mm.fromBufferAttribute(e,p),wm.add(mm)),a=Math.max(a,n.distanceToSquared(wm));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){for(var n=t.position,r=t.normal,i=t.uv,o=(!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new fn(new Float32Array(4*n.count),4)),this.getAttribute("tangent")),a=[],s=[],u=0;u<n.count;u++)a[u]=new F,s[u]=new F;for(var l,c,h,f,p=new F,y=new F,d=new F,v=new U,m=new U,b=new U,g=new F,w=new F,x=this.groups,_=0,S=(x=0===x.length?[{start:0,count:e.count}]:x).length;_<S;++_)for(var k=x[_],O=k.start,P=O,N=O+k.count;P<N;P+=3)l=e.getX(P+0),c=e.getX(P+1),h=e.getX(P+2),f=void 0,p.fromBufferAttribute(n,l),y.fromBufferAttribute(n,c),d.fromBufferAttribute(n,h),v.fromBufferAttribute(i,l),m.fromBufferAttribute(i,c),b.fromBufferAttribute(i,h),y.sub(p),d.sub(p),m.sub(v),b.sub(v),f=1/(m.x*b.y-b.x*m.y),isFinite(f)&&(g.copy(y).multiplyScalar(b.y).addScaledVector(d,-m.y).multiplyScalar(f),w.copy(d).multiplyScalar(m.x).addScaledVector(y,-b.x).multiplyScalar(f),a[l].add(g),a[c].add(g),a[h].add(g),s[l].add(w),s[c].add(w),s[h].add(w));for(var T=new F,E=new F,R=new F,A=new F,M=0,D=x.length;M<D;++M)for(var C=x[M],j=C.start,L=j,B=j+C.count;L<B;L+=3)I(e.getX(L+0)),I(e.getX(L+1)),I(e.getX(L+2))}function I(e){R.fromBufferAttribute(r,e),A.copy(R);var t=a[e],t=(T.copy(t),T.sub(R.multiplyScalar(R.dot(t))).normalize(),E.crossVectors(A,t),E.dot(s[e]));o.setXYZW(e,T.x,T.y,T.z,t<0?-1:1)}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new fn(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var o=new F,a=new F,s=new F,u=new F,l=new F,c=new F,h=new F,f=new F;if(e)for(var p=0,y=e.count;p<y;p+=3){var d=e.getX(p+0),v=e.getX(p+1),m=e.getX(p+2);o.fromBufferAttribute(t,d),a.fromBufferAttribute(t,v),s.fromBufferAttribute(t,m),h.subVectors(s,a),f.subVectors(o,a),h.cross(f),u.fromBufferAttribute(n,d),l.fromBufferAttribute(n,v),c.fromBufferAttribute(n,m),u.add(h),l.add(h),c.add(h),n.setXYZ(d,u.x,u.y,u.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,c.x,c.y,c.z)}else for(var b=0,g=t.count;b<g;b+=3)o.fromBufferAttribute(t,b+0),a.fromBufferAttribute(t,b+1),s.fromBufferAttribute(t,b+2),h.subVectors(s,a),f.subVectors(o,a),h.cross(f),n.setXYZ(b+0,h.x,h.y,h.z),n.setXYZ(b+1,h.x,h.y,h.z),n.setXYZ(b+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)wm.fromBufferAttribute(e,t),wm.normalize(),e.setXYZ(t,wm.x,wm.y,wm.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r),a=0,s=0,u=0,l=t.length;u<l;u++)for(var a=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r,c=0;c<r;c++)o[s++]=n[a++];return new fn(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t,n=new m,r=this.index.array,i=this.attributes;for(t in i){var o=e(i[t],r);n.setAttribute(t,o)}var a,s=this.morphAttributes;for(a in s){for(var u=[],l=s[a],c=0,h=l.length;c<h;c++){var f=e(l[c],r);u.push(f)}n.morphAttributes[a]=u}n.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,y=0,d=p.length;y<d;y++){var v=p[y];n.addGroup(v.start,v.count,v.materialIndex)}return n}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),0<Object.keys(this.userData).length&&(e.userData=this.userData),void 0!==this.parameters){var t,n=this.parameters;for(t in n)void 0!==n[t]&&(e[t]=n[t])}else{e.data={attributes:{}};var r,i=this.index,o=(null!==i&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)}),this.attributes);for(r in o){var a=o[r];e.data.attributes[r]=a.toJSON(e.data)}var s,u={},l=!1;for(s in this.morphAttributes){for(var c=this.morphAttributes[s],h=[],f=0,p=c.length;f<p;f++){var y=c[f];h.push(y.toJSON(e.data))}0<h.length&&(u[s]=h,l=!0)}l&&(e.data.morphAttributes=u,e.data.morphTargetsRelative=this.morphTargetsRelative);i=this.groups,i=(0<i.length&&(e.data.groups=JSON.parse(JSON.stringify(i))),this.boundingSphere);null!==i&&(e.data.boundingSphere={center:i.center.toArray(),radius:i.radius})}return e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t,n={},r=(this.name=e.name,e.index),i=(null!==r&&this.setIndex(r.clone(n)),e.attributes);for(t in i){var o=i[t];this.setAttribute(t,o.clone(n))}var a,s=e.morphAttributes;for(a in s){for(var u=[],l=s[a],c=0,h=l.length;c<h;c++)u.push(l[c].clone(n));this.morphAttributes[a]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,p=0,y=f.length;p<y;p++){var d=f[p];this.addGroup(d.start,d.count,d.materialIndex)}r=e.boundingBox,null!==r&&(this.boundingBox=r.clone()),r=e.boundingSphere;return null!==r&&(this.boundingSphere=r.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}])&&lm(t.prototype,n),e&&lm(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function _m(e){return(_m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=_m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=_m(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==_m(e)?e:e+""))(r.key),r)}}function km(e,t,n){t=Em(t);var r=e,t=Om()?Reflect.construct(t,n||[],Em(e).constructor):t.apply(e,n);if(!t||"object"!=_m(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Om(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Om=function(){return!!e})()}function Pm(e,t,n,r){var i=Tm(Em(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Tm(){return(Tm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Em(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Em(e){return(Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rm(e,t){return(Rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Am=(()=>{function t(){var e;if(this instanceof t)return(e=km(this,t)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e;throw new TypeError("Cannot call a class as a function")}var e,n=t,r=xm;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Rm(n,r),n=t,(r=[{key:"copy",value:function(e){return Pm(t,"copy",this,3)([e]),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=Pm(t,"toJSON",this,3)([]);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}])&&Sm(n.prototype,r),e&&Sm(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n})();function Mm(e){return(Mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Mm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Mm(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Mm(e)?e:e+""))(r.key),r)}}var x=(()=>{function o(e,t,n,r,i){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.layerName=null!=e?e:null,this.blockName=null!=t?t:null,this.geometryType=null!=n?n:null,this.color=r,this.lineType=null!=i?i:null}return e=o,(t=[{key:"Compare",value:function(e){var t=jm(this.layerName,e.layerName);return 0!==t||0!==(t=jm(this.blockName,e.blockName))||0!==(t=jm(this.geometryType,e.geometryType))||0!==(t=jm(this.color,e.color))?t:jm(this.lineType,e.lineType)}},{key:"IsIndexed",value:function(){return this.geometryType===o.GeometryType.INDEXED_LINES||this.geometryType===o.GeometryType.INDEXED_TRIANGLES}},{key:"IsInstanced",value:function(){return this.geometryType===o.GeometryType.BLOCK_INSTANCE||this.geometryType===o.GeometryType.POINT_INSTANCE}}])&&Cm(e.prototype,t),n&&Cm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function jm(e,t){return null===e?null===t?0:-1:null===t?1:e<t?-1:t<e?1:0}function Lm(e){this._pointer=0,this._data=e,this._eof=!1}function Im(e,t){if(e<=9)return t;if(10<=e&&e<=59)return parseFloat(t.trim());if(60<=e&&e<=99)return parseInt(t.trim());if(100<=e&&e<=109)return t;if(110<=e&&e<=149)return parseFloat(t.trim());if(160<=e&&e<=179)return parseInt(t.trim());if(210<=e&&e<=239)return parseFloat(t.trim());if(270<=e&&e<=289)return parseInt(t.trim());if(290<=e&&e<=299){var n=t.trim();if("0"===n)return!1;if("1"===n)return!0;throw TypeError("String '"+n+"' cannot be cast to Boolean type")}return 300<=e&&e<=369?t:370<=e&&e<=389?parseInt(t.trim()):390<=e&&e<=399?t:400<=e&&e<=409?parseInt(t.trim()):410<=e&&e<=419?t:420<=e&&e<=429?parseInt(t.trim()):430<=e&&e<=439?t:440<=e&&e<=459?parseInt(t.trim()):460<=e&&e<=469?parseFloat(t.trim()):470<=e&&e<=481||999===e||1e3<=e&&e<=1009?t:1010<=e&&e<=1059?parseFloat(t.trim()):1060<=e&&e<=1071?parseInt(t.trim()):t}x.GeometryType=Object.freeze({POINTS:0,LINES:1,INDEXED_LINES:2,TRIANGLES:3,INDEXED_TRIANGLES:4,BLOCK_INSTANCE:5,POINT_INSTANCE:6}),Lm.prototype.next=function(){var e;if(this.hasNext())return e={code:parseInt(this._data[this._pointer])},this._pointer++,e.value=Im(e.code,this._data[this._pointer]),this._pointer++,0===e.code&&"EOF"===e.value&&(this._eof=!0),this.lastReadGroup=e;throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer])},Lm.prototype.peek=function(){var e;if(this.hasNext())return(e={code:parseInt(this._data[this._pointer])}).value=Im(e.code,this._data[this._pointer+1]),e;throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer])},Lm.prototype.rewind=function(e){this._pointer=this._pointer-2*(e=e||1)},Lm.prototype.hasNext=function(){return!(this._eof||this._pointer>this._data.length-2)},Lm.prototype.isEOF=function(){return this._eof};var Nm=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215],r=e(0),_=e.n(r);function Dm(e){return(Dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Dm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Dm(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Dm(e)?e:e+""))(r.key),r)}}var Fm=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.appName=null,this.appNameWarningShown=!1,this.lastString=null,this.sectionStack=[this._CreateSection()],this.failure=!1}return t=e,(n=[{key:"Feed",value:function(e){if(this.appName){if(1001==e.code)return!0;if(!this.failure)if(1e3==e.code)this.lastString&&_.a.warn("XDATA section unused string: "+this.lastString),this.lastString=e.value;else{var t,n=this._currentSection;if(1002==e.code)return"{"==e.value?this.lastString?(t=this._CreateSection(),n[this.lastString]=t,this.lastString=null,this.sectionStack.push(t),!1):(_.a.warn("Unnamed XDATA section encountered"),!(this.failure=!0)):"}"==e.value?this.sectionStack.length<2?(_.a.warn("Unmatched XDATA section closing"),!(this.failure=!0)):(this.sectionStack.length=this.sectionStack.length-1,!1):(_.a.warn("Bad XDATA section control string encountered: "+e.value),!(this.failure=!0));null!==this.lastString&&(n.values.push(this._CreateValue(1e3,this.lastString)),this.lastString=null),n.values.push(this._CreateValue(e.code,e.value))}}else 1001==e.code?this.appName=e.value:this.appNameWarningShown||(this.appNameWarningShown=!0,_.a.warn("XDATA section does not start with application name"));return!1}},{key:"Finish",value:function(e){var t;this.failure||this.appName&&(e.hasOwnProperty("xdata")?t=e.xdata:e.xdata=t={},t[this.appName]=this.sectionStack[0])}},{key:"_currentSection",get:function(){return this.sectionStack[this.sectionStack.length-1]}},{key:"_CreateSection",value:function(){return{values:[]}}},{key:"_CreateValue",value:function(e,t){return{code:e,value:t}}}])&&Bm(t.prototype,n),r&&Bm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r})();function S(e){var t={},n=(e.rewind(),e.next()),r=n.code;if(t.x=n.value,r+=10,(n=e.next()).code!==r)throw new Error("Expected code for point value to be "+r+" but got "+n.code+".");return t.y=n.value,r+=10,(n=e.next()).code!==r?e.rewind():t.z=n.value,t}function Um(e){if(e.rewind(),101!==e.next().code)throw new Error("Bad call for skipEmbeddedObject()");for(;0!==e.next().code;);e.rewind()}function zm(e,t,n){for(var r,i=null;1e3<=t.code;)(i=null==i?new Fm:i).Feed(t)?(i.Finish(e),i=null):t=n.next();if(i)i.Finish(e),n.rewind();else switch(t.code){case 0:e.type=t.value;break;case 5:e.handle=t.value;break;case 6:e.lineType=t.value;break;case 8:e.layer=t.value;break;case 48:e.lineTypeScale=t.value;break;case 60:e.visible=0===t.value;break;case 62:e.colorIndex=t.value,e.color=(r=Math.abs(t.value),Nm[r]);break;case 67:e.inPaperSpace=0!==t.value;break;case 100:break;case 330:e.ownerHandle=t.value;break;case 347:e.materialObjectHandle=t.value;break;case 370:e.lineweight=t.value;break;case 420:e.color=t.value;break;default:return}}function Gm(){}function Hm(){}function Vm(){}function Ym(){}function Wm(){}function qm(){}function Xm(){}function Zm(){}function Jm(){}function Km(){}function Qm(){}function $m(){}function eb(){}function tb(){}function nb(){}function rb(){}function ib(){}function ob(){}Gm.ForEntityName="3DFACE",Gm.prototype.parseEntity=function(e,t){var n={type:t.value,vertices:[]};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 70:n.shape=1==(1&t.value),n.hasContinuousLinetypePattern=128==(128&t.value);break;case 10:n.vertices=((e,t)=>{var n,r=[],i=!1,o=!1;for(n=0;n<=4;n++){for(var a={};"EOF"!==t&&0!==t.code&&!o;){switch(t.code){case 10:case 11:case 12:case 13:if(i){o=!0;continue}a.x=t.value,i=!0;break;case 20:case 21:case 22:case 23:a.y=t.value;break;case 30:case 31:case 32:case 33:a.z=t.value;break;default:return r}t=e.next()}r.push(a),o=i=!1}return e.rewind(),r})(e,t),t=e.lastReadGroup;break;default:zm(n,t,e)}t=e.next()}return n},Hm.ForEntityName="ARC",Hm.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.center=S(e);break;case 40:n.radius=t.value;break;case 50:n.startAngle=Math.PI/180*t.value;break;case 51:n.endAngle=Math.PI/180*t.value;break;case 210:n.extrusionDirection=S(e);break;default:zm(n,t,e)}t=e.next()}return n},Vm.ForEntityName="ATTDEF",Vm.prototype.parseEntity=function(e,t){var n={type:t.value,scale:1,textStyle:"STANDARD"};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 1:n.text=t.value;break;case 2:n.tag=t.value;break;case 3:n.prompt=t.value;break;case 7:n.textStyle=t.value;break;case 10:n.startPoint=S(e);break;case 11:n.endPoint=S(e);break;case 39:n.thickness=t.value;break;case 40:n.textHeight=t.value;break;case 41:n.scale=t.value;break;case 50:n.rotation=t.value;break;case 51:n.obliqueAngle=t.value;break;case 70:n.invisible=!!(1&t.value),n.constant=!!(2&t.value),n.verificationRequired=!!(4&t.value),n.preset=!!(8&t.value);break;case 71:n.backwards=!!(2&t.value),n.mirrored=!!(4&t.value);break;case 72:n.horizontalJustification=t.value;break;case 73:n.fieldLength=t.value;break;case 74:n.verticalJustification=t.value;break;case 100:break;case 101:Um(e);break;case 210:n.extrusionDirection=S(e);break;default:zm(n,t,e)}t=e.next()}return n},Ym.ForEntityName="ATTRIB",Ym.prototype.parseEntity=function(e,t){var n={type:t.value,scale:1,textStyle:"STANDARD"};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 1:n.text=t.value;break;case 2:n.tag=t.value;break;case 3:n.prompt=t.value;break;case 7:n.textStyle=t.value;break;case 10:n.startPoint=S(e);break;case 11:n.endPoint=S(e);break;case 39:n.thickness=t.value;break;case 40:n.textHeight=t.value;break;case 41:n.scale=t.value;break;case 44:n.lineSpacingFactor=t.value;break;case 45:n.fillBoxScale=t.value;break;case 46:n.annotationHeight=t.value;break;case 50:n.rotation=t.value;break;case 51:n.obliqueAngle=t.value;break;case 63:n.backgroundFillColor=t.value;break;case 70:n.invisible=!!(1&t.value),n.constant=!!(2&t.value),n.verificationRequired=!!(4&t.value),n.preset=!!(8&t.value);break;case 71:n.attachmentPoint=t.value;break;case 72:n.horizontalJustification=t.value;break;case 73:n.lineSpacing=t.value;break;case 74:n.verticalJustification=t.value;break;case 90:n.backgroundFillSetting=t.value;break;case 100:break;case 210:n.extrusionDirection=S(e);break;case 280:n.lockPositionFlag=t.value;break;case 340:n.hardPointerId=t.value;break;default:zm(n,t,e)}t=e.next()}return n},Wm.ForEntityName="CIRCLE",Wm.prototype.parseEntity=function(e,t){var n,r={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:r.center=S(e);break;case 40:r.radius=t.value;break;case 50:r.startAngle=Math.PI/180*t.value;break;case 51:n=Math.PI/180*t.value,r.angleLength=n<r.startAngle?n+2*Math.PI-r.startAngle:n-r.startAngle,r.endAngle=n;break;case 210:r.extrusionDirection=S(e);break;default:zm(r,t,e)}t=e.next()}return r},qm.ForEntityName="DIMENSION",qm.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 2:n.block=t.value;break;case 3:n.styleName=t.value;break;case 10:n.anchorPoint=S(e);break;case 11:n.middleOfText=S(e);break;case 12:n.insertionPoint=S(e);break;case 13:n.linearOrAngularPoint1=S(e);break;case 14:n.linearOrAngularPoint2=S(e);break;case 15:n.diameterOrRadiusPoint=S(e);break;case 16:n.arcPoint=S(e);break;case 70:n.dimensionType=t.value;break;case 71:n.attachmentPoint=t.value;break;case 42:n.actualMeasurement=t.value;break;case 1:n.text=t.value;break;case 50:n.angle=t.value;break;case 53:n.textRotation=t.value;break;default:zm(n,t,e)}t=e.next()}return n},Xm.ForEntityName="ELLIPSE",Xm.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.center=S(e);break;case 11:n.majorAxisEndPoint=S(e);break;case 40:n.axisRatio=t.value;break;case 41:n.startAngle=t.value;break;case 42:n.endAngle=t.value;break;case 2:n.name=t.value;break;case 210:n.extrusionDirection=S(e);break;default:zm(n,t,e)}t=e.next()}return n},Zm.ForEntityName="INSERT",Zm.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 2:n.name=t.value;break;case 41:n.xScale=t.value;break;case 42:n.yScale=t.value;break;case 43:n.zScale=t.value;break;case 10:n.position=S(e);break;case 50:n.rotation=t.value;break;case 70:n.columnCount=t.value;break;case 71:n.rowCount=t.value;break;case 44:n.columnSpacing=t.value;break;case 45:n.rowSpacing=t.value;break;case 210:n.extrusionDirection=S(e);break;default:zm(n,t,e)}t=e.next()}return n},Jm.ForEntityName="LINE",Jm.prototype.parseEntity=function(e,t){var n={type:t.value,vertices:[]};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.vertices.unshift(S(e));break;case 11:n.vertices.push(S(e));break;case 210:n.extrusionDirection=S(e);break;case 100:break;default:zm(n,t,e)}t=e.next()}return n},Km.ForEntityName="LWPOLYLINE",Km.prototype.parseEntity=function(e,t){var n={type:t.value,vertices:[]},r=0;for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 38:n.elevation=t.value;break;case 39:n.depth=t.value;break;case 70:n.shape=1==(1&t.value),n.hasContinuousLinetypePattern=128==(128&t.value);break;case 90:r=t.value;break;case 10:n.vertices=((e,t)=>{if(!e||e<=0)throw Error("n must be greater than 0 vertices");var n,r=[],i=!1,o=!1,a=t.lastReadGroup;for(n=0;n<e;n++){for(var s={};"EOF"!==a&&0!==a.code&&!o;){switch(a.code){case 10:if(i){o=!0;continue}s.x=a.value,i=!0;break;case 20:s.y=a.value;break;case 30:s.z=a.value;break;case 40:s.startWidth=a.value;break;case 41:s.endWidth=a.value;break;case 42:0!=a.value&&(s.bulge=a.value);break;case 91:s.id=a.value;break;default:return i&&r.push(s),t.rewind(),r}a=t.next()}r.push(s),o=i=!1}return t.rewind(),r})(r,e);break;case 43:0!==t.value&&(n.width=t.value);break;case 210:n.extrusionDirection=S(e);break;default:zm(n,t,e)}t=e.next()}return n},Qm.ForEntityName="MTEXT",Qm.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 3:case 1:n.text?n.text+=t.value:n.text=t.value;break;case 10:n.position=S(e);break;case 11:n.direction=S(e);break;case 40:n.height=t.value;break;case 41:n.width=t.value;break;case 44:n.lineSpacing=t.value;break;case 50:n.rotation=t.value;break;case 71:n.attachmentPoint=t.value;break;case 72:n.drawingDirection=t.value;break;case 101:Um(e);break;default:zm(n,t,e)}t=e.next()}return n},$m.ForEntityName="POINT",$m.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.position=S(e);break;case 39:n.thickness=t.value;break;case 210:n.extrusionDirection=S(e);break;case 100:break;default:zm(n,t,e)}t=e.next()}return n},eb.ForEntityName="VERTEX",eb.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.x=t.value;break;case 20:n.y=t.value;break;case 30:n.z=t.value;break;case 40:case 41:break;case 42:0!=t.value&&(n.bulge=t.value);break;case 70:n.curveFittingVertex=0!=(1&t.value),n.curveFitTangent=0!=(2&t.value),n.splineVertex=0!=(8&t.value),n.splineControlPoint=0!=(16&t.value),n.threeDPolylineVertex=0!=(32&t.value),n.threeDPolylineMesh=0!=(64&t.value),n.polyfaceMeshVertex=0!=(128&t.value);break;case 50:break;case 71:n.faces=[t.value];break;case 72:n.faces[1]=t.value;break;case 73:n.faces[2]=t.value;break;case 74:n.faces[3]=t.value;break;default:zm(n,t,e)}t=e.next()}return n},tb.ForEntityName="POLYLINE",tb.prototype.parseEntity=function(e,t){var n={type:t.value,vertices:[]};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:case 20:case 30:break;case 39:n.thickness=t.value;break;case 40:case 41:break;case 70:n.shape=0!=(1&t.value),n.includesCurveFitVertices=0!=(2&t.value),n.includesSplineFitVertices=0!=(4&t.value),n.is3dPolyline=0!=(8&t.value),n.is3dPolygonMesh=0!=(16&t.value),n.is3dPolygonMeshClosed=0!=(32&t.value),n.isPolyfaceMesh=0!=(64&t.value),n.hasContinuousLinetypePattern=0!=(128&t.value);break;case 71:case 72:case 73:case 74:case 75:break;case 210:n.extrusionDirection=S(e);break;default:zm(n,t,e)}t=e.next()}return n.vertices=((e,t)=>{for(var n=new eb,r=[];!e.isEOF();)if(0===t.code)if("VERTEX"===t.value)r.push(n.parseEntity(e,t)),t=e.lastReadGroup;else if("SEQEND"===t.value){((e,t)=>{var n={type:t.value};for(t=e.next();"EOF"!=t&&0!=t.code;)zm(n,t,e),t=e.next()})(e,t);break}return r})(e,t),n},nb.ForEntityName="SOLID",nb.prototype.parseEntity=function(e,t){var n={type:t.value,points:[]};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.points[0]=S(e);break;case 11:n.points[1]=S(e);break;case 12:n.points[2]=S(e);break;case 13:n.points[3]=S(e);break;case 210:n.extrusionDirection=S(e);break;default:zm(n,t,e)}t=e.next()}return n},rb.ForEntityName="SPLINE",rb.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.controlPoints||(n.controlPoints=[]),n.controlPoints.push(S(e));break;case 11:n.fitPoints||(n.fitPoints=[]),n.fitPoints.push(S(e));break;case 12:n.startTangent=S(e);break;case 13:n.endTangent=S(e);break;case 40:n.knotValues||(n.knotValues=[]),n.knotValues.push(t.value);break;case 70:0!=(1&t.value)&&(n.closed=!0),0!=(2&t.value)&&(n.periodic=!0),0!=(4&t.value)&&(n.rational=!0),0!=(8&t.value)&&(n.planar=!0),0!=(16&t.value)&&(n.planar=!0,n.linear=!0);break;case 71:n.degreeOfSplineCurve=t.value;break;case 72:n.numberOfKnots=t.value;break;case 73:n.numberOfControlPoints=t.value;break;case 74:n.numberOfFitPoints=t.value;break;case 210:n.extrusionDirection=S(e);break;default:zm(n,t,e)}t=e.next()}return n},ib.ForEntityName="TEXT",ib.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.startPoint=S(e);break;case 11:n.endPoint=S(e);break;case 40:n.textHeight=t.value;break;case 41:n.xScale=t.value;break;case 50:n.rotation=t.value;break;case 1:n.text=t.value;break;case 72:n.halign=t.value;break;case 73:n.valign=t.value;break;default:zm(n,t,e)}t=e.next()}return n},ob.ForEntityName="HATCH",ob.prototype.parseEntity=function(e,t){var n={type:t.value},r=0,i=0,o=0;for(t=e.next();"EOF"!==t&&0!==t.code;){for(;0<r;){var a=((i,o)=>{for(var e=null,t=!1,n=0,r=0;;){if(!e){if(92!=i.code)return null;e={type:i.value},i=o.next()}for(2&e.type&&!t&&(e.polyline=(()=>{for(var e={vertices:[],isClosed:!1},t=0;;){if(0<t){for(var n=0;n<t&&10==i.code;n++){var r=S(o);42==(i=o.next()).code&&(r.bulge=i.value,i=o.next()),e.vertices.push(r)}return e}switch(i.code){case 72:i.value;break;case 73:e.isClosed=i.value;break;case 93:t=i.value;break;default:return e}i=o.next()}})(),t=!0);n;){var a=(()=>{if(72!=i.code)return null;for(var e={type:i.value},t=(i=o.next(),4==e.type);;){switch(i.code){case 10:t?(e.controlPoints||(e.controlPoints=[]),e.controlPoints.push(S(o))):e.start=S(o);break;case 11:t?(e.fitPoints||(e.fitPoints=[]),e.fitPoints.push(S(o))):e.end=S(o);break;case 40:t?(e.knotValues||(e.knotValues=[]),e.knotValues.push(i.value)):e.radius=i.value;break;case 50:e.startAngle=i.value*Math.PI/180;break;case 51:e.endAngle=i.value*Math.PI/180;break;case 73:t?e.rational=i.value:e.isCcw=i.value;break;case 74:e.periodic=i.value;break;case 94:e.degreeOfSplineCurve=i.value;break;case 95:case 96:case 40:case 42:case 97:break;default:return e}i=o.next()}})();a?(e.edges.push(a),n--):n=0}for(;r;)330==i.code?(e.sourceRefs.push(i.value),r--,i=o.next()):r=0;switch(i.code){case 93:0<(n=i.value)&&(e.edges=[]);break;case 97:0<(r=i.value)&&(e.sourceRefs=[]);break;default:return o.rewind(),e}i=o.next()}})(t,e);a?(n.boundaryLoops.push(a),r--,t=e.next()):r=0}for(;0<i;){var s=((e,t)=>{if(53!=e.code)return null;for(var n={angle:e.value*Math.PI/180,base:{x:0,y:0},offset:{x:0,y:0}},r=(e=t.next(),0);;){switch(e.code){case 43:n.base.x=e.value;break;case 44:n.base.y=e.value;break;case 45:n.offset.x=e.value;break;case 46:n.offset.y=e.value;break;case 49:0<r&&(n.dashes.push(e.value),r--);break;case 79:r=e.value,e.value&&(n.dashes=[]);break;default:return t.rewind(),n}e=t.next()}})(t,e);s?(n.definitionLines.push(s),i--,t=e.next()):i=0}for(;0<o;){u=e;var u=10==t.code?S(u):null;u?(n.seedPoints.push(u),o--,t=e.next()):o=0}if(0===t.code)break;switch(t.code){case 2:n.patternName=t.value;break;case 70:n.isSolid=0!=t.value;break;case 91:0<(r=t.value)&&(n.boundaryLoops=[]);break;case 75:n.hatchStyle=t.value;break;case 76:n.patternType=t.value;break;case 52:n.patternAngle=t.value*Math.PI/180;break;case 41:n.patternScale=t.value;break;case 78:0<(i=t.value)&&(n.definitionLines=[]);break;case 98:0<(o=t.value)&&(n.seedPoints=[]);break;default:zm(n,t,e)}t=e.next()}return n};var ab=new Map([[140,"DIMTXT"],[142,"DIMTSZ"],[144,"DIMLFAC"],[147,"DIMGAP"],[173,"DIMSAH"],[175,"DIMSOXD"],[176,"DIMCLRD"],[177,"DIMCLRE"],[178,"DIMCLRT"],[271,"DIMDEC"],[278,"DIMDSEP"],[281,"DIMSD1"],[282,"DIMSD2"],[3,"DIMPOST"],[40,"DIMSCALE"],[41,"DIMASZ"],[42,"DIMEXO"],[44,"DIMEXE"],[45,"DIMRND"],[46,"DIMDLE"],[5,"DIMBLK"],[6,"DIMBLK1"],[7,"DIMBLK2"],[75,"DIMSE1"],[76,"DIMSE2"],[78,"DIMZIN"]]);function sb(e){return(sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ub(){var e;this._entityHandlers={},(e=this).registerEntityHandler(Gm),e.registerEntityHandler(Hm),e.registerEntityHandler(Vm),e.registerEntityHandler(Ym),e.registerEntityHandler(Wm),e.registerEntityHandler(qm),e.registerEntityHandler(Xm),e.registerEntityHandler(Zm),e.registerEntityHandler(Jm),e.registerEntityHandler(Km),e.registerEntityHandler(Qm),e.registerEntityHandler($m),e.registerEntityHandler(tb),e.registerEntityHandler(nb),e.registerEntityHandler(rb),e.registerEntityHandler(ib),e.registerEntityHandler(ob)}function lb(e){_.a.debug("unhandled group "+cb(e))}function cb(e){return e.code+":"+e.value}_.a.setLevel("error"),ub.prototype.parse=function(e,t){throw new Error("read() not implemented. Use readSync()")},ub.prototype.registerEntityHandler=function(e){var t=new e;this._entityHandlers[e.ForEntityName]=t},ub.prototype.parseSync=function(e){return"string"==typeof e?this._parse(e):(console.error("Cannot read DXF source of type `"+sb(e)),null)},ub.prototype.parseStream=function(e,t){var n="",r=this;e.on("data",function(e){n+=e}),e.on("end",function(){try{var e=r._parse(n)}catch(e){return t(e)}t(null,e)}),e.on("error",function(e){t(e)})},ub.prototype._parse=function(e){var o,t={},n=0,a=new Lm(e.split(/\r\n|\r|\n/g));if(!a.hasNext())throw Error("Empty file");var i=this,s=function(e,t){return o.code===e&&o.value===t},r=function(){var e=null,t=null,n={};for(o=a.next();;){if(s(0,"ENDSEC")){e&&(n[e]=t);break}9===o.code?(e&&(n[e]=t),e=o.value):10===o.code?t={x:o.value}:20===o.code?t.y=o.value:30===o.code?t.z=o.value:t=o.value,o=a.next()}return o=a.next(),n},u=function(){var e,t={};for(o=a.next();"EOF"!==o.value&&!s(0,"ENDSEC");)s(0,"BLOCK")?(_.a.debug("block {"),e=l(),_.a.debug("}"),v(e),e.name?t[e.name]=e:_.a.error('block with handle "'+e.handle+'" is missing a name.')):(lb(o),o=a.next());return t},l=function(){var e={};for(o=a.next();"EOF"!==o.value;){switch(o.code){case 1:e.xrefPath=o.value,o=a.next();break;case 2:e.name=o.value,o=a.next();break;case 3:e.name2=o.value,o=a.next();break;case 5:e.handle=o.value,o=a.next();break;case 8:e.layer=o.value,o=a.next();break;case 10:e.position=d(),o=a.next();break;case 67:e.paperSpace=!(!o.value||1!=o.value),o=a.next();break;case 70:0!=o.value&&(e.type=o.value),o=a.next();break;case 100:o=a.next();break;case 330:e.ownerHandle=o.value,o=a.next();break;case 0:"ENDBLK"!=o.value&&(e.entities=y(!0));break;default:lb(o),o=a.next()}if(s(0,"ENDBLK")){o=a.next();break}}return e},c=function(){var e={};for(o=a.next();"EOF"!==o.value&&!s(0,"ENDSEC");)s(0,"TABLE")?(o=a.next(),p[o.value]?(_.a.debug(o.value+" Table {"),e[p[o.value].tableName]=f(),_.a.debug("}")):_.a.debug("Unhandled Table "+o.value)):o=a.next();return o=a.next(),e},h="ENDTAB",f=function(){var e,t=p[o.value],n={},r=0;for(o=a.next();!s(0,h);)switch(o.code){case 5:n.handle=o.value,o=a.next();break;case 330:n.ownerHandle=o.value,o=a.next();break;case 100:o=("AcDbSymbolTable"===o.value||lb(o),a.next());break;case 70:r=o.value,o=a.next();break;case 0:o.value===t.dxfSymbolName?n[t.tableRecordsProperty]=t.parseTableRecords():(lb(o),o=a.next());break;default:lb(o),o=a.next()}var i=n[t.tableRecordsProperty];return i?(i.constructor===Array?e=i.length:"object"===sb(i)&&(e=Object.keys(i).length),r!==e&&_.a.warn("Parsed ".concat(e," ").concat(t.dxfSymbolName,"'s but expected ").concat(r))):n[t.tableRecordsProperty]=[],o=a.next(),n},p={VPORT:{tableRecordsProperty:"viewPorts",tableName:"viewPort",dxfSymbolName:"VPORT",parseTableRecords:function(){var e=[],t={};for(_.a.debug("ViewPort {"),o=a.next();!s(0,h);)switch(o.code){case 2:t.name=o.value,o=a.next();break;case 10:t.lowerLeftCorner=d(),o=a.next();break;case 11:t.upperRightCorner=d(),o=a.next();break;case 12:t.center=d(),o=a.next();break;case 13:t.snapBasePoint=d(),o=a.next();break;case 14:t.snapSpacing=d(),o=a.next();break;case 15:t.gridSpacing=d(),o=a.next();break;case 16:t.viewDirectionFromTarget=d(),o=a.next();break;case 17:t.viewTarget=d(),o=a.next();break;case 42:t.lensLength=o.value,o=a.next();break;case 43:t.frontClippingPlane=o.value,o=a.next();break;case 44:t.backClippingPlane=o.value,o=a.next();break;case 45:t.viewHeight=o.value,o=a.next();break;case 50:t.snapRotationAngle=o.value,o=a.next();break;case 51:t.viewTwistAngle=o.value,o=a.next();break;case 79:t.orthographicType=o.value,o=a.next();break;case 110:t.ucsOrigin=d(),o=a.next();break;case 111:t.ucsXAxis=d(),o=a.next();break;case 112:t.ucsYAxis=d(),o=a.next();break;case 110:t.ucsOrigin=d(),o=a.next();break;case 281:t.renderMode=o.value,o=a.next();break;case 281:t.defaultLightingType=o.value,o=a.next();break;case 292:t.defaultLightingOn=o.value,o=a.next();break;case 330:t.ownerHandle=o.value,o=a.next();break;case 63:case 421:case 431:t.ambientColor=o.value,o=a.next();break;case 0:"VPORT"===o.value&&(_.a.debug("}"),e.push(t),_.a.debug("ViewPort {"),t={},o=a.next());break;default:lb(o),o=a.next()}return _.a.debug("}"),e.push(t),e}},LTYPE:{tableRecordsProperty:"lineTypes",tableName:"lineType",dxfSymbolName:"LTYPE",parseTableRecords:function(){var e,t,n={},r={};for(_.a.debug("LType {"),o=a.next();!s(0,"ENDTAB");)switch(o.code){case 2:r.name=o.value,e=o.value,o=a.next();break;case 3:r.description=o.value,o=a.next();break;case 73:0<(t=o.value)&&(r.pattern=[]),o=a.next();break;case 40:r.patternLength=o.value,o=a.next();break;case 49:r.pattern.push(o.value),o=a.next();break;case 0:_.a.debug("}"),0<t&&t!==r.pattern.length&&_.a.warn("lengths do not match on LTYPE pattern"),n[e]=r,r={},_.a.debug("LType {"),o=a.next();break;default:o=a.next()}return _.a.debug("}"),n[e]=r,n}},LAYER:{tableRecordsProperty:"layers",tableName:"layer",dxfSymbolName:"LAYER",parseTableRecords:function(){var e,t,n={},r={};for(_.a.debug("Layer {"),o=a.next();!s(0,"ENDTAB");)switch(o.code){case 2:r.name=o.value,e=o.value,o=a.next();break;case 62:r.visible=0<=o.value,r.colorIndex=Math.abs(o.value),r.color=(t=r.colorIndex,Nm[t]),o=a.next();break;case 70:r.frozen=0!=(1&o.value)||0!=(2&o.value),o=a.next();break;case 420:r.color=o.value,o=a.next();break;case 0:"LAYER"===o.value&&(_.a.debug("}"),n[e]=r,_.a.debug("Layer {"),r={},e=void 0,o=a.next());break;default:lb(o),o=a.next()}return _.a.debug("}"),n[e]=r,n}},DIMSTYLE:{tableRecordsProperty:"dimStyles",tableName:"dimstyle",dxfSymbolName:"DIMSTYLE",parseTableRecords:function(){var e,t={},n={};for(_.a.debug("DimStyle {"),o=a.next();!s(0,"ENDTAB");)if(ab.has(o.code))n[ab.get(o.code)]=o.value,o=a.next();else switch(o.code){case 2:n.name=o.value,e=o.value,o=a.next();break;case 0:"DIMSTYLE"===o.value&&(_.a.debug("}"),t[e]=n,_.a.debug("DimStyle {"),n={},e=void 0,o=a.next());break;default:lb(o),o=a.next()}return _.a.debug("}"),t[e]=n,t}},STYLE:{tableRecordsProperty:"styles",tableName:"style",dxfSymbolName:"STYLE",parseTableRecords:function(){var e,t={},n={};for(_.a.debug("Style {"),o=a.next();!s(0,h);)switch(o.code){case 100:n.subClassMarker=o.value,o=a.next();break;case 2:n.styleName=o.value,e=o.value,o=a.next();break;case 70:n.standardFlag=o.value,o=a.next();break;case 40:n.fixedTextHeight=o.value,o=a.next();break;case 41:n.widthFactor=o.value,o=a.next();break;case 50:n.obliqueAngle=o.value,o=a.next();break;case 71:n.textGenerationFlag=o.value,o=a.next();break;case 42:n.lastHeight=o.value,o=a.next();break;case 3:n.font=o.value,o=a.next();break;case 4:n.bigFont=o.value,o=a.next();break;case 1071:n.extendedFont=o.value,o=a.next();break;case 0:"STYLE"===o.value&&(_.a.debug("}"),t[e]=n,_.a.debug("Style {"),n={},e=void 0,o=a.next());break;default:lb(o),o=a.next()}return _.a.debug("}"),t[e]=n,t}}},y=function(e){var t=[],n=e?"ENDBLK":"ENDSEC";for(e||(o=a.next());;)if(0===o.code){if(o.value===n)break;var r=i._entityHandlers[o.value];null==r?(_.a.warn("Unhandled entity "+o.value),o=a.next()):(_.a.debug(o.value+" {"),r=r.parseEntity(a,o),o=a.lastReadGroup,_.a.debug("}"),v(r),t.push(r))}else o=a.next();return"ENDSEC"==n&&(o=a.next()),t},d=function(){var e={},t=o.code;if(e.x=o.value,t+=10,(o=a.next()).code!=t)throw new Error("Expected code for point value to be "+t+" but got "+o.code+".");return e.y=o.value,t+=10,(o=a.next()).code!=t?a.rewind():e.z=o.value,e},v=function(e){if(!e)throw new TypeError("entity cannot be undefined or null");e.handle||(e.handle=n++)};for(o=a.next();!a.isEOF();)0===o.code&&"SECTION"===o.value?2!==(o=a.next()).code?(console.error("Unexpected code %s after 0:SECTION",cb(o)),o=a.next()):"HEADER"===o.value?(_.a.debug("> HEADER"),t.header=r(),_.a.debug("<")):"BLOCKS"===o.value?(_.a.debug("> BLOCKS"),t.blocks=u(),_.a.debug("<")):"ENTITIES"===o.value?(_.a.debug("> ENTITIES"),t.entities=y(!1),_.a.debug("<")):"TABLES"===o.value?(_.a.debug("> TABLES"),t.tables=c(),_.a.debug("<")):"EOF"===o.value?_.a.debug("EOF"):_.a.warn("Skipping section '%s'",o.value):o=a.next();return t};function hb(e){return(hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fb(){fb=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new P(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=f,function(e,t){if(s===y)throw Error("Generator is already running");if(s===d){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=y;n=h(i,o,a);if("normal"===n.type){if(s=a.done?d:p,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var t={},w=(o(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(T([]))),x=(w&&w!==e&&l.call(w,r)&&(t=w),g.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==hb(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(hb(t)+" is not iterable")}return c(x,"constructor",{value:b.prototype=g,configurable:!0}),c(g,"constructor",{value:b,configurable:!0}),b.displayName=o(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),o(x,i,"Generator"),o(x,r,function(){return this}),o(x,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function pb(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=hb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=hb(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==hb(e)?e:e+""))(r.key),r)}}var db=(()=>{return e=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"utf-8",r=this,i=e;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");this.url=t,this.encoding=n},(t=[{key:"Fetch",value:(s=fb().mark(function e(){var t,n,r,i,o,a,s,u,l=arguments;return fb().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<l.length&&void 0!==l[0]?l[0]:null,e.next=3,fetch(this.url);case 3:r=e.sent,n=+r.headers.get("Content-Length"),r=r.body.getReader(),i=0,o="",a=new TextDecoder(this.encoding);case 9:return e.next=12,r.read();case 12:if(s=e.sent,u=s.done,s=s.value,u)return o+=a.decode(new ArrayBuffer(0),{stream:!1}),e.abrupt("break",23);e.next=18;break;case 18:o+=a.decode(s,{stream:!0}),i+=s.length,null!==t&&t("fetch",i,n),e.next=9;break;case 23:return null!==t&&t("parse",0,null),u=new ub,e.abrupt("return",u.parseSync(o));case 26:case"end":return e.stop()}},e,this)}),r=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){pb(r,t,n,i,o,"next",e)}function o(e){pb(r,t,n,i,o,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})}])&&yb(e.prototype,t),n&&yb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,s,r})();function vb(e){return(vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=vb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=vb(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==vb(e)?e:e+""))(r.key),r)}}var bb=(()=>{return e=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16,r=this,i=e;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");this.type=t,this.capacity=n,this.size=0,this.buffer=new(wb(t))(n)},(t=[{key:"GetSize",value:function(){return this.size}},{key:"Push",value:function(e){this._CheckGrow();var t=this.size;return this.buffer[t]=e,this.size++,t}},{key:"Get",value:function(e){if(e>=this.size)throw new Error("Index out of range: ".concat(e,"/").concat(this.size));return this.buffer[e]}},{key:"CopyTo",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,n=(-1===r&&(r=this.size-n),new(wb(this.type))(this.buffer.buffer,n,r));e.set(n,t)}},{key:"_CheckGrow",value:function(){var e;this.size<this.capacity||(this.capacity*=2,(e=new(wb(this.type))(this.capacity)).set(this.buffer),this.buffer=e)}}])&&mb(e.prototype,t),n&&mb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})(),gb={INT8:0,UINT8:1,UINT8_CLAMPED:2,INT16:3,UINT16:4,INT32:5,UINT32:6,INT64:7,UINT64:8,FLOAT32:9,FLOAT64:10};function wb(e){switch(e){case gb.INT8:return Int8Array;case gb.UINT8:return Uint8Array;case gb.UINT8_CLAMPED:return Uint8ClampedArray;case gb.INT16:return Int16Array;case gb.UINT16:return Uint16Array;case gb.INT32:return Int32Array;case gb.UINT32:return Uint32Array;case gb.FLOAT32:return Float32Array;case gb.FLOAT64:return Float64Array;default:throw new Error("Unrecognized native type: "+e)}}function xb(e){return(xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=xb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=xb(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==xb(e)?e:e+""))(r.key),r)}}var Sb=(()=>{function l(e,t,n,r,i,o,a,s,u){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");l.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,u)}return e=l,(t=[{key:"set",value:function(e,t,n,r,i,o,a,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){e=e.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var e=e.elements,t=t.elements,n=this.elements,r=e[0],i=e[3],o=e[6],a=e[1],s=e[4],u=e[7],l=e[2],c=e[5],e=e[8],h=t[0],f=t[3],p=t[6],y=t[1],d=t[4],v=t[7],m=t[2],b=t[5],t=t[8];return n[0]=r*h+i*y+o*m,n[3]=r*f+i*d+o*b,n[6]=r*p+i*v+o*t,n[1]=a*h+s*y+u*m,n[4]=a*f+s*d+u*b,n[7]=a*p+s*v+u*t,n[2]=l*h+c*y+e*m,n[5]=l*f+c*d+e*b,n[8]=l*p+c*v+e*t,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],e=e[8];return t*o*e-t*a*u-n*i*e+n*a*s+r*i*u-r*o*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=l*o-a*u,h=a*s-l*i,f=u*i-o*s,p=t*c+n*h+r*f;return 0==p?this.set(0,0,0,0,0,0,0,0,0):(e[0]=c*(c=1/p),e[1]=(r*u-l*n)*c,e[2]=(a*n-r*o)*c,e[3]=h*c,e[4]=(l*t-r*s)*c,e[5]=(r*i-a*t)*c,e[6]=f*c,e[7]=(n*s-u*t)*c,e[8]=(o*t-n*i)*c,this)}},{key:"transpose",value:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,o,a){var s=Math.cos(i),i=Math.sin(i);return this.set(n*s,n*i,-n*(s*o+i*a)+o+e,-r*i,r*s,-r*(-i*o+s*a)+a+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(kb.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(kb.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(kb.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,-e,0,e,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}])&&_b(e.prototype,t),n&&_b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})(),kb=new Sb;function Ob(e){return(Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Ob(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Ob(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Ob(e)?e:e+""))(r.key),r)}}var Tb=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.type="Curve",this.arcLengthDivisions=200}return t=e,(n=[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){e=this.getUtoTmapping(e);return this.getPoint(e,t)}},{key:"getPoints",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var o=1;o<=e;o++)i+=(t=this.getPoint(o/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){for(var n,r=this.getLengths(),i=0,o=r.length,a=t||e*r[o-1],s=0,u=o-1;s<=u;)if((n=r[i=Math.floor(s+(u-s)/2)]-a)<0)s=i+1;else{if(!(0<n)){u=i;break}u=i-1}return r[i=u]===a?i/(o-1):(i+(a-(t=r[i]))/(r[i+1]-t))/(o-1)}},{key:"getTangent",value:function(e,t){var n=e-1e-4,e=e+1e-4,n=(1<e&&(e=1),this.getPoint(n=n<0?0:n)),e=this.getPoint(e),t=t||new(n.isVector2?U:F);return t.copy(e).sub(n).normalize(),t}},{key:"getTangentAt",value:function(e,t){e=this.getUtoTmapping(e);return this.getTangent(e,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new F,r=[],i=[],o=[],a=new F,s=new b,u=0;u<=e;u++)r[u]=this.getTangentAt(u/e,new F);i[0]=new F,o[0]=new F;var l=Number.MAX_VALUE,c=Math.abs(r[0].x),h=Math.abs(r[0].y),f=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),h<=l&&(l=h,n.set(0,1,0)),f<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(var p,y=1;y<=e;y++)i[y]=i[y-1].clone(),o[y]=o[y-1].clone(),a.crossVectors(r[y-1],r[y]),a.length()>Number.EPSILON&&(a.normalize(),p=Math.acos(Y(r[y-1].dot(r[y]),-1,1)),i[y].applyMatrix4(s.makeRotationAxis(a,p))),o[y].crossVectors(r[y],i[y]);if(!0===t){var d=Math.acos(Y(i[0].dot(i[e]),-1,1));d/=e,0<r[0].dot(a.crossVectors(i[0],i[e]))&&(d=-d);for(var v=1;v<=e;v++)i[v].applyMatrix4(s.makeRotationAxis(r[v],d*v)),o[v].crossVectors(r[v],i[v])}return{tangents:r,normals:i,binormals:o}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}])&&Pb(t.prototype,n),r&&Pb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r})();function Eb(e){return(Eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Eb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Eb(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Eb(e)?e:e+""))(r.key),r)}}function Ab(e,t,n){t=Lb(t);var r=e,t=Mb()?Reflect.construct(t,n||[],Lb(e).constructor):t.apply(e,n);if(!t||"object"!=Eb(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Mb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Mb=function(){return!!e})()}function Cb(e,t,n,r){var i=jb(Lb(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function jb(){return(jb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Lb(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Lb(e){return(Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ib(e,t){return(Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Nb=(()=>{function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2*Math.PI,a=6<arguments.length&&void 0!==arguments[6]&&arguments[6],s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,u=this,l=c;if(u instanceof l)return(u=Ab(this,c)).isEllipseCurve=!0,u.type="EllipseCurve",u.aX=e,u.aY=t,u.xRadius=n,u.yRadius=r,u.aStartAngle=i,u.aEndAngle=o,u.aClockwise=a,u.aRotation=s,u;throw new TypeError("Cannot call a class as a function")}var e,t=c,n=Tb;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Ib(t,n),t=c,(n=[{key:"getPoint",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new U,n=2*Math.PI,r=this.aEndAngle-this.aStartAngle,i=Math.abs(r)<Number.EPSILON;r<0;)r+=n;for(;n<r;)r-=n;r<Number.EPSILON&&(r=i?0:n),!0!==this.aClockwise||i||(r===n?r=-n:r-=n);var o,a,s,u,i=this.aStartAngle+e*r,e=this.aX+this.xRadius*Math.cos(i),i=this.aY+this.yRadius*Math.sin(i);return 0!==this.aRotation&&(o=Math.cos(this.aRotation),a=Math.sin(this.aRotation),e=(s=e-this.aX)*o-(u=i-this.aY)*a+this.aX,i=s*a+u*o+this.aY),t.set(e,i)}},{key:"copy",value:function(e){return Cb(c,"copy",this,3)([e]),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=Cb(c,"toJSON",this,3)([]);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return Cb(c,"fromJSON",this,3)([e]),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}])&&Rb(t.prototype,n),e&&Rb(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Db(e){return(Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Db(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Db(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Db(e)?e:e+""))(r.key),r)}}function Fb(e,t,n){t=zb(t);var r=e,t=Ub()?Reflect.construct(t,n||[],zb(e).constructor):t.apply(e,n);if(!t||"object"!=Db(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Ub(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ub=function(){return!!e})()}function zb(e){return(zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gb(e,t){return(Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Hb=(()=>{function a(e,t,n,r,i,o){if(this instanceof a)return(e=Fb(this,a,[e,t,n,n,r,i,o])).isArcCurve=!0,e.type="ArcCurve",e;throw new TypeError("Cannot call a class as a function")}var e,t,n=a,r=Nb;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Gb(n,r),n=a,e&&Bb(n.prototype,e),t&&Bb(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n})();function Vb(e){return(Vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Vb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Vb(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Vb(e)?e:e+""))(r.key),r)}}function Wb(e,t,n){t=Jb(t);var r=e,t=qb()?Reflect.construct(t,n||[],Jb(e).constructor):t.apply(e,n);if(!t||"object"!=Vb(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function qb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qb=function(){return!!e})()}function Xb(e,t,n,r){var i=Zb(Jb(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Zb(){return(Zb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Jb(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Jb(e){return(Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kb(e,t){return(Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Qb(){var i=0,o=0,a=0,s=0;function u(e,t,n,r){a=-3*(i=e)+3*t-2*(o=n)-r,s=2*e-2*t+n+r}return{initCatmullRom:function(e,t,n,r,i){u(t,n,i*(n-e),i*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,i,o,a){e=(t-e)/i-(n-e)/(i+o)+(n-t)/o,i=(n-t)/o-(r-t)/(o+a)+(r-n)/a;u(t,n,e*=o,i*=o)},calc:function(e){var t=e*e;return i+o*e+a*t+s*(t*e)}}}var $b=new F,eg=new Qb,tg=new Qb,ng=new Qb,rg=(()=>{function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"centripetal",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5,i=this,o=a;if(i instanceof o)return(i=Wb(this,a)).isCatmullRomCurve3=!0,i.type="CatmullRomCurve3",i.points=e,i.closed=t,i.curveType=n,i.tension=r,i;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=Tb;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Kb(t,n),t=a,(n=[{key:"getPoint",value:function(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new F,i=this.points,o=i.length,e=(o-(this.closed?0:1))*e,a=Math.floor(e),e=e-a,s=(this.closed?a+=0<a?0:(Math.floor(Math.abs(a)/o)+1)*o:0===e&&a===o-1&&(a=o-2,e=1),t=this.closed||0<a?i[(a-1)%o]:($b.subVectors(i[0],i[1]).add(i[0]),$b),i[a%o]),u=i[(a+1)%o],a=this.closed||a+2<o?i[(a+2)%o]:($b.subVectors(i[o-1],i[o-2]).add(i[o-1]),$b);return"centripetal"===this.curveType||"chordal"===this.curveType?(i="chordal"===this.curveType?.5:.25,o=Math.pow(t.distanceToSquared(s),i),(n=Math.pow(s.distanceToSquared(u),i))<1e-4&&(n=1),o<1e-4&&(o=n),(i=Math.pow(u.distanceToSquared(a),i))<1e-4&&(i=n),eg.initNonuniformCatmullRom(t.x,s.x,u.x,a.x,o,n,i),tg.initNonuniformCatmullRom(t.y,s.y,u.y,a.y,o,n,i),ng.initNonuniformCatmullRom(t.z,s.z,u.z,a.z,o,n,i)):"catmullrom"===this.curveType&&(eg.initCatmullRom(t.x,s.x,u.x,a.x,this.tension),tg.initCatmullRom(t.y,s.y,u.y,a.y,this.tension),ng.initCatmullRom(t.z,s.z,u.z,a.z,this.tension)),r.set(eg.calc(e),tg.calc(e),ng.calc(e)),r}},{key:"copy",value:function(e){Xb(a,"copy",this,3)([e]),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=Xb(a,"toJSON",this,3)([]);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){Xb(a,"fromJSON",this,3)([e]),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new F).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}])&&Yb(t.prototype,n),e&&Yb(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function ig(e,t,n,r,i){var t=.5*(r-t),i=.5*(i-n),o=e*e;return(2*n-2*r+t+i)*(e*o)+(-3*n+3*r-2*t-i)*o+t*e+n}function og(e,t,n,r){return(i=1-(i=e))*i*t+2*(1-e)*e*n+e*e*r;var i}function ag(e,t,n,r,i){return(o=1-(o=e))*o*o*t+3*(o=1-e)*o*e*n+3*(1-e)*e*e*r+e*e*e*i;var o}function sg(e){return(sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ug(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=sg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=sg(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==sg(e)?e:e+""))(r.key),r)}}function lg(e,t,n){t=pg(t);var r=e,t=cg()?Reflect.construct(t,n||[],pg(e).constructor):t.apply(e,n);if(!t||"object"!=sg(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function cg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(cg=function(){return!!e})()}function hg(e,t,n,r){var i=fg(pg(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function fg(){return(fg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=pg(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function pg(e){return(pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yg(e,t){return(yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var dg=(()=>{function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new U,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new U,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new U,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new U,i=this,o=a;if(i instanceof o)return(i=lg(this,a)).isCubicBezierCurve=!0,i.type="CubicBezierCurve",i.v0=e,i.v1=t,i.v2=n,i.v3=r,i;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=Tb;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&yg(t,n),t=a,(n=[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new U,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(ag(e,n.x,r.x,i.x,o.x),ag(e,n.y,r.y,i.y,o.y)),t}},{key:"copy",value:function(e){return hg(a,"copy",this,3)([e]),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=hg(a,"toJSON",this,3)([]);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return hg(a,"fromJSON",this,3)([e]),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}])&&ug(t.prototype,n),e&&ug(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function vg(e){return(vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=vg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=vg(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==vg(e)?e:e+""))(r.key),r)}}function bg(e,t,n){t=_g(t);var r=e,t=gg()?Reflect.construct(t,n||[],_g(e).constructor):t.apply(e,n);if(!t||"object"!=vg(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function gg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gg=function(){return!!e})()}function wg(e,t,n,r){var i=xg(_g(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function xg(){return(xg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_g(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function _g(e){return(_g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sg(e,t){return(Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var kg=(()=>{function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new F,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new F,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new F,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new F,i=this,o=a;if(i instanceof o)return(i=bg(this,a)).isCubicBezierCurve3=!0,i.type="CubicBezierCurve3",i.v0=e,i.v1=t,i.v2=n,i.v3=r,i;throw new TypeError("Cannot call a class as a function")}var e,t=a,n=Tb;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Sg(t,n),t=a,(n=[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new F,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(ag(e,n.x,r.x,i.x,o.x),ag(e,n.y,r.y,i.y,o.y),ag(e,n.z,r.z,i.z,o.z)),t}},{key:"copy",value:function(e){return wg(a,"copy",this,3)([e]),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=wg(a,"toJSON",this,3)([]);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return wg(a,"fromJSON",this,3)([e]),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}])&&mg(t.prototype,n),e&&mg(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Og(e){return(Og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Og(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Og(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Og(e)?e:e+""))(r.key),r)}}function Tg(e,t,n){t=Mg(t);var r=e,t=Eg()?Reflect.construct(t,n||[],Mg(e).constructor):t.apply(e,n);if(!t||"object"!=Og(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Eg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Eg=function(){return!!e})()}function Rg(e,t,n,r){var i=Ag(Mg(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Ag(){return(Ag="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Mg(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Mg(e){return(Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cg(e,t){return(Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var jg=(()=>{function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new U,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new U,n=this,r=i;if(n instanceof r)return(n=Tg(this,i)).isLineCurve=!0,n.type="LineCurve",n.v1=e,n.v2=t,n;throw new TypeError("Cannot call a class as a function")}var e,t=i,n=Tb;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Cg(t,n),t=i,(n=[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new U;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:new U).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return Rg(i,"copy",this,3)([e]),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Rg(i,"toJSON",this,3)([]);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Rg(i,"fromJSON",this,3)([e]),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}])&&Pg(t.prototype,n),e&&Pg(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Lg(e){return(Lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ig(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Lg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Lg(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Lg(e)?e:e+""))(r.key),r)}}function Ng(e,t,n){t=Ug(t);var r=e,t=Dg()?Reflect.construct(t,n||[],Ug(e).constructor):t.apply(e,n);if(!t||"object"!=Lg(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Dg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Dg=function(){return!!e})()}function Bg(e,t,n,r){var i=Fg(Ug(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Fg(){return(Fg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ug(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Ug(e){return(Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zg(e,t){return(zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Gg=(()=>{function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new F,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new F,n=this,r=i;if(n instanceof r)return(n=Ng(this,i)).isLineCurve3=!0,n.type="LineCurve3",n.v1=e,n.v2=t,n;throw new TypeError("Cannot call a class as a function")}var e,t=i,n=Tb;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&zg(t,n),t=i,(n=[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new F;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:new F).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return Bg(i,"copy",this,3)([e]),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Bg(i,"toJSON",this,3)([]);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Bg(i,"fromJSON",this,3)([e]),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}])&&Ig(t.prototype,n),e&&Ig(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Hg(e){return(Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Hg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Hg(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Hg(e)?e:e+""))(r.key),r)}}function Yg(e,t,n){t=Zg(t);var r=e,t=Wg()?Reflect.construct(t,n||[],Zg(e).constructor):t.apply(e,n);if(!t||"object"!=Hg(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Wg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Wg=function(){return!!e})()}function qg(e,t,n,r){var i=Xg(Zg(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Xg(){return(Xg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Zg(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Zg(e){return(Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jg(e,t){return(Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Kg=(()=>{function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new U,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new U,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new U,r=this,i=o;if(r instanceof i)return(r=Yg(this,o)).isQuadraticBezierCurve=!0,r.type="QuadraticBezierCurve",r.v0=e,r.v1=t,r.v2=n,r;throw new TypeError("Cannot call a class as a function")}var e,t=o,n=Tb;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Jg(t,n),t=o,(n=[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new U,n=this.v0,r=this.v1,i=this.v2;return t.set(og(e,n.x,r.x,i.x),og(e,n.y,r.y,i.y)),t}},{key:"copy",value:function(e){return qg(o,"copy",this,3)([e]),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=qg(o,"toJSON",this,3)([]);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return qg(o,"fromJSON",this,3)([e]),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}])&&Vg(t.prototype,n),e&&Vg(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Qg(e){return(Qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Qg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Qg(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Qg(e)?e:e+""))(r.key),r)}}function ew(e,t,n){t=iw(t);var r=e,t=tw()?Reflect.construct(t,n||[],iw(e).constructor):t.apply(e,n);if(!t||"object"!=Qg(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function tw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tw=function(){return!!e})()}function nw(e,t,n,r){var i=rw(iw(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function rw(){return(rw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=iw(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function iw(e){return(iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ow(e,t){return(ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var aw=(()=>{function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new F,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new F,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new F,r=this,i=o;if(r instanceof i)return(r=ew(this,o)).isQuadraticBezierCurve3=!0,r.type="QuadraticBezierCurve3",r.v0=e,r.v1=t,r.v2=n,r;throw new TypeError("Cannot call a class as a function")}var e,t=o,n=Tb;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&ow(t,n),t=o,(n=[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new F,n=this.v0,r=this.v1,i=this.v2;return t.set(og(e,n.x,r.x,i.x),og(e,n.y,r.y,i.y),og(e,n.z,r.z,i.z)),t}},{key:"copy",value:function(e){return nw(o,"copy",this,3)([e]),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=nw(o,"toJSON",this,3)([]);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return nw(o,"fromJSON",this,3)([e]),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}])&&$g(t.prototype,n),e&&$g(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function sw(e){return(sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=sw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=sw(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==sw(e)?e:e+""))(r.key),r)}}function lw(e,t,n){t=pw(t);var r=e,t=cw()?Reflect.construct(t,n||[],pw(e).constructor):t.apply(e,n);if(!t||"object"!=sw(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function cw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(cw=function(){return!!e})()}function hw(e,t,n,r){var i=fw(pw(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function fw(){return(fw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=pw(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function pw(e){return(pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yw(e,t){return(yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var dw=(()=>{function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=this,n=i;if(t instanceof n)return(t=lw(this,i)).isSplineCurve=!0,t.type="SplineCurve",t.points=e,t;throw new TypeError("Cannot call a class as a function")}var e,t=i,n=Tb;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&yw(t,n),t=i,(n=[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new U,n=this.points,e=(n.length-1)*e,r=Math.floor(e),e=e-r,i=n[0===r?r:r-1],o=n[r],a=n[r>n.length-2?n.length-1:r+1],n=n[r>n.length-3?n.length-1:r+2];return t.set(ig(e,i.x,o.x,a.x,n.x),ig(e,i.y,o.y,a.y,n.y)),t}},{key:"copy",value:function(e){hw(i,"copy",this,3)([e]),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this}},{key:"toJSON",value:function(){var e=hw(i,"toJSON",this,3)([]);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e}},{key:"fromJSON",value:function(e){hw(i,"fromJSON",this,3)([e]),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new U).fromArray(r))}return this}}])&&uw(t.prototype,n),e&&uw(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function vw(e){return(vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=vw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=vw(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==vw(e)?e:e+""))(r.key),r)}}function bw(e,t,n){t=_w(t);var r=e,t=gw()?Reflect.construct(t,n||[],_w(e).constructor):t.apply(e,n);if(!t||"object"!=vw(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function gw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gw=function(){return!!e})()}function ww(e,t,n,r){var i=xw(_w(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function xw(){return(xw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_w(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function _w(e){return(_w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sw(e,t){return(Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var kw=(()=>{function i(){var e;if(this instanceof i)return(e=bw(this,i)).type="CurvePath",e.curves=[],e.autoClose=!1,e;throw new TypeError("Cannot call a class as a function")}var e,t=i,n=Tb;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Sw(t,n),t=i,(n=[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e,t=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);return t.equals(n)||(e=!0===t.isVector2?"LineCurve":"LineCurve3",this.curves.push(new C[e](n,t))),this}},{key:"getPoint",value:function(e,t){for(var n,r,i,o=e*this.getLength(),a=this.getCurveLengths(),s=0;s<a.length;){if(a[s]>=o)return n=a[s]-o,i=(r=this.curves[s]).getLength(),r.getPointAt(0===i?0:1-n/i,t);s++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e}},{key:"getSpacedPoints",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o.isEllipseCurve?2*t:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){ww(i,"copy",this,3)([e]),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=ww(i,"toJSON",this,3)([]);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e}},{key:"fromJSON",value:function(e){ww(i,"fromJSON",this,3)([e]),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new C[r.type]).fromJSON(r))}return this}}])&&mw(t.prototype,n),e&&mw(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Ow(e){return(Ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Ow(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Ow(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Ow(e)?e:e+""))(r.key),r)}}function Tw(e,t,n){t=Mw(t);var r=e,t=Ew()?Reflect.construct(t,n||[],Mw(e).constructor):t.apply(e,n);if(!t||"object"!=Ow(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Ew(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ew=function(){return!!e})()}function Rw(e,t,n,r){var i=Aw(Mw(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Aw(){return(Aw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Mw(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Mw(e){return(Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cw(e,t){return(Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var jw=(()=>{function n(e){var t;if(this instanceof n)return(t=Tw(this,n)).type="Path",t.currentPoint=new U,e&&t.setFromPoints(e),t;throw new TypeError("Cannot call a class as a function")}var e,t=n,r=kw;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Cw(t,r),t=n,(r=[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new jg(this.currentPoint.clone(),new U(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){e=new Kg(this.currentPoint.clone(),new U(e,t),new U(n,r));return this.curves.push(e),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,o){e=new dg(this.currentPoint.clone(),new U(e,t),new U(n,r),new U(i,o));return this.curves.push(e),this.currentPoint.set(i,o),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),t=new dw(t);return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this}},{key:"absarc",value:function(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this}},{key:"ellipse",value:function(e,t,n,r,i,o,a,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,n,r,i,o,a,s),this}},{key:"absellipse",value:function(e,t,n,r,i,o,a,s){e=new Nb(e,t,n,r,i,o,a,s),0<this.curves.length&&((t=e.getPoint(0)).equals(this.currentPoint)||this.lineTo(t.x,t.y)),this.curves.push(e),n=e.getPoint(1);return this.currentPoint.copy(n),this}},{key:"copy",value:function(e){return Rw(n,"copy",this,3)([e]),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=Rw(n,"toJSON",this,3)([]);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return Rw(n,"fromJSON",this,3)([e]),this.currentPoint.fromArray(e.currentPoint),this}}])&&Pw(t.prototype,r),e&&Pw(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})();function Lw(e){return(Lw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Lw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Lw(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Lw(e)?e:e+""))(r.key),r)}}function Nw(e,t,n){t=Uw(t);var r=e,t=Dw()?Reflect.construct(t,n||[],Uw(e).constructor):t.apply(e,n);if(!t||"object"!=Lw(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function Dw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Dw=function(){return!!e})()}function Bw(e,t,n,r){var i=Fw(Uw(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Fw(){return(Fw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=((e,t)=>{for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Uw(e)););return e})(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function Uw(e){return(Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zw(e,t){return(zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Gw=(()=>{function i(e){if(this instanceof i)return(e=Nw(this,i,[e])).uuid=V(),e.type="Shape",e.holes=[],e;throw new TypeError("Cannot call a class as a function")}var e,t=i,n=jw;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");return t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&zw(t,n),t=i,(n=[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){Bw(i,"copy",this,3)([e]),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this}},{key:"toJSON",value:function(){var e=Bw(i,"toJSON",this,3)([]);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e}},{key:"fromJSON",value:function(e){Bw(i,"fromJSON",this,3)([e]),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new jw).fromJSON(r))}return this}}])&&Iw(t.prototype,n),e&&Iw(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t})(),Hw=function(e,t){var n,r,i,o,a,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2,u=t&&t.length,l=u?t[0]*s:e.length,c=Vw(e,0,l,s,!0),h=[];if(c&&c.next!==c.prev){if(u&&(c=((e,t,n,r)=>{var i,o,a,s,u=[];for(i=0,o=t.length;i<o;i++)s=t[i]*r,a=i<o-1?t[i+1]*r:e.length,(s=Vw(e,s,a,r,!1))===s.next&&(s.steiner=!0),u.push((e=>{for(var t=e,n=e;(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),(t=t.next)!==e;);return n})(s));for(u.sort(qw),i=0;i<u.length;i++)n=((e,t)=>{var n=((e,t)=>{var n,r=t,i=-1/0,o=e.x,a=e.y;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=o&&i<s&&(i=s,n=r.x<r.next.x?r:r.next,s===o))return n}}while((r=r.next)!==t);if(!n)return null;var u,l=n,c=n.x,h=n.y,f=1/0;for(r=n;o>=r.x&&r.x>=c&&o!==r.x&&Zw(a<h?o:i,a,c,h,a<h?i:o,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(o-r.x),ex(r,e))&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&((e,t)=>E(e.prev,e,t.prev)<0&&E(t.next,e,e.next)<0)(n,r)))&&(n=r,f=u),(r=r.next)!==l;);return n})(e,t);return n?(Yw(e=tx(n,e),e.next),Yw(n,n.next)):t})(u[i],n);return n})(e,t,c,s)),e.length>80*s){for(var f=n=e[0],p=r=e[1],y=s;y<l;y+=s)(i=e[y])<f&&(f=i),(o=e[y+1])<p&&(p=o),n<i&&(n=i),r<o&&(r=o);a=0!==(a=Math.max(n-f,r-p))?32767/a:0}Ww(c,h,s,f,p,a,0)}return h};function Vw(e,t,n,r,i){var o,a;if(i===0<((e,t,n,r)=>{for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i})(e,t,n,r))for(o=t;o<n;o+=r)a=nx(o,e[o],e[o+1],a);else for(o=n-r;t<=o;o-=r)a=nx(o,e[o],e[o+1],a);return a&&Jw(a,a.next)&&(rx(a),a=a.next),a}function Yw(e,t){if(!e)return e;t=t||e;var n,r=e;do{if(n=!1,r.steiner||!Jw(r,r.next)&&0!==E(r.prev,r,r.next))r=r.next;else{if(rx(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Ww(e,t,n,r,i,o,a){if(e){if(!a&&o){for(var s=e,u=r,l=i,c=o,h=s;0===h.z&&(h.z=Xw(h.x,h.y,u,l,c)),h.prevZ=h.prev,h.nextZ=h.next,(h=h.next)!==s;);h.prevZ.nextZ=null,h.prevZ=null;var f,p,y,d,v,m,b,g,w=h,x=1;do{for(p=w,v=w=null,m=0;p;){for(m++,y=p,f=b=0;f<x&&(b++,y=y.nextZ);f++);for(g=x;0<b||0<g&&y;)0!==b&&(0===g||!y||p.z<=y.z)?(p=(d=p).nextZ,b--):(y=(d=y).nextZ,g--),v?v.nextZ=d:w=d,d.prevZ=v,v=d;p=y}}while(v.nextZ=null,x*=2,1<m)}for(var _,S,k=e;e.prev!==e.next;)if(_=e.prev,S=e.next,o?((e,t,n,r)=>{var i=e.prev,o=e,a=e.next;if(!(0<=E(i,o,a))){for(var s=i.x,u=o.x,l=a.x,c=i.y,h=o.y,f=a.y,p=s<u?s<l?s:l:u<l?u:l,y=c<h?c<f?c:f:h<f?h:f,d=u<s?l<s?s:l:l<u?u:l,v=h<c?f<c?c:f:f<h?h:f,m=Xw(p,y,t,n,r),b=Xw(d,v,t,n,r),g=e.prevZ,w=e.nextZ;g&&g.z>=m&&w&&w.z<=b;){if(g.x>=p&&g.x<=d&&g.y>=y&&g.y<=v&&g!==i&&g!==a&&Zw(s,c,u,h,l,f,g.x,g.y)&&0<=E(g.prev,g,g.next))return;if(g=g.prevZ,w.x>=p&&w.x<=d&&w.y>=y&&w.y<=v&&w!==i&&w!==a&&Zw(s,c,u,h,l,f,w.x,w.y)&&0<=E(w.prev,w,w.next))return;w=w.nextZ}for(;g&&g.z>=m;){if(g.x>=p&&g.x<=d&&g.y>=y&&g.y<=v&&g!==i&&g!==a&&Zw(s,c,u,h,l,f,g.x,g.y)&&0<=E(g.prev,g,g.next))return;g=g.prevZ}for(;w&&w.z<=b;){if(w.x>=p&&w.x<=d&&w.y>=y&&w.y<=v&&w!==i&&w!==a&&Zw(s,c,u,h,l,f,w.x,w.y)&&0<=E(w.prev,w,w.next))return;w=w.nextZ}return 1}})(e,r,i,o):(e=>{var t=e.prev,n=e,e=e.next;if(!(0<=E(t,n,e))){for(var r=t.x,i=n.x,o=e.x,a=t.y,s=n.y,u=e.y,l=r<i?r<o?r:o:i<o?i:o,c=a<s?a<u?a:u:s<u?s:u,h=i<r?o<r?r:o:o<i?i:o,f=s<a?u<a?a:u:u<s?s:u,p=e.next;p!==t;){if(p.x>=l&&p.x<=h&&p.y>=c&&p.y<=f&&Zw(r,a,i,s,o,u,p.x,p.y)&&0<=E(p.prev,p,p.next))return;p=p.next}return 1}})(e))t.push(_.i/n|0),t.push(e.i/n|0),t.push(S.i/n|0),rx(e),e=S.next,k=S.next;else if((e=S)===k){a?1===a?Ww(e=((e,t,n)=>{var r=e;do{var i=r.prev,o=r.next.next}while(!Jw(i,o)&&Kw(i,r,r.next,o)&&ex(i,o)&&ex(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),rx(r),rx(r.next),r=e=o),(r=r.next)!==e);return Yw(r)})(Yw(e),t,n),t,n,r,i,o,2):2===a&&((e,t,n,r,i,o)=>{var a=e;do{for(var s,u=a.next.next;u!==a.prev;){if(a.i!==u.i&&((e,t)=>e.next.i!==t.i&&e.prev.i!==t.i&&!((e,t)=>{var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Kw(n,n.next,e,t))return 1}while((n=n.next)!==e)})(e,t)&&(ex(e,t)&&ex(t,e)&&((e,t)=>{for(var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),(n=n.next)!==e;);return r})(e,t)&&(E(e.prev,e,t.prev)||E(e,t.prev,t))||Jw(e,t)&&0<E(e.prev,e,e.next)&&0<E(t.prev,t,t.next)))(a,u))return s=tx(a,u),a=Yw(a,a.next),s=Yw(s,s.next),Ww(a,t,n,r,i,o,0),Ww(s,t,n,r,i,o,0);u=u.next}}while((a=a.next)!==e)})(e,t,n,r,i,o):Ww(Yw(e),t,n,r,i,o,1);break}}}function qw(e,t){return e.x-t.x}function Xw(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Zw(e,t,n,r,i,o,a,s){return(e-a)*(o-s)<=(i-a)*(t-s)&&(n-a)*(t-s)<=(e-a)*(r-s)&&(i-a)*(r-s)<=(n-a)*(o-s)}function E(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Jw(e,t){return e.x===t.x&&e.y===t.y}function Kw(e,t,n,r){var i=$w(E(e,t,n)),o=$w(E(e,t,r)),a=$w(E(n,r,e)),s=$w(E(n,r,t));return i!==o&&a!==s||0===i&&Qw(e,n,t)||0===o&&Qw(e,r,t)||0===a&&Qw(n,e,r)||!(0!==s||!Qw(n,t,r))}function Qw(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function $w(e){return 0<e?1:e<0?-1:0}function ex(e,t){return E(e.prev,e,e.next)<0?0<=E(e,t,e.next)&&0<=E(e,e.prev,t):E(e,t,e.prev)<0||E(e,e.next,t)<0}function tx(e,t){var n=new ix(e.i,e.x,e.y),r=new ix(t.i,t.x,t.y),i=e.next,o=t.prev;return(e.next=t).prev=e,(n.next=i).prev=n,r.next=n,(o.next=n.prev=r).prev=o,r}function nx(e,t,n,r){e=new ix(e,t,n);return r?(e.next=r.next,(e.prev=r).next.prev=e,r.next=e):(e.prev=e).next=e,e}function rx(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ix(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ox(e){return(ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ax(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=ox(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=ox(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==ox(e)?e:e+""))(r.key),r)}}var sx=(()=>{function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}return e=t,r=[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(e){return t.area(e)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[],o=(ux(e),lx(n,e),e.length);t.forEach(ux);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,lx(n,t[a]);for(var s=Hw(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}}],(n=null)&&ax(e.prototype,n),r&&ax(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r})();function ux(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function lx(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function cx(e){return(cx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=cx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=cx(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==cx(e)?e:e+""))(r.key),r)}}var fx=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.type="ShapePath",this.color=new v,this.subPaths=[],this.currentPath=null}return t=e,(n=[{key:"moveTo",value:function(e,t){return this.currentPath=new jw,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){var t,n,r,i=sx.isClockWise,o=this.subPaths;if(0===o.length)return[];var a=[];if(1===o.length)n=o[0],(r=new Gw).curves=n.curves,a.push(r);else{var s,u=!i(o[0].getPoints()),u=e?!u:u,l=[],c=[],h=[],f=0;c[f]=void 0,h[f]=[];for(var p=0,y=o.length;p<y;p++)t=i(s=(n=o[p]).getPoints()),(e?!t:t)?(!u&&c[f]&&f++,c[f]={s:new Gw,p:s},c[f].s.curves=n.curves,u&&f++,h[f]=[]):h[f].push({h:n,p:s[0]});if(!c[0]){var d=o;for(var v=[],m=0,b=d.length;m<b;m++){var g=d[m],w=new Gw;w.curves=g.curves,v.push(w)}return v;return}if(1<c.length){for(var x=!1,_=0,S=0,k=c.length;S<k;S++)l[S]=[];for(var O=0,P=c.length;O<P;O++)for(var T=h[O],E=0;E<T.length;E++){for(var R=T[E],A=!0,M=0;M<c.length;M++)((e,t)=>{for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],u=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=t[o],u=-u,s=t[i],l=-l),!(e.y<a.y||e.y>s.y))if(e.y===a.y){if(e.x===a.x)return 1}else{l=l*(e.x-a.x)-u*(e.y-a.y);if(0==l)return 1;l<0||(r=!r)}}else if(e.y===a.y&&(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x))return 1}return r})(R.p,c[M].p)&&(O!==M&&_++,A?(A=!1,l[M].push(R)):x=!0);A&&l[O].push(R)}0<_&&!1===x&&(h=l)}for(var C=0,j=c.length;C<j;C++){r=c[C].s,a.push(r);for(var L,I=0,N=(L=h[C]).length;I<N;I++)r.holes.push(L[I].h)}}return a}}])&&hx(t.prototype,n),r&&hx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r})();function px(e){return(px="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yx(){yx=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new P(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=f,function(e,t){if(s===y)throw Error("Generator is already running");if(s===d){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=y;n=h(i,o,a);if("normal"===n.type){if(s=a.done?d:p,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var t={},w=(o(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(T([]))),x=(w&&w!==e&&l.call(w,r)&&(t=w),g.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==px(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(px(t)+" is not iterable")}return c(x,"constructor",{value:b.prototype=g,configurable:!0}),c(g,"constructor",{value:b,configurable:!0}),b.displayName=o(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),o(x,i,"Generator"),o(x,r,function(){return this}),o(x,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function dx(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(r=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){i=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(i)throw n}}};if(Array.isArray(e)||(a=((e,t)=>{var n;if(e)return"string"==typeof e?vx(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vx(e,t):void 0})(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function mx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=px(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=px(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==px(e)?e:e+""))(r.key),r)}}var bx=Object.freeze({TEXT:0,ESCAPE:1,SKIP_FORMAT:2,PARAGRAPH1:3,PARAGRAPH2:4,PARAGRAPH3:5}),gx=Object.freeze({TEXT:0,SCOPE:1,PARAGRAPH:2,NON_BREAKING_SPACE:3,PARAGRAPH_ALIGNMENT:4}),xx=new Set(["L","l","O","o","K","k","P","X","~"]),_x=new Set(["f","F","p","Q","H","W","S","A","C","T"]),Sx=new Set(["\\","{","}"]),kx=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.entities=[]}return t=e,(n=[{key:"Parse",value:function(e){var t,n=e.length,r=0,i=bx.TEXT,o=[],a=this.entities,s=0,u=this;function l(){i===bx.TEXT&&r!==s&&(a.push({type:gx.TEXT,content:e.slice(r,s)}),r=s)}function c(e){a.push({type:e})}for(;s<n;s++){var h=e.charAt(s);switch(i){case bx.TEXT:if("{"===h){l(),t=void 0,t={type:gx.SCOPE,content:[]},a.push(t),a=t.content,o.push(t),r=s+1;continue}if("}"===h){l(),0!==o.length&&(o.pop(),a=0===o.length?u.entities:o[o.length-1].content),r=s+1;continue}if("\\"!==h)continue;l(),i=bx.ESCAPE;continue;case bx.ESCAPE:if(xx.has(h)){switch(h){case"P":c(gx.PARAGRAPH);break;case"~":c(gx.NON_BREAKING_SPACE)}i=bx.TEXT,r=s+1;continue}if(_x.has(h)){if("p"===h){i=bx.PARAGRAPH1;continue}i=bx.SKIP_FORMAT;continue}r=Sx.has(h)?s:s-1,i=bx.TEXT;continue;case bx.PARAGRAPH1:i="x"===h?bx.PARAGRAPH2:bx.SKIP_FORMAT;continue;case bx.PARAGRAPH2:i="q"===h?bx.PARAGRAPH3:bx.SKIP_FORMAT;continue;case bx.PARAGRAPH3:a.push({type:gx.PARAGRAPH_ALIGNMENT,alignment:h}),i=bx.SKIP_FORMAT;continue;case bx.SKIP_FORMAT:";"===h&&(r=s+1,i=bx.TEXT);continue;default:throw new Error("Unhandled state")}}l()}},{key:"GetContent",value:function(){return this.entities}},{key:"GetText",value:yx().mark(function e(){var o,a;return yx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(t){var n,r,i;return yx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=dx(t),e.prev=1,n.s();case 3:if((r=n.n()).done)e.next=14;else{if((i=r.value).type===gx.TEXT)return e.next=8,i.content;e.next=10}break;case 8:e.next=12;break;case 10:if(i.type===gx.SCOPE)return e.delegateYield(a(i.content),"t0",12);e.next=12;break;case 12:e.next=3;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),n.e(e.t1);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}},o,null,[[1,16,19,22]])},o=yx().mark(a),e.delegateYield(a(this.GetContent()),"t0",3);case 3:case"end":return e.stop()}},e,this)})}])&&mx(t.prototype,n),r&&mx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r})();function Ox(e){return(Ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Px(){Px=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new P(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=f,function(e,t){if(s===y)throw Error("Generator is already running");if(s===d){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=y;n=h(i,o,a);if("normal"===n.type){if(s=a.done?d:p,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var t={},w=(o(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(T([]))),x=(w&&w!==e&&l.call(w,r)&&(t=w),g.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==Ox(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(Ox(t)+" is not iterable")}return c(x,"constructor",{value:b.prototype=g,configurable:!0}),c(g,"constructor",{value:b,configurable:!0}),b.displayName=o(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),o(x,i,"Generator"),o(x,r,function(){return this}),o(x,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function L(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(r=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){i=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(i)throw n}}};if(Array.isArray(e)||(a=((e,t)=>{var n;if(e)return"string"==typeof e?Tx(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tx(e,t):void 0})(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ex(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Rx(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){Ex(r,t,n,i,o,"next",e)}function o(e){Ex(r,t,n,i,o,"throw",e)}i(void 0)})}}function Ax(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Ox(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Ox(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Ox(e)?e:e+""))(r.key),r)}}function Cx(e,t,n){return t&&Mx(e.prototype,t),n&&Mx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}kx.EntityType=gx;var jx=/(?:%%([dpcou%]))|(?:\\U\+([0-9a-fA-F]{4}))/g;function Lx(e){return e.replaceAll(jx,function(e,t,n){if(void 0!==t)switch(t){case"d":return"°";case"p":return"±";case"c":return"∅";case"o":case"u":return"";case"%":return"%"}else if(void 0!==n)return t=parseInt(n,16),isNaN(t)?e:String.fromCharCode(t);return e})}var Ix=(()=>{return Cx(function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Ax(this,e),this.fontFetchers=t,this.fonts=[],this.options=Object.create(e.DefaultOptions),n&&Object.assign(this.options,n),this.shapes=new Map,this.stubShapeLoaded=!1,this.stubShape=null},[{key:"FetchFonts",value:(n=Rx(Px().mark(function e(t){var n,r,i,o,a,s,u,l,c,h;return Px().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stubShapeLoaded){e.next=13;break}this.stubShapeLoaded=!0,n=0,r=Array.from(this.options.fallbackChar);case 3:if(n<r.length)return i=r[n],e.next=7,this.FetchFonts(i);e.next=13;break;case 7:if(e.sent)return this.stubShape=this._CreateCharShape(i),e.abrupt("break",13);e.next=10;break;case 10:n++,e.next=3;break;case 13:o=!1,a=L(t),e.prev=15,a.s();case 17:if((c=a.n()).done)e.next=58;else{if((s=c.value).codePointAt(0)<32)return e.abrupt("continue",56);e.next=21}break;case 21:u=!1,l=L(this.fonts),e.prev=23,l.s();case 25:if((c=l.n()).done)e.next=32;else{if(c.value.HasChar(s))return u=!0,e.abrupt("break",32);e.next=30}break;case 30:e.next=25;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(23),l.e(e.t0);case 37:return e.prev=37,l.f(),e.finish(37);case 40:if(u)return e.abrupt("continue",56);e.next=42;break;case 42:if(this.fontFetchers){e.next=44;break}return e.abrupt("return",!1);case 44:if(0<this.fontFetchers.length)return h=this.fontFetchers.shift(),e.next=48,this._FetchFont(h);e.next=55;break;case 48:if(h=e.sent,this.fonts.push(h),h.HasChar(s))return u=!0,e.abrupt("break",55);e.next=53;break;case 53:e.next=44;break;case 55:u||(o=!0);case 56:e.next=17;break;case 58:e.next=63;break;case 60:e.prev=60,e.t1=e.catch(15),a.e(e.t1);case 63:return e.prev=63,a.f(),e.finish(63);case 66:return e.abrupt("return",!o);case 67:case"end":return e.stop()}},e,this,[[15,60,63,66],[23,34,37,40]])})),function(e){return n.apply(this,arguments)})},{key:"canRender",get:function(){return null!==this.fonts&&0<this.fonts.length}},{key:"GetLineWidth",value:function(e,t){var n,r=new Gx(t),i=L(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=this._GetCharShape(o);a&&r.PushChar(o,a)}}catch(e){i.e(e)}finally{i.f()}return r.GetCurrentPosition()}},{key:"Render",value:function(e){var a=this,s=e.text,u=e.startPos,l=e.endPos,t=e.rotation,c=void 0===t?0:t,t=e.widthFactor,h=void 0===t?1:t,t=e.hAlign,f=void 0===t?0:t,t=e.vAlign,p=void 0===t?0:t,y=e.color,t=e.layer,d=void 0===t?null:t,v=e.fontSize;return Px().mark(function e(){var t,n,r,i,o;return Px().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=new Gx(v),n=L(s),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=12;break}if(i=r.value,o=a._GetCharShape(i)){e.next=9;break}return e.abrupt("continue",10);case 9:t.PushChar(i,o);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:return e.delegateYield(t.Render(u,l,c,h,f,p,y,d),"t1",21);case 21:case"end":return e.stop()}},e,null,[[2,14,17,20]])})()}},{key:"RenderMText",value:function(e){var n=this,r=e.formattedText,i=e.position,o=e.fontSize,t=e.width,a=void 0===t?null:t,t=e.rotation,s=void 0===t?0:t,t=e.direction,u=void 0===t?null:t,l=e.attachment,t=e.lineSpacing,c=void 0===t?1:t,h=e.color,t=e.layer,f=void 0===t?null:t;return Px().mark(function e(){var t;return Px().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new zx(o,n._GetCharShape.bind(n))).FeedText(r),e.delegateYield(t.Render(i,a,s,u,l,c,h,f),"t0",3);case 3:case"end":return e.stop()}},e)})()}},{key:"_GetCharShape",value:function(e){var t=this.shapes.get(e);return t||(t=this._CreateCharShape(e),this.shapes.set(e,t)),t}},{key:"_CreateCharShape",value:function(e){var t,n=L(this.fonts);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.GetCharPath(e);if(i)return new Nx(r,i,this.options)}}catch(e){n.e(e)}finally{n.f()}return this.stubShape}},{key:"_FetchFont",value:(t=Rx(Px().mark(function e(t){return Px().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Dx,e.next=3,t();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]);var t,n})(),Nx=(Ix.DefaultOptions={curveSubdivision:2,fallbackChar:"�?"},(()=>Cx(function e(t,n,v){var m=this;if(Ax(this,e),this.font=t,this.advance=n.advance,this.bounds=n.bounds,n.path){var b,t=n.path.toShapes(!1),r=(this.vertices=[],this.indices=[],L(t));try{for(r.s();!(b=r.n()).done;)(()=>{var e=b.value.extractPoints(v.curveSubdivision);if(!sx.isClockWise(e.shape)){e.shape=e.shape.reverse();var t,n=L(e.holes);try{for(n.s();!(t=n.n()).done;){var r=t.value;sx.isClockWise(r)&&(e.holes[h]=r.reverse())}}catch(e){n.e(e)}finally{n.f()}}var i=sx.triangulateShape(e.shape,e.holes),o=m,a=m.vertices.length;function s(e){var t,n=L(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;o.vertices.push(r)}}catch(e){n.e(e)}finally{n.f()}}s(e.shape);var u,l=L(e.holes);try{for(l.s();!(u=l.n()).done;)s(u.value)}catch(e){l.e(e)}finally{l.f()}var c,f=L(i);try{for(f.s();!(c=f.n()).done;){var p,y=L(c.value);try{for(y.s();!(p=y.n()).done;){var d=p.value;m.indices.push(a+d)}}catch(e){y.e(e)}finally{y.f()}}}catch(e){f.e(e)}finally{f.f()}})()}catch(e){r.e(e)}finally{r.f()}}else this.vertices=null},[{key:"GetVertices",value:function(t,n){return this.vertices.map(function(e){return e.clone().multiplyScalar(n).add(t)})}}]))()),Dx=(()=>Cx(function e(t){Ax(this,e),this.data=t,this.charMap=new Map;for(var n=0,r=Object.values(t.glyphs.glyphs);n<r.length;n++){var i=r[n];void 0!==i.unicode&&this.charMap.set(String.fromCodePoint(i.unicode),i)}this.scale=100/(72*(this.data.unitsPerEm||2048))},[{key:"HasChar",value:function(e){return this.charMap.has(e)}},{key:"GetCharPath",value:function(e){e=this.charMap.get(e);if(!e)return null;var t,n=this.scale,r=new fx,i=L(e.path.commands);try{for(i.s();!(t=i.n()).done;){var o=t.value;switch(o.type){case"M":r.moveTo(o.x*n,o.y*n);break;case"L":r.lineTo(o.x*n,o.y*n);break;case"Q":r.quadraticCurveTo(o.x1*n,o.y1*n,o.x*n,o.y*n);break;case"C":r.bezierCurveTo(o.x1*n,o.y1*n,o.x2*n,o.y2*n,o.x*n,o.y*n)}}}catch(e){i.e(e)}finally{i.f()}return{advance:e.advanceWidth*n,path:r,bounds:{xMin:e.xMin*n,xMax:e.xMax*n,yMin:e.yMin*n,yMax:e.yMax*n}}}},{key:"GetKerning",value:function(e,t){var n=this.data.charToGlyphIndex(e);return 0===n||0===(e=this.data.charToGlyphIndex(e))?0:this.data.getKerningValue(n,e)*this.scale}}]))(),Bx=Object.freeze({LEFT:0,CENTER:1,RIGHT:2,ALIGNED:3,MIDDLE:4,FIT:5}),Fx=Object.freeze({BASELINE:0,BOTTOM:1,MIDDLE:2,TOP:3}),Ux=Object.freeze({TOP_LEFT:1,TOP_CENTER:2,TOP_RIGHT:3,MIDDLE_LEFT:4,MIDDLE_CENTER:5,MIDDLE_RIGHT:6,BOTTOM_LEFT:7,BOTTOM_CENTER:8,BOTTOM_RIGHT:9}),zx=(()=>{function j(e,t){Ax(this,j),this.fontSize=e,this.charShapeProvider=t,this.curParagraph=new j.Paragraph(this),this.paragraphs=[this.curParagraph],this.spaceShape=t(" ")}return Cx(j,[{key:"FeedText",value:function(e){var o=Px().mark(a);function a(t){var n,r,i;return Px().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=L(t),e.prev=1,n.s();case 3:if((r=n.n()).done)e.next=13;else{if((i=r.value).type===kx.EntityType.SCOPE)return e.delegateYield(a(i.content),"t0",7);e.next=9}break;case 7:e.next=11;break;case 9:return e.next=11,i;case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(1),n.e(e.t1);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}},o,null,[[1,15,18,21]])}var t,n=null,r=L(a(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(i.type){case kx.EntityType.TEXT:var s,u=L(i.content);try{for(u.s();!(s=u.n()).done;){var l=s.value;" "===l?this.curParagraph.FeedSpace():this.curParagraph.FeedChar(l)}}catch(e){u.e(e)}finally{u.f()}break;case kx.EntityType.PARAGRAPH:this.curParagraph=new j.Paragraph(this),this.curParagraph.SetAlignment(n),this.paragraphs.push(this.curParagraph);break;case kx.EntityType.NON_BREAKING_SPACE:this.curParagraph.FeedChar(" ");break;case kx.EntityType.PARAGRAPH_ALIGNMENT:var c=null;switch(i.alignment){case"l":c=j.Paragraph.Alignment.LEFT;break;case"c":c=j.Paragraph.Alignment.CENTER;break;case"r":c=j.Paragraph.Alignment.RIGHT;break;case"d":c=j.Paragraph.Alignment.JUSTIFY;break;case"j":c=null}this.curParagraph.SetAlignment(c),n=c}}}catch(e){r.e(e)}finally{r.f()}}},{key:"Render",value:Px().mark(function e(t,n,r,i,o,a,s,u){var l,c,h,f,p,y,d,v,m,b,g,w,x,_,S,k,O,P,T,E,R,A,M,C;return Px().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=L(this.paragraphs);try{for(l.s();!(c=l.n()).done;)c.value.BuildLines(n)}catch(e){l.e(e)}finally{l.f()}if(null===n||0===n){n=0,h=L(this.paragraphs);try{for(h.s();!(f=h.n()).done;)p=f.value.GetMaxLineWidth(),n<p&&(n=p)}catch(e){h.e(e)}finally{h.f()}}y=j.Paragraph.Alignment.LEFT,e.t0=o,e.next=e.t0===Ux.TOP_CENTER||e.t0===Ux.MIDDLE_CENTER||e.t0===Ux.BOTTOM_CENTER?7:e.t0===Ux.TOP_RIGHT||e.t0===Ux.MIDDLE_RIGHT||e.t0===Ux.BOTTOM_RIGHT?9:11;break;case 7:return y=j.Paragraph.Alignment.CENTER,e.abrupt("break",11);case 9:return y=j.Paragraph.Alignment.RIGHT,e.abrupt("break",11);case 11:d=L(this.paragraphs);try{for(d.s();!(v=d.n()).done;)v.value.ApplyAlignment(n,y)}catch(e){d.e(e)}finally{d.f()}null!==i&&(r=180*Math.atan2(i.y,i.x)/Math.PI),m=5*a*this.fontSize/3,b=0,g=L(this.paragraphs);try{for(g.s();!(w=g.n()).done;)null===(x=w.value).lines?b++:b+=x.lines.length}catch(e){g.e(e)}finally{g.f()}b*=m,_=new U,e.t1=o,e.next=e.t1===Ux.TOP_LEFT?23:e.t1===Ux.TOP_CENTER?24:e.t1===Ux.TOP_RIGHT?26:e.t1===Ux.MIDDLE_LEFT?28:e.t1===Ux.MIDDLE_CENTER?30:e.t1===Ux.MIDDLE_RIGHT?33:e.t1===Ux.BOTTOM_LEFT?36:e.t1===Ux.BOTTOM_CENTER?38:e.t1===Ux.BOTTOM_RIGHT?41:44;break;case 23:return e.abrupt("break",45);case 24:return _.x=n/2,e.abrupt("break",45);case 26:return _.x=n,e.abrupt("break",45);case 28:return _.y=-b/2,e.abrupt("break",45);case 30:return _.x=n/2,_.y=-b/2,e.abrupt("break",45);case 33:return _.x=n,_.y=-b/2,e.abrupt("break",45);case 36:return _.y=-b,e.abrupt("break",45);case 38:return _.x=n/2,_.y=-b,e.abrupt("break",45);case 41:return _.x=n,_.y=-b,e.abrupt("break",45);case 44:throw new Error("Unhandled alignment");case 45:S=(new Sb).translate(-_.x,-_.y).rotate(-r*Math.PI/180).translate(t.x,t.y),k=-this.fontSize,O=L(this.paragraphs),e.prev=48,O.s();case 50:if((E=O.n()).done)e.next=85;else{if(null===(P=E.value).lines)return k-=m,e.abrupt("continue",83);e.next=55}break;case 55:T=L(P.lines),e.prev=56,T.s();case 58:if((E=T.n()).done){e.next=75;break}A=(R=E.value).startChunkIdx;case 61:if(A<R.startChunkIdx+R.numChunks){if(M=P.chunks[A],C=M.position,0!==A&&A===R.startChunkIdx||(C+=M.GetSpacingWidth()),(C=new U(C,k)).applyMatrix3(S),M.block)return e.delegateYield(M.block.Render(C,null,r,null,Bx.LEFT,Fx.BASELINE,s,u),"t2",69);e.next=69}else e.next=72;break;case 69:A++,e.next=61;break;case 72:k-=m;case 73:e.next=58;break;case 75:e.next=80;break;case 77:e.prev=77,e.t3=e.catch(56),T.e(e.t3);case 80:return e.prev=80,T.f(),e.finish(80);case 83:e.next=50;break;case 85:e.next=90;break;case 87:e.prev=87,e.t4=e.catch(48),O.e(e.t4);case 90:return e.prev=90,O.f(),e.finish(90);case 93:case"end":return e.stop()}},e,this,[[48,87,90,93],[56,77,80,83]])})}])})(),Gx=(zx.Paragraph=(()=>Cx(function e(t){Ax(this,e),this.textBox=t,this.chunks=[],this.curChunk=null,this.alignment=null,this.lines=null},[{key:"FeedChar",value:function(e){var t=this.textBox.charShapeProvider(e);null!==t&&(null===this.curChunk&&this._AddChunk(),this.curChunk.PushChar(e,t))}},{key:"FeedSpace",value:function(){null!==this.curChunk&&null===this.curChunk.lastChar||this._AddChunk(),this.curChunk.PushSpace()}},{key:"SetAlignment",value:function(e){this.alignment=e}},{key:"BuildLines",value:function(e){var t=this;if(null!==this.curChunk){this.lines=[];for(var n=0,r=0,i=0,o=function(){t.lines.push(new zx.Paragraph.Line(t,n,r-n,i)),n=r,i=0};r<this.chunks.length;r++){var a=this.chunks[r],s=a.GetWidth(0===n||r!==n);null!==e&&0!==e&&0!==i&&e<i+s&&o(),a.position=i,i+=s}n!==r&&0!==i&&o()}}},{key:"GetMaxLineWidth",value:function(){if(null===this.lines)return 0;var e,t=0,n=L(this.lines);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.width>t&&(t=r.width)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"ApplyAlignment",value:function(e,t){if(this.lines){var n,r=L(this.lines);try{for(r.s();!(n=r.n()).done;)n.value.ApplyAlignment(e,t)}catch(e){r.e(e)}finally{r.f()}}}},{key:"_AddChunk",value:function(){this.curChunk=new zx.Paragraph.Chunk(this,this.textBox.fontSize,this.curChunk),this.chunks.push(this.curChunk)}}]))(),zx.Paragraph.Alignment=Object.freeze({LEFT:0,CENTER:1,RIGHT:2,JUSTIFY:3}),zx.Paragraph.Chunk=(()=>Cx(function e(t,n,r){Ax(this,e),this.paragraph=t,this.fontSize=n,this.prevChunk=r,this.lastChar=null,this.lastShape=null,this.leadingSpaces=0,this.spaceStartKerning=null,this.spaceEndKerning=null,this.block=null,this.position=null},[{key:"PushSpace",value:function(){if(this.block)throw new Error("Illegal operation");this.leadingSpaces++}},{key:"PushChar",value:function(e,t){null===this.spaceStartKerning&&(0===this.leadingSpaces?(this.spaceStartKerning=0,this.spaceEndKerning=0):(this.prevChunk&&this.prevChunk.lastShape&&this.prevChunk.fontSize===this.fontSize&&this.prevChunk.lastShape.font===this.paragraph.textBox.spaceShape.font?this.spaceStartKerning=this.prevChunk.lastShape.font.GetKerning(this.prevChunk.lastChar," "):this.spaceStartKerning=0,t.font===this.paragraph.textBox.spaceShape.font?this.spaceEndKerning=t.font.GetKerning(" ",e):this.spaceEndKerning=0)),null===this.block&&(this.block=new Gx(this.fontSize)),this.block.PushChar(e,t),this.lastChar=e,this.lastShape=t}},{key:"GetSpacingWidth",value:function(){return(this.leadingSpaces*this.paragraph.textBox.spaceShape.advance+this.spaceStartKerning+this.spaceEndKerning)*this.fontSize}},{key:"GetWidth",value:function(e){var t;return null===this.block?0:(t=this.block.GetCurrentPosition(),e&&(t+=this.GetSpacingWidth()),t)}}]))(),zx.Paragraph.Line=(()=>Cx(function e(t,n,r,i){Ax(this,e),this.paragraph=t,this.startChunkIdx=n,this.numChunks=r,this.width=i},[{key:"ApplyAlignment",value:function(e,t){var n;switch(null!=(n=this.paragraph.alignment)?n:t){case zx.Paragraph.Alignment.LEFT:break;case zx.Paragraph.Alignment.CENTER:var r=(e-this.width)/2;this.ForEachChunk(function(e){return e.position+=r});break;case zx.Paragraph.Alignment.RIGHT:var i=e-this.width;this.ForEachChunk(function(e){return e.position+=i});break;case zx.Paragraph.Alignment.JUSTIFY:var o,a,s=e-this.width;s<=0||1===this.numChunks||(o=s/(this.numChunks-1),a=0,this.ForEachChunk(function(e){e.position+=a,a+=o}));break;default:throw new Error("Unhandled alignment: "+this.paragraph.alignment)}}},{key:"ForEachChunk",value:function(e){for(var t=0;t<this.numChunks;t++)e(this.paragraph.chunks[this.startChunkIdx+t])}}]))(),(()=>Cx(function e(t){Ax(this,e),this.fontSize=t,this.glyphs=[],this.bounds=null,this.curX=0,this.prevChar=null,this.prevFont=null},[{key:"PushChar",value:function(e,t){var n,r,i,o,a,s=null!==this.prevChar&&this.prevFont===t.font?this.prevFont.GetKerning(this.prevChar,e):0,s=this.curX+s*this.fontSize;t.vertices?(n=t.GetVertices({x:s,y:0},this.fontSize),r=s+t.bounds.xMin*this.fontSize,i=s+t.bounds.xMax*this.fontSize,o=t.bounds.yMin*this.fontSize,a=t.bounds.yMax*this.fontSize,null===this.bounds?this.bounds={xMin:r,xMax:i,yMin:o,yMax:a}:(r<this.bounds.xMin&&(this.bounds.xMin=r),o<this.bounds.yMin&&(this.bounds.yMin=o),i>this.bounds.xMax&&(this.bounds.xMax=i),a>this.bounds.yMax&&(this.bounds.yMax=a))):n=null,this.curX=s+t.advance*this.fontSize,this.glyphs.push({shape:t,vertices:n}),this.prevChar=e,this.prevFont=t.font}},{key:"GetCurrentPosition",value:function(){return this.curX}},{key:"Render",value:Px().mark(function e(t,n,r,i,o,a,s,u){var l,c,h,f,p,y,d,v,m,b,g,w=this;return Px().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this.bounds)return e.abrupt("return");e.next=2;break;case 2:n=null!=n?n:t,r?r*=-Math.PI/180:r=0,i=null!=i?i:1,o=null!=o?o:Bx.LEFT,a=null!=a?a:Fx.BASELINE,l=new U,c=new U(i,1),h=o===Bx.LEFT&&a===Fx.BASELINE||o===Bx.FIT||o===Bx.ALIGNED?new U(t.x,t.y):new U(n.x,n.y),f=function(){var e=n.x-t.x;return e<2*Number.MIN_VALUE?i:e/(w.bounds.xMax-w.bounds.xMin)},p=function(){return-Math.atan2(n.y-t.y,n.x-t.x)},e.t0=o,e.next=e.t0===Bx.LEFT?15:e.t0===Bx.CENTER?17:e.t0===Bx.RIGHT?19:e.t0===Bx.MIDDLE?21:e.t0===Bx.ALIGNED?24:e.t0===Bx.FIT?29:32;break;case 15:return l.x=this.bounds.xMin,e.abrupt("break",33);case 17:return l.x=(this.bounds.xMax-this.bounds.xMin)/2,e.abrupt("break",33);case 19:return l.x=this.bounds.xMax,e.abrupt("break",33);case 21:return l.x=(this.bounds.xMax-this.bounds.xMin)/2,l.y=(this.bounds.yMax-this.bounds.yMin)/2,e.abrupt("break",33);case 24:return v=f(),c.x=v,c.y=v,r=p(),e.abrupt("break",33);case 29:return c.x=f(),r=p(),e.abrupt("break",33);case 32:console.warn("Unrecognized hAlign value: "+o);case 33:e.t1=a,e.next=e.t1===Fx.BASELINE?36:e.t1===Fx.BOTTOM?37:e.t1===Fx.MIDDLE?39:e.t1===Fx.TOP?41:43;break;case 36:return e.abrupt("break",44);case 37:return l.y=this.bounds.yMin,e.abrupt("break",44);case 39:return l.y=(this.bounds.yMax-this.bounds.yMin)/2,e.abrupt("break",44);case 41:return l.y=this.bounds.yMax,e.abrupt("break",44);case 43:console.warn("Unrecognized vAlign value: "+a);case 44:y=(new Sb).translate(-l.x,-l.y).scale(c.x,c.y).rotate(r).translate(h.x,h.y),d=L(this.glyphs),e.prev=46,d.s();case 48:if((v=d.n()).done){e.next=57;break}if(!(m=v.value).vertices){e.next=55;break}b=L(m.vertices);try{for(b.s();!(g=b.n()).done;)g.value.applyMatrix3(y)}catch(e){b.e(e)}finally{b.f()}return e.next=55,new z({type:z.Type.TRIANGLES,vertices:m.vertices,indices:m.shape.indices,layer:u,color:s});case 55:e.next=48;break;case 57:e.next=62;break;case 59:e.prev=59,e.t2=e.catch(46),d.e(e.t2);case 62:return e.prev=62,d.f(),e.finish(62);case 65:case"end":return e.stop()}},e,this,[[46,59,62,65]])})}]))());function Hx(){}function Vx(e){this._tree=e,this._ancestors=[],this._cursor=null}function Yx(e){this.data=e,this.left=null,this.right=null,this.red=!0}function Wx(e){this._root=null,this._comparator=e,this.size=0}function qx(e){return null!==e&&e.red}function Xx(e,t){var n=e.get_child(!t);return e.set_child(!t,n.get_child(t)),n.set_child(t,e),e.red=!0,n.red=!1,n}function Zx(e,t){return e.set_child(!t,Xx(e.get_child(!t),!t)),Xx(e,t)}function Jx(e){return(Jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kx(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(r=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){i=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(i)throw n}}};if(Array.isArray(e)||(a=((e,t)=>{var n;if(e)return"string"==typeof e?Qx(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qx(e,t):void 0})(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=Jx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=Jx(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==Jx(e)?e:e+""))(r.key),r)}}function t_(e,t,n){return t&&e_(e.prototype,t),n&&e_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Hx.prototype.clear=function(){this._root=null,this.size=0},Hx.prototype.find=function(e){for(var t=this._root;null!==t;){var n=this._comparator(e,t.data);if(0===n)return t.data;t=t.get_child(0<n)}return null},Hx.prototype.findIter=function(e){for(var t=this._root,n=this.iterator();null!==t;){var r=this._comparator(e,t.data);if(0===r)return n._cursor=t,n;n._ancestors.push(t),t=t.get_child(0<r)}return null},Hx.prototype.lowerBound=function(e){for(var t=this._root,n=this.iterator(),r=this._comparator;null!==t;){var i=r(e,t.data);if(0===i)return n._cursor=t,n;n._ancestors.push(t),t=t.get_child(0<i)}for(var o=n._ancestors.length-1;0<=o;--o)if(r(e,(t=n._ancestors[o]).data)<0)return n._cursor=t,n._ancestors.length=o,n;return n._ancestors.length=0,n},Hx.prototype.upperBound=function(e){for(var t=this.lowerBound(e),n=this._comparator;null!==t.data()&&0===n(t.data(),e);)t.next();return t},Hx.prototype.min=function(){var e=this._root;if(null===e)return null;for(;null!==e.left;)e=e.left;return e.data},Hx.prototype.max=function(){var e=this._root;if(null===e)return null;for(;null!==e.right;)e=e.right;return e.data},Hx.prototype.iterator=function(){return new Vx(this)},Hx.prototype.each=function(e){for(var t,n=this.iterator();null!==(t=n.next());)e(t)},Hx.prototype.reach=function(e){for(var t,n=this.iterator();null!==(t=n.prev());)e(t)},Vx.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},Vx.prototype.next=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._minNode(e)}else{var t;if(null===this._cursor.right){do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}}while(this._cursor=this._ancestors.pop(),this._cursor.right===t)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},Vx.prototype.prev=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._maxNode(e)}else{var t;if(null===this._cursor.left){do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}}while(this._cursor=this._ancestors.pop(),this._cursor.left===t)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},Vx.prototype._minNode=function(e){for(;null!==e.left;)this._ancestors.push(e),e=e.left;this._cursor=e},Vx.prototype._maxNode=function(e){for(;null!==e.right;)this._ancestors.push(e),e=e.right;this._cursor=e},Yx.prototype.get_child=function(e){return e?this.right:this.left},Yx.prototype.set_child=function(e,t){e?this.right=t:this.left=t},(Wx.prototype=new Hx).insert=function(e){var t=!1;if(null===this._root)this._root=new Yx(e),t=!0,this.size++;else{var n=new Yx(void 0),r=0,i=0,o=null,a=n,s=null,u=this._root;for(a.right=this._root;;){null===u?(u=new Yx(e),s.set_child(r,u),t=!0,this.size++):qx(u.left)&&qx(u.right)&&(u.red=!0,u.left.red=!1,u.right.red=!1),qx(u)&&qx(s)&&(l=a.right===o,u===s.get_child(i)?a.set_child(l,Xx(o,!i)):a.set_child(l,Zx(o,!i)));var l=this._comparator(u.data,e);if(0===l)break;i=r,null!==o&&(a=o),o=s,u=(s=u).get_child(r=l<0)}this._root=n.right}return this._root.red=!1,t},Wx.prototype.remove=function(e){if(null===this._root)return!1;for(var t=new Yx(void 0),n=((u=t).right=this._root,null),r=null,i=null,o=1;null!==u.get_child(o);){var a,s=o,r=n,n=u,u=u.get_child(o),l=this._comparator(e,u.data),o=0<l;0===l&&(i=u),qx(u)||qx(u.get_child(o))||(qx(u.get_child(!o))?(l=Xx(u,o),n.set_child(s,l),n=l):qx(u.get_child(!o))||null!==(l=n.get_child(!s))&&(qx(l.get_child(!s))||qx(l.get_child(s))?(a=r.right===n,qx(l.get_child(s))?r.set_child(a,Zx(n,s)):qx(l.get_child(!s))&&r.set_child(a,Xx(n,s)),(s=r.get_child(a)).red=!0,u.red=!0,s.left.red=!1,s.right.red=!1):(n.red=!1,l.red=!0,u.red=!0)))}return null!==i&&(i.data=u.data,n.set_child(n.right===u,u.get_child(null===u.left)),this.size--),this._root=t.right,null!==this._root&&(this._root.red=!1),null!==i};var n_=(()=>t_(function e(){$x(this,e),this.lines=[],this.triangles=[],this.texts=[]},[{key:"AddLine",value:function(e,t){this.lines.push({start:e,end:t,color:2<arguments.length&&void 0!==arguments[2]?arguments[2]:null})}},{key:"AddTriangles",value:function(e,t){this.triangles.push({vertices:e,indices:t,color:2<arguments.length&&void 0!==arguments[2]?arguments[2]:null})}},{key:"AddText",value:function(e,t,n,r,i){this.texts.push({text:e,size:t,angle:n,color:r,position:i})}}]))(),r_={vertices:[new U(0,0),new U(1,-.25),new U(1,.25)],indices:[0,1,2]},i_=(()=>t_(function e(t,n,r){$x(this,e),this.params=t,this.styleResolver=n,this.textWidthCalculator=r,this.isValid=!0,this._CalculateGeometry()},[{key:"IsValid",value:function(){return this.isValid}},{key:"GetTexts",value:function(){return[this._GetText()]}},{key:"GenerateLayout",value:function(){function e(e,t){var n=t.clone().sub(e);0!=n.length()&&(n.normalize(),e=e.clone(),0!=v&&e.add(n.clone().multiplyScalar(v)),t=t.clone(),0!=m&&t.add(n.clone().multiplyScalar(m)),r.AddLine(e,t,d))}var r=new n_,t=this.d1.distanceTo(this.d2),n=this.styleResolver("DIMCLRD"),i=null!=(i=this.styleResolver("DIMSCALE"))?i:1,o=(0==i&&(i=1),this._GetText()),a=(null!=(a=this.styleResolver("DIMTXT"))?a:1)*i,s=(this.textWidthCalculator(o,a),this.styleResolver("DIMCLRT")),u=(null!=(c=this.styleResolver("DIMASZ"))?c:1)*i,l=(null!=(c=this.styleResolver("DIMTSZ"))?c:0)*i,c=this.params.textAnchor,h=!1,f=this.d1.clone(),p=(null!=(p=this.styleResolver("DIMDLE"))?p:0)*i,y=(0!=p&&f.add(this.vDim.clone().multiplyScalar(-p)),this.d2.clone()),f=(0!=p&&y.add(this.vDim.clone().multiplyScalar(p)),r.AddLine(f,y,n),t<2*u&&(h=!0),c=c||this.vDim.clone().multiplyScalar(this.d1.distanceTo(this.d2)/2).add(this.d1).add(this.vDimNorm.clone().multiplyScalar(.75*a)),180*this.vDimNorm.angle()/Math.PI-90+(null!=(p=this.params.textRotation)?p:0)),d=(r.AddText(o,a,f,s,c),this.styleResolver("DIMCLRE")),v=(null!=(y=this.styleResolver("DIMEXO"))?y:0)*i,m=(null!=(t=this.styleResolver("DIMEXE"))?t:0)*i;null!=(p=this.styleResolver("DIMSE1"))&&p||e(this.params.p1,this.d1),null!=(o=this.styleResolver("DIMSE2"))&&o||e(this.params.p2,this.d2);for(var b=0;b<2;b++){var g=0==b?this.d1:this.d2,w=1==b,x=(h&&(w=!w),(new Sb).identity()),w=(0<l?x.scale(l,l):(x.scale(u,u),w&&x.scale(-1,1)),-this.vDim.angle());x.rotate(w),x.translate(g.x,g.y),0<l?this._CreateTick(r,x,n):this._CreateArrowShape(r,x,n)}return r}},{key:"_CreateArrowShape",value:function(e,t,n){var r,i=[],o=Kx(r_.vertices);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push(a.clone().applyMatrix3(t))}}catch(e){o.e(e)}finally{o.f()}e.AddTriangles(i,r_.indices,n)}},{key:"_CreateTick",value:function(e,t,n){e.AddLine(new U(.5,.5).applyMatrix3(t),new U(-.5,-.5).applyMatrix3(t),n)}},{key:"_CalculateGeometry",value:function(){var e;this.vBase=this.params.p2.clone().sub(this.params.p1).normalize(),this.params.isAligned?this.vDim=this.vBase:(e=(null!=(e=this.params.angle)?e:0)*Math.PI/180,this.vDim=new U(Math.cos(e),Math.sin(e))),this.d1=this.vDim.clone().multiplyScalar(this.params.p1.clone().sub(this.params.anchor).dot(this.vDim)).add(this.params.anchor),this.d2=this.vDim.clone().multiplyScalar(this.params.p2.clone().sub(this.params.anchor).dot(this.vDim)).add(this.params.anchor),0==this.d1.distanceTo(this.d2)&&(this.isValid=!1),this.vDim.copy(this.d2).sub(this.d1).normalize(),this.vDim.y<-this.vDim.x?this.vDimNorm=new U(this.vDim.y,-this.vDim.x):this.vDimNorm=new U(-this.vDim.y,this.vDim.x)}},{key:"_GetText",value:function(){var e,t,n;return" "==this.params.text?"":""!=(null!=(t=this.params.text)?t:"")&&-1==this.params.text.indexOf("<>")?Lx(this.params.text):(t=this.d2.distanceTo(this.d1),t*=null!=(e=this.styleResolver("DIMLFAC"))?e:1,0<(e=null!=(e=this.styleResolver("DIMRND"))?e:0)&&(t=e*Math.round(t/e)),n=0!=(4&(e=null!=(e=this.styleResolver("DIMZIN"))?e:0)),e=0!=(8&e),t=t.toFixed(null!=(t=this.styleResolver("DIMDEC"))?t:2),e&&(t=t.replace(/.0+$/,"")),(t=n?t.replace(/^0+/,""):t).startsWith(".")?t="0"+t:""==t&&(t="0"),t.endsWith(".")&&(t=t.substring(0,t.length-1)),n=null!=(e=this.styleResolver("DIMDSEP"))?e:".","."!=(n=isNaN(n)?n:String.fromCharCode(n))&&(t=t.replace(".",n)),""!=(n=null!=(e=this.styleResolver("DIMPOST"))?e:"")&&(-1!=n.indexOf("<>")?t=n.replaceAll("<>",t):t+=n),Lx(t=""!=(null!=(e=this.params.text)?e:"")?this.params.text.replaceAll("<>",t):t))}}]))();function o_(e){return(o_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=o_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=o_(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==o_(e)?e:e+""))(r.key),r)}}var s_=new U,u_=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new U(1/0,1/0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new U(-1/0,-1/0),r=this,i=e;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");this.isBox2=!0,this.min=t,this.max=n},(t=[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){t=s_.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,s_).distanceTo(e)}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}])&&a_(e.prototype,t),n&&a_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function l_(e,t,n,r,i){var o,i=4<arguments.length&&void 0!==i&&i,t=t.clone().sub(e),r=r.clone().sub(n);return 0==t.lengthSq()||0==r.lengthSq()||(o=t.cross(r),Math.abs(o)<=Number.EPSILON)||(e=(n=n.clone().sub(e)).cross(r)/o,!i&&(e<0||1<e))||(r=n.cross(t)/o,!i&&(r<0||1<r))?null:[e,r,o]}function c_(e,t,n){(t=g_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function h_(e){return(h_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f_(e,t){return(e=>{if(Array.isArray(e))return e})(e)||((e,t)=>{var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}})(e,t)||y_(e,t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function p_(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(r=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){i=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(i)throw n}}};if(Array.isArray(e)||(a=y_(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y_(e,t){var n;if(e)return"string"==typeof e?d_(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d_(e,t):void 0}function d_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g_(r.key),r)}}function b_(e,t,n){return t&&m_(e.prototype,t),n&&m_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g_(e){e=((e,t)=>{if("object"!=h_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=h_(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string");return"symbol"==h_(e)?e:e+""}var w_=Object.freeze({ODD_PARITY:0,OUTERMOST:1,THROUGH_ENTIRE_AREA:2});function x_(e,t){return 0<(0<e.intersection[2]&&t.intersection[2])||e.intersection[2]<0&&t.intersection[2]<0}var __=(()=>b_(function e(t,n,r){v_(this,e),this.style=n,this.line=r,this.lineDir=r[1].clone().sub(r[0]).normalize(),this.loops=[];for(var i=0;i<t.length;i++){for(var o=t[i],a=[],s=0;s<o.length;s++)a.push({idx:s,start:o[s],end:o[s==o.length-1?0:s+1],loopIdx:i});this.loops.push(a)}},[{key:"Calculate",value:function(){return this._ProcessEdges(),this._CreateNodes(),this.nodes.sort(function(e,t){return e.intersection[0]-t.intersection[0]}),this.style==w_.ODD_PARITY?this._GenerateOddParitySegments():this._GenerateThroughAllSegments()}},{key:"_ProcessEdges",value:function(){var e,t=p_(this.loops);try{for(t.s();!(e=t.n()).done;){var n,r=p_(e.value);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=o.end.clone().sub(o.start),s=a.length();o.isZero=s<=Number.EPSILON,o.isZero||(a.divideScalar(s),i=a.cross(this.lineDir),o.isParallel=Math.abs(i)<=1e-6,o.isParallel)||(o.intersection=l_(this.line[0],this.line[1],o.start,o.end,!0))}}catch(e){r.e(e)}finally{r.f()}}}catch(e){t.e(e)}finally{t.f()}}},{key:"_CreateNodes",value:function(){this.nodes=[];var e,t=p_(this.loops);try{for(t.s();!(e=t.n()).done;){var n,r=p_(e.value);try{for(r.s();!(n=r.n()).done;){var i,o,a,s,u,l=n.value;l.isZero||l.isParallel||l.isProcessed||!l.intersection||l.intersection[1]<-1e-4||1.0001<l.intersection[1]||((i=l.intersection[1]<=1e-4)||.9999<=l.intersection[1]?(u=(o=f_(this._GetConnectedEdge(l,i),2))[0],a=o[1],u&&(l.isProcessed=!0,u.isProcessed=!0,a?x_(l,u)&&(l.toggle=!0,this.nodes.push(l)):(l.intersection[0]>u.intersection[0]&&(s=u,u=l,l=s),l.suppress=!0,u.unsuppress=!0,this.nodes.push(l),x_(l,u)&&(u.toggle=!0),this.nodes.push(u)))):(l.isProcessed=!0,l.toggle=!0,this.nodes.push(l)))}}catch(e){r.e(e)}finally{r.f()}}}catch(e){t.e(e)}finally{t.f()}}},{key:"_GetConnectedEdge",value:function(e,t){var n=this.loops[e.loopIdx],r=e.idx,i=!0;do{t?0==r?r=n.length-1:r--:r==n.length-1?r=0:r++;var o=n[r];if(!o.isZero&&!o.isParallel)return[o,i]}while(i=!1,r!=e.idx);return[null,!1]}},{key:"_GenerateOddParitySegments",value:function(){var e,t=[],n=!1,r=0,i=null,o=p_(this.nodes);try{for(o.s();!(e=o.n()).done;){var a=e.value;a.suppress&&r++,a.unsuppress&&r--,a.toggle&&(n=!n),0==r&&n&&(a.unsuppress||a.toggle)?i=a:!r&&n||!i||(a.intersection[0]-i.intersection[0]>Number.EPSILON&&t.push([i.intersection[0],a.intersection[0]]),i=null)}}catch(e){o.e(e)}finally{o.f()}return t}},{key:"_GenerateThroughAllSegments",value:function(){var e=[],t=0,n=null,r=new Array(this.loops.length).fill(0);function i(){var e,t=p_(r);try{for(t.s();!(e=t.n()).done;)if(0!=e.value)return!1}catch(e){t.e(e)}finally{t.f()}return!0}var o,a=p_(this.nodes);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=(s.suppress&&t++,s.unsuppress&&t--,i());s.toggle&&(0<s.intersection[2]?r[s.loopIdx]++:r[s.loopIdx]--),0!=t||i()||!s.unsuppress&&!u?(t||i())&&n&&(s.intersection[0]-n.intersection[0]>Number.EPSILON&&e.push([n.intersection[0],s.intersection[0]]),n=null):n=s}}catch(e){a.e(e)}finally{a.f()}return e}}]))(),S_=(()=>b_(function e(t,n){v_(this,e),c_(this,"boundaryLoops",void 0),c_(this,"style",void 0),this.boundaryLoops=t,this.style=n},[{key:"ClipLine",value:function(e){return new __(this.boundaryLoops,this.style,e).Calculate()}},{key:"GetPatternTransform",value:function(e){var t=e.seedPoint,n=e.angle,e=e.scale,t=(new Sb).makeTranslation(-t.x,-t.y);return n&&t.rotate(n),1!=(null!=e?e:1)&&t.scale(1/e,1/e),t}},{key:"GetLineTransform",value:function(e){var t=e.patTransform,n=e.basePoint,e=e.angle,t=t.clone();return n&&t.translate(-n.x,-n.y),e&&t.rotate(e),t}},{key:"GetBoundingBox",value:function(e){var t,n=new u_,r=p_(this.boundaryLoops);try{for(r.s();!(t=r.n()).done;){var i,o=p_(t.value);try{for(o.s();!(i=o.n()).done;){var a=i.value;n.expandByPoint(a.clone().applyMatrix3(e))}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}return n}}]))();function k_(e){return(k_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O_(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(r=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){i=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(i)throw n}}};if(Array.isArray(e)||(a=((e,t)=>{var n;if(e)return"string"==typeof e?P_(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P_(e,t):void 0})(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function T_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=k_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=k_(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==k_(e)?e:e+""))(r.key),r)}}var N=(()=>{function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=this,i=c;if(!(r instanceof i))throw new TypeError("Cannot call a class as a function");this.lines=e,this.name=t,this.offsetInLineSpace=n}return e=c,n=[{key:"ParsePatFile",value:function(e){e=e.split(/\r?\n/);if(e.length<2)throw new Error("Invalid .pat file content");var t,n=null,r=[],i=O_(e);try{for(i.s();!(t=i.n()).done;){var o=(o=t.value).trim();if(""!=o&&!o.startsWith(";"))if(null===n){var a=o.match(/\*([^,]+)(?:,.*)?/);if(!a)throw new Error("Bad header for .pat file content");n=a[1]}else{var s=o.indexOf(";"),u=(o=-1!=s?o.substring(0,s).trim():o).split(/\s*,\s*/),l=(""==u[u.length-1]&&(u.length=u.length-1),{angle:(u=u.map(function(e){var t=parseFloat(e);if(isNaN(t))throw new Error("Failed to parse number in .pat file: "+e);return t}))[0]*Math.PI/180,base:new U(u[1],u[2]),offset:new U(u[3],u[4])});5<u.length&&(l.dashes=u.slice(5)),r.push(l)}}}catch(e){i.e(e)}finally{i.f()}return new c(r,n)}}],(t=null)&&T_(e.prototype,t),n&&T_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})(),E_=new Map,R_=new Map;function k(e,t){t=!(1<arguments.length&&void 0!==t)||t;if(!e.name)throw new Error("Anonymous pattern cannot be registered");var n=e.name.toUpperCase(),t=t?E_:R_;t.has(n)?console.warn("Pattern with name ".concat(n," is already registered")):t.set(n,e)}function A_(e,t){return(!(1<arguments.length&&void 0!==t)||t?E_:R_).get(e.toUpperCase())}function M_(e){return(M_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}k(N.ParsePatFile("\n*ACAD_ISO02W100,ACAD_ISO02W100\n0, 0,0, 0,5, 12,-3\n")),k(N.ParsePatFile("\n*ACAD_ISO03W100,ACAD_ISO03W100\n0, 0,0, 0,5, 12,-18\n")),k(N.ParsePatFile("\n*ACAD_ISO04W100,ACAD_ISO04W100\n0, 0,0, 0,5, 24,-3,.5,-3\n")),k(N.ParsePatFile("\n*ACAD_ISO05W100,ACAD_ISO05W100\n0, 0,0, 0,5, 24,-3,.5,-3,.5,-3\n")),k(N.ParsePatFile("\n*ACAD_ISO06W100,ACAD_ISO06W100\n0, 0,0, 0,5, 24,-3,.5,-3,.5,-6.5\n0, 0,0, 0,5, -34,.5,-3\n")),k(N.ParsePatFile("\n*ACAD_ISO07W100,ACAD_ISO07W100\n0, 0,0, 0,5, .5,-3\n")),k(N.ParsePatFile("\n*ACAD_ISO08W100,ACAD_ISO08W100\n0, 0,0, 0,5, 24,-3,6,-3\n")),k(N.ParsePatFile("\n*ACAD_ISO09W100,ACAD_ISO09W100\n0, 0,0, 0,5, 24,-3,6,-3,6,-3\n")),k(N.ParsePatFile("\n*ACAD_ISO10W100,ACAD_ISO10W100\n0, 0,0, 0,5, 12,-3,.5,-3\n")),k(N.ParsePatFile("\n*ACAD_ISO11W100,ACAD_ISO11W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-3\n")),k(N.ParsePatFile("\n*ACAD_ISO12W100,ACAD_ISO12W100\n0, 0,0, 0,5, 12,-3,.5,-3,.5,-3\n")),k(N.ParsePatFile("\n*ACAD_ISO13W100,ACAD_ISO13W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-6.5\n0, 0,0, 0,5, -33.5,.5,-3\n")),k(N.ParsePatFile("\n*ACAD_ISO14W100,ACAD_ISO14W100\n0, 0,0, 0,5, 12,-3,.5,-3,.5,-6.5\n0, 0,0, 0,5, -22,.5,-3\n")),k(N.ParsePatFile("\n*ACAD_ISO15W100,ACAD_ISO15W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-10\n0, 0,0, 0,5, -33.5,.5,-3,.5,-3\n")),k(N.ParsePatFile("\n*ANGLE,ANGLE\n0, 0,0, 0,6.985, 5.08,-1.905\n90, 0,0, 0,6.985, 5.08,-1.905\n")),k(N.ParsePatFile("\n*ANSI31,ANSI31\n45, 0,0, 0,3.175\n")),k(N.ParsePatFile("\n*ANSI32,ANSI32\n45, 0,0, 0,9.525\n45, 4.49013,0, 0,9.525\n")),k(N.ParsePatFile("\n*ANSI33,ANSI33\n45, 0,0, 0,6.35\n45, 4.49013,0, 0,6.35, 3.175,-1.5875\n")),k(N.ParsePatFile("\n*ANSI34,ANSI34\n45, 0,0, 0,19.05\n45, 4.49013,0, 0,19.05\n45, 8.98026,0, 0,19.05\n45, 13.4704,0, 0,19.05\n")),k(N.ParsePatFile("\n*ANSI35,ANSI35\n45, 0,0, 0,6.35\n45, 4.49013,0, 0,6.35, 7.9375,-1.5875,0,-1.5875\n")),k(N.ParsePatFile("\n*ANSI36,ANSI36\n45, 0,0, 5.55625,3.175, 7.9375,-1.5875,0,-1.5875\n")),k(N.ParsePatFile("\n*ANSI37,ANSI37\n45, 0,0, 0,3.175\n135, 0,0, 0,3.175\n")),k(N.ParsePatFile("\n*ANSI38,ANSI38\n45, 0,0, 0,3.175\n135, 0,0, 6.35,3.175, 7.9375,-4.7625\n")),k(N.ParsePatFile("\n*AR-B816,AR-B816\n0, 0,0, 0,203.2\n90, 0,0, 203.2,203.2, 203.2,-203.2\n")),k(N.ParsePatFile("\n*AR-B816C,AR-B816C\n0, 0,0, 203.2,203.2, 396.875,-9.525\n0, -203.2,9.525, 203.2,203.2, 396.875,-9.525\n90, 0,0, 203.2,203.2, -212.725,193.675\n90, -9.525,0, 203.2,203.2, -212.725,193.675\n")),k(N.ParsePatFile("\n*AR-B88,AR-B88\n0, 0,0, 0,203.2\n90, 0,0, 203.2,101.6, 203.2,-203.2\n")),k(N.ParsePatFile("\n*AR-BRELM,AR-BRELM\n0, 0,0, 0,135.484, 193.675,-9.525\n0, 0,57.15, 0,135.484, 193.675,-9.525\n0, 50.8,67.7418, 0,135.484, 92.075,-9.525\n0, 50.8,124.892, 0,135.484, 92.075,-9.525\n90, 0,0, 0,203.2, 57.15,-78.3336\n90, -9.525,0, 0,203.2, 57.15,-78.3336\n90, 50.8,67.7418, 0,101.6, 57.15,-78.3336\n90, 41.275,67.7418, 0,101.6, 57.15,-78.3336\n")),k(N.ParsePatFile("\n*AR-BRSTD,AR-BRSTD\n0, 0,0, 0,67.7418\n90, 0,0, 67.7418,101.6, 67.7418,-67.7418\n")),k(N.ParsePatFile("\n*AR-CONC-01,AR-CONC-01\n;Optimize to replace existing AR-CONC Pattern\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n243.434949,7.62,20.32,227.18450626,113.5922544,5.67961272,-562.2816542\n90,7.62,15.24,0,254,5.08,-248.92\n0,5.08,15.24,0,254,2.54,-251.46\n315,2.54,2.54,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,7.62,5.08,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,5.08,0,227.18450626,113.5922544,5.67961272,-562.2816542\n45,50.8,10.16,179.60512212,179.60512212,7.18420458,-352.02603966\n161.565051,58.42,7.62,240.9655582,80.32185358,8.03218612,-795.18633952\n288.434949,55.88,15.24,562.25296744,80.32185358,8.03218612,-795.18633952\n315,58.42,22.86,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,63.5,25.4,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,60.96,20.32,227.18450626,113.5922544,5.67961272,-562.2816542\n270,104.14,15.24,0,254,5.08,-248.92\n45,99.06,10.16,179.60512212,179.60512212,7.18420458,-352.02603966\n180,104.14,10.16,0,254,5.08,-248.92\n333.434949,99.06,5.08,227.18450626,113.5922544,5.67961272,-562.2816542\n225,101.6,7.62,179.60512212,179.60512212,3.59210356,-355.61814322\n116.565051,104.14,2.54,340.77676066,113.5922544,5.67961272,-562.2816542\n198.434949,160.02,20.32,562.25296744,80.32185358,8.03218612,-795.18633952\n63.434949,157.48,15.24,227.18450626,113.5922544,5.67961272,-562.2816542\n333.434949,152.4,17.78,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,144.78,0,340.77676066,113.5922544,5.67961272,-562.2816542\n251.565051,147.32,7.62,240.9655582,80.32185358,8.03218612,-795.18633952\n116.565051,149.86,2.54,340.77676066,113.5922544,5.67961272,-562.2816542\n45,170.18,2.54,179.60512212,179.60512212,7.18420458,-352.02603966\n161.565051,177.8,0,240.9655582,80.32185358,8.03218612,-795.18633952\n288.434949,175.26,7.62,562.25296744,80.32185358,8.03218612,-795.18633952\n315,76.2,71.12,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,81.28,73.66,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,78.74,68.58,227.18450626,113.5922544,5.67961272,-562.2816542\n45,27.94,20.32,179.60512212,179.60512212,7.18420458,-352.02603966\n180,33.02,20.32,0,254,5.08,-248.92\n270,33.02,25.4,0,254,5.08,-248.92\n225,45.72,60.96,179.60512212,179.60512212,3.59210356,-355.61814322\n270,45.72,66.04,0,254,5.08,-248.92\n71.565051,43.18,58.42,240.9655582,80.32185358,8.03218612,-795.18633952\n198.434949,25.4,53.34,562.25296744,80.32185358,8.03218612,-795.18633952\n63.434949,22.86,48.26,227.18450626,113.5922544,5.67961272,-562.2816542\n333.434949,17.78,50.8,227.18450626,113.5922544,5.67961272,-562.2816542\n0,88.9,55.88,0,254,5.08,-248.92\n225,93.98,60.96,179.60512212,179.60512212,7.18420458,-352.02603966\n90,93.98,55.88,0,254,5.08,-248.92\n315,114.3,43.18,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,119.38,45.72,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,116.84,40.64,227.18450626,113.5922544,5.67961272,-562.2816542\n315,139.7,53.34,179.60512212,179.60512212,3.59210356,-355.61814322\n270,139.7,58.42,0,254,5.08,-248.92\n108.434949,142.24,50.8,562.25296744,80.32185358,8.03218612,-795.18633952\n206.565051,175.26,68.58,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,172.72,63.5,227.18450626,113.5922544,5.67961272,-562.2816542\n315,170.18,66.04,179.60512212,179.60512212,3.59210356,-355.61814322\n333.434949,185.42,48.26,227.18450626,113.5922544,5.67961272,-562.2816542\n225,187.96,50.8,179.60512212,179.60512212,3.59210356,-355.61814322\n116.565051,190.5,45.72,340.77676066,113.5922544,5.67961272,-562.2816542\n26.565051,208.28,38.1,340.77676066,113.5922544,5.67961272,-562.2816542\n153.434949,213.36,35.56,227.18450626,113.5922544,5.67961272,-562.2816542\n270,213.36,40.64,0,254,5.08,-248.92\n180,236.22,43.18,0,254,2.54,-251.46\n270,236.22,45.72,0,254,2.54,-251.46\n45,233.68,43.18,179.60512212,179.60512212,3.59210356,-355.61814322\n153.434949,236.22,60.96,227.18450626,113.5922544,5.67961272,-562.2816542\n270,236.22,68.58,0,254,7.62,-246.38\n45,231.14,63.5,179.60512212,179.60512212,7.18420458,-352.02603966\n206.565051,231.14,88.9,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,228.6,83.82,227.18450626,113.5922544,5.67961272,-562.2816542\n315,226.06,86.36,179.60512212,179.60512212,3.59210356,-355.61814322\n180,165.1,73.66,0,254,5.08,-248.92\n270,165.1,81.28,0,254,7.62,-246.38\n56.309932,160.02,73.66,563.57539812,70.4469254,9.15809954,-906.65192304\n198.434949,137.16,96.52,562.25296744,80.32185358,8.03218612,-795.18633952\n71.565051,134.62,88.9,240.9655582,80.32185358,8.03218612,-795.18633952\n315,129.54,93.98,179.60512212,179.60512212,7.18420458,-352.02603966\n180,96.52,83.82,0,254,7.62,-246.38\n270,96.52,91.44,0,254,7.62,-246.38\n45,88.9,83.82,179.60512212,179.60512212,10.77630814,-348.43393864\n225,83.82,109.22,179.60512212,179.60512212,7.18420458,-352.02603966\n90,83.82,104.14,0,254,5.08,-248.92\n0,78.74,104.14,0,254,5.08,-248.92\n206.565051,40.64,99.06,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,38.1,93.98,227.18450626,113.5922544,5.67961272,-562.2816542\n315,35.56,96.52,179.60512212,179.60512212,3.59210356,-355.61814322\n108.434949,25.4,93.98,562.25296744,80.32185358,8.03218612,-795.18633952\n341.565051,17.78,96.52,240.9655582,80.32185358,8.03218612,-795.18633952\n225,22.86,101.6,179.60512212,179.60512212,7.18420458,-352.02603966\n270,38.1,114.3,0,254,5.08,-248.92\n45,33.02,109.22,179.60512212,179.60512212,7.18420458,-352.02603966\n180,38.1,109.22,0,254,5.08,-248.92\n315,91.44,119.38,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,96.52,121.92,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,93.98,116.84,227.18450626,113.5922544,5.67961272,-562.2816542\n0,129.54,101.6,0,254,2.54,-251.46\n225,132.08,104.14,179.60512212,179.60512212,3.59210356,-355.61814322\n90,132.08,101.6,0,254,2.54,-251.46\n0,175.26,96.52,0,254,5.08,-248.92\n243.434949,177.8,101.6,227.18450626,113.5922544,5.67961272,-562.2816542\n116.565051,180.34,96.52,340.77676066,113.5922544,5.67961272,-562.2816542\n26.565051,185.42,114.3,340.77676066,113.5922544,5.67961272,-562.2816542\n116.565051,187.96,109.22,340.77676066,113.5922544,5.67961272,-562.2816542\n251.565051,190.5,116.84,240.9655582,80.32185358,8.03218612,-795.18633952\n63.434949,223.52,91.44,227.18450626,113.5922544,5.67961272,-562.2816542\n180,228.6,91.44,0,254,5.08,-248.92\n296.565051,226.06,96.52,340.77676066,113.5922544,5.67961272,-562.2816542\n180,228.6,137.16,0,254,7.62,-246.38\n270,228.6,144.78,0,254,7.62,-246.38\n45,220.98,137.16,179.60512212,179.60512212,10.77630814,-348.43393864\n180,218.44,142.24,0,254,5.08,-248.92\n270,218.44,147.32,0,254,5.08,-248.92\n45,213.36,142.24,179.60512212,179.60512212,7.18420458,-352.02603966\n243.434949,208.28,165.1,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,203.2,162.56,340.77676066,113.5922544,5.67961272,-562.2816542\n135,205.74,160.02,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,170.18,152.4,227.18450626,113.5922544,5.67961272,-562.2816542\n116.565051,172.72,147.32,340.77676066,113.5922544,5.67961272,-562.2816542\n0,167.64,147.32,0,254,5.08,-248.92\n225,157.48,154.94,179.60512212,179.60512212,7.18420458,-352.02603966\n108.434949,160.02,147.32,562.25296744,80.32185358,8.03218612,-795.18633952\n341.565051,152.4,149.86,240.9655582,80.32185358,8.03218612,-795.18633952\n135,149.86,137.16,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,152.4,142.24,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,147.32,139.7,340.77676066,113.5922544,5.67961272,-562.2816542\n180,121.92,152.4,0,254,2.54,-251.46\n270,121.92,154.94,0,254,2.54,-251.46\n45,119.38,152.4,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,111.76,170.18,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,109.22,165.1,227.18450626,113.5922544,5.67961272,-562.2816542\n315,106.68,167.64,179.60512212,179.60512212,3.59210356,-355.61814322\n225,86.36,165.1,179.60512212,179.60512212,7.18420458,-352.02603966\n90,86.36,157.48,0,254,7.62,-246.38\n333.434949,81.28,160.02,227.18450626,113.5922544,5.67961272,-562.2816542\n180,76.2,154.94,0,254,5.08,-248.92\n270,76.2,160.02,0,254,5.08,-248.92\n45,71.12,154.94,179.60512212,179.60512212,7.18420458,-352.02603966\n135,53.34,142.24,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,55.88,147.32,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,50.8,144.78,340.77676066,113.5922544,5.67961272,-562.2816542\n180,27.94,160.02,0,254,5.08,-248.92\n270,27.94,165.1,0,254,5.08,-248.92\n45,22.86,160.02,179.60512212,179.60512212,7.18420458,-352.02603966\n270,15.24,177.8,0,254,7.62,-246.38\n45,10.16,172.72,179.60512212,179.60512212,7.18420458,-352.02603966\n153.434949,15.24,170.18,227.18450626,113.5922544,5.67961272,-562.2816542\n243.434949,208.28,198.12,227.18450626,113.5922544,5.67961272,-562.2816542\n90,208.28,193.04,0,254,5.08,-248.92\n0,205.74,193.04,0,254,2.54,-251.46\n135,220.98,208.28,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,223.52,213.36,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,218.44,210.82,340.77676066,113.5922544,5.67961272,-562.2816542\n180,218.44,213.36,0,254,5.08,-248.92\n251.565051,220.98,220.98,240.9655582,80.32185358,8.03218612,-795.18633952\n45,213.36,213.36,179.60512212,179.60512212,10.77630814,-348.43393864\n153.434949,182.88,233.68,227.18450626,113.5922544,5.67961272,-562.2816542\n135,165.1,185.42,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,167.64,190.5,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,162.56,187.96,340.77676066,113.5922544,5.67961272,-562.2816542\n135,160.02,195.58,179.60512212,179.60512212,3.59210356,-355.61814322\n251.565051,162.56,203.2,240.9655582,80.32185358,8.03218612,-795.18633952\n45,157.48,198.12,179.60512212,179.60512212,7.18420458,-352.02603966\n26.565051,66.04,193.04,340.77676066,113.5922544,5.67961272,-562.2816542\n153.434949,71.12,190.5,227.18450626,113.5922544,5.67961272,-562.2816542\n270,71.12,195.58,0,254,5.08,-248.92\n90,114.3,200.66,0,254,5.08,-248.92\n0,109.22,200.66,0,254,5.08,-248.92\n225,114.3,205.74,179.60512212,179.60512212,7.18420458,-352.02603966\n63.434949,124.46,210.82,227.18450626,113.5922544,5.67961272,-562.2816542\n315,121.92,213.36,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,127,215.9,340.77676066,113.5922544,5.67961272,-562.2816542\n153.434949,147.32,223.52,227.18450626,113.5922544,5.67961272,-562.2816542\n270,147.32,231.14,0,254,7.62,-246.38\n45,142.24,226.06,179.60512212,179.60512212,7.18420458,-352.02603966\n0,71.12,236.22,0,254,7.62,-246.38\n135,66.04,203.2,179.60512212,179.60512212,3.59210356,-355.61814322\n270,66.04,208.28,0,254,5.08,-248.92\n45,63.5,205.74,179.60512212,179.60512212,3.59210356,-355.61814322\n116.565051,20.32,208.28,340.77676066,113.5922544,5.67961272,-562.2816542\n333.434949,15.24,210.82,227.18450626,113.5922544,5.67961272,-562.2816542\n225,17.78,213.36,179.60512212,179.60512212,3.59210356,-355.61814322\n135,30.48,218.44,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,33.02,223.52,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,27.94,220.98,340.77676066,113.5922544,5.67961272,-562.2816542\n0,222.21825,218.170506,0,254,0,-254\n0,206.330804,232.72877,0,254,0,-254\n0,208.872836,188.32957,0,254,0,-254\n0,183.55056,211.532978,0,254,0,-254\n0,167.663114,226.091242,0,254,0,-254\n0,222.022924,134.20979,0,254,0,-254\n0,206.135224,148.768054,0,254,0,-254\n0,170.205146,181.692042,0,254,0,-254\n0,144.88287,204.895704,0,254,0,-254\n0,128.99517,219.453968,0,254,0,-254\n0,208.677256,104.368854,0,254,0,-254\n0,183.35498,127.572516,0,254,0,-254\n0,167.467534,142.13078,0,254,0,-254\n0,131.537202,175.054768,0,254,0,-254\n0,106.214926,198.258176,0,254,0,-254\n0,90.32748,212.81644,0,254,0,-254\n0,221.827344,50.249328,0,254,0,-254\n0,205.939898,64.807592,0,254,0,-254\n0,170.009566,97.73158,0,254,0,-254\n0,144.68729,120.934988,0,254,0,-254\n0,128.799844,135.493252,0,254,0,-254\n0,92.869512,168.41724,0,254,0,-254\n0,67.547236,191.620902,0,254,0,-254\n0,51.65979,206.179166,0,254,0,-254\n0,208.48193,20.408392,0,254,0,-254\n0,183.159654,43.6118,0,254,0,-254\n0,167.271954,58.170064,0,254,0,-254\n0,131.341876,91.094052,0,254,0,-254\n0,106.0196,114.297714,0,254,0,-254\n0,90.1319,128.855978,0,254,0,-254\n0,54.201822,161.779966,0,254,0,-254\n0,28.879546,184.983628,0,254,0,-254\n0,12.991846,199.541638,0,254,0,-254\n0,169.813986,13.770864,0,254,0,-254\n0,144.49171,36.974526,0,254,0,-254\n0,128.604264,51.53279,0,254,0,-254\n0,89.821004,81.952846,0,254,0,-254\n0,67.351656,107.660186,0,254,0,-254\n0,51.46421,122.21845,0,254,0,-254\n0,15.533878,155.142438,0,254,0,-254\n0,131.146296,7.13359,0,254,0,-254\n0,105.82402,30.336998,0,254,0,-254\n0,89.936574,44.895262,0,254,0,-254\n0,54.006242,77.81925,0,254,0,-254\n0,28.683966,101.022912,0,254,0,-254\n0,12.79652,115.581176,0,254,0,-254\n0,92.478606,0.496062,0,254,0,-254\n0,67.15633,23.699724,0,254,0,-254\n0,51.26863,38.257988,0,254,0,-254\n0,15.338552,71.181976,0,254,0,-254\n0,28.488386,17.062196,0,254,0,-254\n0,12.60094,31.62046,0,254,0,-254\n0,232.573576,212.125814,0,254,0,-254\n0,211.15909,204.714856,0,254,0,-254\n0,197.17893,213.621112,0,254,0,-254\n0,219.38234,178.422554,0,254,0,-254\n0,175.76419,206.210408,0,254,0,-254\n0,161.78403,215.116664,0,254,0,-254\n0,183.98744,179.918106,0,254,0,-254\n0,140.369544,207.705706,0,254,0,-254\n0,126.389384,216.612216,0,254,0,-254\n0,220.450664,135.634984,0,254,0,-254\n0,206.470504,144.541494,0,254,0,-254\n0,148.592794,181.413658,0,254,0,-254\n0,104.974898,209.201258,0,254,0,-254\n0,90.994738,218.107514,0,254,0,-254\n0,228.673914,109.342936,0,254,0,-254\n0,185.055764,137.130536,0,254,0,-254\n0,171.075858,146.036792,0,254,0,-254\n0,113.198148,182.908956,0,254,0,-254\n0,69.579998,210.69681,0,254,0,-254\n0,55.599838,219.603066,0,254,0,-254\n0,193.279268,110.838234,0,254,0,-254\n0,149.661118,138.626088,0,254,0,-254\n0,135.680958,147.532344,0,254,0,-254\n0,77.803248,184.404508,0,254,0,-254\n0,34.185352,212.192362,0,254,0,-254\n0,20.205192,221.098618,0,254,0,-254\n0,229.742238,66.555366,0,254,0,-254\n0,215.762078,75.461622,0,254,0,-254\n0,157.884368,112.333786,0,254,0,-254\n0,114.266472,140.12164,0,254,0,-254\n0,100.286312,149.027896,0,254,0,-254\n0,42.408602,185.90006,0,254,0,-254\n0,237.965488,40.263064,0,254,0,-254\n0,194.347592,68.050918,0,254,0,-254\n0,180.367432,76.957174,0,254,0,-254\n0,122.489722,113.829338,0,254,0,-254\n0,78.871572,141.616938,0,254,0,-254\n0,64.891666,150.523448,0,254,0,-254\n0,7.013702,187.395612,0,254,0,-254\n0,202.570842,41.758616,0,254,0,-254\n0,158.952692,69.546216,0,254,0,-254\n0,144.972532,78.452726,0,254,0,-254\n0,87.094822,115.32489,0,254,0,-254\n0,43.476926,143.11249,0,254,0,-254\n0,29.496766,152.018746,0,254,0,-254\n0,225.053652,6.38175,0,254,0,-254\n0,167.175942,43.254168,0,254,0,-254\n0,123.558046,71.041768,0,254,0,-254\n0,109.577886,79.948024,0,254,0,-254\n0,51.700176,116.820188,0,254,0,-254\n0,8.08228,144.608042,0,254,0,-254\n0,189.659006,7.877302,0,254,0,-254\n0,131.781296,44.749466,0,254,0,-254\n0,88.1634,72.53732,0,254,0,-254\n0,74.18324,81.443576,0,254,0,-254\n0,16.30553,118.31574,0,254,0,-254\n0,168.24452,0.466598,0,254,0,-254\n0,154.26436,9.372854,0,254,0,-254\n0,96.38665,46.245018,0,254,0,-254\n0,52.7685,74.032872,0,254,0,-254\n0,38.78834,82.939128,0,254,0,-254\n0,132.84962,1.961896,0,254,0,-254\n0,118.86946,10.868406,0,254,0,-254\n0,60.99175,47.74057,0,254,0,-254\n0,17.373854,75.52817,0,254,0,-254\n0,3.393694,84.43468,0,254,0,-254\n0,97.454974,3.457448,0,254,0,-254\n0,83.474814,12.363704,0,254,0,-254\n0,25.597104,49.235868,0,254,0,-254\n0,62.060074,4.953,0,254,0,-254\n0,48.080168,13.859256,0,254,0,-254\n0,26.665428,6.448552,0,254,0,-254\n0,12.685268,15.354808,0,254,0,-254\n0,163.20897,236.374178,0,254,0,-254\n0,121.33453,230.861362,0,254,0,-254\n0,96.22282,227.555298,0,254,0,-254\n0,79.624174,225.370136,0,254,0,-254\n0,37.749734,219.85732,0,254,0,-254\n0,12.638278,216.551256,0,254,0,-254\n0,229.351078,221.227142,0,254,0,-254\n0,187.476638,215.714326,0,254,0,-254\n0,162.364928,212.408262,0,254,0,-254\n0,145.766282,210.2231,0,254,0,-254\n0,103.891842,204.710284,0,254,0,-254\n0,78.780132,201.40422,0,254,0,-254\n0,62.18174,199.219058,0,254,0,-254\n0,20.307046,193.705988,0,254,0,-254\n0,228.507036,197.261226,0,254,0,-254\n0,211.90839,195.076064,0,254,0,-254\n0,170.03395,189.563248,0,254,0,-254\n0,144.92224,186.257184,0,254,0,-254\n0,128.323594,184.071768,0,254,0,-254\n0,86.449154,178.558952,0,254,0,-254\n0,61.337698,175.252888,0,254,0,-254\n0,44.739052,173.067726,0,254,0,-254\n0,2.864358,167.55491,0,254,0,-254\n0,236.176058,174.415958,0,254,0,-254\n0,211.064348,171.110148,0,254,0,-254\n0,194.465702,168.924732,0,254,0,-254\n0,152.591262,163.411916,0,254,0,-254\n0,127.479552,160.105852,0,254,0,-254\n0,110.88116,157.92069,0,254,0,-254\n0,69.006466,152.407874,0,254,0,-254\n0,43.89501,149.10181,0,254,0,-254\n0,27.296364,146.916648,0,254,0,-254\n0,218.73337,148.26488,0,254,0,-254\n0,193.62166,144.958816,0,254,0,-254\n0,177.023014,142.773654,0,254,0,-254\n0,135.148574,137.260838,0,254,0,-254\n0,110.037118,133.954774,0,254,0,-254\n0,93.438472,131.769358,0,254,0,-254\n0,51.563778,126.256542,0,254,0,-254\n0,26.452322,122.950478,0,254,0,-254\n0,9.853676,120.765316,0,254,0,-254\n0,201.290682,122.113548,0,254,0,-254\n0,176.178972,118.807738,0,254,0,-254\n0,159.58058,116.622322,0,254,0,-254\n0,117.705886,111.109506,0,254,0,-254\n0,92.59443,107.803442,0,254,0,-254\n0,75.995784,105.61828,0,254,0,-254\n0,34.121344,100.105464,0,254,0,-254\n0,9.009634,96.7994,0,254,0,-254\n0,225.722434,101.475286,0,254,0,-254\n0,183.847994,95.96247,0,254,0,-254\n0,158.736538,92.656406,0,254,0,-254\n0,142.137892,90.471244,0,254,0,-254\n0,100.263198,84.958428,0,254,0,-254\n0,75.151742,81.652364,0,254,0,-254\n0,58.553096,79.466948,0,254,0,-254\n0,16.678656,73.954132,0,254,0,-254\n0,224.878392,77.50937,0,254,0,-254\n0,208.279746,75.324208,0,254,0,-254\n0,166.405306,69.811138,0,254,0,-254\n0,141.29385,66.505328,0,254,0,-254\n0,124.695204,64.319912,0,254,0,-254\n0,82.82051,58.807096,0,254,0,-254\n0,57.709054,55.501032,0,254,0,-254\n0,41.110408,53.31587,0,254,0,-254\n0,232.547414,54.664102,0,254,0,-254\n0,207.435704,51.358038,0,254,0,-254\n0,190.837312,49.172876,0,254,0,-254\n0,148.962618,43.66006,0,254,0,-254\n0,123.851162,40.353996,0,254,0,-254\n0,107.252516,38.168834,0,254,0,-254\n0,65.378076,32.656018,0,254,0,-254\n0,40.266366,29.349954,0,254,0,-254\n0,23.66772,27.164538,0,254,0,-254\n0,215.104726,28.513024,0,254,0,-254\n0,189.99327,25.20696,0,254,0,-254\n0,173.394624,23.021798,0,254,0,-254\n0,131.51993,17.508728,0,254,0,-254\n0,106.408474,14.202918,0,254,0,-254\n0,89.809828,12.017502,0,254,0,-254\n0,47.935388,6.504686,0,254,0,-254\n0,22.823678,3.198622,0,254,0,-254\n0,6.225032,1.01346,0,254,0,-254\n0,197.662038,2.361692,0,254,0,-254\n0,31.866332,226.2124,0,254,0,-254\n0,65.909444,230.88092,0,254,0,-254\n0,31.060136,204.140054,0,254,0,-254\n0,99.400106,235.125768,0,254,0,-254\n0,65.103248,208.808574,0,254,0,-254\n0,30.253686,182.067962,0,254,0,-254\n0,98.59391,213.053422,0,254,0,-254\n0,64.296798,186.736482,0,254,0,-254\n0,29.44749,159.995616,0,254,0,-254\n0,133.031484,218.02471,0,254,0,-254\n0,97.787714,190.981076,0,254,0,-254\n0,63.490602,164.664136,0,254,0,-254\n0,28.641294,137.92327,0,254,0,-254\n0,167.074596,222.69323,0,254,0,-254\n0,132.225288,195.952364,0,254,0,-254\n0,96.981264,168.90873,0,254,0,-254\n0,62.684406,142.59179,0,254,0,-254\n0,27.835098,115.850924,0,254,0,-254\n0,200.565258,226.937824,0,254,0,-254\n0,166.2684,200.620884,0,254,0,-254\n0,131.419092,173.880018,0,254,0,-254\n0,96.175068,146.836384,0,254,0,-254\n0,61.87821,120.519444,0,254,0,-254\n0,27.028902,93.778578,0,254,0,-254\n0,235.002832,231.909112,0,254,0,-254\n0,199.759062,204.865478,0,254,0,-254\n0,165.46195,178.548538,0,254,0,-254\n0,130.612642,151.807672,0,254,0,-254\n0,95.368872,124.764292,0,254,0,-254\n0,61.07176,98.447098,0,254,0,-254\n0,26.222452,71.706232,0,254,0,-254\n0,234.196636,209.836766,0,254,0,-254\n0,198.952866,182.793386,0,254,0,-254\n0,164.655754,156.476192,0,254,0,-254\n0,129.806446,129.735326,0,254,0,-254\n0,94.562676,102.691946,0,254,0,-254\n0,60.265564,76.374752,0,254,0,-254\n0,25.416256,49.63414,0,254,0,-254\n0,233.39044,187.76442,0,254,0,-254\n0,198.14667,160.72104,0,254,0,-254\n0,163.849558,134.403846,0,254,0,-254\n0,129.00025,107.663234,0,254,0,-254\n0,93.75648,80.6196,0,254,0,-254\n0,59.459368,54.30266,0,254,0,-254\n0,24.61006,27.561794,0,254,0,-254\n0,232.584244,165.692328,0,254,0,-254\n0,197.34022,138.648694,0,254,0,-254\n0,163.043362,112.331754,0,254,0,-254\n0,128.194054,85.590888,0,254,0,-254\n0,58.653172,32.230314,0,254,0,-254\n0,23.803864,5.489448,0,254,0,-254\n0,231.777794,143.619982,0,254,0,-254\n0,196.534024,116.576348,0,254,0,-254\n0,162.237166,90.259408,0,254,0,-254\n0,127.387858,63.518542,0,254,0,-254\n0,92.143834,36.474908,0,254,0,-254\n0,57.846976,10.157968,0,254,0,-254\n0,230.971598,121.547636,0,254,0,-254\n0,195.727828,94.504002,0,254,0,-254\n0,161.430716,68.187062,0,254,0,-254\n0,126.581408,41.446196,0,254,0,-254\n0,91.337638,14.402562,0,254,0,-254\n0,230.165402,99.47529,0,254,0,-254\n0,194.921632,72.431656,0,254,0,-254\n0,160.62452,46.114716,0,254,0,-254\n0,125.775212,19.37385,0,254,0,-254\n0,229.359206,77.402944,0,254,0,-254\n0,194.115436,50.359564,0,254,0,-254\n0,159.818324,24.04237,0,254,0,-254\n0,228.55301,55.330598,0,254,0,-254\n0,193.308986,28.287218,0,254,0,-254\n0,159.012128,1.970024,0,254,0,-254\n0,227.74656,33.258506,0,254,0,-254\n0,192.50279,6.214872,0,254,0,-254\n0,226.940364,11.18616,0,254,0,-254\n206.565051,254,15.24,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,251.46,10.16,227.18450626,113.5922544,5.67961272,-562.2816542\n315,248.92,12.7,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,246.38,137.16,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,243.84,132.08,227.18450626,113.5922544,5.67961272,-562.2816542\n315,241.3,134.62,179.60512212,179.60512212,3.59210356,-355.61814322\n153.434949,254,182.88,227.18450626,113.5922544,5.67961272,-562.2816542\n288.434949,251.46,190.5,562.25296744,80.32185358,8.03218612,-795.18633952\n63.434949,248.92,185.42,227.18450626,113.5922544,5.67961272,-562.2816542\n135,246.38,236.22,179.60512212,179.60512212,3.59210356,-355.61814322\n270,246.38,241.3,0,254,5.08,-248.92\n45,243.84,238.76,179.60512212,179.60512212,3.59210356,-355.61814322\n0,195.58,243.84,0,254,5.08,-248.92\n270,182.88,238.76,0,254,5.08,-248.92\n26.565051,177.8,236.22,340.77676066,113.5922544,5.67961272,-562.2816542\n0,241.457734,241.2111,0,254,0,-254\n0,247.540526,194.966844,0,254,0,-254\n0,244.803168,155.405582,0,254,0,-254\n0,247.3452,111.006382,0,254,0,-254\n0,244.607588,71.444866,0,254,0,-254\n0,247.14962,27.045666,0,254,0,-254\n0,246.553736,203.219304,0,254,0,-254\n0,241.86515,143.045942,0,254,0,-254\n0,251.156978,73.96607,0,254,0,-254\n0,204.919072,241.865658,0,254,0,-254\n0,179.807616,238.559594,0,254,0,-254\n0,245.949724,223.412558,0,254,0,-254\n0,253.618492,200.56729,0,254,0,-254\n0,243.165122,127.626618,0,254,0,-254\n0,242.32108,103.660448,0,254,0,-254\n0,249.990102,80.815434,0,254,0,-254\n0,239.536732,7.874762,0,254,0,-254\n243.434949,198.12,248.92,227.18450626,113.5922544,5.67961272,-562.2816542\n116.565051,200.66,243.84,340.77676066,113.5922544,5.67961272,-562.2816542\n180,152.4,246.38,0,254,5.08,-248.92\n270,152.4,251.46,0,254,5.08,-248.92\n45,147.32,246.38,179.60512212,179.60512212,7.18420458,-352.02603966\n296.565051,104.14,254,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,101.6,248.92,227.18450626,113.5922544,5.67961272,-562.2816542\n180,106.68,248.92,0,254,5.08,-248.92\n135,86.36,238.76,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,88.9,243.84,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,83.82,241.3,340.77676066,113.5922544,5.67961272,-562.2816542\n116.565051,78.74,236.22,340.77676066,113.5922544,5.67961272,-562.2816542\n225,76.2,241.3,179.60512212,179.60512212,7.18420458,-352.02603966\n45,0,246.38,179.60512212,179.60512212,7.18420458,-352.02603966\n161.565051,7.62,243.84,240.9655582,80.32185358,8.03218612,-795.18633952\n288.434949,5.08,251.46,562.25296744,80.32185358,8.03218612,-795.18633952\n0,93.065092,252.377956,0,254,0,-254\n0,54.397148,245.740428,0,254,0,-254\n0,15.729458,239.103154,0,254,0,-254\n0,174.695866,248.997978,0,254,0,-254\n0,139.30122,250.493276,0,254,0,-254\n0,68.511674,253.48438,0,254,0,-254\n0,113.665508,253.70663,0,254,0,-254\n0,97.066862,251.521468,0,254,0,-254\n0,55.192422,246.008398,0,254,0,-254\n0,30.080966,242.702588,0,254,0,-254\n0,13.48232,240.517172,0,254,0,-254\n0,32.672528,248.284746,0,254,0,-254\n0,66.71564,252.953266,0,254,0,-254\n0,133.83768,240.097056,0,254,0,-254\n0,167.880792,244.765576,0,254,0,-254\n0,201.371454,249.01017,0,254,0,-254\n0,245.485412,246.006874,0,254,0,-254\n0,210.090512,247.502426,0,254,0,-254\n0,246.793766,247.378474,0,254,0,-254\n0,235.809282,253.981458,0,254,0,-254\n")),k(N.ParsePatFile("\n*AR-CONC,AR-CONC\n50, 0,0, 104.896,-149.807, 19.05,-209.55\n355, 0,0, -51.7604,187.258, 15.24,-167.64\n100.451, 15.182,-1.32825, 145.557,-176.27, 16.19,-178.09\n46.1842, 0,50.8, 157.343,-224.71, 28.575,-314.325\n96.6356, 22.5899,47.2965, 218.335,-264.405, 24.285,-267.135\n351.184, 0,50.8, 196.679,280.887, 22.86,-251.46\n21, 25.4,38.1, 104.896,-149.807, 19.05,-209.55\n326, 25.4,38.1, -51.7604,187.258, 15.24,-167.64\n71.4514, 38.0345,29.5779, 145.557,-176.27, 16.19,-178.09\n37.5, 0,0, 53.9242,65.2018, 0,-165.608,0,-170.18,0,-168.275\n7.5, 0,0, 79.3242,90.6018, 0,-97.028,0,-161.798,0,-64.135\n-32.5, -56.642,0, 117.434,68.0212, 0,-63.5,0,-198.12,0,-262.89\n-42.5, -82.042,0, 92.0344,118.821, 0,-82.55,0,-131.572,0,-186.69\n")),k(N.ParsePatFile("\n*AR-HBONE,AR-HBONE\n45, 0,0, 101.6,101.6, 304.8,-101.6\n135, 71.842,71.842, 101.6,-101.6, 304.8,-101.6\n")),k(N.ParsePatFile("\n*AR-PARQ1,AR-PARQ1\n90, 0,0, 304.8,304.8, 304.8,-304.8\n90, 50.8,0, 304.8,304.8, 304.8,-304.8\n90, 101.6,0, 304.8,304.8, 304.8,-304.8\n90, 152.4,0, 304.8,304.8, 304.8,-304.8\n90, 203.2,0, 304.8,304.8, 304.8,-304.8\n90, 254,0, 304.8,304.8, 304.8,-304.8\n90, 304.8,0, 304.8,304.8, 304.8,-304.8\n0, 0,304.8, 304.8,-304.8, 304.8,-304.8\n0, 0,355.6, 304.8,-304.8, 304.8,-304.8\n0, 0,406.4, 304.8,-304.8, 304.8,-304.8\n0, 0,457.2, 304.8,-304.8, 304.8,-304.8\n0, 0,508, 304.8,-304.8, 304.8,-304.8\n0, 0,558.8, 304.8,-304.8, 304.8,-304.8\n0, 0,609.6, 304.8,-304.8, 304.8,-304.8\n")),k(N.ParsePatFile("\n*AR-RROOF,AR-RROOF\n0, 0,0, 55.88,25.4, 381,-50.8,127,-25.4\n0, 33.782,12.7, -25.4,33.782, 76.2,-8.382,152.4,-19.05\n0, 12.7,21.59, 132.08,17.018, 203.2,-35.56,101.6,-25.4\n")),k(N.ParsePatFile("\n*AR-RSHKE,AR-RSHKE\n0, 0,0, 647.7,304.8, 152.4,-127,177.8,-76.2,228.6,-101.6\n0, 152.4,12.7, 647.7,304.8, 127,-482.6,101.6,-152.4\n0, 457.2,-19.05, 647.7,304.8, 76.2,-787.4\n90, 0,0, 304.8,215.9, 292.1,-927.1\n90, 152.4,0, 304.8,215.9, 285.75,-933.45\n90, 279.4,0, 304.8,215.9, 266.7,-952.5\n90, 457.2,-19.05, 304.8,215.9, 292.1,-927.1\n90, 533.4,-19.05, 304.8,215.9, 292.1,-927.1\n90, 762,0, 304.8,215.9, 279.4,-939.8\n")),k(N.ParsePatFile("\n*AR-SAND,AR-SAND\n37.5, 0,0, 28.5242,39.8018, 0,-38.608,0,-43.18,0,-41.275\n7.5, 0,0, 53.9242,65.2018, 0,-20.828,0,-34.798,0,-13.335\n-32.5, -31.242,0, 66.6344,42.6212, 0,-12.7,0,-45.72,0,-59.69\n-42.5, -31.242,0, 41.2344,68.0212, 0,-6.35,0,-29.972,0,-34.29\n")),k(N.ParsePatFile("\n*BARBWIRE,BARBWIRE\n;By John Hyslop\n;Developed in mm as metric QCAD3 pattern\n315,7.62,14.224,17.960512212,17.960512212,0.359210356,-35.561814322\n288.434949,6.604,17.272,56.225296744,8.032185358,3.212874194,-77.10897837\n158.198591,7.874,16.764,80.18324705,4.716661636,1.36783191,-135.415354264\n116.565051,8.128,16.256,34.077676066,11.35922544,0.567961272,-56.22816542\n116.565051,8.636,15.24,34.077676066,11.35922544,1.135922544,-55.660204148\n111.801409,11.176,9.906,56.599939124,4.716661636,1.36783191,-135.415354264\n156.801409,12.954,9.144,136.74251925,3.335183322,1.934406342,-191.506230398\n289.653824,11.684,12.7,297.294468148,1.708588912,3.775981526,-373.822164724\n194.036243,7.874,9.144,80.085263502,6.160405002,1.047268924,-103.679614078\n251.565051,8.128,9.906,24.09655582,8.032185358,0.803218612,-79.518633952\n254.054604,8.636,11.684,104.668749768,3.488958224,1.84914794,-183.065643266\n74.744881,8.636,11.684,104.703186326,2.22772732,2.896045516,-286.708512434\n135,9.144,11.176,17.960512212,17.960512212,0.718420458,-35.202603966\n180,9.906,11.176,0,25.4,0.762,-24.638\n270,9.906,11.43,0,25.4,0.254,-25.146\n74.054604,9.906,11.43,104.668749768,3.488958224,3.69829588,-181.216495326\n161.565051,10.668,11.176,24.09655582,8.032185358,0.803218612,-79.518633952\n198.434949,11.43,11.43,56.225296744,8.032185358,0.803218612,-79.518633952\n258.231711,12.7,17.526,129.51095129,1.03608759,6.226886454,-616.461767582\n21.801409,11.43,17.018,56.599939124,4.716661636,1.36783191,-135.415354264\n75.963757,10.922,14.986,24.6416195,6.160405002,2.094537594,-102.632345154\n341.565051,10.16,15.24,24.09655582,8.032185358,0.803218612,-79.518633952\n45,9.398,14.478,17.960512212,17.960512212,1.077630814,-34.843393864\n288.434949,9.144,15.24,56.225296744,8.032185358,0.803218612,-79.518633952\n0,8.636,15.24,0,25.4,0.508,-24.892\n26.565051,8.128,14.986,34.077676066,11.35922544,0.567961272,-56.22816542\n78.231711,6.858,8.89,129.51095129,1.03608759,6.226886454,-616.461767582\n4.085617,19.812,12.192,331.17053781,1.80967507,3.565059926,-352.940928864\n0,17.526,12.192,0,25.4,2.286,-23.114\n354.289407,14.986,12.446,25.273944626,2.527394488,2.552668504,-252.714172244\n356.185925,11.938,13.97,25.343743064,1.689582854,3.818457184,-378.027270614\n351.469234,20.32,13.97,179.600730968,1.255949228,5.136831992,-508.546377622\n0,16.764,13.97,0,25.4,3.556,-21.844\n14.036243,11.684,12.7,80.085263502,6.160405002,5.236344112,-99.490538636\n189.865807,17.78,12.954,438.470633344,1.088016366,5.92968969,-587.039280834\n180,20.32,12.954,0,25.4,2.54,-22.86\n171.469234,25.4,12.192,179.600730968,1.255949228,5.136831992,-508.546377622\n186.115504,25.4,14.224,230.005013954,0.901980416,3.973724844,-711.296769428\n5.52754,3.499555612,13.546666582,255.265537982,0.815544724,4.394880466,-786.683623734\n3.691386,0,12.192,381.844852514,0.817654956,3.84896106,-785.188047096\n348.310631,0,13.208,129.51225558,0.85769704,7.522003244,-744.678315822\n348.690068,0,14.224,24.906749272,4.981349956,7.770905718,-121.744189836\n")),k(N.ParsePatFile("\n*BLOCKS-01\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,7.874,16.764,25.4,25.4,5.588,-19.812\n180,2.032,2.286,0,25.4,14.478,-10.922\n270,2.032,2.286,25.4,25.4,5.334,-20.066\n180,2.032,22.352,0,25.4,14.478,-10.922\n270,12.954,2.286,25.4,25.4,5.334,-20.066\n270,22.606,8.128,25.4,25.4,5.08,-20.32\n0,12.446,8.128,0,25.4,10.16,-15.24\n90,12.446,3.048,25.4,25.4,5.08,-20.32\n180,22.606,3.048,0,25.4,10.16,-15.24\n270,17.526,21.336,25.4,25.4,12.192,-13.208\n0,12.192,21.336,0,25.4,5.334,-20.066\n90,12.192,9.144,25.4,25.4,12.192,-13.208\n180,17.526,9.144,0,25.4,5.334,-20.066\n270,3.048,0.762,25.4,25.4,8.382,-17.018\n0,3.048,17.78,0,25.4,8.128,-17.272\n270,11.176,0.762,25.4,25.4,8.382,-17.018\n0,3.048,0.762,0,25.4,8.128,-17.272\n270,11.43,17.018,25.4,25.4,6.096,-19.304\n0,9.144,17.018,0,25.4,2.286,-23.114\n90,9.144,10.922,25.4,25.4,6.096,-19.304\n180,11.43,10.922,0,25.4,2.286,-23.114\n270,11.43,10.16,25.4,25.4,8.382,-17.018\n0,2.794,10.16,0,25.4,8.636,-16.764\n90,2.794,1.778,25.4,25.4,8.382,-17.018\n180,11.43,1.778,0,25.4,8.636,-16.764\n270,22.606,10.414,25.4,25.4,1.524,-23.876\n0,18.542,10.414,0,25.4,4.064,-21.336\n90,18.542,8.89,25.4,25.4,1.524,-23.876\n180,22.606,8.89,0,25.4,4.064,-21.336\n180,1.778,10.16,0,25.4,3.556,-21.844\n270,23.622,10.16,25.4,25.4,6.858,-18.542\n180,1.778,3.302,0,25.4,3.556,-21.844\n270,1.778,10.16,25.4,25.4,6.858,-18.542\n180,2.032,20.574,0,25.4,8.636,-16.764\n270,18.796,20.574,25.4,25.4,2.54,-22.86\n180,2.032,18.034,0,25.4,8.636,-16.764\n270,2.032,20.574,25.4,25.4,2.54,-22.86\n180,7.874,16.764,0,25.4,14.986,-10.414\n270,18.288,16.764,25.4,25.4,5.588,-19.812\n180,7.874,11.176,0,25.4,14.986,-10.414\n")),k(N.ParsePatFile("\n*BLOCKS-02\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,8.128,4.572,0,25.4,12.446,-12.954\n270,8.128,13.97,25.4,25.4,9.398,-16.002\n0,9.398,24.384,0,25.4,10.668,-14.732\n0,4.318,24.892,0,25.4,4.318,-21.082\n90,20.828,0,25.4,25.4,3.81,-21.59\n180,23.368,0,0,25.4,2.54,-22.86\n180,8.128,13.97,0,25.4,12.446,-12.954\n270,21.082,13.97,25.4,25.4,9.398,-16.002\n180,3.302,20.32,0,25.4,4.572,-20.828\n90,3.556,14.986,25.4,25.4,4.318,-21.082\n270,3.302,3.81,25.4,25.4,8.89,-16.51\n180,18.034,14.986,0,25.4,14.478,-10.922\n270,23.368,3.81,25.4,25.4,3.81,-21.59\n0,20.828,3.81,0,25.4,2.54,-22.86\n270,18.034,19.304,25.4,25.4,4.318,-21.082\n0,3.556,19.304,0,25.4,14.478,-10.922\n180,2.032,14.986,0,25.4,8.128,-17.272\n270,2.032,19.304,25.4,25.4,4.318,-21.082\n180,3.302,3.81,0,25.4,4.572,-20.828\n270,24.13,3.81,25.4,25.4,8.89,-16.51\n90,4.572,20.32,25.4,25.4,3.302,-22.098\n180,23.114,20.32,0,25.4,18.542,-6.858\n180,2.032,19.304,0,25.4,8.128,-17.272\n270,19.304,19.304,25.4,25.4,4.318,-21.082\n270,8.636,3.81,25.4,25.4,4.318,-21.082\n0,4.318,3.81,0,25.4,4.318,-21.082\n270,23.114,23.622,25.4,25.4,3.302,-22.098\n0,4.572,23.622,0,25.4,18.542,-6.858\n0,9.398,13.97,0,25.4,10.668,-14.732\n270,9.398,13.97,25.4,25.4,14.986,-10.414\n270,4.318,3.81,25.4,25.4,4.318,-21.082\n270,20.066,13.97,25.4,25.4,14.986,-10.414\n")),k(N.ParsePatFile("\n*BOX-OVERLAP\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,5.08,17.78,0,25.4,10.16,-15.24\n90,5.08,5.08,25.4,25.4,15.24,-10.16\n270,7.62,5.08,25.4,25.4,10.16,-15.24\n180,5.08,7.62,0,25.4,10.16,-15.24\n0,5.08,20.32,0,25.4,15.24,-10.16\n180,20.32,5.08,0,25.4,15.24,-10.16\n270,20.32,20.32,25.4,25.4,15.24,-10.16\n270,17.78,5.08,25.4,25.4,10.16,-15.24\n")),k(N.ParsePatFile("\n*BOX,BOX\n90, 0,0, 0,25.4\n90, 6.35,0, 0,25.4\n0, 0,0, 0,25.4, -6.35,6.35\n0, 0,6.35, 0,25.4, -6.35,6.35\n0, 0,12.7, 0,25.4, 6.35,-6.35\n0, 0,19.05, 0,25.4, 6.35,-6.35\n90, 12.7,0, 0,25.4, 6.35,-6.35\n90, 19.05,0, 0,25.4, 6.35,-6.35\n")),k(N.ParsePatFile("\n*BOXJOIN-01\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n90,3.810000254,3.81,25.4,25.4,17.78,-7.62\n0,3.810000254,21.59,0,25.4,17.78,-7.62\n270,11.430000254,3.81,25.4,25.4,7.62,-17.78\n180,3.810000254,11.43,0,25.4,7.62,-17.78\n270,13.970000254,3.81,25.4,25.4,7.62,-17.78\n180,21.590000254,3.81,0,25.4,17.78,-7.62\n270,21.590000254,21.59,25.4,25.4,17.78,-7.62\n180,3.810000254,13.97,0,25.4,7.62,-17.78\n")),k(N.ParsePatFile("\n*BOXJOIN-02\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n90,3.810000254,13.97,25.4,25.4,7.62,-17.78\n270,21.590000254,21.59,25.4,25.4,7.62,-17.78\n0,13.970000254,21.59,0,25.4,7.62,-17.78\n180,3.810000254,13.97,0,25.4,7.62,-17.78\n90,3.810000254,3.81,25.4,25.4,7.62,-17.78\n180,11.430000254,3.81,0,25.4,7.62,-17.78\n180,3.810000254,11.43,0,25.4,7.62,-17.78\n180,21.590000254,3.81,0,25.4,7.62,-17.78\n270,21.590000254,11.43,25.4,25.4,7.62,-17.78\n270,11.430000254,3.81,25.4,25.4,7.62,-17.78\n270,13.970000254,3.81,25.4,25.4,7.62,-17.78\n0,3.810000254,21.59,0,25.4,7.62,-17.78\n")),k(N.ParsePatFile("\n*BRASS,BRASS\n0, 0,0, 0,6.35\n0, 0,3.175, 0,6.35, 3.175,-1.5875\n")),k(N.ParsePatFile("\n*BRICK,BRICK\n0, 0,0, 0,6.35\n90, 0,0, 0,12.7, 6.35,-6.35\n90, 6.35,0, 0,12.7, -6.35,6.35\n")),k(N.ParsePatFile("\n*BRSTONE,BRSTONE\n0, 0,0, 0,8.382\n90, 22.86,0, 8.382,12.7, 8.382,-8.382\n90, 20.32,0, 8.382,12.7, 8.382,-8.382\n0, 22.86,1.397, 12.7,8.382, -22.86,2.54\n0, 22.86,2.794, 12.7,8.382, -22.86,2.54\n0, 22.86,4.191, 12.7,8.382, -22.86,2.54\n0, 22.86,5.588, 12.7,8.382, -22.86,2.54\n0, 22.86,6.985, 12.7,8.382, -22.86,2.54\n")),k(N.ParsePatFile("\n*BUBBLES-01,BUBBLES-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n0,1.4976856,0.4251706,0,25.4,0,-25.4\n0,1.5807944,0.8431022,0,25.4,0,-25.4\n0,1.7177766,1.2465812,0,25.4,0,-25.4\n0,1.9062192,1.6287242,0,25.4,0,-25.4\n0,2.1429472,1.9830034,0,25.4,0,-25.4\n0,2.4238966,2.3033736,0,25.4,0,-25.4\n0,2.7442414,2.584323,0,25.4,0,-25.4\n0,3.098546,2.821051,0,25.4,0,-25.4\n0,3.480689,3.0094936,0,25.4,0,-25.4\n0,3.884168,3.1464504,0,25.4,0,-25.4\n0,4.3020742,3.2295846,0,25.4,0,-25.4\n0,4.7272702,3.2574484,0,25.4,0,-25.4\n0,5.1524408,3.2295846,0,25.4,0,-25.4\n0,5.570347,3.1464504,0,25.4,0,-25.4\n0,5.973826,3.0094936,0,25.4,0,-25.4\n0,6.3559944,2.821051,0,25.4,0,-25.4\n0,6.7102736,2.584323,0,25.4,0,-25.4\n0,7.0306184,2.3033736,0,25.4,0,-25.4\n0,7.3115678,1.9830034,0,25.4,0,-25.4\n0,7.5482958,1.6287242,0,25.4,0,-25.4\n0,7.7367638,1.2465812,0,25.4,0,-25.4\n0,7.8737206,0.8431022,0,25.4,0,-25.4\n0,7.9568548,0.4251706,0,25.4,0,-25.4\n0,3.0482032,5.5942992,0,25.4,0,-25.4\n0,2.9839412,5.1610768,0,25.4,0,-25.4\n0,2.8775152,4.7362618,0,25.4,0,-25.4\n0,2.729992,4.3239182,0,25.4,0,-25.4\n0,2.5427432,3.9280338,0,25.4,0,-25.4\n0,2.3175976,3.5523932,0,25.4,0,-25.4\n0,2.0567142,3.2006286,0,25.4,0,-25.4\n0,1.7626076,2.8761436,0,25.4,0,-25.4\n0,1.4380972,2.582037,0,25.4,0,-25.4\n0,1.086358,2.3211536,0,25.4,0,-25.4\n0,0.7107174,2.096008,0,25.4,0,-25.4\n0,0.3148076,1.9087592,0,25.4,0,-25.4\n0,0.3148076,10.154666,0,25.4,0,-25.4\n0,0.7107174,9.9674172,0,25.4,0,-25.4\n0,1.086358,9.7422716,0,25.4,0,-25.4\n0,1.4380972,9.4813882,0,25.4,0,-25.4\n0,1.7626076,9.1872816,0,25.4,0,-25.4\n0,2.0567142,8.8627966,0,25.4,0,-25.4\n0,2.3175976,8.511032,0,25.4,0,-25.4\n0,2.5427432,8.1353914,0,25.4,0,-25.4\n0,2.729992,7.7394816,0,25.4,0,-25.4\n0,2.8775152,7.327138,0,25.4,0,-25.4\n0,2.9839412,6.902323,0,25.4,0,-25.4\n0,3.0482032,6.469126,0,25.4,0,-25.4\n0,3.0696916,6.0317126,0,25.4,0,-25.4\n0,18.7471304,9.4569026,0,25.4,0,-25.4\n0,18.6083702,9.0603324,0,25.4,0,-25.4\n0,18.3848248,8.70458,0,25.4,0,-25.4\n0,18.0877464,8.4074762,0,25.4,0,-25.4\n0,17.731994,8.1839562,0,25.4,0,-25.4\n0,17.3354238,8.0451706,0,25.4,0,-25.4\n0,16.9178986,7.9981298,0,25.4,0,-25.4\n0,16.5003988,8.0451706,0,25.4,0,-25.4\n0,16.1038286,8.1839562,0,25.4,0,-25.4\n0,15.7480762,8.4074762,0,25.4,0,-25.4\n0,15.4509724,8.70458,0,25.4,0,-25.4\n0,15.2274524,9.0603324,0,25.4,0,-25.4\n0,15.0886668,9.4569026,0,25.4,0,-25.4\n0,15.041626,9.8744024,0,25.4,0,-25.4\n0,15.0886668,10.2919276,0,25.4,0,-25.4\n0,15.2274524,10.6884978,0,25.4,0,-25.4\n0,15.4509724,11.0442502,0,25.4,0,-25.4\n0,15.7480762,11.341354,0,25.4,0,-25.4\n0,16.1038286,11.564874,0,25.4,0,-25.4\n0,16.5003988,11.7036342,0,25.4,0,-25.4\n0,16.9178986,11.750675,0,25.4,0,-25.4\n0,17.3354238,11.7036342,0,25.4,0,-25.4\n0,17.731994,11.564874,0,25.4,0,-25.4\n0,18.0877464,11.341354,0,25.4,0,-25.4\n0,18.3848248,11.0442502,0,25.4,0,-25.4\n0,18.6083702,10.6884978,0,25.4,0,-25.4\n0,18.7471304,10.2919276,0,25.4,0,-25.4\n0,18.7941712,9.8744024,0,25.4,0,-25.4\n0,21.2068664,21.1084414,0,25.4,0,-25.4\n0,20.8647792,21.3569804,0,25.4,0,-25.4\n0,20.5818486,21.6712292,0,25.4,0,-25.4\n0,11.7541802,19.0603632,0,25.4,0,-25.4\n0,11.6505482,18.6510676,0,25.4,0,-25.4\n0,11.480927,18.264378,0,25.4,0,-25.4\n0,11.2499902,17.9108862,0,25.4,0,-25.4\n0,10.9640116,17.6002442,0,25.4,0,-25.4\n0,10.6308144,17.3409102,0,25.4,0,-25.4\n0,10.2594664,17.1399454,0,25.4,0,-25.4\n0,9.8601022,17.0028362,0,25.4,0,-25.4\n0,9.4436184,16.9333418,0,25.4,0,-25.4\n0,9.0213688,16.9333418,0,25.4,0,-25.4\n0,8.6049104,17.0028362,0,25.4,0,-25.4\n0,8.2055462,17.1399454,0,25.4,0,-25.4\n0,7.8341982,17.3409102,0,25.4,0,-25.4\n0,7.5009756,17.6002442,0,25.4,0,-25.4\n0,7.2150224,17.9108862,0,25.4,0,-25.4\n0,6.9840602,18.264378,0,25.4,0,-25.4\n0,6.8144644,18.6510676,0,25.4,0,-25.4\n0,6.710807,19.0603632,0,25.4,0,-25.4\n0,6.6759328,19.481165,0,25.4,0,-25.4\n0,6.710807,19.9019668,0,25.4,0,-25.4\n0,6.8144644,20.3112878,0,25.4,0,-25.4\n0,6.9840602,20.697952,0,25.4,0,-25.4\n0,7.2150224,21.0514438,0,25.4,0,-25.4\n0,7.5009756,21.3620858,0,25.4,0,-25.4\n0,7.8341982,21.6214452,0,25.4,0,-25.4\n0,8.2055462,21.82241,0,25.4,0,-25.4\n0,10.2594664,21.82241,0,25.4,0,-25.4\n0,10.6308144,21.6214452,0,25.4,0,-25.4\n0,10.9640116,21.3620858,0,25.4,0,-25.4\n0,11.2499902,21.0514438,0,25.4,0,-25.4\n0,11.480927,20.697952,0,25.4,0,-25.4\n0,11.6505482,20.3112878,0,25.4,0,-25.4\n0,11.7541802,19.9019668,0,25.4,0,-25.4\n0,11.7890544,19.481165,0,25.4,0,-25.4\n0,20.8583784,16.4692076,0,25.4,0,-25.4\n0,20.7913224,16.0457896,0,25.4,0,-25.4\n0,20.6803752,15.6317442,0,25.4,0,-25.4\n0,20.5267306,15.2315418,0,25.4,0,-25.4\n0,20.3321158,14.8495766,0,25.4,0,-25.4\n0,20.0986644,14.490065,0,25.4,0,-25.4\n0,19.828891,14.1569186,0,25.4,0,-25.4\n0,19.5257674,13.853795,0,25.4,0,-25.4\n0,19.192621,13.5840216,0,25.4,0,-25.4\n0,18.8331094,13.3505448,0,25.4,0,-25.4\n0,18.4511442,13.15593,0,25.4,0,-25.4\n0,18.0509418,13.0023108,0,25.4,0,-25.4\n0,17.636871,12.8913636,0,25.4,0,-25.4\n0,17.2134784,12.8243076,0,25.4,0,-25.4\n0,16.7853868,12.8018794,0,25.4,0,-25.4\n0,16.3573206,12.8243076,0,25.4,0,-25.4\n0,15.9339026,12.8913636,0,25.4,0,-25.4\n0,15.5198572,13.0023108,0,25.4,0,-25.4\n0,15.1196548,13.15593,0,25.4,0,-25.4\n0,14.7376896,13.3505448,0,25.4,0,-25.4\n0,14.378178,13.5840216,0,25.4,0,-25.4\n0,14.0450316,13.853795,0,25.4,0,-25.4\n0,13.741908,14.1569186,0,25.4,0,-25.4\n0,13.4721346,14.490065,0,25.4,0,-25.4\n0,13.2386578,14.8495766,0,25.4,0,-25.4\n0,13.044043,15.2315418,0,25.4,0,-25.4\n0,12.8904238,15.6317442,0,25.4,0,-25.4\n0,12.7794766,16.0457896,0,25.4,0,-25.4\n0,12.7124206,16.4692076,0,25.4,0,-25.4\n0,12.6899924,16.8972738,0,25.4,0,-25.4\n0,12.7124206,17.3253654,0,25.4,0,-25.4\n0,12.7794766,17.748758,0,25.4,0,-25.4\n0,12.8904238,18.1628288,0,25.4,0,-25.4\n0,13.044043,18.5630312,0,25.4,0,-25.4\n0,13.2386578,18.9449964,0,25.4,0,-25.4\n0,13.4721346,19.304508,0,25.4,0,-25.4\n0,13.741908,19.6376544,0,25.4,0,-25.4\n0,14.0450316,19.9407526,0,25.4,0,-25.4\n0,14.378178,20.2105514,0,25.4,0,-25.4\n0,14.7376896,20.4440028,0,25.4,0,-25.4\n0,15.1196548,20.6386176,0,25.4,0,-25.4\n0,15.5198572,20.7922368,0,25.4,0,-25.4\n0,15.9339026,20.9032094,0,25.4,0,-25.4\n0,16.3573206,20.9702654,0,25.4,0,-25.4\n0,16.7853868,20.9926936,0,25.4,0,-25.4\n0,17.2134784,20.9702654,0,25.4,0,-25.4\n0,17.636871,20.9032094,0,25.4,0,-25.4\n0,18.0509418,20.7922368,0,25.4,0,-25.4\n0,18.4511442,20.6386176,0,25.4,0,-25.4\n0,18.8331094,20.4440028,0,25.4,0,-25.4\n0,19.192621,20.2105514,0,25.4,0,-25.4\n0,19.5257674,19.9407526,0,25.4,0,-25.4\n0,19.828891,19.6376544,0,25.4,0,-25.4\n0,20.0986644,19.304508,0,25.4,0,-25.4\n0,20.3321158,18.9449964,0,25.4,0,-25.4\n0,20.5267306,18.5630312,0,25.4,0,-25.4\n0,20.6803752,18.1628288,0,25.4,0,-25.4\n0,20.7913224,17.748758,0,25.4,0,-25.4\n0,20.8583784,17.3253654,0,25.4,0,-25.4\n0,20.8808066,16.8972738,0,25.4,0,-25.4\n0,13.3174994,9.6961452,0,25.4,0,-25.4\n0,13.2480558,9.2577158,0,25.4,0,-25.4\n0,13.1331716,8.8289638,0,25.4,0,-25.4\n0,12.9740914,8.4145628,0,25.4,0,-25.4\n0,12.7725932,8.0190594,0,25.4,0,-25.4\n0,12.530836,7.6467716,0,25.4,0,-25.4\n0,12.2514868,7.3018142,0,25.4,0,-25.4\n0,11.9375936,6.9879464,0,25.4,0,-25.4\n0,11.5926362,6.7085972,0,25.4,0,-25.4\n0,11.2203738,6.46684,0,25.4,0,-25.4\n0,10.824845,6.2653164,0,25.4,0,-25.4\n0,10.410444,6.1062362,0,25.4,0,-25.4\n0,9.981692,5.991352,0,25.4,0,-25.4\n0,9.5432626,5.9219084,0,25.4,0,-25.4\n0,9.0999818,5.8986928,0,25.4,0,-25.4\n0,8.6567264,5.9219084,0,25.4,0,-25.4\n0,8.218297,5.991352,0,25.4,0,-25.4\n0,7.7895196,6.1062362,0,25.4,0,-25.4\n0,7.3751186,6.2653164,0,25.4,0,-25.4\n0,6.9796152,6.46684,0,25.4,0,-25.4\n0,6.6073528,6.7085972,0,25.4,0,-25.4\n0,6.2623954,6.9879464,0,25.4,0,-25.4\n0,5.9485022,7.3018142,0,25.4,0,-25.4\n0,5.669153,7.6467716,0,25.4,0,-25.4\n0,5.4273958,8.0190594,0,25.4,0,-25.4\n0,5.2258722,8.4145628,0,25.4,0,-25.4\n0,5.0668174,8.8289638,0,25.4,0,-25.4\n0,4.9519332,9.2577158,0,25.4,0,-25.4\n0,4.8824896,9.6961452,0,25.4,0,-25.4\n0,4.8592486,10.139426,0,25.4,0,-25.4\n0,4.8824896,10.5827068,0,25.4,0,-25.4\n0,4.9519332,11.0211362,0,25.4,0,-25.4\n0,5.0668174,11.4498882,0,25.4,0,-25.4\n0,5.2258722,11.8642892,0,25.4,0,-25.4\n0,5.4273958,12.2597926,0,25.4,0,-25.4\n0,5.669153,12.6320804,0,25.4,0,-25.4\n0,5.9485022,12.9770378,0,25.4,0,-25.4\n0,6.2623954,13.2909056,0,25.4,0,-25.4\n0,6.6073528,13.5702548,0,25.4,0,-25.4\n0,6.9796152,13.812012,0,25.4,0,-25.4\n0,7.3751186,14.0135356,0,25.4,0,-25.4\n0,7.7895196,14.1726158,0,25.4,0,-25.4\n0,8.218297,14.2875,0,25.4,0,-25.4\n0,8.6567264,14.3569436,0,25.4,0,-25.4\n0,9.0999818,14.3801592,0,25.4,0,-25.4\n0,9.5432626,14.3569436,0,25.4,0,-25.4\n0,9.981692,14.2875,0,25.4,0,-25.4\n0,10.410444,14.1726158,0,25.4,0,-25.4\n0,10.824845,14.0135356,0,25.4,0,-25.4\n0,11.2203738,13.812012,0,25.4,0,-25.4\n0,11.5926362,13.5702548,0,25.4,0,-25.4\n0,11.9375936,13.2909056,0,25.4,0,-25.4\n0,12.2514868,12.9770378,0,25.4,0,-25.4\n0,12.530836,12.6320804,0,25.4,0,-25.4\n0,12.7725932,12.2597926,0,25.4,0,-25.4\n0,12.9740914,11.8642892,0,25.4,0,-25.4\n0,13.1331716,11.4498882,0,25.4,0,-25.4\n0,13.2480558,11.0211362,0,25.4,0,-25.4\n0,13.3174994,10.5827068,0,25.4,0,-25.4\n0,13.3407404,10.139426,0,25.4,0,-25.4\n0,21.5277192,2.3211536,0,25.4,0,-25.4\n0,21.1759546,2.582037,0,25.4,0,-25.4\n0,20.8514442,2.8761436,0,25.4,0,-25.4\n0,20.557363,3.2006286,0,25.4,0,-25.4\n0,20.2964796,3.5523932,0,25.4,0,-25.4\n0,20.0713086,3.9280338,0,25.4,0,-25.4\n0,19.8840852,4.3239182,0,25.4,0,-25.4\n0,19.7365366,4.7362618,0,25.4,0,-25.4\n0,19.630136,5.1610768,0,25.4,0,-25.4\n0,19.565874,5.5942992,0,25.4,0,-25.4\n0,19.5443856,6.0317126,0,25.4,0,-25.4\n0,19.565874,6.469126,0,25.4,0,-25.4\n0,19.630136,6.902323,0,25.4,0,-25.4\n0,19.7365366,7.327138,0,25.4,0,-25.4\n0,19.8840852,7.7394816,0,25.4,0,-25.4\n0,20.0713086,8.1353914,0,25.4,0,-25.4\n0,20.2964796,8.511032,0,25.4,0,-25.4\n0,20.557363,8.8627966,0,25.4,0,-25.4\n0,20.8514442,9.1872816,0,25.4,0,-25.4\n0,21.1759546,9.4813882,0,25.4,0,-25.4\n0,21.5277192,9.7422716,0,25.4,0,-25.4\n0,6.1278008,16.064738,0,25.4,0,-25.4\n0,6.0612782,15.6162756,0,25.4,0,-25.4\n0,5.9511438,15.1765,0,25.4,0,-25.4\n0,5.7983882,14.749653,0,25.4,0,-25.4\n0,5.6045608,14.339824,0,25.4,0,-25.4\n0,5.3714904,13.95095,0,25.4,0,-25.4\n0,5.1014122,13.5868156,0,25.4,0,-25.4\n0,4.7969678,13.2509006,0,25.4,0,-25.4\n0,4.4610528,12.9464308,0,25.4,0,-25.4\n0,4.0969184,12.676378,0,25.4,0,-25.4\n0,3.7080444,12.4433076,0,25.4,0,-25.4\n0,3.2982154,12.2494548,0,25.4,0,-25.4\n0,2.8713684,12.0967246,0,25.4,0,-25.4\n0,2.4315928,11.9865648,0,25.4,0,-25.4\n0,1.9831304,11.9200422,0,25.4,0,-25.4\n0,1.5303246,11.8977918,0,25.4,0,-25.4\n0,1.0774934,11.9200422,0,25.4,0,-25.4\n0,0.6290564,11.9865648,0,25.4,0,-25.4\n0,0.1892808,12.0967246,0,25.4,0,-25.4\n0,0.1892808,20.938363,0,25.4,0,-25.4\n0,0.6290564,21.0485228,0,25.4,0,-25.4\n0,1.0774934,21.1150454,0,25.4,0,-25.4\n0,1.5303246,21.1372958,0,25.4,0,-25.4\n0,1.9831304,21.1150454,0,25.4,0,-25.4\n0,2.4315928,21.0485228,0,25.4,0,-25.4\n0,2.8713684,20.938363,0,25.4,0,-25.4\n0,3.2982154,20.7856328,0,25.4,0,-25.4\n0,3.7080444,20.59178,0,25.4,0,-25.4\n0,4.0969184,20.3587096,0,25.4,0,-25.4\n0,4.4610528,20.0886568,0,25.4,0,-25.4\n0,4.7969678,19.784187,0,25.4,0,-25.4\n0,5.1014122,19.448272,0,25.4,0,-25.4\n0,5.3714904,19.0841376,0,25.4,0,-25.4\n0,5.6045608,18.6952636,0,25.4,0,-25.4\n0,5.7983882,18.2854346,0,25.4,0,-25.4\n0,5.9511438,17.8585876,0,25.4,0,-25.4\n0,6.0612782,17.418812,0,25.4,0,-25.4\n0,6.1278008,16.9703496,0,25.4,0,-25.4\n0,6.1500512,16.5175438,0,25.4,0,-25.4\n0,19.5946268,1.221359,0,25.4,0,-25.4\n0,19.5242688,0.7469886,0,25.4,0,-25.4\n0,19.4077336,0.281813,0,25.4,0,-25.4\n0,10.055352,0.281813,0,25.4,0,-25.4\n0,9.9388168,0.7469886,0,25.4,0,-25.4\n0,9.8684588,1.221359,0,25.4,0,-25.4\n0,9.844913,1.7003268,0,25.4,0,-25.4\n0,9.8684588,2.1792946,0,25.4,0,-25.4\n0,9.9388168,2.653665,0,25.4,0,-25.4\n0,10.055352,3.1188406,0,25.4,0,-25.4\n0,10.216896,3.570351,0,25.4,0,-25.4\n0,10.4219248,4.0038528,0,25.4,0,-25.4\n0,10.6684572,4.4151804,0,25.4,0,-25.4\n0,10.954131,4.800346,0,25.4,0,-25.4\n0,11.2761776,5.155692,0,25.4,0,-25.4\n0,11.6314982,5.4777386,0,25.4,0,-25.4\n0,12.0166892,5.763387,0,25.4,0,-25.4\n0,12.4280168,6.0099448,0,25.4,0,-25.4\n0,12.8615186,6.2149736,0,25.4,0,-25.4\n0,13.313029,6.3765176,0,25.4,0,-25.4\n0,13.7782046,6.4930528,0,25.4,0,-25.4\n0,14.252575,6.5634108,0,25.4,0,-25.4\n0,14.7315428,6.5869312,0,25.4,0,-25.4\n0,15.2105106,6.5634108,0,25.4,0,-25.4\n0,15.684881,6.4930528,0,25.4,0,-25.4\n0,16.1500566,6.3765176,0,25.4,0,-25.4\n0,16.601567,6.2149736,0,25.4,0,-25.4\n0,17.0350688,6.0099448,0,25.4,0,-25.4\n0,17.4463964,5.763387,0,25.4,0,-25.4\n0,17.8315874,5.4777386,0,25.4,0,-25.4\n0,18.186908,5.155692,0,25.4,0,-25.4\n0,18.5089546,4.800346,0,25.4,0,-25.4\n0,18.794603,4.4151804,0,25.4,0,-25.4\n0,19.0411608,4.0038528,0,25.4,0,-25.4\n0,19.2461896,3.570351,0,25.4,0,-25.4\n0,19.4077336,3.1188406,0,25.4,0,-25.4\n0,19.5242688,2.653665,0,25.4,0,-25.4\n0,19.5946268,2.1792946,0,25.4,0,-25.4\n0,19.6181472,1.7003268,0,25.4,0,-25.4\n0,25.1624084,12.2494548,0,25.4,0,-25.4\n0,24.7525794,12.4433076,0,25.4,0,-25.4\n0,24.3637308,12.676378,0,25.4,0,-25.4\n0,23.9995964,12.9464308,0,25.4,0,-25.4\n0,23.663656,13.2509006,0,25.4,0,-25.4\n0,23.3592116,13.5868156,0,25.4,0,-25.4\n0,23.0891334,13.95095,0,25.4,0,-25.4\n0,22.856063,14.339824,0,25.4,0,-25.4\n0,22.6622356,14.749653,0,25.4,0,-25.4\n0,22.5095054,15.1765,0,25.4,0,-25.4\n0,22.3993456,15.6162756,0,25.4,0,-25.4\n0,22.332823,16.064738,0,25.4,0,-25.4\n0,22.3105726,16.5175438,0,25.4,0,-25.4\n0,22.332823,16.9703496,0,25.4,0,-25.4\n0,22.3993456,17.418812,0,25.4,0,-25.4\n0,22.5095054,17.8585876,0,25.4,0,-25.4\n0,22.6622356,18.2854346,0,25.4,0,-25.4\n0,22.856063,18.6952636,0,25.4,0,-25.4\n0,23.0891334,19.0841376,0,25.4,0,-25.4\n0,23.3592116,19.448272,0,25.4,0,-25.4\n0,23.663656,19.784187,0,25.4,0,-25.4\n0,23.9995964,20.0886568,0,25.4,0,-25.4\n0,24.3637308,20.3587096,0,25.4,0,-25.4\n0,24.7525794,20.59178,0,25.4,0,-25.4\n0,25.1624084,20.7856328,0,25.4,0,-25.4\n0,24.0659412,22.037421,0,25.4,0,-25.4\n0,23.854537,21.6712292,0,25.4,0,-25.4\n0,23.571581,21.3569804,0,25.4,0,-25.4\n0,23.2294938,21.1084414,0,25.4,0,-25.4\n0,22.8432106,20.936458,0,25.4,0,-25.4\n0,22.429597,20.8485486,0,25.4,0,-25.4\n0,22.0067632,20.8485486,0,25.4,0,-25.4\n0,21.5931496,20.936458,0,25.4,0,-25.4\n0,20.370419,22.037421,0,25.4,0,-25.4\n0,25.302464,1.7612106,0,25.4,0,-25.4\n0,24.877649,1.65481,0,25.4,0,-25.4\n0,24.444452,1.590548,0,25.4,0,-25.4\n0,24.0070386,1.5690596,0,25.4,0,-25.4\n0,23.5696252,1.590548,0,25.4,0,-25.4\n0,23.1364028,1.65481,0,25.4,0,-25.4\n0,22.7115878,1.7612106,0,25.4,0,-25.4\n0,22.2992442,1.9087592,0,25.4,0,-25.4\n0,21.9033598,2.096008,0,25.4,0,-25.4\n0,21.9033598,9.9674172,0,25.4,0,-25.4\n0,22.2992442,10.154666,0,25.4,0,-25.4\n0,22.7115878,10.3022146,0,25.4,0,-25.4\n0,23.1364028,10.4086152,0,25.4,0,-25.4\n0,23.5696252,10.4728772,0,25.4,0,-25.4\n0,24.0070386,10.4943656,0,25.4,0,-25.4\n0,24.444452,10.4728772,0,25.4,0,-25.4\n0,24.877649,10.4086152,0,25.4,0,-25.4\n0,25.302464,10.3022146,0,25.4,0,-25.4\n0,19.2461896,25.2303026,0,25.4,0,-25.4\n0,19.0411608,24.7967754,0,25.4,0,-25.4\n0,18.794603,24.3854732,0,25.4,0,-25.4\n0,18.5089546,24.0002822,0,25.4,0,-25.4\n0,18.186908,23.6449616,0,25.4,0,-25.4\n0,17.8315874,23.322915,0,25.4,0,-25.4\n0,17.4463964,23.0372412,0,25.4,0,-25.4\n0,17.0350688,22.7907088,0,25.4,0,-25.4\n0,16.601567,22.58568,0,25.4,0,-25.4\n0,16.1500566,22.4241106,0,25.4,0,-25.4\n0,15.684881,22.3076008,0,25.4,0,-25.4\n0,15.2105106,22.2372428,0,25.4,0,-25.4\n0,14.7315428,22.213697,0,25.4,0,-25.4\n0,14.252575,22.2372428,0,25.4,0,-25.4\n0,13.7782046,22.3076008,0,25.4,0,-25.4\n0,13.313029,22.4241106,0,25.4,0,-25.4\n0,12.8615186,22.58568,0,25.4,0,-25.4\n0,12.4280168,22.7907088,0,25.4,0,-25.4\n0,12.0166892,23.0372412,0,25.4,0,-25.4\n0,11.6314982,23.322915,0,25.4,0,-25.4\n0,11.2761776,23.6449616,0,25.4,0,-25.4\n0,10.954131,24.0002822,0,25.4,0,-25.4\n0,10.6684572,24.3854732,0,25.4,0,-25.4\n0,10.4219248,24.7967754,0,25.4,0,-25.4\n0,10.216896,25.2303026,0,25.4,0,-25.4\n0,20.2397614,22.4395792,0,25.4,0,-25.4\n0,20.1955654,22.8601016,0,25.4,0,-25.4\n0,20.2397614,23.280624,0,25.4,0,-25.4\n0,20.370419,23.6827822,0,25.4,0,-25.4\n0,20.5818486,24.048974,0,25.4,0,-25.4\n0,20.8647792,24.3631974,0,25.4,0,-25.4\n0,21.2068664,24.6117364,0,25.4,0,-25.4\n0,8.6049104,21.9594938,0,25.4,0,-25.4\n0,9.0213688,22.0289882,0,25.4,0,-25.4\n0,9.4436184,22.0289882,0,25.4,0,-25.4\n0,9.8601022,21.9594938,0,25.4,0,-25.4\n0,7.9568548,24.9748294,0,25.4,0,-25.4\n0,7.8737206,24.5568978,0,25.4,0,-25.4\n0,7.7367638,24.1534188,0,25.4,0,-25.4\n0,7.5482958,23.7712758,0,25.4,0,-25.4\n0,7.3115678,23.4169966,0,25.4,0,-25.4\n0,7.0306184,23.0966264,0,25.4,0,-25.4\n0,6.7102736,22.815677,0,25.4,0,-25.4\n0,6.3559944,22.578949,0,25.4,0,-25.4\n0,5.973826,22.3905064,0,25.4,0,-25.4\n0,5.570347,22.2535496,0,25.4,0,-25.4\n0,5.1524408,22.1704154,0,25.4,0,-25.4\n0,4.7272702,22.1425516,0,25.4,0,-25.4\n0,4.3020742,22.1704154,0,25.4,0,-25.4\n0,3.884168,22.2535496,0,25.4,0,-25.4\n0,3.480689,22.3905064,0,25.4,0,-25.4\n0,3.098546,22.578949,0,25.4,0,-25.4\n0,2.7442414,22.815677,0,25.4,0,-25.4\n0,2.4238966,23.0966264,0,25.4,0,-25.4\n0,2.1429472,23.4169966,0,25.4,0,-25.4\n0,1.9062192,23.7712758,0,25.4,0,-25.4\n0,1.7177766,24.1534188,0,25.4,0,-25.4\n0,1.5807944,24.5568978,0,25.4,0,-25.4\n0,1.4976856,24.9748294,0,25.4,0,-25.4\n0,1.4697964,25.4,0,25.4,0,-25.4\n0,7.9847186,25.4,0,25.4,0,-25.4\n0,24.1966242,22.4395792,0,25.4,0,-25.4\n0,21.5931496,24.7837452,0,25.4,0,-25.4\n0,22.0067632,24.8716546,0,25.4,0,-25.4\n0,22.429597,24.8716546,0,25.4,0,-25.4\n0,22.8432106,24.7837452,0,25.4,0,-25.4\n0,23.2294938,24.6117364,0,25.4,0,-25.4\n0,23.571581,24.3631974,0,25.4,0,-25.4\n0,23.854537,24.048974,0,25.4,0,-25.4\n0,24.0659412,23.6827822,0,25.4,0,-25.4\n0,24.1966242,23.280624,0,25.4,0,-25.4\n0,24.2408202,22.8601016,0,25.4,0,-25.4\n")),k(N.ParsePatFile("\n*BUBBLES-02,BUBBLES-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n0,0.315722,3.5481006,0,25.4,0,-25.4\n0,0.1191006,3.162173,0,25.4,0,-25.4\n0,0.1191006,4.7896018,0,25.4,0,-25.4\n0,0.315722,4.4036742,0,25.4,0,-25.4\n0,0.3834892,3.9758874,0,25.4,0,-25.4\n0,0.9946386,13.9859512,0,25.4,0,-25.4\n0,0.840232,13.5788146,0,25.4,0,-25.4\n0,0.5928614,13.220446,0,25.4,0,-25.4\n0,0.2669286,12.9316988,0,25.4,0,-25.4\n0,0.2669286,15.9047688,0,25.4,0,-25.4\n0,0.5928614,15.6160216,0,25.4,0,-25.4\n0,0.840232,15.257653,0,25.4,0,-25.4\n0,0.9946386,14.8505164,0,25.4,0,-25.4\n0,1.0471404,14.4182338,0,25.4,0,-25.4\n0,0.321437,1.5549118,0,25.4,0,-25.4\n0,0.7453122,1.6269208,0,25.4,0,-25.4\n0,1.1745976,1.6510254,0,25.4,0,-25.4\n0,1.6039084,1.6269208,0,25.4,0,-25.4\n0,2.0277836,1.5549118,0,25.4,0,-25.4\n0,2.44094,1.435862,0,25.4,0,-25.4\n0,2.838196,1.2713208,0,25.4,0,-25.4\n0,3.214497,1.0633456,0,25.4,0,-25.4\n0,3.5651694,0.8145526,0,25.4,0,-25.4\n0,3.8857682,0.5280406,0,25.4,0,-25.4\n0,4.1722802,0.2074418,0,25.4,0,-25.4\n0,5.3785008,15.8337504,0,25.4,0,-25.4\n0,5.1644804,15.4630628,0,25.4,0,-25.4\n0,4.8365664,15.1879046,0,25.4,0,-25.4\n0,4.434332,15.041499,0,25.4,0,-25.4\n0,4.0062658,15.041499,0,25.4,0,-25.4\n0,3.6040314,15.1879046,0,25.4,0,-25.4\n0,3.2761174,15.4630628,0,25.4,0,-25.4\n0,3.062097,15.8337504,0,25.4,0,-25.4\n0,2.9877512,16.2553142,0,25.4,0,-25.4\n0,3.062097,16.676878,0,25.4,0,-25.4\n0,3.2761174,17.0475656,0,25.4,0,-25.4\n0,3.6040314,17.3227238,0,25.4,0,-25.4\n0,4.0062658,17.4691294,0,25.4,0,-25.4\n0,4.434332,17.4691294,0,25.4,0,-25.4\n0,4.8365664,17.3227238,0,25.4,0,-25.4\n0,5.1644804,17.0475656,0,25.4,0,-25.4\n0,5.3785008,16.676878,0,25.4,0,-25.4\n0,5.4528212,16.2553142,0,25.4,0,-25.4\n0,1.6039084,19.4068192,0,25.4,0,-25.4\n0,1.1745976,19.3827146,0,25.4,0,-25.4\n0,0.7453122,19.4068192,0,25.4,0,-25.4\n0,8.07212,6.3135002,0,25.4,0,-25.4\n0,7.9904082,5.9026552,0,25.4,0,-25.4\n0,7.8557628,5.5059834,0,25.4,0,-25.4\n0,7.6704952,5.130292,0,25.4,0,-25.4\n0,7.437755,4.7820072,0,25.4,0,-25.4\n0,7.1615554,4.4670472,0,25.4,0,-25.4\n0,6.8466208,4.1908476,0,25.4,0,-25.4\n0,6.4983106,3.9581328,0,25.4,0,-25.4\n0,6.1226192,3.7728652,0,25.4,0,-25.4\n0,5.7259474,3.6382198,0,25.4,0,-25.4\n0,5.3151024,3.5564826,0,25.4,0,-25.4\n0,4.89712,3.5291014,0,25.4,0,-25.4\n0,4.4791122,3.5564826,0,25.4,0,-25.4\n0,4.0682672,3.6382198,0,25.4,0,-25.4\n0,3.6715954,3.7728652,0,25.4,0,-25.4\n0,3.295904,3.9581328,0,25.4,0,-25.4\n0,2.9475938,4.1908476,0,25.4,0,-25.4\n0,2.6326592,4.4670472,0,25.4,0,-25.4\n0,2.3564596,4.7820072,0,25.4,0,-25.4\n0,2.1237448,5.130292,0,25.4,0,-25.4\n0,1.9384772,5.5059834,0,25.4,0,-25.4\n0,1.8038064,5.9026552,0,25.4,0,-25.4\n0,1.7220946,6.3135002,0,25.4,0,-25.4\n0,1.694688,6.731508,0,25.4,0,-25.4\n0,1.7220946,7.1495158,0,25.4,0,-25.4\n0,1.8038064,7.5603608,0,25.4,0,-25.4\n0,1.9384772,7.9570072,0,25.4,0,-25.4\n0,2.1237448,8.332724,0,25.4,0,-25.4\n0,2.3564596,8.6810088,0,25.4,0,-25.4\n0,2.6326592,8.9959434,0,25.4,0,-25.4\n0,2.9475938,9.272143,0,25.4,0,-25.4\n0,3.295904,9.5048832,0,25.4,0,-25.4\n0,3.6715954,9.6901508,0,25.4,0,-25.4\n0,4.0682672,9.8247962,0,25.4,0,-25.4\n0,4.4791122,9.9065334,0,25.4,0,-25.4\n0,4.89712,9.9339146,0,25.4,0,-25.4\n0,5.3151024,9.9065334,0,25.4,0,-25.4\n0,5.7259474,9.8247962,0,25.4,0,-25.4\n0,6.1226192,9.6901508,0,25.4,0,-25.4\n0,6.4983106,9.5048832,0,25.4,0,-25.4\n0,6.8466208,9.272143,0,25.4,0,-25.4\n0,7.1615554,8.9959434,0,25.4,0,-25.4\n0,7.437755,8.6810088,0,25.4,0,-25.4\n0,7.6704952,8.332724,0,25.4,0,-25.4\n0,7.8557628,7.9570072,0,25.4,0,-25.4\n0,7.9904082,7.5603608,0,25.4,0,-25.4\n0,8.07212,7.1495158,0,25.4,0,-25.4\n0,8.0995266,6.731508,0,25.4,0,-25.4\n0,18.0404516,13.0813048,0,25.4,0,-25.4\n0,17.9789836,12.6669292,0,25.4,0,-25.4\n0,17.8771804,12.2606054,0,25.4,0,-25.4\n0,17.736058,11.8661942,0,25.4,0,-25.4\n0,17.5569626,11.4875056,0,25.4,0,-25.4\n0,17.3416214,11.1282226,0,25.4,0,-25.4\n0,17.0920664,10.7917488,0,25.4,0,-25.4\n0,16.8107614,10.4813862,0,25.4,0,-25.4\n0,16.5003734,10.2000558,0,25.4,0,-25.4\n0,16.163925,9.9505262,0,25.4,0,-25.4\n0,15.8046166,9.7351596,0,25.4,0,-25.4\n0,15.4259534,9.5560642,0,25.4,0,-25.4\n0,15.0315422,9.4149418,0,25.4,0,-25.4\n0,14.625193,9.313164,0,25.4,0,-25.4\n0,14.2108428,9.251696,0,25.4,0,-25.4\n0,13.792454,9.2311474,0,25.4,0,-25.4\n0,13.3740652,9.251696,0,25.4,0,-25.4\n0,12.9596896,9.313164,0,25.4,0,-25.4\n0,12.5533404,9.4149418,0,25.4,0,-25.4\n0,12.1589292,9.5560642,0,25.4,0,-25.4\n0,11.780266,9.7351596,0,25.4,0,-25.4\n0,11.4209576,9.9505262,0,25.4,0,-25.4\n0,11.0845092,10.2000558,0,25.4,0,-25.4\n0,10.7741212,10.4813862,0,25.4,0,-25.4\n0,10.4928162,10.7917488,0,25.4,0,-25.4\n0,10.2432866,11.1282226,0,25.4,0,-25.4\n0,10.02792,11.4875056,0,25.4,0,-25.4\n0,9.8488246,11.8661942,0,25.4,0,-25.4\n0,9.7077022,12.2606054,0,25.4,0,-25.4\n0,9.6059244,12.6669292,0,25.4,0,-25.4\n0,9.5444564,13.0813048,0,25.4,0,-25.4\n0,9.5239078,13.4996936,0,25.4,0,-25.4\n0,9.5444564,13.9180824,0,25.4,0,-25.4\n0,9.6059244,14.332458,0,25.4,0,-25.4\n0,9.7077022,14.7387818,0,25.4,0,-25.4\n0,9.8488246,15.133193,0,25.4,0,-25.4\n0,10.02792,15.5118816,0,25.4,0,-25.4\n0,10.2432866,15.8711646,0,25.4,0,-25.4\n0,10.4928162,16.2076384,0,25.4,0,-25.4\n0,10.7741212,16.518001,0,25.4,0,-25.4\n0,11.0845092,16.7993314,0,25.4,0,-25.4\n0,11.4209576,17.048861,0,25.4,0,-25.4\n0,11.780266,17.2642276,0,25.4,0,-25.4\n0,12.1589292,17.443323,0,25.4,0,-25.4\n0,12.5533404,17.5844454,0,25.4,0,-25.4\n0,12.9596896,17.6862232,0,25.4,0,-25.4\n0,13.3740652,17.7476912,0,25.4,0,-25.4\n0,13.792454,17.7682398,0,25.4,0,-25.4\n0,14.2108428,17.7476912,0,25.4,0,-25.4\n0,14.625193,17.6862232,0,25.4,0,-25.4\n0,15.0315422,17.5844454,0,25.4,0,-25.4\n0,15.4259534,17.443323,0,25.4,0,-25.4\n0,15.8046166,17.2642276,0,25.4,0,-25.4\n0,16.163925,17.048861,0,25.4,0,-25.4\n0,16.5003734,16.7993314,0,25.4,0,-25.4\n0,16.8107614,16.518001,0,25.4,0,-25.4\n0,17.0920664,16.2076384,0,25.4,0,-25.4\n0,17.3416214,15.8711646,0,25.4,0,-25.4\n0,17.5569626,15.5118816,0,25.4,0,-25.4\n0,17.736058,15.133193,0,25.4,0,-25.4\n0,17.8771804,14.7387818,0,25.4,0,-25.4\n0,17.9789836,14.332458,0,25.4,0,-25.4\n0,18.0404516,13.9180824,0,25.4,0,-25.4\n0,18.0610002,13.4996936,0,25.4,0,-25.4\n0,8.9792048,0.3298444,0,25.4,0,-25.4\n0,8.9318846,0.7497064,0,25.4,0,-25.4\n0,8.9160858,1.1719306,0,25.4,0,-25.4\n0,8.9318846,1.5941294,0,25.4,0,-25.4\n0,8.9792048,2.0139914,0,25.4,0,-25.4\n0,9.0577416,2.429129,0,25.4,0,-25.4\n0,9.1670886,2.8372562,0,25.4,0,-25.4\n0,9.3066362,3.2360616,0,25.4,0,-25.4\n0,9.475597,3.62331,0,25.4,0,-25.4\n0,9.6730312,3.9968424,0,25.4,0,-25.4\n0,9.8978212,4.3546014,0,25.4,0,-25.4\n0,10.1487224,4.694555,0,25.4,0,-25.4\n0,10.4243124,5.0147982,0,25.4,0,-25.4\n0,10.7230672,5.3135784,0,25.4,0,-25.4\n0,11.0433104,5.5891684,0,25.4,0,-25.4\n0,11.383264,5.8400696,0,25.4,0,-25.4\n0,11.741023,6.0648596,0,25.4,0,-25.4\n0,12.1145554,6.2622684,0,25.4,0,-25.4\n0,12.5018292,6.4312292,0,25.4,0,-25.4\n0,12.9006346,6.5707768,0,25.4,0,-25.4\n0,13.3087364,6.6801238,0,25.4,0,-25.4\n0,13.723874,6.758686,0,25.4,0,-25.4\n0,14.143736,6.8059808,0,25.4,0,-25.4\n0,14.5659602,6.8217796,0,25.4,0,-25.4\n0,14.988159,6.8059808,0,25.4,0,-25.4\n0,15.408021,6.758686,0,25.4,0,-25.4\n0,15.8231586,6.6801238,0,25.4,0,-25.4\n0,16.2312858,6.5707768,0,25.4,0,-25.4\n0,16.6300658,6.4312292,0,25.4,0,-25.4\n0,17.0173396,6.2622684,0,25.4,0,-25.4\n0,17.390872,6.0648596,0,25.4,0,-25.4\n0,17.748631,5.8400696,0,25.4,0,-25.4\n0,18.0885846,5.5891684,0,25.4,0,-25.4\n0,18.4088278,5.3135784,0,25.4,0,-25.4\n0,18.7075826,5.0147982,0,25.4,0,-25.4\n0,18.983198,4.694555,0,25.4,0,-25.4\n0,19.2340992,4.3546014,0,25.4,0,-25.4\n0,19.4588892,3.9968424,0,25.4,0,-25.4\n0,19.656298,3.62331,0,25.4,0,-25.4\n0,19.8252588,3.2360616,0,25.4,0,-25.4\n0,23.5769404,0.2074418,0,25.4,0,-25.4\n0,23.8634524,0.5280406,0,25.4,0,-25.4\n0,24.1840512,0.8145526,0,25.4,0,-25.4\n0,24.5347236,1.0633456,0,25.4,0,-25.4\n0,24.9110246,1.2713208,0,25.4,0,-25.4\n0,25.3082552,1.435862,0,25.4,0,-25.4\n0,25.2128274,2.8558998,0,25.4,0,-25.4\n0,24.8269252,2.6592784,0,25.4,0,-25.4\n0,24.399113,2.5915112,0,25.4,0,-25.4\n0,23.9713262,2.6592784,0,25.4,0,-25.4\n0,23.5853986,2.8558998,0,25.4,0,-25.4\n0,23.2791508,3.162173,0,25.4,0,-25.4\n0,23.082504,3.5481006,0,25.4,0,-25.4\n0,23.0147622,3.9758874,0,25.4,0,-25.4\n0,23.082504,4.4036742,0,25.4,0,-25.4\n0,23.2791508,4.7896018,0,25.4,0,-25.4\n0,23.5853986,5.095875,0,25.4,0,-25.4\n0,23.9713262,5.2924964,0,25.4,0,-25.4\n0,24.399113,5.3602636,0,25.4,0,-25.4\n0,24.8269252,5.2924964,0,25.4,0,-25.4\n0,25.2128274,5.095875,0,25.4,0,-25.4\n0,25.2813566,12.729337,0,25.4,0,-25.4\n0,24.8585736,12.6251208,0,25.4,0,-25.4\n0,24.423116,12.6251208,0,25.4,0,-25.4\n0,24.000333,12.729337,0,25.4,0,-25.4\n0,23.614761,12.9316988,0,25.4,0,-25.4\n0,23.2888028,13.220446,0,25.4,0,-25.4\n0,23.0414576,13.5788146,0,25.4,0,-25.4\n0,22.887051,13.9859512,0,25.4,0,-25.4\n0,22.8345492,14.4182338,0,25.4,0,-25.4\n0,22.887051,14.8505164,0,25.4,0,-25.4\n0,23.0414576,15.257653,0,25.4,0,-25.4\n0,23.2888028,15.6160216,0,25.4,0,-25.4\n0,23.614761,15.9047688,0,25.4,0,-25.4\n0,24.000333,16.1071306,0,25.4,0,-25.4\n0,24.423116,16.2113468,0,25.4,0,-25.4\n0,24.8585736,16.2113468,0,25.4,0,-25.4\n0,25.2813566,16.1071306,0,25.4,0,-25.4\n0,20.2000104,0.7497064,0,25.4,0,-25.4\n0,20.1527156,0.3298444,0,25.4,0,-25.4\n0,19.9648064,2.8372562,0,25.4,0,-25.4\n0,20.0741534,2.429129,0,25.4,0,-25.4\n0,20.1527156,2.0139914,0,25.4,0,-25.4\n0,20.2000104,1.5941294,0,25.4,0,-25.4\n0,20.2158092,1.1719306,0,25.4,0,-25.4\n0,20.0741534,25.3147068,0,25.4,0,-25.4\n0,19.9648064,24.906605,0,25.4,0,-25.4\n0,19.8252588,24.5077996,0,25.4,0,-25.4\n0,19.656298,24.1205512,0,25.4,0,-25.4\n0,19.4588892,23.7469934,0,25.4,0,-25.4\n0,19.2340992,23.3892344,0,25.4,0,-25.4\n0,18.983198,23.0492808,0,25.4,0,-25.4\n0,18.7075826,22.7290376,0,25.4,0,-25.4\n0,18.4088278,22.4302828,0,25.4,0,-25.4\n0,18.0885846,22.1546928,0,25.4,0,-25.4\n0,17.748631,21.9037916,0,25.4,0,-25.4\n0,17.390872,21.6790016,0,25.4,0,-25.4\n0,17.0173396,21.4815674,0,25.4,0,-25.4\n0,16.6300658,21.3126066,0,25.4,0,-25.4\n0,16.2312858,21.173059,0,25.4,0,-25.4\n0,15.8231586,21.063712,0,25.4,0,-25.4\n0,15.408021,20.9851752,0,25.4,0,-25.4\n0,14.988159,20.937855,0,25.4,0,-25.4\n0,14.5659602,20.9220562,0,25.4,0,-25.4\n0,14.143736,20.937855,0,25.4,0,-25.4\n0,13.723874,20.9851752,0,25.4,0,-25.4\n0,13.3087364,21.063712,0,25.4,0,-25.4\n0,12.9006346,21.173059,0,25.4,0,-25.4\n0,12.5018292,21.3126066,0,25.4,0,-25.4\n0,12.1145554,21.4815674,0,25.4,0,-25.4\n0,11.741023,21.6790016,0,25.4,0,-25.4\n0,11.383264,21.9037916,0,25.4,0,-25.4\n0,11.0433104,22.1546928,0,25.4,0,-25.4\n0,10.7230672,22.4302828,0,25.4,0,-25.4\n0,10.4243124,22.7290376,0,25.4,0,-25.4\n0,10.1487224,23.0492808,0,25.4,0,-25.4\n0,9.8978212,23.3892344,0,25.4,0,-25.4\n0,9.6730312,23.7469934,0,25.4,0,-25.4\n0,9.475597,24.1205512,0,25.4,0,-25.4\n0,9.3066362,24.5077996,0,25.4,0,-25.4\n0,9.1670886,24.906605,0,25.4,0,-25.4\n0,9.0577416,25.3147068,0,25.4,0,-25.4\n0,4.9846484,22.7875846,0,25.4,0,-25.4\n0,4.9126394,22.3637094,0,25.4,0,-25.4\n0,4.793615,21.9505276,0,25.4,0,-25.4\n0,4.6290738,21.553297,0,25.4,0,-25.4\n0,4.4210732,21.176996,0,25.4,0,-25.4\n0,4.1722802,20.8263236,0,25.4,0,-25.4\n0,3.8857682,20.5057248,0,25.4,0,-25.4\n0,3.5651694,20.2192128,0,25.4,0,-25.4\n0,3.214497,19.9703944,0,25.4,0,-25.4\n0,2.838196,19.7624192,0,25.4,0,-25.4\n0,2.44094,19.597878,0,25.4,0,-25.4\n0,2.0277836,19.4788536,0,25.4,0,-25.4\n0,0.321437,19.4788536,0,25.4,0,-25.4\n0,4.4210732,25.2567694,0,25.4,0,-25.4\n0,4.6290738,24.880443,0,25.4,0,-25.4\n0,4.793615,24.4832124,0,25.4,0,-25.4\n0,4.9126394,24.070056,0,25.4,0,-25.4\n0,4.9846484,23.6461554,0,25.4,0,-25.4\n0,5.008753,23.21687,0,25.4,0,-25.4\n0,25.3082552,19.597878,0,25.4,0,-25.4\n0,24.9110246,19.7624192,0,25.4,0,-25.4\n0,24.5347236,19.9703944,0,25.4,0,-25.4\n0,24.1840512,20.2192128,0,25.4,0,-25.4\n0,23.8634524,20.5057248,0,25.4,0,-25.4\n0,23.5769404,20.8263236,0,25.4,0,-25.4\n0,23.3281474,21.176996,0,25.4,0,-25.4\n0,23.1201468,21.553297,0,25.4,0,-25.4\n0,22.9556056,21.9505276,0,25.4,0,-25.4\n0,22.8365812,22.3637094,0,25.4,0,-25.4\n0,22.7645722,22.7875846,0,25.4,0,-25.4\n0,22.7404422,23.21687,0,25.4,0,-25.4\n0,22.7645722,23.6461554,0,25.4,0,-25.4\n0,22.8365812,24.070056,0,25.4,0,-25.4\n0,22.9556056,24.4832124,0,25.4,0,-25.4\n0,23.1201468,24.880443,0,25.4,0,-25.4\n0,23.3281474,25.2567694,0,25.4,0,-25.4\n")),k(N.ParsePatFile("\n*BUBBLES-03,BUBBLES-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n0,10.1887274,4.1559734,0,25.4,0,-25.4\n0,10.0855526,3.6595304,0,25.4,0,-25.4\n0,9.9157536,3.181731,0,25.4,0,-25.4\n0,9.68248,2.7315414,0,25.4,0,-25.4\n0,9.3900752,2.3172928,0,25.4,0,-25.4\n0,9.0439748,1.9467068,0,25.4,0,-25.4\n0,8.6506558,1.6267176,0,25.4,0,-25.4\n0,8.217408,1.3632688,0,25.4,0,-25.4\n0,7.752334,1.1612372,0,25.4,0,-25.4\n0,7.2640952,1.0244582,0,25.4,0,-25.4\n0,6.7617594,0.9553956,0,25.4,0,-25.4\n0,6.2546992,0.9553956,0,25.4,0,-25.4\n0,5.7523634,1.0244582,0,25.4,0,-25.4\n0,5.2641246,1.1612372,0,25.4,0,-25.4\n0,4.7990252,1.3632688,0,25.4,0,-25.4\n0,4.3658028,1.6267176,0,25.4,0,-25.4\n0,3.9724838,1.9467068,0,25.4,0,-25.4\n0,3.6263834,2.3172928,0,25.4,0,-25.4\n0,3.3339786,2.7315414,0,25.4,0,-25.4\n0,3.100705,3.181731,0,25.4,0,-25.4\n0,2.9308806,3.6595304,0,25.4,0,-25.4\n0,2.8277312,4.1559734,0,25.4,0,-25.4\n0,2.7931364,4.6618398,0,25.4,0,-25.4\n0,2.8277312,5.1677062,0,25.4,0,-25.4\n0,2.9308806,5.6641746,0,25.4,0,-25.4\n0,3.100705,6.1419486,0,25.4,0,-25.4\n0,3.3339786,6.5921382,0,25.4,0,-25.4\n0,3.6263834,7.0063868,0,25.4,0,-25.4\n0,3.9724838,7.3769728,0,25.4,0,-25.4\n0,4.3658028,7.696962,0,25.4,0,-25.4\n0,4.7990252,7.9604362,0,25.4,0,-25.4\n0,5.2641246,8.1624424,0,25.4,0,-25.4\n0,5.7523634,8.2992468,0,25.4,0,-25.4\n0,6.2546992,8.368284,0,25.4,0,-25.4\n0,6.7617594,8.368284,0,25.4,0,-25.4\n0,7.2640952,8.2992468,0,25.4,0,-25.4\n0,7.752334,8.1624424,0,25.4,0,-25.4\n0,8.217408,7.9604362,0,25.4,0,-25.4\n0,8.6506558,7.696962,0,25.4,0,-25.4\n0,9.0439748,7.3769728,0,25.4,0,-25.4\n0,9.3900752,7.0063868,0,25.4,0,-25.4\n0,9.68248,6.5921382,0,25.4,0,-25.4\n0,9.9157536,6.1419486,0,25.4,0,-25.4\n0,10.0855526,5.6641746,0,25.4,0,-25.4\n0,10.1887274,5.1677062,0,25.4,0,-25.4\n0,10.2233222,4.6618398,0,25.4,0,-25.4\n0,18.2143908,14.7408138,0,25.4,0,-25.4\n0,17.687036,14.9496018,0,25.4,0,-25.4\n0,17.1900342,15.222855,0,25.4,0,-25.4\n0,16.7311578,15.55623,0,25.4,0,-25.4\n0,16.317722,15.9444944,0,25.4,0,-25.4\n0,15.9561784,16.3815014,0,25.4,0,-25.4\n0,15.6522674,16.860393,0,25.4,0,-25.4\n0,15.4107896,17.3736,0,25.4,0,-25.4\n0,15.2355042,17.9130198,0,25.4,0,-25.4\n0,15.1292306,18.4701434,0,25.4,0,-25.4\n0,15.0936198,19.0362078,0,25.4,0,-25.4\n0,15.1292306,19.6022722,0,25.4,0,-25.4\n0,15.2355042,20.1593958,0,25.4,0,-25.4\n0,15.4107896,20.6988156,0,25.4,0,-25.4\n0,18.1163722,0.530352,0,25.4,0,-25.4\n0,17.4814484,0.5615432,0,25.4,0,-25.4\n0,16.8526714,0.654812,0,25.4,0,-25.4\n0,16.236061,0.8092694,0,25.4,0,-25.4\n0,15.6375354,1.0234168,0,25.4,0,-25.4\n0,15.0629112,1.2951968,0,25.4,0,-25.4\n0,14.5176748,1.6219932,0,25.4,0,-25.4\n0,14.0071094,2.0006564,0,25.4,0,-25.4\n0,13.5361172,2.4275542,0,25.4,0,-25.4\n0,13.1092194,2.8985464,0,25.4,0,-25.4\n0,12.7305562,3.4091372,0,25.4,0,-25.4\n0,12.4037598,3.9543482,0,25.4,0,-25.4\n0,12.1319798,4.5289978,0,25.4,0,-25.4\n0,11.9178324,5.127498,0,25.4,0,-25.4\n0,11.763375,5.7441084,0,25.4,0,-25.4\n0,11.6701062,6.3729108,0,25.4,0,-25.4\n0,11.638915,7.0078092,0,25.4,0,-25.4\n0,11.6701062,7.6427076,0,25.4,0,-25.4\n0,11.763375,8.2714846,0,25.4,0,-25.4\n0,11.9178324,8.8881204,0,25.4,0,-25.4\n0,12.1319798,9.4866206,0,25.4,0,-25.4\n0,12.4037598,10.0612702,0,25.4,0,-25.4\n0,12.7305562,10.6064812,0,25.4,0,-25.4\n0,13.1092194,11.117072,0,25.4,0,-25.4\n0,13.5361172,11.5880642,0,25.4,0,-25.4\n0,14.0071094,12.0149366,0,25.4,0,-25.4\n0,14.5176748,12.3936252,0,25.4,0,-25.4\n0,15.0629112,12.7204216,0,25.4,0,-25.4\n0,15.6375354,12.9922016,0,25.4,0,-25.4\n0,16.236061,13.206349,0,25.4,0,-25.4\n0,16.8526714,13.3608064,0,25.4,0,-25.4\n0,17.4814484,13.4540752,0,25.4,0,-25.4\n0,18.1163722,13.4852664,0,25.4,0,-25.4\n0,14.3025876,16.7496744,0,25.4,0,-25.4\n0,14.1946122,16.0217104,0,25.4,0,-25.4\n0,14.0157962,15.3078434,0,25.4,0,-25.4\n0,13.7678668,14.6149568,0,25.4,0,-25.4\n0,13.453237,13.94968,0,25.4,0,-25.4\n0,13.0748786,13.3184646,0,25.4,0,-25.4\n0,12.6365,12.7273558,0,25.4,0,-25.4\n0,12.1422922,12.1820686,0,25.4,0,-25.4\n0,11.597005,11.6878608,0,25.4,0,-25.4\n0,11.0058962,11.2494822,0,25.4,0,-25.4\n0,10.3746808,10.8711492,0,25.4,0,-25.4\n0,9.7094294,10.556494,0,25.4,0,-25.4\n0,9.0165174,10.3085646,0,25.4,0,-25.4\n0,8.3026504,10.1297486,0,25.4,0,-25.4\n0,7.5746864,10.0217732,0,25.4,0,-25.4\n0,6.8396612,9.9856544,0,25.4,0,-25.4\n0,6.1046106,10.0217732,0,25.4,0,-25.4\n0,5.376672,10.1297486,0,25.4,0,-25.4\n0,4.662805,10.3085646,0,25.4,0,-25.4\n0,3.969893,10.556494,0,25.4,0,-25.4\n0,3.3046416,10.8711492,0,25.4,0,-25.4\n0,2.6734008,11.2494822,0,25.4,0,-25.4\n0,2.0823174,11.6878608,0,25.4,0,-25.4\n0,1.5370302,12.1820686,0,25.4,0,-25.4\n0,1.0428224,12.7273558,0,25.4,0,-25.4\n0,0.6044184,13.3184646,0,25.4,0,-25.4\n0,0.2260854,13.94968,0,25.4,0,-25.4\n0,13.7678668,20.3544678,0,25.4,0,-25.4\n0,14.0157962,19.6615558,0,25.4,0,-25.4\n0,14.1946122,18.9476888,0,25.4,0,-25.4\n0,14.3025876,18.2197502,0,25.4,0,-25.4\n0,14.3387064,17.4846996,0,25.4,0,-25.4\n0,25.3114302,14.6149568,0,25.4,0,-25.4\n0,25.0635262,15.3078434,0,25.4,0,-25.4\n0,24.8847102,16.0217104,0,25.4,0,-25.4\n0,24.7767094,16.7496744,0,25.4,0,-25.4\n0,24.740616,17.4846996,0,25.4,0,-25.4\n0,24.7767094,18.2197502,0,25.4,0,-25.4\n0,24.8847102,18.9476888,0,25.4,0,-25.4\n0,25.0635262,19.6615558,0,25.4,0,-25.4\n0,25.3114302,20.3544678,0,25.4,0,-25.4\n0,24.090884,18.4701434,0,25.4,0,-25.4\n0,23.984585,17.9130198,0,25.4,0,-25.4\n0,23.809325,17.3736,0,25.4,0,-25.4\n0,23.5678472,16.860393,0,25.4,0,-25.4\n0,23.2639362,16.3815014,0,25.4,0,-25.4\n0,22.9023926,15.9444944,0,25.4,0,-25.4\n0,22.4889314,15.55623,0,25.4,0,-25.4\n0,22.0300804,15.222855,0,25.4,0,-25.4\n0,21.5330532,14.9496018,0,25.4,0,-25.4\n0,21.0056984,14.7408138,0,25.4,0,-25.4\n0,20.4563472,14.5997676,0,25.4,0,-25.4\n0,19.8936356,14.528673,0,25.4,0,-25.4\n0,19.3264536,14.528673,0,25.4,0,-25.4\n0,18.7637674,14.5997676,0,25.4,0,-25.4\n0,15.6522674,21.2120226,0,25.4,0,-25.4\n0,15.9561784,21.6908888,0,25.4,0,-25.4\n0,16.317722,22.1279212,0,25.4,0,-25.4\n0,16.7311578,22.5161856,0,25.4,0,-25.4\n0,17.1900342,22.8495606,0,25.4,0,-25.4\n0,17.687036,23.1227884,0,25.4,0,-25.4\n0,18.2143908,23.3315764,0,25.4,0,-25.4\n0,18.7637674,23.472648,0,25.4,0,-25.4\n0,19.3264536,23.5437172,0,25.4,0,-25.4\n0,19.8936356,23.5437172,0,25.4,0,-25.4\n0,20.4563472,23.472648,0,25.4,0,-25.4\n0,21.0056984,23.3315764,0,25.4,0,-25.4\n0,21.5330532,23.1227884,0,25.4,0,-25.4\n0,22.0300804,22.8495606,0,25.4,0,-25.4\n0,22.4889314,22.5161856,0,25.4,0,-25.4\n0,22.9023926,22.1279212,0,25.4,0,-25.4\n0,23.2639362,21.6908888,0,25.4,0,-25.4\n0,23.5678472,21.2120226,0,25.4,0,-25.4\n0,23.809325,20.6988156,0,25.4,0,-25.4\n0,23.984585,20.1593958,0,25.4,0,-25.4\n0,24.090884,19.6022722,0,25.4,0,-25.4\n0,24.1264948,19.0362078,0,25.4,0,-25.4\n0,24.5626128,6.3729108,0,25.4,0,-25.4\n0,24.469344,5.7441084,0,25.4,0,-25.4\n0,24.3148866,5.127498,0,25.4,0,-25.4\n0,24.1007392,4.5289978,0,25.4,0,-25.4\n0,23.8289592,3.9543482,0,25.4,0,-25.4\n0,23.5021628,3.4091372,0,25.4,0,-25.4\n0,23.1234996,2.8985464,0,25.4,0,-25.4\n0,22.6966018,2.4275542,0,25.4,0,-25.4\n0,22.2256096,2.0006564,0,25.4,0,-25.4\n0,21.7150442,1.6219932,0,25.4,0,-25.4\n0,21.1698078,1.2951968,0,25.4,0,-25.4\n0,20.5951836,1.0234168,0,25.4,0,-25.4\n0,19.996658,0.8092694,0,25.4,0,-25.4\n0,19.3800476,0.654812,0,25.4,0,-25.4\n0,18.7512706,0.5615432,0,25.4,0,-25.4\n0,18.7512706,13.4540752,0,25.4,0,-25.4\n0,19.3800476,13.3608064,0,25.4,0,-25.4\n0,19.996658,13.206349,0,25.4,0,-25.4\n0,20.5951836,12.9922016,0,25.4,0,-25.4\n0,21.1698078,12.7204216,0,25.4,0,-25.4\n0,21.7150442,12.3936252,0,25.4,0,-25.4\n0,22.2256096,12.0149366,0,25.4,0,-25.4\n0,22.6966018,11.5880642,0,25.4,0,-25.4\n0,23.1234996,11.117072,0,25.4,0,-25.4\n0,23.5021628,10.6064812,0,25.4,0,-25.4\n0,23.8289592,10.0612702,0,25.4,0,-25.4\n0,24.1007392,9.4866206,0,25.4,0,-25.4\n0,24.3148866,8.8881204,0,25.4,0,-25.4\n0,24.469344,8.2714846,0,25.4,0,-25.4\n0,24.5626128,7.6427076,0,25.4,0,-25.4\n0,24.593804,7.0078092,0,25.4,0,-25.4\n0,12.6365,22.2420434,0,25.4,0,-25.4\n0,13.0748786,21.65096,0,25.4,0,-25.4\n0,13.453237,21.0197446,0,25.4,0,-25.4\n0,0.2260854,21.0197446,0,25.4,0,-25.4\n0,0.6044184,21.65096,0,25.4,0,-25.4\n0,1.0428224,22.2420434,0,25.4,0,-25.4\n0,1.5370302,22.7873306,0,25.4,0,-25.4\n0,2.0823174,23.2815638,0,25.4,0,-25.4\n0,2.6734008,23.7199424,0,25.4,0,-25.4\n0,3.3046416,24.0982754,0,25.4,0,-25.4\n0,3.969893,24.4129306,0,25.4,0,-25.4\n0,4.662805,24.66086,0,25.4,0,-25.4\n0,5.376672,24.839676,0,25.4,0,-25.4\n0,6.1046106,24.9476514,0,25.4,0,-25.4\n0,6.8396612,24.9837448,0,25.4,0,-25.4\n0,7.5746864,24.9476514,0,25.4,0,-25.4\n0,8.3026504,24.839676,0,25.4,0,-25.4\n0,9.0165174,24.66086,0,25.4,0,-25.4\n0,9.7094294,24.4129306,0,25.4,0,-25.4\n0,10.3746808,24.0982754,0,25.4,0,-25.4\n0,11.0058962,23.7199424,0,25.4,0,-25.4\n0,11.597005,23.2815638,0,25.4,0,-25.4\n0,12.1422922,22.7873306,0,25.4,0,-25.4\n")),k(N.ParsePatFile("\n*CELTIC-01,CELTIC PATTERN 01\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n135,9.144,10.72444439,17.96051221,17.96051221,2.235085954,-33.68593847\n135,10.72444439,9.934222194,17.96051221,17.96051221,6.565564974,-29.35545945\n315,9.934222194,14.67555561,17.96051221,17.96051221,2.235085954,-33.68593847\n315,7.662333418,16.15722219,17.96051221,17.96051221,6.565564974,-29.35545945\n225,19.31811122,10.82322219,17.96051221,17.96051221,2.235085954,-33.68593847\n225,21.98511122,12.7,17.96051221,17.96051221,7.124336526,-28.7966879\n225,21.68877781,8.452555612,17.96051221,17.96051221,2.235085954,-33.68593847\n225,25.146,12.7,17.96051221,17.96051221,9.35942248,-26.56160194\n225,19.31811122,18.52788878,17.96051221,17.96051221,2.235085954,-33.68593847\n225,21.68877781,16.15722219,17.96051221,17.96051221,2.235085954,-33.68593847\n90,25.146,22.91091405,0,25.4,2.235085954,-23.16491405\n0,22.91091405,22.35214249,0,25.4,2.235085954,-23.16491405\n0,21.33046966,22.91091405,0,25.4,3.815530342,-21.58446966\n0,20.40466658,25.146,0,25.4,4.741333418,-20.65866658\n90,22.91091405,21.33046966,0,25.4,1.021672836,-24.37832716\n90,25.146,20.40466658,0,25.4,1.947475912,-23.45252409\n180,2.489085954,25.146,0,25.4,2.235085954,-23.16491405\n90,3.047857506,22.91091405,0,25.4,2.235085954,-23.16491405\n90,2.489085954,21.33046966,0,25.4,3.815530342,-21.58446966\n90,0.254,20.40466658,0,25.4,4.741333418,-20.65866658\n180,4.069530342,22.91091405,0,25.4,1.021672836,-24.37832716\n180,4.995333418,25.146,0,25.4,1.947475912,-23.45252409\n270,0.254,2.489085954,0,25.4,2.235085954,-23.16491405\n180,2.489085954,3.047857506,0,25.4,2.235085954,-23.16491405\n180,4.069530342,2.489085954,0,25.4,3.815530342,-21.58446966\n180,4.995333418,0.254,0,25.4,4.741333418,-20.65866658\n270,2.489085954,4.069530342,0,25.4,1.021672836,-24.37832716\n270,0.254,4.995333418,0,25.4,1.947475912,-23.45252409\n45,17.83644439,13.09511122,17.96051221,17.96051221,10.3372727,-25.58375198\n45,13.09511122,7.563555612,17.96051221,17.96051221,2.235085954,-33.68593847\n45,10.82322219,6.081888776,17.96051221,17.96051221,6.565564974,-29.35545945\n45,4.995333418,0.254,17.96051221,17.96051221,4.889250572,-31.03177385\n45,16.256,14.67555561,17.96051221,17.96051221,9.41146962,-26.5095548\n45,10.72444439,9.934222194,17.96051221,17.96051221,2.235085954,-33.68593847\n45,9.242777806,7.662333418,17.96051221,17.96051221,6.565564974,-29.35545945\n45,4.069530342,2.489085954,17.96051221,17.96051221,3.96344775,-31.95757693\n45,16.94744439,21.68877781,17.96051221,17.96051221,4.889250572,-31.03177385\n45,10.72444439,16.256,17.96051221,17.96051221,2.235085954,-33.68593847\n45,3.711222194,9.242777806,17.96051221,17.96051221,2.235085954,-33.68593847\n45,9.934222194,14.67555561,17.96051221,17.96051221,6.565564974,-29.35545945\n45,0.254,4.995333418,17.96051221,17.96051221,10.3372727,-25.58375198\n45,18.52788878,20.10833342,17.96051221,17.96051221,3.96344775,-31.95757693\n45,6.081888776,6.872111224,17.96051221,17.96051221,2.235085954,-33.68593847\n45,13.09511122,13.88533342,17.96051221,17.96051221,2.235085954,-33.68593847\n45,11.51466658,13.09511122,17.96051221,17.96051221,6.565564974,-29.35545945\n45,2.489085954,4.069530342,17.96051221,17.96051221,9.41146962,-26.5095548\n0,22.91091405,0.254,0,25.4,2.235085954,-23.16491405\n135,17.83644439,13.09511122,17.96051221,17.96051221,2.235085954,-33.68593847\n135,10.82322219,20.10833342,17.96051221,17.96051221,2.235085954,-33.68593847\n135,12.30488878,17.83644439,17.96051221,17.96051221,10.3372727,-25.58375198\n135,19.31811122,10.82322219,17.96051221,17.96051221,6.565564974,-29.35545945\n135,25.146,4.995333418,17.96051221,17.96051221,4.889250572,-31.03177385\n135,8.452555612,17.73766658,17.96051221,17.96051221,2.235085954,-33.68593847\n135,10.72444439,16.256,17.96051221,17.96051221,9.41146962,-26.5095548\n135,15.46577781,10.72444439,17.96051221,17.96051221,2.235085954,-33.68593847\n135,17.73766658,9.242777806,17.96051221,17.96051221,6.565564974,-29.35545945\n135,22.91091405,4.069530342,17.96051221,17.96051221,3.96344775,-31.95757693\n135,16.15722219,3.711222194,17.96051221,17.96051221,2.235085954,-33.68593847\n135,3.711222194,16.94744439,17.96051221,17.96051221,4.889250572,-31.03177385\n135,20.40466658,0.254,17.96051221,17.96051221,10.3372727,-25.58375198\n135,18.52788878,6.081888776,17.96051221,17.96051221,2.235085954,-33.68593847\n135,5.291666582,18.52788878,17.96051221,17.96051221,3.96344775,-31.95757693\n135,21.33046966,2.489085954,17.96051221,17.96051221,9.41146962,-26.5095548\n270,22.35214249,2.489085954,0,25.4,2.235085954,-23.16491405\n270,22.91091405,4.069530342,0,25.4,3.815530342,-21.58446966\n270,25.146,4.995333418,0,25.4,4.741333418,-20.65866658\n0,21.33046966,2.489085954,0,25.4,1.021672836,-24.37832716\n0,20.40466658,0.254,0,25.4,1.947475912,-23.45252409\n135,25.146,12.7,17.96051221,17.96051221,4.889250572,-31.03177385\n45,12.7,0.254,17.96051221,17.96051221,4.889250572,-31.03177385\n315,6.872111224,5.291666582,17.96051221,17.96051221,2.235085954,-33.68593847\n315,6.081888776,6.872111224,17.96051221,17.96051221,9.35942248,-26.56160194\n315,0.254,12.7,17.96051221,17.96051221,4.889250572,-31.03177385\n225,5.291666582,18.52788878,17.96051221,17.96051221,2.235085954,-33.68593847\n225,6.872111224,19.31811122,17.96051221,17.96051221,9.35942248,-26.56160194\n225,12.7,25.146,17.96051221,17.96051221,4.889250572,-31.03177385\n135,18.52788878,20.10833342,17.96051221,17.96051221,2.235085954,-33.68593847\n135,19.31811122,18.52788878,17.96051221,17.96051221,9.35942248,-26.56160194\n135,21.98511122,12.7,17.96051221,17.96051221,2.654164618,-33.26685981\n45,12.7,3.414888776,17.96051221,17.96051221,2.654164618,-33.26685981\n315,9.242777806,7.662333418,17.96051221,17.96051221,2.235085954,-33.68593847\n315,7.662333418,8.452555612,17.96051221,17.96051221,7.124336526,-28.7966879\n315,3.414888776,12.7,17.96051221,17.96051221,2.654164618,-33.26685981\n225,7.662333418,16.15722219,17.96051221,17.96051221,2.235085954,-33.68593847\n225,8.452555612,17.73766658,17.96051221,17.96051221,7.124336526,-28.7966879\n225,12.7,21.98511122,17.96051221,17.96051221,2.654164618,-33.26685981\n135,16.15722219,17.73766658,17.96051221,17.96051221,2.235085954,-33.68593847\n135,17.73766658,16.94744439,17.96051221,17.96051221,7.124336526,-28.7966879\n")),k(N.ParsePatFile("\n*CELTIC-02,CELTIC PATTERN 02\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern,,,,,,\n180,11.1371634,0.392662664,0,25.4,3.125672946,-22.27432705\n270,25.00733734,11.1371634,0,25.4,3.125672946,-22.27432705\n270,0.392662664,17.38850955,0,25.4,3.125672946,-22.27432705\n180,17.38850955,25.00733734,0,25.4,3.125672946,-22.27432705\n90,25.00733734,11.9185817,0,25.4,13.08875564,-12.31124436\n270,25.00733734,7.230072408,0,25.4,6.837409744,-18.56259026\n180,11.1371634,7.230072408,0,25.4,3.125672946,-22.27432705\n180,13.4814183,8.011490454,0,25.4,9.18166439,-16.21833561\n0,8.011490454,11.9185817,0,25.4,3.125672946,-22.27432705\n0,4.29975391,11.1371634,0,25.4,9.18166439,-16.21833561\n270,21.10024609,17.38850955,0,25.4,3.125672946,-22.27432705\n270,21.88166439,21.88166439,0,25.4,9.96308269,-15.43691731\n270,13.4814183,25.00733734,0,25.4,3.125672946,-22.27432705\n270,18.16992759,25.00733734,0,25.4,3.125672946,-22.27432705\n90,17.38850955,18.16992759,0,25.4,6.837409744,-18.56259026\n90,18.16992759,8.011490454,0,25.4,3.125672946,-22.27432705\n90,17.38850955,4.29975391,0,25.4,9.18166439,-16.21833561\n90,14.2628366,18.16992759,0,25.4,6.837409744,-18.56259026\n90,13.4814183,8.011490454,0,25.4,3.125672946,-22.27432705\n90,14.2628366,4.29975391,0,25.4,9.18166439,-16.21833561\n90,7.230072408,14.2628366,0,25.4,3.125672946,-22.27432705\n90,7.230072408,0.392662664,0,25.4,3.125672946,-22.27432705\n90,8.011490454,11.9185817,0,25.4,9.18166439,-16.21833561\n90,8.011490454,0.392662664,0,25.4,6.837409744,-18.56259026\n90,11.9185817,0.392662664,0,25.4,3.125672946,-22.27432705\n90,11.9185817,14.2628366,0,25.4,3.125672946,-22.27432705\n90,11.1371634,11.9185817,0,25.4,9.18166439,-16.21833561\n90,11.1371634,0.392662664,0,25.4,6.837409744,-18.56259026\n180,17.38850955,18.16992759,0,25.4,3.125672946,-22.27432705\n180,3.51833561,18.16992759,0,25.4,3.125672946,-22.27432705\n180,7.230072408,17.38850955,0,25.4,6.837409744,-18.56259026\n180,21.10024609,17.38850955,0,25.4,9.18166439,-16.21833561\n180,3.51833561,13.4814183,0,25.4,3.125672946,-22.27432705\n180,7.230072408,14.2628366,0,25.4,6.837409744,-18.56259026\n180,17.38850955,13.4814183,0,25.4,3.125672946,-22.27432705\n180,21.10024609,14.2628366,0,25.4,9.18166439,-16.21833561\n180,25.00733734,7.230072408,0,25.4,3.125672946,-22.27432705\n180,25.00733734,8.011490454,0,25.4,6.837409744,-18.56259026\n180,25.00733734,11.9185817,0,25.4,3.125672946,-22.27432705\n180,25.00733734,11.1371634,0,25.4,6.837409744,-18.56259026\n180,25.00733734,25.00733734,0,25.4,6.837409744,-18.56259026\n0,11.9185817,0.392662664,0,25.4,13.08875564,-12.31124436\n0,0.392662664,0.392662664,0,25.4,6.837409744,-18.56259026\n270,0.392662664,13.4814183,0,25.4,13.08875564,-12.31124436\n270,0.392662664,25.00733734,0,25.4,6.837409744,-18.56259026\n180,13.4814183,25.00733734,0,25.4,13.08875564,-12.31124436\n180,21.88166439,21.88166439,0,25.4,3.711736544,-21.68826346\n90,21.88166439,3.51833561,0,25.4,3.711736544,-21.68826346\n0,14.2628366,4.29975391,0,25.4,3.125672946,-22.27432705\n0,11.9185817,3.51833561,0,25.4,9.96308269,-15.43691731\n0,3.51833561,3.51833561,0,25.4,3.711736544,-21.68826346\n270,4.29975391,11.1371634,0,25.4,3.125672946,-22.27432705\n270,3.51833561,13.4814183,0,25.4,9.96308269,-15.43691731\n270,3.51833561,21.88166439,0,25.4,3.711736544,-21.68826346\n180,11.1371634,21.10024609,0,25.4,3.125672946,-22.27432705\n180,13.4814183,21.88166439,0,25.4,9.96308269,-15.43691731\n")),k(N.ParsePatFile("\n*CELTIC-03,CELTIC-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n90,6.35,13.97,0,25.4,5.08,-20.32\n90,19.05,6.35,0,25.4,5.08,-20.32\n0,6.35,6.35,0,25.4,12.7,-12.7\n270,6.35,11.43,0,25.4,5.08,-20.32\n90,3.81,3.81,0,25.4,7.62,-17.78\n180,21.59,3.81,0,25.4,17.78,-7.62\n270,21.59,11.43,0,25.4,7.62,-17.78\n270,21.59,21.59,0,25.4,7.62,-17.78\n0,3.81,21.59,0,25.4,17.78,-7.62\n90,3.81,13.97,0,25.4,7.62,-17.78\n270,19.05,19.05,0,25.4,5.08,-20.32\n0,6.35,19.05,0,25.4,12.7,-12.7\n90,13.97,6.35,0,25.4,12.7,-12.7\n90,11.43,6.35,0,25.4,12.7,-12.7\n270,13.97,3.81,0,25.4,7.62,-17.78\n90,11.43,-3.81,0,25.4,7.62,-17.78\n180,11.43,11.43,0,25.4,22.86,-2.54\n0,-11.43,13.97,0,25.4,22.86,-2.54\n")),k(N.ParsePatFile("\n*CELTIC-04,CELTIC-04\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n45,3.81,13.97,17.960512212,17.960512212,12.57235865,-23.348666028\n135,21.59,13.97,17.960512212,17.960512212,12.57235865,-23.348666028\n45,12.7,2.54,17.960512212,17.960512212,12.57235865,-23.348666028\n315,3.81,11.43,17.960512212,17.960512212,12.57235865,-23.348666028\n135,12.7,5.08,17.960512212,17.960512212,8.980256106,-26.940768318\n225,19.05,11.43,17.960512212,17.960512212,8.980256106,-26.940768318\n315,12.7,20.32,17.960512212,17.960512212,8.980256106,-26.940768318\n45,6.35,13.97,17.960512212,17.960512212,8.980256106,-26.940768318\n90,13.97,6.35,0,25.4,12.7,-12.7\n90,11.43,6.35,0,25.4,12.7,-12.7\n270,13.97,3.81,0,25.4,7.62,-17.78\n90,11.43,-3.81,0,25.4,7.62,-17.78\n180,11.43,11.43,0,25.4,22.86,-2.54\n0,-11.43,13.97,0,25.4,22.86,-2.54\n")),k(N.ParsePatFile("\n*CIRCLES-02,CIRCLES-02\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n0,24.3609368,11.9663464,0,25.4,0,-25.4\n0,24.2918742,11.2356138,0,25.4,0,-25.4\n0,24.1770408,10.510647,0,25.4,0,-25.4\n0,24.0169192,9.7943162,0,25.4,0,-25.4\n0,23.8121444,9.0894408,0,25.4,0,-25.4\n0,23.5635038,8.3988402,0,25.4,0,-25.4\n0,23.271988,7.7252068,0,25.4,0,-25.4\n0,22.9387654,7.0711822,0,25.4,0,-25.4\n0,22.5651314,6.439408,0,25.4,0,-25.4\n0,22.1525592,5.8323226,0,25.4,0,-25.4\n0,21.7026744,5.252339,0,25.4,0,-25.4\n0,21.2172804,4.7017432,0,25.4,0,-25.4\n0,20.6982568,4.1827196,0,25.4,0,-25.4\n0,20.147661,3.6973256,0,25.4,0,-25.4\n0,19.5676774,3.2474408,0,25.4,0,-25.4\n0,18.960592,2.8348686,0,25.4,0,-25.4\n0,18.3288178,2.4612346,0,25.4,0,-25.4\n0,17.6747932,2.128012,0,25.4,0,-25.4\n0,17.0011598,1.8364962,0,25.4,0,-25.4\n0,16.3105592,1.5878556,0,25.4,0,-25.4\n0,15.6056838,1.3830808,0,25.4,0,-25.4\n0,14.889353,1.2229592,0,25.4,0,-25.4\n0,14.1643862,1.1081258,0,25.4,0,-25.4\n0,13.4336536,1.0390632,0,25.4,0,-25.4\n0,12.7,1.016,0,25.4,0,-25.4\n0,11.9663464,1.0390632,0,25.4,0,-25.4\n0,11.2356138,1.1081258,0,25.4,0,-25.4\n0,10.510647,1.2229592,0,25.4,0,-25.4\n0,9.7943162,1.3830808,0,25.4,0,-25.4\n0,9.0894408,1.5878556,0,25.4,0,-25.4\n0,8.3988402,1.8364962,0,25.4,0,-25.4\n0,7.7252068,2.128012,0,25.4,0,-25.4\n0,7.0711822,2.4612346,0,25.4,0,-25.4\n0,6.439408,2.8348686,0,25.4,0,-25.4\n0,5.8323226,3.2474408,0,25.4,0,-25.4\n0,5.252339,3.6973256,0,25.4,0,-25.4\n0,4.7017432,4.1827196,0,25.4,0,-25.4\n0,4.1827196,4.7017432,0,25.4,0,-25.4\n0,3.6973256,5.252339,0,25.4,0,-25.4\n0,3.2474408,5.8323226,0,25.4,0,-25.4\n0,2.8348686,6.439408,0,25.4,0,-25.4\n0,2.4612346,7.0711822,0,25.4,0,-25.4\n0,2.128012,7.7252068,0,25.4,0,-25.4\n0,1.8364962,8.3988402,0,25.4,0,-25.4\n0,1.5878556,9.0894408,0,25.4,0,-25.4\n0,1.3830808,9.7943162,0,25.4,0,-25.4\n0,1.2229592,10.510647,0,25.4,0,-25.4\n0,1.1081258,11.2356138,0,25.4,0,-25.4\n0,1.0390632,11.9663464,0,25.4,0,-25.4\n0,1.016,12.7,0,25.4,0,-25.4\n0,1.0390632,13.4336536,0,25.4,0,-25.4\n0,1.1081258,14.1643862,0,25.4,0,-25.4\n0,1.2229592,14.889353,0,25.4,0,-25.4\n0,1.3830808,15.6056838,0,25.4,0,-25.4\n0,1.5878556,16.3105592,0,25.4,0,-25.4\n0,1.8364962,17.0011598,0,25.4,0,-25.4\n0,2.128012,17.6747932,0,25.4,0,-25.4\n0,2.4612346,18.3288178,0,25.4,0,-25.4\n0,2.8348686,18.960592,0,25.4,0,-25.4\n0,3.2474408,19.5676774,0,25.4,0,-25.4\n0,3.6973256,20.147661,0,25.4,0,-25.4\n0,4.1827196,20.6982568,0,25.4,0,-25.4\n0,4.7017432,21.2172804,0,25.4,0,-25.4\n0,5.252339,21.7026744,0,25.4,0,-25.4\n0,5.8323226,22.1525592,0,25.4,0,-25.4\n0,6.439408,22.5651314,0,25.4,0,-25.4\n0,7.0711822,22.9387654,0,25.4,0,-25.4\n0,7.7252068,23.271988,0,25.4,0,-25.4\n0,8.3988402,23.5635038,0,25.4,0,-25.4\n0,9.0894408,23.8121444,0,25.4,0,-25.4\n0,9.7943162,24.0169192,0,25.4,0,-25.4\n0,10.510647,24.1770408,0,25.4,0,-25.4\n0,11.2356138,24.2918742,0,25.4,0,-25.4\n0,11.9663464,24.3609368,0,25.4,0,-25.4\n0,12.7,24.384,0,25.4,0,-25.4\n0,13.4336536,24.3609368,0,25.4,0,-25.4\n0,14.1643862,24.2918742,0,25.4,0,-25.4\n0,14.889353,24.1770408,0,25.4,0,-25.4\n0,15.6056838,24.0169192,0,25.4,0,-25.4\n0,16.3105592,23.8121444,0,25.4,0,-25.4\n0,17.0011598,23.5635038,0,25.4,0,-25.4\n0,17.6747932,23.271988,0,25.4,0,-25.4\n0,18.3288178,22.9387654,0,25.4,0,-25.4\n0,18.960592,22.5651314,0,25.4,0,-25.4\n0,19.5676774,22.1525592,0,25.4,0,-25.4\n0,20.147661,21.7026744,0,25.4,0,-25.4\n0,20.6982568,21.2172804,0,25.4,0,-25.4\n0,21.2172804,20.6982568,0,25.4,0,-25.4\n0,21.7026744,20.147661,0,25.4,0,-25.4\n0,22.1525592,19.5676774,0,25.4,0,-25.4\n0,22.5651314,18.960592,0,25.4,0,-25.4\n0,22.9387654,18.3288178,0,25.4,0,-25.4\n0,23.271988,17.6747932,0,25.4,0,-25.4\n0,23.5635038,17.0011598,0,25.4,0,-25.4\n0,23.8121444,16.3105592,0,25.4,0,-25.4\n0,24.0169192,15.6056838,0,25.4,0,-25.4\n0,24.1770408,14.889353,0,25.4,0,-25.4\n0,24.2918742,14.1643862,0,25.4,0,-25.4\n0,24.3609368,13.4336536,0,25.4,0,-25.4\n0,24.384,12.7,0,25.4,0,-25.4\n")),k(N.ParsePatFile("\n*CIRCLES,CIRCLES\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n0,23.7384082,10.9516926,0,25.4,0,-25.4\n0,23.329011,9.2464382,0,25.4,0,-25.4\n0,22.6578922,7.6261976,0,25.4,0,-25.4\n0,21.7415618,6.1308996,0,25.4,0,-25.4\n0,20.6026258,4.7973742,0,25.4,0,-25.4\n0,19.2691004,3.6584382,0,25.4,0,-25.4\n0,17.7738024,2.7421078,0,25.4,0,-25.4\n0,16.1535618,2.070989,0,25.4,0,-25.4\n0,14.4483074,1.6615918,0,25.4,0,-25.4\n0,12.7,1.524,0,25.4,0,-25.4\n0,10.9516926,1.6615918,0,25.4,0,-25.4\n0,9.2464382,2.070989,0,25.4,0,-25.4\n0,7.6261976,2.7421078,0,25.4,0,-25.4\n0,6.1308996,3.6584382,0,25.4,0,-25.4\n0,4.7973742,4.7973742,0,25.4,0,-25.4\n0,3.6584382,6.1308996,0,25.4,0,-25.4\n0,2.7421078,7.6261976,0,25.4,0,-25.4\n0,2.070989,9.2464382,0,25.4,0,-25.4\n0,1.6615918,10.9516926,0,25.4,0,-25.4\n0,1.524,12.7,0,25.4,0,-25.4\n0,1.6615918,14.4483074,0,25.4,0,-25.4\n0,2.070989,16.1535618,0,25.4,0,-25.4\n0,2.7421078,17.7738024,0,25.4,0,-25.4\n0,3.6584382,19.2691004,0,25.4,0,-25.4\n0,4.7973742,20.6026258,0,25.4,0,-25.4\n0,6.1308996,21.7415618,0,25.4,0,-25.4\n0,7.6261976,22.6578922,0,25.4,0,-25.4\n0,9.2464382,23.329011,0,25.4,0,-25.4\n0,10.9516926,23.7384082,0,25.4,0,-25.4\n0,12.7,23.876,0,25.4,0,-25.4\n0,14.4483074,23.7384082,0,25.4,0,-25.4\n0,16.1535618,23.329011,0,25.4,0,-25.4\n0,17.7738024,22.6578922,0,25.4,0,-25.4\n0,19.2691004,21.7415618,0,25.4,0,-25.4\n0,20.6026258,20.6026258,0,25.4,0,-25.4\n0,21.7415618,19.2691004,0,25.4,0,-25.4\n0,22.6578922,17.7738024,0,25.4,0,-25.4\n0,23.329011,16.1535618,0,25.4,0,-25.4\n0,23.7384082,14.4483074,0,25.4,0,-25.4\n0,23.876,12.7,0,25.4,0,-25.4\n")),k(N.ParsePatFile("\n*CLAY,CLAY\n0, 0,0, 0,4.7625\n0, 0,.79375, 0,4.7625\n0, 0,1.5875, 0,4.7625\n0, 0,3.175, 0,4.7625, 4.7625,-3.175\n")),k(N.ParsePatFile("\n*CORK,CORK\n0, 0,0, 0,3.175\n135, 1.5875,-1.5875, 0,8.98026, 4.49013,-4.49013\n135, 2.38125,-1.5875, 0,8.98026, 4.49013,-4.49013\n135, 3.175,-1.5875, 0,8.98026, 4.49013,-4.49013\n")),k(N.ParsePatFile("\n*CROSS,CROSS\n0, 0,0, 6.35,6.35, 3.175,-9.525\n90, 1.5875,-1.5875, 6.35,6.35, 3.175,-9.525\n")),k(N.ParsePatFile("\n*DASH,DASH\n0, 0,0, 3.175,3.175, 3.175,-3.175\n")),k(N.ParsePatFile("\n*DOLMIT,DOLMIT\n0, 0,0, 0,6.35\n45, 0,0, 0,17.9605, 8.98026,-17.9605\n")),k(N.ParsePatFile("\n*DOTS,DOTS\n0, 0,0, .79375,1.5875, 0,-1.5875\n")),k(N.ParsePatFile("\n*EARTH,EARTH\n0, 0,0, 6.35,6.35, 6.35,-6.35\n0, 0,2.38125, 6.35,6.35, 6.35,-6.35\n0, 0,4.7625, 6.35,6.35, 6.35,-6.35\n90, .79375,5.55625, 6.35,6.35, 6.35,-6.35\n90, 3.175,5.55625, 6.35,6.35, 6.35,-6.35\n90, 5.55625,5.55625, 6.35,6.35, 6.35,-6.35\n")),k(N.ParsePatFile("\n*ESCHER,ESCHER\n60, 0,0, -15.24,26.3965, 27.94,-2.54\n180, 0,0, -15.24,26.3965, 27.94,-2.54\n300, 0,0, 15.24,26.3965, 27.94,-2.54\n60, 2.54,0, -15.24,26.3965, 5.08,-25.4\n300, 2.54,0, 15.24,26.3965, 5.08,-25.4\n60, -1.27,2.1997, -15.24,26.3965, 5.08,-25.4\n180, -1.27,2.1997, -15.24,26.3965, 5.08,-25.4\n300, -1.27,-2.1997, 15.24,26.3965, 5.08,-25.4\n180, -1.27,-2.1997, -15.24,26.3965, 5.08,-25.4\n60, -10.16,0, -15.24,26.3965, 5.08,-25.4\n300, -10.16,0, 15.24,26.3965, 5.08,-25.4\n60, 5.08,-8.79882, -15.24,26.3965, 5.08,-25.4\n180, 5.08,-8.79882, -15.24,26.3965, 5.08,-25.4\n300, 5.08,8.79882, 15.24,26.3965, 5.08,-25.4\n180, 5.08,8.79882, -15.24,26.3965, 5.08,-25.4\n0, 5.08,4.39941, -15.24,26.3965, 17.78,-12.7\n0, 5.08,-4.39941, -15.24,26.3965, 17.78,-12.7\n120, 1.27,6.59911, 15.24,26.3965, 17.78,-12.7\n120, -6.35,2.1997, 15.24,26.3965, 17.78,-12.7\n240, -6.35,-2.1997, 15.24,26.3965, 17.78,-12.7\n240, 1.27,-6.59911, 15.24,26.3965, 17.78,-12.7\n")),k(N.ParsePatFile("\n*EXPLOSION,EXPLOSION\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n270,11.43,2.794,0,25.4,2.794,-22.606\n143.130102,12.446,2.032,91.44,5.08,1.27,-125.73\n270,12.446,4.318,0,25.4,2.286,-23.114\n112.380135,14.224,0,330.1971097,1.381577882,4.669733104,-462.3035852\n75.256437,12.954,20.574,104.7189028,1.292825964,4.990308282,-494.0405126\n287.525568,11.43,25.4,80.31173574,1.274789424,5.060914186,-501.0305006\n135,1.524,12.446,17.96051221,17.96051221,2.155261374,-33.76576305\n26.565051,0,11.684,34.07767607,11.35922544,1.703883816,-55.09224288\n353.884496,18.288,12.446,485.2654803,0.901980416,7.152705024,-708.1177892\n192.094757,25.4,13.97,234.1697095,1.774012962,7.273453068,-356.3992019\n3.691386,17.526,9.652,381.8448525,0.817654956,7.890370046,-781.1466379\n136.080924,24.384,3.048,916.1619403,0.677634662,9.52076582,-942.5558068\n336.037511,22.098,4.064,193.4234445,2.578979348,2.501609932,-247.6593782\n123.690068,24.638,0.254,35.22346245,7.04469254,4.579050024,-87.00195223\n324.462322,15.748,6.604,91.53339072,2.952690056,10.924953,-207.5741086\n117.645975,18.542,1.27,545.3600756,1.07143423,6.021460906,-596.1246343\n326.309932,13.97,4.318,56.35753981,7.04469254,5.494860232,-86.08614228\n106.38954,15.24,0,265.1799113,1.433404804,4.50089143,-445.5882554\n153.434949,3.048,8.636,22.71845063,11.35922544,3.407767632,-53.38835906\n64.798876,1.016,4.318,420.4426387,1.351905602,4.772226676,-472.4504468\n202.619865,4.064,5.588,193.4307693,1.953846232,3.302,-326.898\n59.036243,2.54,3.048,56.62883289,4.356064186,2.962123616,-145.1440546\n211.75948,7.874,6.35,239.620914,1.028416028,6.273337212,-621.0603858\n79.215702,6.858,1.016,413.4803361,1.188161962,5.429899732,-537.5600816\n212.471192,9.652,2.794,91.56028043,1.9480911,3.31175487,-327.8637273\n63.434949,8.89,1.27,22.71845063,11.35922544,1.703883816,-55.09224288\n135,10.16,0,17.96051221,17.96051221,1.796051272,-34.12497315\n74.357754,8.382,19.05,474.5101503,0.978371424,6.59422354,-652.8281297\n333.434949,0.762,22.86,22.71845063,11.35922544,8.51941908,-48.27670761\n110.556045,4.572,12.7,136.7508764,2.97284521,10.85088483,-206.1668104\n330.945396,0,15.24,56.74251999,2.467066186,5.23018004,-256.2788255\n99.462322,16.002,20.828,129.4477627,4.175734346,4.635065152,-149.8671031\n222.70939,19.304,23.876,35.89232217,1.435692836,4.493718724,-444.8781539\n74.744881,18.542,21.082,104.7031863,2.22772732,2.896045516,-286.7085124\n208.61046,24.13,24.13,261.5011486,2.027140726,6.365221712,-311.8958659\n62.744672,19.812,15.748,56.79200478,0.684240948,9.428841188,-933.4552873\n212.275644,24.638,18.796,331.1735533,1.130285268,5.70794007,-565.0860682\n55.00798,22.86,16.256,91.55735943,2.080849026,3.100465224,-306.9460475\n158.198591,25.4,15.24,80.18324705,4.716661636,2.73566382,-134.0475224\n51.911227,14.986,12.954,741.8363621,0.540303212,11.9407018,-1182.12948\n153.434949,16.51,12.192,22.71845063,11.35922544,1.703883816,-55.09224288\n35.537678,14.732,10.922,126.9656711,2.952690056,2.18499055,-216.3140711\n129.289407,19.304,5.334,198.3722919,1.78713765,7.220036614,-353.7817918\n322.30576,13.716,9.652,416.5899728,0.9135745,7.061931012,-699.1311588\n77.905243,12.954,6.096,129.5029455,1.774012962,3.636726534,-360.0359284\n282.994617,12.192,9.398,104.709577,1.903810518,3.388782656,-335.4894845\n62.525568,8.89,3.048,56.78897304,0.901412218,7.157213524,-708.564129\n267.137595,9.144,8.128,25.36830944,1.268415548,5.086345936,-503.5482576\n12.994617,2.54,6.604,104.709577,1.903810518,6.777565312,-332.1007018\n211.75948,7.874,9.906,239.620914,1.028416028,6.273337212,-621.0603858\n318.366461,5.588,11.938,269.9974641,2.109355192,3.05856513,-302.7979372\n189.462322,7.112,12.192,129.4477627,4.175734346,1.545021802,-152.9571465\n297.299572,3.048,20.066,829.3009284,0.728095572,8.860923858,-877.231464\n132.273689,8.128,14.478,35.8803669,1.708588912,7.551962798,-370.0461832\n282.994617,7.366,17.78,104.709577,1.903810518,3.388782656,-335.4894845\n140.194429,10.414,15.24,162.6068376,3.252136752,3.967606746,-194.4127349\n268.363423,10.668,24.13,25.38963909,0.725418158,8.893627882,-880.4691552\n102.200469,12.7,14.732,597.8446202,0.67098164,9.615166444,-951.9014896\n250.016893,14.732,20.32,80.29253258,2.170068558,5.9459876,-291.3533901\n84.559668,14.224,14.986,280.549586,1.20407557,5.358135842,-530.4554512\n222.184443,22.352,22.352,377.597688,0.588158336,10.96915408,-1085.946248\n")),k(N.ParsePatFile("\n*FLEX,FLEX\n0, 0,0, 0,6.35, 6.35,-6.35\n45, 6.35,0, 4.49013,4.49013, 1.5875,-5.80526,1.5875,-8.98026\n")),k(N.ParsePatFile("\n*GRASS,GRASS\n90, 0,0, 17.9605,17.9605, 4.7625,-31.1585\n45, 0,0, 0,25.4, 4.7625,-20.6375\n135, 0,0, 0,25.4, 4.7625,-20.6375\n")),k(N.ParsePatFile("\n*GRATE,GRATE\n0, 0,0, 0,.79375\n90, 0,0, 0,3.175\n")),k(N.ParsePatFile("\n*GRAVEL-01,GRAVEL-01\n;Optimize to replace existing GRAVEL Pattern\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n159.443955,4.064,3.302,80.266818638,2.97284521,4.340353778,-212.677341218\n114.775141,5.588,0,56.76841453,1.774012962,3.636726534,-360.03592839\n249.443955,8.128,2.032,80.266818638,2.97284521,2.170177016,-214.847518234\n186.009006,12.954,2.54,230.002940044,1.329496706,4.852663142,-480.413655376\n165.963757,18.034,1.27,24.6416195,6.160405002,5.236344112,-99.490538636\n101.309932,18.288,0,104.608346536,4.981349956,1.29515108,-128.219944728\n243.434949,21.336,3.556,22.718450626,11.35922544,3.975728904,-52.820397788\n355.426079,12.446,3.302,331.173933536,1.012764294,6.370287488,-630.658471472\n300.256437,10.668,6.35,148.094892532,1.828332132,3.528680776,-349.33939657\n228.012788,15.24,11.43,305.850675318,1.887967014,6.834440992,-334.887609878\n180,21.844,11.43,0,25.4,6.604,-18.796\n303.690068,15.748,15.748,35.223462446,7.04469254,3.66324007,-87.917762188\n225,18.288,18.288,17.960512212,17.960512212,3.592102544,-32.328922134\n110.224859,2.032,5.842,217.014069654,1.254416592,5.143108078,-509.167692864\n177.273689,7.366,5.588,25.371250756,1.20815481,5.340044184,-528.664375232\n217.69424,12.954,9.906,289.603117008,0.9135745,7.061931012,-699.131158758\n252.255328,14.986,16.256,586.403737782,0.967663038,6.667197486,-660.05256356\n301.429566,12.192,20.828,387.712303314,1.20407557,5.358135842,-530.455451152\n355.236358,6.096,21.336,25.312262304,2.109355192,6.117130006,-299.739372326\n43.66778,0.508,16.002,35.911314766,0.83514692,7.725108502,-764.785732808\n87.273689,0.254,10.668,25.371250756,1.20815481,5.340044184,-528.664375232\n30.963757,15.748,18.034,91.477345366,4.356064186,4.443185424,-143.662992836\n291.801409,14.732,20.574,56.599939124,4.716661636,2.73566382,-134.047522354\n203.198591,16.51,21.336,56.698117744,3.335183322,1.934406342,-191.506230398\n161.565051,19.558,20.32,24.09655582,8.032185358,3.212874194,-77.10897837\n4.969741,10.16,22.352,280.550012686,1.100196174,5.864045422,-580.540490682\n16.38954,0,20.574,265.179911346,1.433404804,4.50089143,-445.58825538\n197.354025,25.4,4.826,80.307559222,1.515237,4.25781597,-421.523771378\n74.054604,24.13,5.588,104.668749768,3.488958224,3.69829588,-181.216495326\n27.645975,18.796,2.794,545.360075648,1.07143423,6.021460906,-596.124634266\n145.304846,25.146,9.144,91.566911862,1.60643697,4.016092552,-397.593170268\n353.157227,17.78,12.7,434.77679618,1.008762778,6.395556678,-633.160101724\n171.469234,23.368,17.526,179.600730968,1.255949228,5.136831992,-508.546377622\n138.814075,25.4,15.748,234.164238554,2.389431086,2.700057084,-267.30564649\n90,25.4,14.224,0,25.4,1.524,-23.876\n60.945396,24.13,11.938,56.742519992,2.467066186,2.61509002,-258.893915536\n343.61046,21.082,21.844,184.909235464,1.433404804,4.50089143,-445.58825538\n293.198591,19.558,25.4,56.698117744,3.335183322,3.868812684,-189.571824056\n48.012788,16.002,22.86,305.850675318,1.887967014,3.417220496,-338.304830374\n312.510447,7.366,25.4,35.887120758,1.560309554,4.134820534,-409.347222706\n70.346176,4.318,21.844,80.303678102,1.708588912,3.775981526,-373.822164724\n")),k(N.ParsePatFile("\n*GRAVEL,GRAVEL\n228.0128, 18.288,25.4, 305.851,1.88796, 3.41721,-338.305\n184.9697, 16.002,22.86, -305.855,1.1002, 5.86405,-580.54\n132.5104, 10.16,22.352, -377.595,1.56032, 4.13482,-409.347\n267.2737, .254,16.002, -508.633,1.20815, 5.34005,-528.664\n292.8337, 0,10.668, -330.198,1.23208, 5.23634,-518.398\n357.2737, 2.032,5.842, -508.633,1.20815, 5.34005,-528.664\n37.6942, 7.366,5.588, -416.59,.913587, 7.06194,-699.131\n72.2553, 12.954,9.906, 586.404,.967664, 6.6672,-660.053\n121.4296, 14.986,16.256, 387.712,1.20409, 5.35813,-530.455\n175.2364, 12.192,20.828, -280.544,2.10934, 6.11713,-299.739\n222.3974, 6.096,21.336, 413.481,.815543, 7.91078,-783.168\n138.8141, 25.4,15.748, 234.164,2.38943, 2.70005,-267.306\n171.4692, 23.368,17.526, -334.082,1.25595, 5.13682,-508.546\n225, 18.288,18.288, 17.9605,17.9605, 3.59209,-32.3289\n203.1986, 16.51,21.336, -136.743,3.33517, 1.93441,-191.506\n291.8014, 14.732,20.574, -80.1833,4.71665, 2.73566,-134.048\n30.9638, 15.748,18.034, 91.4773,4.35607, 4.4432,-143.663\n161.5651, 19.558,20.32, -56.2253,8.03219, 3.21287,-77.109\n16.3895, 0,20.574, 265.18,1.4334, 4.50088,-445.588\n70.3462, 4.318,21.844, -297.294,1.70858, 3.77599,-373.822\n293.1986, 19.558,25.4, -136.743,3.33517, 3.8688,-189.572\n343.6105, 21.082,21.844, -265.18,1.4334, 4.50088,-445.588\n339.444, 0,4.826, -136.751,2.97284, 4.34035,-212.677\n294.7751, 4.064,3.302, -306.904,1.77401, 3.63672,-360.036\n66.8014, 19.812,0, 136.743,3.33517, 3.8688,-189.572\n17.354, 21.336,3.556, -345.474,1.51524, 4.25783,-421.524\n69.444, 7.366,0, -136.751,2.97284, 2.17018,-214.848\n101.3099, 18.288,0, 104.608,4.98135, 1.29515,-128.22\n165.9638, 18.034,1.27, -80.0853,6.16041, 5.23634,-99.4905\n186.009, 12.954,2.54, -255.263,1.32949, 4.85267,-480.414\n303.6901, 15.748,15.748, -56.3575,7.04469, 3.66324,-87.9178\n353.1572, 17.78,12.7, 434.777,1.00876, 6.39557,-633.16\n60.9454, 24.13,11.938, -204.766,2.46708, 2.61508,-258.894\n90, 25.4,14.224, 25.4,25.4, 1.524,-23.876\n120.2564, 12.446,3.302, -204.773,1.82834, 3.52867,-349.339\n48.0128, 10.668,6.35, 305.851,1.88796, 6.83443,-334.888\n0, 15.24,11.43, 25.4,25.4, 6.604,-18.796\n325.3048, 21.844,11.43, -310.042,1.60645, 4.0161,-397.593\n254.0546, 25.146,9.144, 104.669,3.48897, 3.69829,-181.217\n207.646, 24.13,5.588, 545.36,1.07142, 6.02145,-596.125\n175.4261, 18.796,2.794, 331.174,1.01277, 6.37029,-630.658\n175.4261, 18.796,2.794, 331.174,1.01277, 6.37029,-630.658\n")),k(N.ParsePatFile("\n*HATCH-DOTS\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n225,14.364914374,2.934914374,17.960512212,17.960512212,11.492295278,-24.428729146\n225,6.359242552,5.089242552,17.960512212,17.960512212,16.19060262,-19.730421804\n225,3.281299762,9.631299762,17.960512212,17.960512212,18.261173282,-17.659851142\n225,19.161365538,5.191365538,17.960512212,17.960512212,11.492295278,-24.428729146\n225,7.864421914,4.054421914,17.960512212,17.960512212,16.85579052,-19.065234158\n225,2.841461932,11.731461932,17.960512212,17.960512212,20.609227006,-15.311797418\n225,9.631299762,3.281299762,17.960512212,17.960512212,18.261173282,-17.659851142\n225,2.934914374,14.364914374,17.960512212,17.960512212,11.492295278,-24.428729146\n225,5.089242552,6.359242552,17.960512212,17.960512212,16.19060262,-19.730421804\n225,11.731462186,2.841462186,17.960512212,17.960512212,20.60922726,-15.311797164\n225,5.191365538,19.161365538,17.960512212,17.960512212,11.492295278,-24.428729146\n225,4.054421914,7.864421914,17.960512212,17.960512212,16.85579052,-19.065234158\n")),k(N.ParsePatFile("\n*HATCH-SQRS\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n225,2.794,9.144,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,21.844,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,6.604,17.960512212,17.960512212,13.290779108,-22.630245316\n225,19.304,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,14.224,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,11.684,17.960512212,17.960512212,7.902625292,-28.018399132\n225,6.604,2.794,17.960512212,17.960512212,13.290779108,-22.630245316\n225,2.794,19.304,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,4.064,17.960512212,17.960512212,9.698676564,-26.22234786\n225,4.064,2.794,17.960512212,17.960512212,9.698676564,-26.22234786\n225,11.684,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,14.224,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,9.144,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,21.844,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,16.764,17.960512212,17.960512212,7.902625292,-28.018399132\n225,16.764,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n")),k(N.ParsePatFile("\n*HEX,HEX\n0, 0,0, 0,5.49926, 3.175,-6.35\n120, 0,0, 0,5.49926, 3.175,-6.35\n60, 3.175,0, 0,5.49926, 3.175,-6.35\n")),k(N.ParsePatFile("\n*HEXAGONS\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n239.931417,5.587999746,25.399999492,204.778078632,1.15693825,5.576441984,-552.067817376\n239.931417,22.606,4.826,204.778078632,1.15693825,5.576441984,-552.067817376\n300.068583,19.812000254,25.399999492,352.866180728,1.15693825,5.576441984,-552.067817376\n60.068488,3.048,12.7,204.780260492,0.667036766,9.672031964,-957.531152498\n119.931512,7.874,4.318,762.42292397,0.667036766,9.67203171,-957.531152498\n300.068583,2.794,4.826,352.866180728,1.15693825,5.576441984,-552.067817376\n180,2.794,4.826,0,25.4,5.587998984,-19.812001016\n299.931512,17.526,21.082,762.42292397,0.667036766,9.67203171,-957.531152498\n0,7.874,21.082,0,25.4,9.652,-15.748\n180,17.526,4.318,0,25.4,9.652,-15.748\n240.068488,22.352,12.7,204.780260492,0.667036766,9.672031964,-957.531152498\n180,2.794,20.574,0,25.4,5.587998984,-19.812001016\n")),k(N.ParsePatFile("\n*HEXJOIN-01\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n45,3.81,16.51,17.960512212,17.960512212,7.184204834,-28.73681959\n270,21.59,16.51,25.4,25.4,7.62,-17.78\n315,16.51,21.59,17.960512212,17.960512212,7.184204834,-28.73681959\n180,16.51,3.81,0,25.4,7.62,-17.78\n270,13.97,3.81,25.4,25.4,7.62,-17.78\n90,3.81,8.89,25.4,25.4,7.62,-17.78\n135,8.89,3.81,17.960512212,17.960512212,7.184204834,-28.73681959\n180,3.81,13.97,0,25.4,7.62,-17.78\n270,11.43,3.81,25.4,25.4,7.62,-17.78\n180,3.81,11.43,0,25.4,7.62,-17.78\n225,21.59,8.89,17.960512212,17.960512212,7.184204834,-28.73681959\n0,8.89,21.59,0,25.4,7.62,-17.78\n")),k(N.ParsePatFile("\n*HEXJOIN-02\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,21.59,11.43,25.4,25.4,2.54,-22.86\n315,16.51,21.59,17.960512212,17.960512212,7.184204834,-28.73681959\n270,13.97,3.81,25.4,25.4,7.62,-17.78\n180,3.81,13.97,0,25.4,7.62,-17.78\n180,16.51,3.81,0,25.4,2.54,-22.86\n45,3.81,16.51,17.960512212,17.960512212,7.184204834,-28.73681959\n90,3.81,13.97,25.4,25.4,2.54,-22.86\n180,3.81,11.43,0,25.4,7.62,-17.78\n180,11.43,3.81,0,25.4,2.54,-22.86\n270,11.43,3.81,25.4,25.4,7.62,-17.78\n90,3.81,8.89,25.4,25.4,2.54,-22.86\n0,13.97,21.59,0,25.4,2.54,-22.86\n135,8.89,3.81,17.960512212,17.960512212,7.184204834,-28.73681959\n0,8.89,21.59,0,25.4,2.54,-22.86\n225,21.59,8.89,17.960512212,17.960512212,7.184204834,-28.73681959\n270,21.59,16.51,25.4,25.4,2.54,-22.86\n")),k(N.ParsePatFile("\n*HOLLY,HOLLY\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n99.462322,20.32,2.794,129.4477627,4.175734346,1.545021802,-152.9571465\n74.744881,17.018,2.032,104.7031863,2.22772732,2.896045516,-286.7085124\n68.198591,13.462,3.81,80.18324705,4.716661636,2.73566382,-134.0475224\n270,14.732,9.398,0,25.4,1.778,-23.622\n248.198591,19.05,8.89,80.18324705,4.716661636,2.73566382,-134.0475224\n45,20.32,5.08,17.96051221,17.96051221,2.155261374,-33.76576305\n351.869898,22.86,3.302,25.14471705,3.592102544,1.796051272,-177.8090711\n0,21.844,3.302,0,25.4,1.016,-24.384\n26.565051,20.828,2.794,34.07767607,11.35922544,1.135922544,-55.66020415\n45,20.32,2.286,17.96051221,17.96051221,0.718420458,-35.20260397\n341.565051,19.558,2.54,24.09655582,8.032185358,0.803218612,-79.51863395\n0,18.542,2.54,0,25.4,1.016,-24.384\n26.565051,18.034,2.286,34.07767607,11.35922544,0.567961272,-56.22816542\n26.565051,17.526,2.032,34.07767607,11.35922544,0.567961272,-56.22816542\n53.130102,16.764,1.016,91.44,5.08,1.27,-125.73\n270,16.764,2.032,0,25.4,1.016,-24.384\n303.690068,16.256,2.794,35.22346245,7.04469254,0.915809954,-90.6651923\n315,15.748,3.302,17.96051221,17.96051221,0.718420458,-35.20260397\n345.963757,14.732,3.556,24.6416195,6.160405002,1.047268924,-103.6796141\n0,13.716,3.556,0,25.4,1.016,-24.384\n33.690068,12.954,3.048,35.22346245,7.04469254,0.915809954,-90.6651923\n255.963757,13.208,4.064,24.6416195,6.160405002,1.047268924,-103.6796141\n281.309932,12.954,5.334,104.6083465,4.981349956,1.29515108,-128.2199447\n284.036243,12.7,6.35,80.0852635,6.160405002,1.047268924,-103.6796141\n296.565051,12.192,7.366,34.07767607,11.35922544,1.135922544,-55.66020415\n303.690068,11.684,8.128,35.22346245,7.04469254,0.915809954,-90.6651923\n180,12.7,8.128,0,25.4,1.016,-24.384\n180,13.462,8.128,0,25.4,0.762,-24.638\n213.690068,14.224,8.636,35.22346245,7.04469254,0.915809954,-90.6651923\n243.434949,14.478,9.144,22.71845063,11.35922544,0.567961272,-56.22816542\n251.565051,14.732,9.906,24.09655582,8.032185358,0.803218612,-79.51863395\n108.434949,14.986,9.144,56.22529674,8.032185358,0.803218612,-79.51863395\n135,15.494,8.636,17.96051221,17.96051221,0.718420458,-35.20260397\n153.434949,16.002,8.382,22.71845063,11.35922544,0.567961272,-56.22816542\n161.565051,16.764,8.128,24.09655582,8.032185358,0.803218612,-79.51863395\n180,17.526,8.128,0,25.4,0.762,-24.638\n198.434949,18.288,8.382,56.22529674,8.032185358,0.803218612,-79.51863395\n225,18.796,8.89,17.96051221,17.96051221,0.718420458,-35.20260397\n251.565051,19.05,9.652,24.09655582,8.032185358,0.803218612,-79.51863395\n108.434949,19.304,8.89,56.22529674,8.032185358,0.803218612,-79.51863395\n116.565051,19.812,7.874,34.07767607,11.35922544,1.135922544,-55.66020415\n135,20.574,7.112,17.96051221,17.96051221,1.077630814,-34.84339386\n161.565051,21.336,6.858,24.09655582,8.032185358,0.803218612,-79.51863395\n180,22.098,6.858,0,25.4,0.762,-24.638\n90,22.098,6.096,0,25.4,0.762,-24.638\n111.801409,22.606,4.826,56.59993912,4.716661636,1.36783191,-135.4153543\n126.869898,23.368,3.81,35.56,5.08,1.27,-125.73\n149.036243,24.638,3.048,56.62883289,4.356064186,1.481061808,-146.6251165\n338.587031,11.684,8.128,627.3335515,0.463661252,13.91447154,-1377.532674\n338.198591,20.32,17.526,80.18324705,4.716661636,1.36783191,-135.4153543\n323.972627,18.034,15.748,218.4910814,1.867445084,3.454773634,-342.0225773\n315,15.24,13.462,17.96051221,17.96051221,2.873681832,-33.04734259\n135,14.732,13.97,17.96051221,17.96051221,1.796051272,-34.12497315\n126.869898,17.272,16.51,35.56,5.08,2.54,-124.46\n105.945396,19.558,18.288,80.24604144,3.488958224,1.84914794,-183.0656433\n30.963757,22.098,20.32,91.47734537,4.356064186,1.481061808,-146.6251165\n14.036243,21.082,20.066,80.0852635,6.160405002,1.047268924,-103.6796141\n0,20.32,20.066,0,25.4,0.762,-24.638\n341.565051,19.558,20.32,24.09655582,8.032185358,0.803218612,-79.51863395\n333.434949,19.05,20.574,22.71845063,11.35922544,0.567961272,-56.22816542\n63.434949,18.796,20.066,22.71845063,11.35922544,0.567961272,-56.22816542\n45,18.288,19.558,17.96051221,17.96051221,0.718420458,-35.20260397\n33.690068,17.526,19.05,35.22346245,7.04469254,0.915809954,-90.6651923\n18.434949,16.764,18.796,56.22529674,8.032185358,0.803218612,-79.51863395\n0,16.002,18.796,0,25.4,0.762,-24.638\n341.565051,15.24,19.05,24.09655582,8.032185358,0.803218612,-79.51863395\n108.434949,15.494,18.288,56.22529674,8.032185358,0.803218612,-79.51863395\n90,15.494,17.526,0,25.4,0.762,-24.638\n75.963757,15.24,16.51,24.6416195,6.160405002,1.047268924,-103.6796141\n45,14.478,15.748,17.96051221,17.96051221,1.077630814,-34.84339386\n14.036243,13.462,15.494,80.0852635,6.160405002,1.047268924,-103.6796141\n0,12.7,15.494,0,25.4,0.762,-24.638\n126.869898,13.462,14.478,35.56,5.08,1.27,-125.73\n90,13.462,13.716,0,25.4,0.762,-24.638\n75.963757,13.208,12.7,24.6416195,6.160405002,1.047268924,-103.6796141\n56.309932,12.7,11.938,56.35753981,7.04469254,0.915809954,-90.6651923\n191.309932,13.97,12.192,104.6083465,4.981349956,1.29515108,-128.2199447\n168.690068,15.24,11.938,24.90674927,4.981349956,1.29515108,-128.2199447\n161.565051,16.764,11.43,24.09655582,8.032185358,1.60643697,-78.71541559\n143.130102,17.78,10.668,91.44,5.08,1.27,-125.73\n270,17.78,10.922,0,25.4,0.254,-25.146\n270,17.78,11.684,0,25.4,0.762,-24.638\n243.434949,18.288,12.7,22.71845063,11.35922544,1.135922544,-55.66020415\n213.690068,19.05,13.208,35.22346245,7.04469254,0.915809954,-90.6651923\n198.434949,19.812,13.462,56.22529674,8.032185358,0.803218612,-79.51863395\n180,20.828,13.462,0,25.4,1.016,-24.384\n146.309932,21.59,12.954,56.35753981,7.04469254,0.915809954,-90.6651923\n303.690068,21.082,13.716,35.22346245,7.04469254,0.915809954,-90.6651923\n270,21.082,14.478,0,25.4,0.762,-24.638\n270,21.082,15.494,0,25.4,1.016,-24.384\n243.434949,21.59,16.51,22.71845063,11.35922544,1.135922544,-55.66020415\n225,22.098,17.018,17.96051221,17.96051221,0.718420458,-35.20260397\n296.565051,21.844,17.526,34.07767607,11.35922544,0.567961272,-56.22816542\n270,21.844,18.034,0,25.4,0.508,-24.892\n255.963757,22.098,19.05,24.6416195,6.160405002,1.047268924,-103.6796141\n243.434949,22.606,20.066,22.71845063,11.35922544,1.135922544,-55.66020415\n233.130102,23.368,21.082,91.44,5.08,1.27,-125.73\n40.601295,12.7,11.938,35.81521869,2.755016842,14.05058582,-220.1258435\n195.945396,6.604,13.716,80.24604144,3.488958224,1.84914794,-183.0656433\n5.194429,7.366,13.97,255.2564824,2.29960805,2.805521694,-277.7466482\n19.983107,7.112,17.272,217.0068451,2.170068558,2.9729938,-294.3263839\n185.710593,5.842,17.272,229.9928961,2.527394488,2.552668504,-252.7141722\n164.054604,5.588,20.066,104.6687498,3.488958224,1.84914794,-183.0656433\n45,6.858,20.066,17.96051221,17.96051221,1.436840916,-34.48418351\n90,5.334,23.368,0,25.4,1.016,-24.384\n75.963757,5.08,22.352,24.6416195,6.160405002,1.047268924,-103.6796141\n243.434949,7.874,11.938,22.71845063,11.35922544,1.135922544,-55.66020415\n236.309932,8.382,12.7,56.35753981,7.04469254,0.915809954,-90.6651923\n225,9.144,13.462,17.96051221,17.96051221,1.077630814,-34.84339386\n213.690068,9.906,13.97,35.22346245,7.04469254,0.915809954,-90.6651923\n189.462322,11.43,14.224,129.4477627,4.175734346,1.545021802,-152.9571465\n333.434949,10.922,14.478,22.71845063,11.35922544,0.567961272,-56.22816542\n326.309932,10.16,14.986,56.35753981,7.04469254,0.915809954,-90.6651923\n303.690068,9.652,15.748,35.22346245,7.04469254,0.915809954,-90.6651923\n270,9.652,16.764,0,25.4,1.016,-24.384\n251.565051,9.906,17.526,24.09655582,8.032185358,0.803218612,-79.51863395\n236.309932,10.414,18.288,56.35753981,7.04469254,0.915809954,-90.6651923\n213.690068,11.176,18.796,35.22346245,7.04469254,0.915809954,-90.6651923\n0,10.16,18.796,0,25.4,1.016,-24.384\n333.434949,9.144,19.304,22.71845063,11.35922544,1.135922544,-55.66020415\n306.869898,8.382,20.32,35.56,5.08,1.27,-125.73\n284.036243,8.128,21.336,80.0852635,6.160405002,1.047268924,-103.6796141\n341.565051,7.366,21.59,24.09655582,8.032185358,0.803218612,-79.51863395\n326.309932,6.604,22.098,56.35753981,7.04469254,0.915809954,-90.6651923\n303.690068,6.096,22.86,35.22346245,7.04469254,0.915809954,-90.6651923\n296.565051,5.334,24.384,34.07767607,11.35922544,1.703883816,-55.09224288\n56.309932,4.572,21.59,56.35753981,7.04469254,0.915809954,-90.6651923\n45,4.064,21.082,17.96051221,17.96051221,0.718420458,-35.20260397\n33.690068,3.302,20.574,35.22346245,7.04469254,0.915809954,-90.6651923\n116.565051,3.556,20.066,34.07767607,11.35922544,0.567961272,-56.22816542\n108.434949,3.81,19.304,56.22529674,8.032185358,0.803218612,-79.51863395\n90,3.81,18.288,0,25.4,1.016,-24.384\n63.434949,3.302,17.272,22.71845063,11.35922544,1.135922544,-55.66020415\n33.690068,2.54,16.764,35.22346245,7.04469254,0.915809954,-90.6651923\n165.963757,3.556,16.51,24.6416195,6.160405002,1.047268924,-103.6796141\n143.130102,4.572,15.748,91.44,5.08,1.27,-125.73\n116.565051,5.08,14.732,34.07767607,11.35922544,1.135922544,-55.66020415\n75.963757,4.826,13.716,24.6416195,6.160405002,1.047268924,-103.6796141\n63.434949,4.318,12.7,22.71845063,11.35922544,1.135922544,-55.66020415\n180,5.334,12.7,0,25.4,1.016,-24.384\n165.963757,6.35,12.446,24.6416195,6.160405002,1.047268924,-103.6796141\n135,6.858,11.938,17.96051221,17.96051221,0.718420458,-35.20260397\n116.565051,7.366,10.922,34.07767607,11.35922544,1.135922544,-55.66020415\n278.583621,5.334,24.384,847.7664863,0.473877386,13.61449474,-1347.834983\n104.036243,7.62,5.08,80.0852635,6.160405002,1.047268924,-103.6796141\n123.690068,8.128,4.318,35.22346245,7.04469254,0.915809954,-90.6651923\n153.434949,9.144,3.81,22.71845063,11.35922544,1.135922544,-55.66020415\n180,9.906,3.81,0,25.4,0.762,-24.638\n206.565051,10.922,4.318,34.07767607,11.35922544,1.135922544,-55.66020415\n236.309932,11.43,5.08,56.35753981,7.04469254,0.915809954,-90.6651923\n255.963757,11.684,6.096,24.6416195,6.160405002,1.047268924,-103.6796141\n288.434949,11.43,6.858,56.22529674,8.032185358,0.803218612,-79.51863395\n303.690068,10.922,7.62,35.22346245,7.04469254,0.915809954,-90.6651923\n333.434949,9.906,8.128,22.71845063,11.35922544,1.135922544,-55.66020415\n0,9.144,8.128,0,25.4,0.762,-24.638\n26.565051,8.128,7.62,34.07767607,11.35922544,1.135922544,-55.66020415\n56.309932,7.62,6.858,56.35753981,7.04469254,0.915809954,-90.6651923\n71.565051,7.366,6.096,24.09655582,8.032185358,0.803218612,-79.51863395\n104.036243,4.064,7.874,80.0852635,6.160405002,1.047268924,-103.6796141\n123.690068,4.572,7.112,35.22346245,7.04469254,0.915809954,-90.6651923\n153.434949,5.588,6.604,22.71845063,11.35922544,1.135922544,-55.66020415\n180,6.35,6.604,0,25.4,0.762,-24.638\n206.565051,7.366,7.112,34.07767607,11.35922544,1.135922544,-55.66020415\n236.309932,7.874,7.874,56.35753981,7.04469254,0.915809954,-90.6651923\n255.963757,8.128,8.89,24.6416195,6.160405002,1.047268924,-103.6796141\n288.434949,7.874,9.652,56.22529674,8.032185358,0.803218612,-79.51863395\n303.690068,7.366,10.414,35.22346245,7.04469254,0.915809954,-90.6651923\n333.434949,6.35,10.922,22.71845063,11.35922544,1.135922544,-55.66020415\n0,5.588,10.922,0,25.4,0.762,-24.638\n26.565051,4.572,10.414,34.07767607,11.35922544,1.135922544,-55.66020415\n56.309932,4.064,9.652,56.35753981,7.04469254,0.915809954,-90.6651923\n71.565051,3.81,8.89,24.09655582,8.032185358,0.803218612,-79.51863395\n104.036243,8.636,9.652,80.0852635,6.160405002,1.047268924,-103.6796141\n123.690068,9.144,8.89,35.22346245,7.04469254,0.915809954,-90.6651923\n153.434949,10.16,8.382,22.71845063,11.35922544,1.135922544,-55.66020415\n180,10.922,8.382,0,25.4,0.762,-24.638\n206.565051,11.938,8.89,34.07767607,11.35922544,1.135922544,-55.66020415\n236.309932,12.446,9.652,56.35753981,7.04469254,0.915809954,-90.6651923\n255.963757,12.7,10.668,24.6416195,6.160405002,1.047268924,-103.6796141\n288.434949,12.446,11.43,56.22529674,8.032185358,0.803218612,-79.51863395\n303.690068,11.938,12.192,35.22346245,7.04469254,0.915809954,-90.6651923\n333.434949,10.922,12.7,22.71845063,11.35922544,1.135922544,-55.66020415\n0,10.16,12.7,0,25.4,0.762,-24.638\n26.565051,9.144,12.192,34.07767607,11.35922544,1.135922544,-55.66020415\n56.309932,8.636,11.43,56.35753981,7.04469254,0.915809954,-90.6651923\n71.565051,8.382,10.668,24.09655582,8.032185358,0.803218612,-79.51863395\n")),k(N.ParsePatFile("\n*HONEY,HONEY\n0, 0,0, 4.7625,2.74963, 3.175,-6.35\n120, 0,0, 4.7625,2.74963, 3.175,-6.35\n60, 0,0, 4.7625,2.74963, -6.35,3.175\n")),k(N.ParsePatFile("\n*HOUND,HOUND\n0, 0,0, 6.35,1.5875, 25.4,-12.7\n90, 0,0, -6.35,1.5875, 25.4,-12.7\n")),k(N.ParsePatFile("\n*INSUL,INSUL\n0, 0,0, 0,9.525\n0, 0,3.175, 0,9.525, 3.175,-3.175\n0, 0,6.35, 0,9.525, 3.175,-3.175\n")),k(N.ParsePatFile("\n*JIS_LC_20,JIS_LC_20\n45, 0,0, 0,20\n45, .4,0, 0,20\n")),k(N.ParsePatFile("\n*JIS_LC_20A,JIS_LC_20A\n45, 0,0, 0,20\n45, 1,0, 0,20\n")),k(N.ParsePatFile("\n*JIS_LC_8,JIS_LC_8\n45, 0,0, 0,7.8\n45, .4,0, 0,7.8\n")),k(N.ParsePatFile("\n*JIS_LC_8A,JIS_LC_8A\n45, 0,0, 0,7.8\n45, 1,0, 0,7.8\n")),k(N.ParsePatFile("\n*JIS_RC_10,JIS_RC_10\n45, 0,0, 0,10\n45, .725,0, 0,10\n45, 1.45,0, 0,10\n")),k(N.ParsePatFile("\n*JIS_RC_15,JIS_RC_15\n45, 0,0, 0,15\n45, .725,0, 0,15\n45, 1.45,0, 0,15\n")),k(N.ParsePatFile("\n*JIS_RC_18,JIS_RC_18\n45, 0,0, 0,18\n45, 1,0, 0,18\n45, 2,0, 0,18\n")),k(N.ParsePatFile("\n*JIS_RC_30,JIS_RC_30\n45, 0,0, 0,30\n45, 1,0, 0,30\n45, 2,0, 0,30\n")),k(N.ParsePatFile("\n*JIS_STN_1E,JIS_STN_1E\n45, 0,0, 0,1\n45, .705,0, 0,1, 1,-.5\n")),k(N.ParsePatFile("\n*JIS_STN_2.5,JIS_STN_2.5\n45, 0,0, 0,2.5\n45, 1.765,0, 0,2.5, 1.2,-.5\n")),k(N.ParsePatFile("\n*JIS_WOOD,JIS_WOOD\n45, 0,0, 0,.70710678\n")),k(N.ParsePatFile("\n*LATTICE-01\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,2.162738626,10.16,0,25.4,4.325477252,-21.074522748\n270,15.24,2.162738626,25.4,25.4,4.325477252,-21.074522748\n270,10.16,2.162738626,25.4,25.4,4.325477252,-21.074522748\n135,12.7,6.80694346,17.960512212,17.960512212,8.334040482,-27.586983942\n225,18.59305654,12.7,17.960512212,17.960512212,8.334040482,-27.586983942\n45,2.162738626,15.24,17.960512212,17.960512212,11.309835394,-24.61118903\n180,2.162738626,15.24,0,25.4,4.325477252,-21.074522748\n315,12.7,18.59305654,17.960512212,17.960512212,8.334040482,-27.586983942\n45,6.80694346,12.7,17.960512212,17.960512212,8.334040482,-27.586983942\n315,15.24,23.237261374,17.960512212,17.960512212,11.309835394,-24.61118903\n45,15.24,2.162738626,17.960512212,17.960512212,11.309835394,-24.61118903\n315,2.162738626,10.16,17.960512212,17.960512212,11.309835394,-24.61118903\n")),k(N.ParsePatFile("\n*LATTICE-02\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,9.736666582,9.736666582,0,25.4,19.473333164,-5.926666836\n270,15.663333418,25.4,25.4,25.4,25.4;,0 Removed 0 IT RENDERS A POINT\n180,9.736666582,15.663333418,0,25.4,19.473333164,-5.926666836\n270,9.736666582,25.4,25.4,25.4,25.4;,0 Removed 0 IT RENDERS A POINT\n")),k(N.ParsePatFile("\n*LATTICE-03\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,9.736666582,9.736666582,0,25.4,19.473333164,-5.926666836\n180,9.736666582,15.663333418,0,25.4,19.473333164,-5.926666836\n270,15.663333418,9.736666582,25.4,25.4,19.473333164,-5.926666836\n270,9.736666582,9.736666582,25.4,25.4,19.473333164,-5.926666836\n")),k(N.ParsePatFile("\n*LATTICE-04\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n296.565051,3.894666582,11.684,34.077676066,11.35922544,28.776704194,-28.019422498\n296.565051,8.636000254,14.054666582,34.077676066,11.35922544,28.776704194,-28.019422498\n206.565051,11.684,21.505333418,34.077676066,11.35922544,28.776704194,-28.019422498\n206.565051,14.054666582,16.763999746,34.077676066,11.35922544,28.776704194,-28.019422498\n")),k(N.ParsePatFile("\n*LATTICE-05,LATTICE-05\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n0,19.685,1.905,0,25.4,3.81,-21.59\n180,5.715,23.495,0,25.4,3.81,-21.59\n180,15.875,5.715,0,25.4,10.16,-15.24\n180,15.875,1.905,0,25.4,13.97,-11.43\n270,15.875,5.715,0,25.4,3.81,-21.59\n270,19.685,19.685,0,25.4,17.78,-7.62\n270,23.495,23.495,0,25.4,21.59,-3.81\n0,9.525,19.685,0,25.4,10.16,-15.24\n0,9.525,23.495,0,25.4,13.97,-11.43\n90,9.525,19.685,0,25.4,3.81,-21.59\n90,5.715,5.715,0,25.4,17.78,-7.62\n90,1.905,1.905,0,25.4,21.59,-3.81\n")),k(N.ParsePatFile("\n*LATTICE-06,LATTICE-06\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n180,15.875,9.525,0,25.4,6.35,-19.05\n270,15.875,15.875,0,25.4,6.35,-19.05\n0,9.525,15.875,0,25.4,6.35,-19.05\n90,9.525,9.525,0,25.4,6.35,-19.05\n0,19.685,1.905,0,25.4,3.81,-21.59\n180,5.715,23.495,0,25.4,3.81,-21.59\n180,15.875,5.715,0,25.4,10.16,-15.24\n180,15.875,1.905,0,25.4,13.97,-11.43\n270,15.875,5.715,0,25.4,3.81,-21.59\n270,19.685,19.685,0,25.4,17.78,-7.62\n270,23.495,23.495,0,25.4,21.59,-3.81\n0,9.525,19.685,0,25.4,10.16,-15.24\n0,9.525,23.495,0,25.4,13.97,-11.43\n90,9.525,19.685,0,25.4,3.81,-21.59\n90,5.715,5.715,0,25.4,17.78,-7.62\n90,1.905,1.905,0,25.4,21.59,-3.81\n")),k(N.ParsePatFile("\n*LATTICE-07\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,17.568333418,17.568333164,25.4,25.4,22.436666582,-2.963333418\n270,20.531666836,17.568333164,25.4,25.4,22.436666582,-2.963333418\n270,4.868333164,4.868333418,25.4,25.4,22.436666582,-2.963333418\n270,7.831666582,4.868333418,25.4,25.4,22.436666582,-2.963333418\n180,17.568333418,7.831666582,0,25.4,22.436666582,-2.963333418\n180,17.568333418,4.868333164,0,25.4,22.436666582,-2.963333418\n180,4.868333418,20.531666836,0,25.4,22.436666582,-2.963333418\n180,4.868333418,17.568333418,0,25.4,22.436666582,-2.963333418\n")),k(N.ParsePatFile("\n*LEAF-01,LEAF-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n83.659808,22.86,5.08,25.244646742,2.804960862,2.30006779,-227.706714766\n26.565051,22.352,4.826,34.077676066,11.35922544,0.567961272,-56.22816542\n14.036243,21.336,4.572,80.085263502,6.160405002,1.047268924,-103.679614078\n315,21.336,4.572,17.960512212,17.960512212,1.436840916,-34.484183508\n83.659808,21.336,4.572,25.244646742,2.804960862,2.30006779,-227.706714766\n0,20.066,4.572,0,25.4,1.27,-24.13\n345.963757,20.828,3.048,24.6416195,6.160405002,1.047268924,-103.679614078\n326.309932,20.066,3.556,56.357539812,7.04469254,0.915809954,-90.665192304\n303.690068,19.558,4.318,35.223462446,7.04469254,0.915809954,-90.665192304\n18.434949,18.796,4.064,56.225296744,8.032185358,0.803218612,-79.518633952\n288.434949,18.542,4.826,56.225296744,8.032185358,0.803218612,-79.518633952\n180,19.558,4.826,0,25.4,1.016,-24.384\n258.690068,19.812,6.096,24.906749272,4.981349956,1.29515108,-128.219944728\n243.434949,20.066,6.604,22.718450626,11.35922544,0.567961272,-56.22816542\n225,20.828,7.366,17.960512212,17.960512212,1.077630814,-34.843393864\n213.690068,21.59,7.874,35.223462446,7.04469254,0.915809954,-90.665192304\n191.309932,22.86,8.128,104.608346536,4.981349956,1.29515108,-128.219944728\n128.659808,7.62,10.668,35.701322044,3.966813504,1.626393496,-161.0129622\n143.130102,8.636,9.906,91.44,5.08,1.27,-125.73\n153.434949,9.652,9.398,22.718450626,11.35922544,1.135922544,-55.660204148\n192.528808,9.652,9.398,104.69063898,2.755016842,2.341764176,-231.834664854\n105.945396,9.652,9.398,80.246041438,3.488958224,1.84914794,-183.065643266\n153.434949,10.668,8.89,22.718450626,11.35922544,1.135922544,-55.660204148\n149.036243,11.938,8.128,56.628832894,4.356064186,1.481061808,-146.625116452\n95.710593,11.938,8.128,229.992896122,2.527394488,2.552668504,-252.714172244\n194.931417,11.938,8.128,289.599936166,1.636157764,3.94314045,-390.37089693\n135,12.954,7.112,17.960512212,17.960512212,1.436840916,-34.484183508\n123.690068,13.462,6.35,35.223462446,7.04469254,0.915809954,-90.665192304\n199.653824,13.462,6.35,297.294468148,1.708588912,3.775981526,-373.822164724\n71.565051,13.462,6.35,24.09655582,8.032185358,2.409655582,-77.912196982\n119.054604,14.732,4.064,204.766485564,2.467066186,2.61509002,-258.893915536\n288.434949,14.732,3.556,56.225296744,8.032185358,1.60643697,-78.715415594\n21.801409,13.462,3.048,56.599939124,4.716661636,1.36783191,-135.415354264\n11.309932,12.192,2.794,104.608346536,4.981349956,1.29515108,-128.219944728\n0,11.43,2.794,0,25.4,0.762,-24.638\n341.565051,9.906,3.302,24.09655582,8.032185358,1.60643697,-78.715415594\n326.309932,8.382,4.318,56.357539812,7.04469254,1.831620162,-89.74938235\n308.659808,7.366,5.588,35.701322044,3.966813504,1.626393496,-161.0129622\n300.963757,6.604,6.858,91.477345366,4.356064186,1.481061808,-146.625116452\n285.945396,6.096,8.636,80.246041438,3.488958224,1.84914794,-183.065643266\n270,6.096,10.414,0,25.4,1.778,-23.622\n279.462322,5.842,11.938,129.447762694,4.175734346,1.545021802,-152.95714646\n285.945396,5.334,13.716,80.246041438,3.488958224,1.84914794,-183.065643266\n123.690068,5.842,12.954,35.223462446,7.04469254,0.915809954,-90.665192304\n161.565051,6.604,12.7,24.09655582,8.032185358,0.803218612,-79.518633952\n171.869898,8.382,12.446,25.144717046,3.592102544,1.796051272,-177.809071102\n171.869898,10.16,12.192,25.144717046,3.592102544,1.796051272,-177.809071102\n161.565051,11.684,11.684,24.09655582,8.032185358,1.60643697,-78.715415594\n161.565051,13.208,11.176,24.09655582,8.032185358,1.60643697,-78.715415594\n146.309932,14.732,10.16,56.357539812,7.04469254,1.831620162,-89.74938235\n119.744881,15.748,8.382,148.072666262,3.150482142,2.047813532,-202.733533318\n111.801409,16.256,7.112,56.599939124,4.716661636,1.36783191,-135.415354264\n90,16.256,6.096,0,25.4,1.016,-24.384\n75.963757,16.002,5.08,24.6416195,6.160405002,1.047268924,-103.679614078\n56.309932,15.494,4.318,56.357539812,7.04469254,0.915809954,-90.665192304\n63.434949,15.24,3.81,22.718450626,11.35922544,0.567961272,-56.22816542\n126.869898,16.002,2.794,35.56,5.08,1.27,-125.73\n45,15.24,2.032,17.960512212,17.960512212,1.077630814,-34.843393864\n233.130102,22.606,1.016,91.44,5.08,1.27,-125.73\n258.690068,1.778,1.27,24.906749272,4.981349956,1.29515108,-128.219944728\n258.690068,3.556,1.27,24.906749272,4.981349956,1.29515108,-128.219944728\n198.434949,6.604,0.508,56.225296744,8.032185358,1.60643697,-78.715415594\n225,7.874,0.508,17.960512212,17.960512212,0.718420458,-35.202603966\n198.434949,8.636,0.762,56.225296744,8.032185358,0.803218612,-79.518633952\n348.690068,7.366,1.016,24.906749272,4.981349956,1.29515108,-128.219944728\n345.963757,6.35,1.27,24.6416195,6.160405002,1.047268924,-103.679614078\n333.434949,5.334,1.778,22.718450626,11.35922544,1.135922544,-55.660204148\n333.434949,3.81,2.54,22.718450626,11.35922544,1.703883816,-55.092242876\n348.690068,2.54,2.794,24.906749272,4.981349956,1.29515108,-128.219944728\n0,1.778,2.794,0,25.4,0.762,-24.638\n8.130102,0,2.54,154.460405328,3.592102544,1.796051272,-177.809071102\n236.309932,0.508,5.842,56.357539812,7.04469254,0.915809954,-90.665192304\n236.309932,1.016,6.604,56.357539812,7.04469254,0.915809954,-90.665192304\n213.690068,1.778,7.112,35.223462446,7.04469254,0.915809954,-90.665192304\n0,0.762,7.112,0,25.4,1.016,-24.384\n326.309932,0,7.62,56.357539812,7.04469254,0.915809954,-90.665192304\n18.434949,0,6.604,56.225296744,8.032185358,0.803218612,-79.518633952\n0,0,13.97,0,25.4,1.778,-23.622\n14.036243,2.54,15.494,80.085263502,6.160405002,1.047268924,-103.679614078\n21.801409,1.27,14.986,56.599939124,4.716661636,1.36783191,-135.415354264\n30.963757,0,14.224,91.477345366,4.356064186,1.481061808,-146.625116452\n254.054604,0.508,16.764,104.668749768,3.488958224,1.84914794,-183.065643266\n158.198591,1.27,17.526,80.18324705,4.716661636,1.36783191,-135.415354264\n153.434949,2.794,16.764,22.718450626,11.35922544,1.703883816,-55.092242876\n158.198591,4.064,16.256,80.18324705,4.716661636,1.36783191,-135.415354264\n180,5.334,16.256,0,25.4,1.27,-24.13\n33.690068,4.572,15.748,35.223462446,7.04469254,0.915809954,-90.665192304\n45,4.064,15.24,17.960512212,17.960512212,0.718420458,-35.202603966\n53.130102,3.302,14.224,91.44,5.08,1.27,-125.73\n56.309932,2.286,12.7,56.357539812,7.04469254,1.831620162,-89.74938235\n51.340192,1.27,11.43,126.938033652,3.966813504,1.626393496,-161.0129622\n38.659808,0,10.414,35.701322044,3.966813504,1.626393496,-161.0129622\n180,20.828,12.192,0,25.4,2.54,-22.86\n310.601295,20.828,12.192,35.815218692,2.755016842,2.341764176,-231.834664854\n82.405357,20.828,12.192,204.774468022,1.678479244,3.843717484,-380.528029646\n180,21.336,12.192,0,25.4,0.508,-24.892\n194.036243,22.352,12.446,80.085263502,6.160405002,1.047268924,-103.679614078\n198.434949,23.114,12.7,56.225296744,8.032185358,0.803218612,-79.518633952\n0,21.082,9.398,0,25.4,2.032,-23.368\n348.690068,19.812,9.652,24.906749272,4.981349956,1.29515108,-128.219944728\n321.340192,18.542,10.668,126.938033652,3.966813504,1.626393496,-161.0129622\n300.963757,17.78,11.938,91.477345366,4.356064186,1.481061808,-146.625116452\n21.801409,16.51,11.43,56.599939124,4.716661636,1.36783191,-135.415354264\n284.036243,16.256,12.446,80.085263502,6.160405002,1.047268924,-103.679614078\n180,17.78,12.446,0,25.4,1.524,-23.876\n261.869898,18.034,14.224,25.144717046,3.592102544,1.796051272,-177.809071102\n248.198591,18.542,15.494,80.18324705,4.716661636,1.36783191,-135.415354264\n225,19.558,16.51,17.960512212,17.960512212,1.436840916,-34.484183508\n216.869898,20.574,17.272,35.56,5.08,1.27,-125.73\n198.434949,22.86,18.034,56.225296744,8.032185358,2.409655582,-77.912196982\n153.434949,9.144,16.51,22.718450626,11.35922544,1.703883816,-55.092242876\n170.537678,10.668,16.256,25.054405568,4.175734346,1.545021802,-152.95714646\n188.130102,12.446,16.51,154.460405328,3.592102544,1.796051272,-177.809071102\n201.801409,13.716,17.018,56.599939124,4.716661636,1.36783191,-135.415354264\n219.805571,15.24,18.288,35.773504272,3.252136752,1.9838035,-196.396538372\n18.434949,24.638,6.35,56.225296744,8.032185358,0.803218612,-79.518633952\n33.690068,23.876,5.842,35.223462446,7.04469254,0.915809954,-90.665192304\n0,23.876,5.842,0,25.4,1.016,-24.384\n80.537678,23.876,5.842,25.054405568,4.175734346,1.545021802,-152.95714646\n36.869898,22.86,5.08,35.56,5.08,1.27,-125.73\n341.565051,22.86,5.08,24.09655582,8.032185358,1.60643697,-78.715415594\n53.130102,24.638,4.064,91.44,5.08,1.27,-125.73\n38.659808,23.368,3.048,35.701322044,3.966813504,1.626393496,-161.0129622\n9.462322,21.844,2.794,129.447762694,4.175734346,1.545021802,-152.95714646\n180,24.13,8.128,0,25.4,1.27,-24.13\n158.198591,25.4,7.62,80.18324705,4.716661636,1.36783191,-135.415354264\n216.869898,23.622,1.778,35.56,5.08,1.27,-125.73\n206.565051,24.638,2.286,34.077676066,11.35922544,1.135922544,-55.660204148\n198.434949,25.4,2.54,56.225296744,8.032185358,0.803218612,-79.518633952\n90,24.638,0,0,25.4,0.508,-24.892\n26.565051,24.384,13.462,34.077676066,11.35922544,1.135922544,-55.660204148\n56.309932,24.384,13.462,56.357539812,7.04469254,1.831620162,-89.74938235\n36.869898,24.384,13.462,35.56,5.08,1.27,-125.73\n30.963757,23.114,12.7,91.477345366,4.356064186,1.481061808,-146.625116452\n78.690068,23.114,12.7,24.906749272,4.981349956,3.885452986,-125.629642822\n156.037511,25.4,11.684,193.423444496,2.578979348,2.501609932,-247.659378188\n30.963757,24.13,9.652,91.477345366,4.356064186,1.481061808,-146.625116452\n14.036243,23.114,9.398,80.085263502,6.160405002,1.047268924,-103.679614078\n180,25.4,18.034,0,25.4,2.54,-22.86\n0,21.844,22.098,0,25.4,2.286,-23.114\n11.309932,24.13,22.098,104.608346536,4.981349956,1.29515108,-128.219944728\n135,25.4,20.828,17.960512212,17.960512212,1.796051272,-34.124973152\n0,24.384,19.304,0,25.4,1.016,-24.384\n345.963757,23.368,19.558,24.6416195,6.160405002,1.047268924,-103.679614078\n333.434949,22.352,20.066,22.718450626,11.35922544,1.135922544,-55.660204148\n315,21.844,20.574,17.960512212,17.960512212,0.718420458,-35.202603966\n306.869898,21.082,21.59,35.56,5.08,1.27,-125.73\n11.309932,19.812,21.336,104.608346536,4.981349956,1.29515108,-128.219944728\n284.036243,19.558,22.352,80.085263502,6.160405002,1.047268924,-103.679614078\n180,21.082,22.352,0,25.4,1.524,-23.876\n14.036243,16.51,22.606,80.085263502,6.160405002,1.047268924,-103.679614078\n18.434949,15.748,22.352,56.225296744,8.032185358,0.803218612,-79.518633952\n33.690068,14.986,21.844,35.223462446,7.04469254,0.915809954,-90.665192304\n230.194429,16.51,19.812,162.6068376,3.252136752,1.9838035,-196.396538372\n239.036243,17.272,21.082,56.628832894,4.356064186,1.481061808,-146.625116452\n236.309932,18.288,22.606,56.357539812,7.04469254,1.831620162,-89.74938235\n213.690068,19.05,23.114,35.223462446,7.04469254,0.915809954,-90.665192304\n198.434949,19.812,23.368,56.225296744,8.032185358,0.803218612,-79.518633952\n0,18.796,23.368,0,25.4,1.016,-24.384\n345.963757,17.78,23.622,24.6416195,6.160405002,1.047268924,-103.679614078\n261.869898,21.336,24.13,25.144717046,3.592102544,1.796051272,-177.809071102\n248.198591,21.844,25.4,80.18324705,4.716661636,1.36783191,-135.415354264\n36.869898,13.97,21.082,35.56,5.08,1.27,-125.73\n0,13.97,21.082,0,25.4,2.032,-23.368\n78.690068,13.97,21.082,24.906749272,4.981349956,2.590301906,-126.924793648\n33.690068,13.208,20.574,35.223462446,7.04469254,0.915809954,-90.665192304\n30.963757,11.938,19.812,91.477345366,4.356064186,1.481061808,-146.625116452\n336.037511,11.938,19.812,193.423444496,2.578979348,2.501609932,-247.659378188\n79.380345,11.938,19.812,283.976346702,1.560309554,4.134820534,-409.347222706\n26.565051,10.922,19.304,34.077676066,11.35922544,1.135922544,-55.660204148\n9.462322,9.398,19.05,129.447762694,4.175734346,1.545021802,-152.95714646\n318.814075,9.398,19.05,234.164238554,2.389431086,2.700057084,-267.30564649\n82.405357,9.398,19.05,204.774468022,1.678479244,3.843717484,-380.528029646\n0,8.382,19.05,0,25.4,1.016,-24.384\n0,7.366,19.05,0,25.4,1.016,-24.384\n0,5.08,19.304,0,25.4,1.524,-23.876\n104.036243,5.334,18.288,80.085263502,6.160405002,1.047268924,-103.679614078\n201.801409,6.604,18.796,56.599939124,4.716661636,1.36783191,-135.415354264\n123.690068,7.62,17.272,35.223462446,7.04469254,1.831620162,-89.74938235\n338.198591,16.51,24.13,80.18324705,4.716661636,1.36783191,-135.415354264\n333.434949,14.986,24.892,22.718450626,11.35922544,1.703883816,-55.092242876\n348.690068,13.716,25.146,24.906749272,4.981349956,1.29515108,-128.219944728\n0,11.684,25.146,0,25.4,2.032,-23.368\n18.434949,10.16,24.638,56.225296744,8.032185358,1.60643697,-78.715415594\n26.565051,8.636,23.876,34.077676066,11.35922544,1.703883816,-55.092242876\n45,7.366,22.606,17.960512212,17.960512212,1.796051272,-34.124973152\n71.565051,6.858,21.082,24.09655582,8.032185358,1.60643697,-78.715415594\n81.869898,6.604,19.304,25.144717046,3.592102544,1.796051272,-177.809071102\n;0,5.08,19.304,0,25.4,1.524,-23.876\n315,0,20.828,17.960512212,17.960512212,0.718420458,-35.202603966\n198.434949,0.762,22.606,56.225296744,8.032185358,0.803218612,-79.518633952\n343.300756,0.762,22.606,184.898786158,2.432878802,2.651837978,-262.531947376\n74.744881,0.762,22.606,104.703186326,2.22772732,2.896045516,-286.708512434\n206.565051,1.27,22.86,34.077676066,11.35922544,0.567961272,-56.22816542\n213.690068,2.032,23.368,35.223462446,7.04469254,0.915809954,-90.665192304\n216.869898,3.048,24.13,35.56,5.08,1.27,-125.73\n352.874984,3.048,24.13,25.203858152,3.150482142,2.047813532,-202.733533318\n78.690068,3.048,24.13,24.906749272,4.981349956,1.29515108,-128.219944728\n213.690068,3.81,24.638,35.223462446,7.04469254,0.915809954,-90.665192304\n213.690068,4.572,25.146,35.223462446,7.04469254,0.915809954,-90.665192304\n206.565051,5.08,25.4,34.077676066,11.35922544,0.567961272,-56.22816542\n45,7.112,25.146,17.960512212,17.960512212,0.359210356,-35.561814322\n56.309932,6.604,24.384,56.357539812,7.04469254,0.915809954,-90.665192304\n56.309932,5.588,22.86,56.357539812,7.04469254,1.831620162,-89.74938235\n53.130102,4.826,21.844,91.44,5.08,1.27,-125.73\n45,3.556,20.574,17.960512212,17.960512212,1.796051272,-34.124973152\n36.869898,2.54,19.812,35.56,5.08,1.27,-125.73\n18.434949,1.016,19.304,56.225296744,8.032185358,1.60643697,-78.715415594\n0,0,19.304,0,25.4,1.016,-24.384\n81.253838,24.13,22.098,179.594740378,1.931126186,3.340848284,-330.743991038\n")),k(N.ParsePatFile("\n*LEAF-02,LEAF-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n303.690068,19.558,4.318,35.223462446,7.04469254,0.915809954,-90.665192304\n18.434949,18.796,4.064,56.225296744,8.032185358,0.803218612,-79.518633952\n288.434949,18.542,4.826,56.225296744,8.032185358,0.803218612,-79.518633952\n180,19.558,4.826,0,25.4,1.016,-24.384\n258.690068,19.812,6.096,24.906749272,4.981349956,1.29515108,-128.219944728\n243.434949,20.066,6.604,22.718450626,11.35922544,0.567961272,-56.22816542\n288.434949,14.732,3.556,56.225296744,8.032185358,1.60643697,-78.715415594\n21.801409,13.462,3.048,56.599939124,4.716661636,1.36783191,-135.415354264\n11.309932,12.192,2.794,104.608346536,4.981349956,1.29515108,-128.219944728\n0,11.43,2.794,0,25.4,0.762,-24.638\n341.565051,9.906,3.302,24.09655582,8.032185358,1.60643697,-78.715415594\n326.309932,8.382,4.318,56.357539812,7.04469254,1.831620162,-89.74938235\n308.659808,7.366,5.588,35.701322044,3.966813504,1.626393496,-161.0129622\n300.963757,6.604,6.858,91.477345366,4.356064186,1.481061808,-146.625116452\n285.945396,6.096,8.636,80.246041438,3.488958224,1.84914794,-183.065643266\n270,6.096,10.414,0,25.4,1.778,-23.622\n279.462322,5.842,11.938,129.447762694,4.175734346,1.545021802,-152.95714646\n285.945396,5.334,13.716,80.246041438,3.488958224,1.84914794,-183.065643266\n123.690068,5.842,12.954,35.223462446,7.04469254,0.915809954,-90.665192304\n161.565051,6.604,12.7,24.09655582,8.032185358,0.803218612,-79.518633952\n171.869898,8.382,12.446,25.144717046,3.592102544,1.796051272,-177.809071102\n171.869898,10.16,12.192,25.144717046,3.592102544,1.796051272,-177.809071102\n161.565051,11.684,11.684,24.09655582,8.032185358,1.60643697,-78.715415594\n161.565051,13.208,11.176,24.09655582,8.032185358,1.60643697,-78.715415594\n146.309932,14.732,10.16,56.357539812,7.04469254,1.831620162,-89.74938235\n119.744881,15.748,8.382,148.072666262,3.150482142,2.047813532,-202.733533318\n111.801409,16.256,7.112,56.599939124,4.716661636,1.36783191,-135.415354264\n90,16.256,6.096,0,25.4,1.016,-24.384\n75.963757,16.002,5.08,24.6416195,6.160405002,1.047268924,-103.679614078\n56.309932,15.494,4.318,56.357539812,7.04469254,0.915809954,-90.665192304\n63.434949,15.24,3.81,22.718450626,11.35922544,0.567961272,-56.22816542\n126.869898,16.002,2.794,35.56,5.08,1.27,-125.73\n45,15.24,2.032,17.960512212,17.960512212,1.077630814,-34.843393864\n225,7.874,0.508,17.960512212,17.960512212,0.718420458,-35.202603966\n198.434949,8.636,0.762,56.225296744,8.032185358,0.803218612,-79.518633952\n348.690068,7.366,1.016,24.906749272,4.981349956,1.29515108,-128.219944728\n345.963757,6.35,1.27,24.6416195,6.160405002,1.047268924,-103.679614078\n333.434949,5.334,1.778,22.718450626,11.35922544,1.135922544,-55.660204148\n333.434949,3.81,2.54,22.718450626,11.35922544,1.703883816,-55.092242876\n348.690068,2.54,2.794,24.906749272,4.981349956,1.29515108,-128.219944728\n0,1.778,2.794,0,25.4,0.762,-24.638\n8.130102,0,2.54,154.460405328,3.592102544,1.796051272,-177.809071102\n236.309932,0.508,5.842,56.357539812,7.04469254,0.915809954,-90.665192304\n236.309932,1.016,6.604,56.357539812,7.04469254,0.915809954,-90.665192304\n213.690068,1.778,7.112,35.223462446,7.04469254,0.915809954,-90.665192304\n0,0.762,7.112,0,25.4,1.016,-24.384\n326.309932,0,7.62,56.357539812,7.04469254,0.915809954,-90.665192304\n158.198591,1.27,17.526,80.18324705,4.716661636,1.36783191,-135.415354264\n153.434949,2.794,16.764,22.718450626,11.35922544,1.703883816,-55.092242876\n158.198591,4.064,16.256,80.18324705,4.716661636,1.36783191,-135.415354264\n180,5.334,16.256,0,25.4,1.27,-24.13\n33.690068,4.572,15.748,35.223462446,7.04469254,0.915809954,-90.665192304\n45,4.064,15.24,17.960512212,17.960512212,0.718420458,-35.202603966\n53.130102,3.302,14.224,91.44,5.08,1.27,-125.73\n56.309932,2.286,12.7,56.357539812,7.04469254,1.831620162,-89.74938235\n51.340192,1.27,11.43,126.938033652,3.966813504,1.626393496,-161.0129622\n38.659808,0,10.414,35.701322044,3.966813504,1.626393496,-161.0129622\n321.340192,18.542,10.668,126.938033652,3.966813504,1.626393496,-161.0129622\n300.963757,17.78,11.938,91.477345366,4.356064186,1.481061808,-146.625116452\n21.801409,16.51,11.43,56.599939124,4.716661636,1.36783191,-135.415354264\n284.036243,16.256,12.446,80.085263502,6.160405002,1.047268924,-103.679614078\n180,17.78,12.446,0,25.4,1.524,-23.876\n261.869898,18.034,14.224,25.144717046,3.592102544,1.796051272,-177.809071102\n248.198591,18.542,15.494,80.18324705,4.716661636,1.36783191,-135.415354264\n225,19.558,16.51,17.960512212,17.960512212,1.436840916,-34.484183508\n284.036243,19.558,22.352,80.085263502,6.160405002,1.047268924,-103.679614078\n0,5.08,19.304,0,25.4,1.524,-23.876\n104.036243,5.334,18.288,80.085263502,6.160405002,1.047268924,-103.679614078\n201.801409,6.604,18.796,56.599939124,4.716661636,1.36783191,-135.415354264\n123.690068,7.62,17.272,35.223462446,7.04469254,1.831620162,-89.74938235\n153.434949,9.144,16.51,22.718450626,11.35922544,1.703883816,-55.092242876\n170.537678,10.668,16.256,25.054405568,4.175734346,1.545021802,-152.95714646\n188.130102,12.446,16.51,154.460405328,3.592102544,1.796051272,-177.809071102\n201.801409,13.716,17.018,56.599939124,4.716661636,1.36783191,-135.415354264\n219.805571,15.24,18.288,35.773504272,3.252136752,1.9838035,-196.396538372\n230.194429,16.51,19.812,162.6068376,3.252136752,1.9838035,-196.396538372\n239.036243,17.272,21.082,56.628832894,4.356064186,1.481061808,-146.625116452\n236.309932,18.288,22.606,56.357539812,7.04469254,1.831620162,-89.74938235\n213.690068,19.05,23.114,35.223462446,7.04469254,0.915809954,-90.665192304\n198.434949,19.812,23.368,56.225296744,8.032185358,0.803218612,-79.518633952\n0,18.796,23.368,0,25.4,1.016,-24.384\n345.963757,17.78,23.622,24.6416195,6.160405002,1.047268924,-103.679614078\n338.198591,16.51,24.13,80.18324705,4.716661636,1.36783191,-135.415354264\n45,7.366,22.606,17.960512212,17.960512212,1.796051272,-34.124973152\n71.565051,6.858,21.082,24.09655582,8.032185358,1.60643697,-78.715415594\n81.869898,6.604,19.304,25.144717046,3.592102544,1.796051272,-177.809071102\n;0,5.08,19.304,0,25.4,1.524,-23.876\n53.130102,4.826,21.844,91.44,5.08,1.27,-125.73\n45,3.556,20.574,17.960512212,17.960512212,1.796051272,-34.124973152\n36.869898,2.54,19.812,35.56,5.08,1.27,-125.73\n18.434949,1.016,19.304,56.225296744,8.032185358,1.60643697,-78.715415594\n0,0,19.304,0,25.4,1.016,-24.384\n0,24.384,19.304,0,25.4,1.016,-24.384\n345.963757,23.368,19.558,24.6416195,6.160405002,1.047268924,-103.679614078\n333.434949,22.352,20.066,22.718450626,11.35922544,1.135922544,-55.660204148\n315,21.844,20.574,17.960512212,17.960512212,0.718420458,-35.202603966\n306.869898,21.082,21.59,35.56,5.08,1.27,-125.73\n11.309932,19.812,21.336,104.608346536,4.981349956,1.29515108,-128.219944728\n180,21.082,22.352,0,25.4,1.524,-23.876\n261.869898,21.336,24.13,25.144717046,3.592102544,1.796051272,-177.809071102\n248.198591,21.844,25.4,80.18324705,4.716661636,1.36783191,-135.415354264\n333.434949,14.986,24.892,22.718450626,11.35922544,1.703883816,-55.092242876\n348.690068,13.716,25.146,24.906749272,4.981349956,1.29515108,-128.219944728\n0,11.684,25.146,0,25.4,2.032,-23.368\n18.434949,10.16,24.638,56.225296744,8.032185358,1.60643697,-78.715415594\n26.565051,8.636,23.876,34.077676066,11.35922544,1.703883816,-55.092242876\n45,7.112,25.146,17.960512212,17.960512212,0.359210356,-35.561814322\n56.309932,6.604,24.384,56.357539812,7.04469254,0.915809954,-90.665192304\n56.309932,5.588,22.86,56.357539812,7.04469254,1.831620162,-89.74938235\n53.130102,24.638,4.064,91.44,5.08,1.27,-125.73\n38.659808,23.368,3.048,35.701322044,3.966813504,1.626393496,-161.0129622\n9.462322,21.844,2.794,129.447762694,4.175734346,1.545021802,-152.95714646\n345.963757,20.828,3.048,24.6416195,6.160405002,1.047268924,-103.679614078\n326.309932,20.066,3.556,56.357539812,7.04469254,0.915809954,-90.665192304\n225,20.828,7.366,17.960512212,17.960512212,1.077630814,-34.843393864\n213.690068,21.59,7.874,35.223462446,7.04469254,0.915809954,-90.665192304\n191.309932,22.86,8.128,104.608346536,4.981349956,1.29515108,-128.219944728\n180,24.13,8.128,0,25.4,1.27,-24.13\n158.198591,25.4,7.62,80.18324705,4.716661636,1.36783191,-135.415354264\n233.130102,22.606,1.016,91.44,5.08,1.27,-125.73\n216.869898,23.622,1.778,35.56,5.08,1.27,-125.73\n206.565051,24.638,2.286,34.077676066,11.35922544,1.135922544,-55.660204148\n198.434949,25.4,2.54,56.225296744,8.032185358,0.803218612,-79.518633952\n30.963757,24.13,9.652,91.477345366,4.356064186,1.481061808,-146.625116452\n14.036243,23.114,9.398,80.085263502,6.160405002,1.047268924,-103.679614078\n0,21.082,9.398,0,25.4,2.032,-23.368\n348.690068,19.812,9.652,24.906749272,4.981349956,1.29515108,-128.219944728\n216.869898,20.574,17.272,35.56,5.08,1.27,-125.73\n198.434949,22.86,18.034,56.225296744,8.032185358,2.409655582,-77.912196982\n180,25.4,18.034,0,25.4,2.54,-22.86\n")),k(N.ParsePatFile("\n*LEAF-03,LEAF-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n344.054604,21.844,9.652,104.668749768,3.488958224,1.84914794,-183.065643266\n338.198591,20.574,10.16,80.18324705,4.716661636,1.36783191,-135.415354264\n326.309932,19.05,11.176,56.357539812,7.04469254,1.831620162,-89.74938235\n320.194429,17.526,12.446,162.6068376,3.252136752,1.9838035,-196.396538372\n308.659808,16.51,13.716,35.701322044,3.966813504,1.626393496,-161.0129622\n300.963757,15.748,14.986,91.477345366,4.356064186,1.481061808,-146.625116452\n293.198591,14.986,16.764,56.698117744,3.335183322,1.934406342,-191.506230398\n281.309932,14.732,18.034,104.608346536,4.981349956,1.29515108,-128.219944728\n276.340192,14.478,20.32,204.76213556,2.804960862,2.30006779,-227.706714766\n270,14.478,21.59,0,25.4,1.27,-24.13\n257.471192,14.986,23.876,129.485790304,2.755016842,2.341764176,-231.834664854\n164.054604,16.764,23.368,104.668749768,3.488958224,1.84914794,-183.065643266\n158.198591,18.034,22.86,80.18324705,4.716661636,1.36783191,-135.415354264\n146.309932,19.558,21.844,56.357539812,7.04469254,1.831620162,-89.74938235\n140.194429,21.082,20.574,162.6068376,3.252136752,1.9838035,-196.396538372\n125.537678,22.352,18.796,126.965671138,2.952690056,2.18499055,-216.314071054\n116.565051,23.368,16.764,34.077676066,11.35922544,2.271845088,-54.524281604\n105.945396,23.876,14.986,80.246041438,3.488958224,1.84914794,-183.065643266\n97.125016,24.13,12.954,179.577488698,3.150482142,2.047813532,-202.733533318\n90,24.13,11.43,0,25.4,1.524,-23.876\n77.471192,23.622,9.144,129.485790304,2.755016842,2.341764176,-231.834664854\n195.945396,3.556,9.652,80.246041438,3.488958224,1.84914794,-183.065643266\n201.801409,4.826,10.16,56.599939124,4.716661636,1.36783191,-135.415354264\n213.690068,6.35,11.176,35.223462446,7.04469254,1.831620162,-89.74938235\n219.805571,7.874,12.446,35.773504272,3.252136752,1.9838035,-196.396538372\n231.340192,8.89,13.716,126.938033652,3.966813504,1.626393496,-161.0129622\n239.036243,9.652,14.986,56.628832894,4.356064186,1.481061808,-146.625116452\n246.801409,10.414,16.764,136.74251925,3.335183322,1.934406342,-191.506230398\n258.690068,10.668,18.034,24.906749272,4.981349956,1.29515108,-128.219944728\n263.659808,10.922,20.32,25.244646742,2.804960862,2.30006779,-227.706714766\n270,10.922,21.59,0,25.4,1.27,-24.13\n282.528808,10.414,23.876,104.69063898,2.755016842,2.341764176,-231.834664854\n15.945396,8.636,23.368,80.246041438,3.488958224,1.84914794,-183.065643266\n21.801409,7.366,22.86,56.599939124,4.716661636,1.36783191,-135.415354264\n33.690068,5.842,21.844,35.223462446,7.04469254,1.831620162,-89.74938235\n39.805571,4.318,20.574,35.773504272,3.252136752,1.9838035,-196.396538372\n54.462322,3.048,18.796,91.53339072,2.952690056,2.18499055,-216.314071054\n63.434949,2.032,16.764,22.718450626,11.35922544,2.271845088,-54.524281604\n74.054604,1.524,14.986,104.668749768,3.488958224,1.84914794,-183.065643266\n82.874984,1.27,12.954,25.203858152,3.150482142,2.047813532,-202.733533318\n90,1.27,11.43,0,25.4,1.524,-23.876\n102.528808,1.778,9.144,104.69063898,2.755016842,2.341764176,-231.834664854\n128.659808,5.334,3.81,35.701322044,3.966813504,1.626393496,-161.0129622\n146.309932,6.858,2.794,56.357539812,7.04469254,1.831620162,-89.74938235\n153.434949,8.382,2.032,22.718450626,11.35922544,1.703883816,-55.092242876\n164.054604,10.16,1.524,104.668749768,3.488958224,1.84914794,-183.065643266\n171.869898,11.938,1.27,25.144717046,3.592102544,1.796051272,-177.809071102\n180,13.462,1.27,0,25.4,1.524,-23.876\n188.130102,15.24,1.524,154.460405328,3.592102544,1.796051272,-177.809071102\n195.945396,17.018,2.032,80.246041438,3.488958224,1.84914794,-183.065643266\n206.565051,18.542,2.794,34.077676066,11.35922544,1.703883816,-55.092242876\n218.659808,19.812,3.81,35.701322044,3.966813504,1.626393496,-161.0129622\n225,21.082,5.08,17.960512212,17.960512212,1.796051272,-34.124973152\n315,19.812,6.35,17.960512212,17.960512212,1.796051272,-34.124973152\n321.340192,18.542,7.366,126.938033652,3.966813504,1.626393496,-161.0129622\n336.801409,16.764,8.128,136.74251925,3.335183322,1.934406342,-191.506230398\n341.565051,15.24,8.636,24.09655582,8.032185358,1.60643697,-78.715415594\n351.869898,13.462,8.89,25.144717046,3.592102544,1.796051272,-177.809071102\n0,11.938,8.89,0,25.4,1.524,-23.876\n8.130102,10.16,8.636,154.460405328,3.592102544,1.796051272,-177.809071102\n18.434949,8.636,8.128,56.225296744,8.032185358,1.60643697,-78.715415594\n23.198591,6.858,7.366,56.698117744,3.335183322,1.934406342,-191.506230398\n38.659808,5.588,6.35,35.701322044,3.966813504,1.626393496,-161.0129622\n45,4.318,5.08,17.960512212,17.960512212,1.796051272,-34.124973152\n")),k(N.ParsePatFile("\n*LINE,LINE\n0, 0,0, 0,3.175\n")),k(N.ParsePatFile("\n*LOOPLINKS,LOOPLINKS\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n206.565051,13.462,17.018,34.077676066,11.35922544,0.567961272,-56.22816542\n243.434949,13.716,17.526,22.718450626,11.35922544,0.567961272,-56.22816542\n116.565051,11.938,17.018,34.077676066,11.35922544,0.567961272,-56.22816542\n153.434949,12.446,16.764,22.718450626,11.35922544,0.567961272,-56.22816542\n180,12.954,16.764,0,25.4,0.508,-24.892\n258.690068,4.826,14.986,24.906749272,4.981349956,1.29515108,-128.219944728\n251.565051,5.08,15.748,24.09655582,8.032185358,0.803218612,-79.518633952\n243.434949,5.588,16.764,22.718450626,11.35922544,1.135922544,-55.660204148\n230.194429,6.858,18.288,162.6068376,3.252136752,1.9838035,-196.396538372\n225,7.874,19.304,17.960512212,17.960512212,1.436840916,-34.484183508\n209.744881,9.652,20.32,148.072666262,3.150482142,2.047813532,-202.733533318\n194.036243,11.684,20.828,80.085263502,6.160405002,2.094537594,-102.632345154\n251.565051,7.112,15.24,24.09655582,8.032185358,1.60643697,-78.715415594\n239.036243,7.874,16.51,56.628832894,4.356064186,1.481061808,-146.625116452\n225,8.89,17.526,17.960512212,17.960512212,1.436840916,-34.484183508\n210.963757,10.16,18.288,91.477345366,4.356064186,1.481061808,-146.625116452\n198.434949,11.684,18.796,56.225296744,8.032185358,1.60643697,-78.715415594\n116.565051,17.018,11.938,34.077676066,11.35922544,0.567961272,-56.22816542\n153.434949,17.526,11.684,22.718450626,11.35922544,0.567961272,-56.22816542\n26.565051,17.018,13.462,34.077676066,11.35922544,0.567961272,-56.22816542\n63.434949,16.764,12.954,22.718450626,11.35922544,0.567961272,-56.22816542\n90,16.764,12.446,0,25.4,0.508,-24.892\n168.690068,14.986,20.574,24.906749272,4.981349956,1.29515108,-128.219944728\n161.565051,15.748,20.32,24.09655582,8.032185358,0.803218612,-79.518633952\n153.434949,16.764,19.812,22.718450626,11.35922544,1.135922544,-55.660204148\n140.194429,18.288,18.542,162.6068376,3.252136752,1.9838035,-196.396538372\n135,19.304,17.526,17.960512212,17.960512212,1.436840916,-34.484183508\n119.744881,20.32,15.748,148.072666262,3.150482142,2.047813532,-202.733533318\n104.036243,20.828,13.716,80.085263502,6.160405002,2.094537594,-102.632345154\n161.565051,15.24,18.288,24.09655582,8.032185358,1.60643697,-78.715415594\n149.036243,16.51,17.526,56.628832894,4.356064186,1.481061808,-146.625116452\n135,17.526,16.51,17.960512212,17.960512212,1.436840916,-34.484183508\n120.963757,18.288,15.24,91.477345366,4.356064186,1.481061808,-146.625116452\n108.434949,18.796,13.716,56.225296744,8.032185358,1.60643697,-78.715415594\n26.565051,11.938,8.382,34.077676066,11.35922544,0.567961272,-56.22816542\n63.434949,11.684,7.874,22.718450626,11.35922544,0.567961272,-56.22816542\n296.565051,13.462,8.382,34.077676066,11.35922544,0.567961272,-56.22816542\n333.434949,12.954,8.636,22.718450626,11.35922544,0.567961272,-56.22816542\n0,12.446,8.636,0,25.4,0.508,-24.892\n78.690068,20.574,10.414,24.906749272,4.981349956,1.29515108,-128.219944728\n71.565051,20.32,9.652,24.09655582,8.032185358,0.803218612,-79.518633952\n63.434949,19.812,8.636,22.718450626,11.35922544,1.135922544,-55.660204148\n50.194429,18.542,7.112,162.6068376,3.252136752,1.9838035,-196.396538372\n45,17.526,6.096,17.960512212,17.960512212,1.436840916,-34.484183508\n29.744881,15.748,5.08,148.072666262,3.150482142,2.047813532,-202.733533318\n14.036243,13.716,4.572,80.085263502,6.160405002,2.094537594,-102.632345154\n71.565051,18.288,10.16,24.09655582,8.032185358,1.60643697,-78.715415594\n59.036243,17.526,8.89,56.628832894,4.356064186,1.481061808,-146.625116452\n45,16.51,7.874,17.960512212,17.960512212,1.436840916,-34.484183508\n30.963757,15.24,7.112,91.477345366,4.356064186,1.481061808,-146.625116452\n18.434949,13.716,6.604,56.225296744,8.032185358,1.60643697,-78.715415594\n296.565051,8.382,13.462,34.077676066,11.35922544,0.567961272,-56.22816542\n333.434949,7.874,13.716,22.718450626,11.35922544,0.567961272,-56.22816542\n206.565051,8.382,11.938,34.077676066,11.35922544,0.567961272,-56.22816542\n243.434949,8.636,12.446,22.718450626,11.35922544,0.567961272,-56.22816542\n270,8.636,12.954,0,25.4,0.508,-24.892\n348.690068,10.414,4.826,24.906749272,4.981349956,1.29515108,-128.219944728\n341.565051,9.652,5.08,24.09655582,8.032185358,0.803218612,-79.518633952\n333.434949,8.636,5.588,22.718450626,11.35922544,1.135922544,-55.660204148\n320.194429,7.112,6.858,162.6068376,3.252136752,1.9838035,-196.396538372\n315,6.096,7.874,17.960512212,17.960512212,1.436840916,-34.484183508\n299.744881,5.08,9.652,148.072666262,3.150482142,2.047813532,-202.733533318\n284.036243,4.572,11.684,80.085263502,6.160405002,2.094537594,-102.632345154\n341.565051,10.16,7.112,24.09655582,8.032185358,1.60643697,-78.715415594\n329.036243,8.89,7.874,56.628832894,4.356064186,1.481061808,-146.625116452\n315,7.874,8.89,17.960512212,17.960512212,1.436840916,-34.484183508\n300.963757,7.112,10.16,91.477345366,4.356064186,1.481061808,-146.625116452\n288.434949,6.604,11.684,56.225296744,8.032185358,1.60643697,-78.715415594\n90,11.684,-7.874,0,25.4,15.748,-9.652\n270,13.716,7.874,0,25.4,15.748,-9.652\n180,7.874,11.684,0,25.4,15.748,-9.652\n0,-7.874,13.716,0,25.4,15.748,-9.652\n")),k(N.ParsePatFile("\n*MAZE-01\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,24.13,23.368,0,25.4,6.35,-19.05\n90,24.13,13.97,25.4,25.4,9.398,-16.002\n90,21.082,13.97,25.4,25.4,6.35,-19.05\n0,17.78,10.668,0,25.4,2.794,-22.606\n180,14.478,20.32,0,25.4,9.652,-15.748\n270,14.478,23.368,25.4,25.4,3.048,-22.352\n0,1.778,23.368,0,25.4,12.7,-12.7\n90,24.13,7.366,25.4,25.4,3.302,-22.098\n180,11.43,1.27,0,25.4,9.652,-15.748\n0,17.78,7.366,0,25.4,6.35,-19.05\n270,11.43,4.318,25.4,25.4,3.048,-22.352\n0,4.826,4.318,0,25.4,6.604,-18.796\n90,17.78,4.318,25.4,25.4,3.048,-22.352\n270,4.826,20.32,25.4,25.4,16.002,-9.398\n0,7.874,7.366,0,25.4,6.604,-18.796\n270,7.874,17.272,25.4,25.4,9.906,-15.494\n180,17.78,17.272,0,25.4,9.906,-15.494\n270,17.78,23.368,25.4,25.4,6.096,-19.304\n180,24.13,4.318,0,25.4,6.35,-19.05\n90,24.13,1.27,25.4,25.4,3.048,-22.352\n0,14.478,1.27,0,25.4,9.652,-15.748\n270,14.478,10.668,25.4,25.4,9.398,-16.002\n270,17.78,13.97,25.4,25.4,3.302,-22.098\n0,11.43,13.97,0,25.4,6.35,-19.05\n90,11.43,10.668,25.4,25.4,3.302,-22.098\n90,1.778,1.27,25.4,25.4,22.098,-3.302\n")),k(N.ParsePatFile("\n*MAZE-02\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,22.859999746,2.54,25.4,25.4,2.54,-22.86\n0,17.779999746,2.54,0,25.4,5.08,-20.32\n90,0,7.62,25.4,25.4,12.7,-12.7\n270,22.859999746,22.86,25.4,25.4,12.7,-12.7\n270,7.619999746,22.86,25.4,25.4,2.54,-22.86\n180,7.619999746,22.86,0,25.4,10.16,-15.24\n0,5.079999746,5.08,0,25.4,3.81,-21.59\n90,5.079999746,7.62,25.4,25.4,5.08,-20.32\n180,12.699999746,7.62,0,25.4,7.62,-17.78\n90,12.699999746,2.54,25.4,25.4,5.08,-20.32\n270,17.779999746,5.08,25.4,25.4,2.54,-22.86\n0,15.239999746,5.08,0,25.4,2.54,-22.86\n270,15.239999746,7.62,25.4,25.4,2.54,-22.86\n180,17.779999746,7.62,0,25.4,2.54,-22.86\n270,15.239999746,15.24,25.4,25.4,2.54,-22.86\n0,7.619999746,15.24,0,25.4,7.62,-17.78\n90,7.619999746,10.16,25.4,25.4,5.08,-20.32\n180,17.779999746,10.16,0,25.4,10.16,-15.24\n180,15.239999746,12.7,0,25.4,5.08,-20.32\n270,20.319999746,20.32,25.4,25.4,12.7,-12.7\n0,2.539999746,2.54,0,25.4,10.16,-15.24\n0,2.539999746,20.32,0,25.4,17.78,-7.62\n270,2.539999746,5.08,25.4,25.4,2.54,-22.86\n90,2.539999746,7.62,25.4,25.4,12.7,-12.7\n180,2.539999746,5.08,0,25.4,7.62,-17.78\n180,0,7.62,0,25.4,5.080000254,-20.319999746\n180,7.619999746,0,0,25.4,7.62,-17.78\n270,17.779999746,17.78,25.4,25.4,5.08,-20.32\n0,10.159999746,0,0,25.4,10.16,-15.24\n0,5.079999746,17.78,0,25.4,12.7,-12.7\n90,5.079999746,15.24,25.4,25.4,2.54,-22.86\n270,15.239999746,2.54,25.4,25.4,2.54,-22.86\n0,10.159999746,22.86,0,25.4,10.16,-15.24\n270,10.159999746,25.4,25.4,25.4,2.54,-22.86\n")),k(N.ParsePatFile("\n*MUDST,MUDST\n0, 0,0, 12.7,6.35, 6.35,-6.35,0,-6.35,0,-6.35\n")),k(N.ParsePatFile("\n*NET,NET\n0, 0,0, 0,3.175\n90, 0,0, 0,3.175\n")),k(N.ParsePatFile("\n*NET3,NET3\n0, 0,0, 0,3.175\n60, 0,0, 0,3.175\n120, 0,0, 0,3.175\n")),k(N.ParsePatFile("\n*PLAST,PLAST\n0, 0,0, 0,6.35\n0, 0,.79375, 0,6.35\n0, 0,1.5875, 0,6.35\n")),k(N.ParsePatFile("\n*PLASTI,PLASTI\n0, 0,0, 0,6.35\n0, 0,.79375, 0,6.35\n0, 0,1.5875, 0,6.35\n0, 0,3.96875, 0,6.35\n")),k(N.ParsePatFile("\n*QCAD-LOGO\n;By John Hyslop,    Line 101 modified by CVH to fix left side of pencil drift when hatching far from Origin\n;Developed in mm as metric QCAD3 pattern\n243.434949,20.32,9.144,22.718450626,11.35922544,0.567961272,-56.22816542\n248.198591,20.828,10.414,80.18324705,4.716661636,1.36783191,-135.415354264\n263.659808,21.082,12.7,25.244646742,2.804960862,2.30006779,-227.706714766\n276.340192,20.828,14.986,204.76213556,2.804960862,2.30006779,-227.706714766\n290.556045,20.066,17.018,136.750876358,2.97284521,2.170177016,-214.847518234\n310.601295,18.542,18.796,35.815218692,2.755016842,2.341764176,-231.834664854\n324.462322,16.764,20.066,91.53339072,2.952690056,2.18499055,-216.314071054\n336.801409,14.986,20.828,136.74251925,3.335183322,1.934406342,-191.506230398\n351.869898,13.208,21.082,25.144717046,3.592102544,1.796051272,-177.809071102\n26.565051,15.494,4.572,34.077676066,11.35922544,1.703883816,-55.092242876\n7.125016,13.462,4.318,179.577488698,3.150482142,2.047813532,-202.733533318\n0,11.43,4.318,0,25.4,2.032,-23.368\n344.054604,9.652,4.826,104.668749768,3.488958224,1.84914794,-183.065643266\n336.801409,7.874,5.588,136.74251925,3.335183322,1.934406342,-191.506230398\n320.194429,6.35,6.858,162.6068376,3.252136752,1.9838035,-196.396538372\n308.659808,5.334,8.128,35.701322044,3.966813504,1.626393496,-161.0129622\n293.198591,4.572,9.906,56.698117744,3.335183322,1.934406342,-191.506230398\n285.945396,4.064,11.684,80.246041438,3.488958224,1.84914794,-183.065643266\n270,4.064,13.208,0,25.4,1.524,-23.876\n261.869898,4.318,14.986,25.144717046,3.592102544,1.796051272,-177.809071102\n246.801409,5.08,16.764,136.74251925,3.335183322,1.934406342,-191.506230398\n234.462322,6.35,18.542,91.53339072,2.952690056,2.18499055,-216.314071054\n219.805571,7.874,19.812,35.773504272,3.252136752,1.9838035,-196.396538372\n206.565051,9.398,20.574,34.077676066,11.35922544,1.703883816,-55.092242876\n195.945396,11.176,21.082,80.246041438,3.488958224,1.84914794,-183.065643266\n180,12.192,21.082,0,25.4,1.016,-24.384\n180,13.208,21.082,0,25.4,1.016,-24.384\n233.130102,23.368,6.858,91.44,5.08,1.27,-125.73\n248.198591,23.876,8.128,80.18324705,4.716661636,1.36783191,-135.415354264\n248.198591,24.384,9.398,80.18324705,4.716661636,1.36783191,-135.415354264\n260.537678,24.638,10.922,25.054405568,4.175734346,1.545021802,-152.95714646\n261.869898,24.892,12.7,25.144717046,3.592102544,1.796051272,-177.809071102\n278.130102,24.638,14.478,154.460405328,3.592102544,1.796051272,-177.809071102\n279.462322,24.384,16.002,129.447762694,4.175734346,1.545021802,-152.95714646\n288.434949,23.876,17.526,56.225296744,8.032185358,1.60643697,-78.715415594\n299.744881,22.86,19.304,148.072666262,3.150482142,2.047813532,-202.733533318\n308.659808,21.844,20.574,35.701322044,3.966813504,1.626393496,-161.0129622\n315,20.574,21.844,17.960512212,17.960512212,1.796051272,-34.124973152\n321.340192,19.304,22.86,126.938033652,3.966813504,1.626393496,-161.0129622\n329.036243,18.034,23.622,56.628832894,4.356064186,1.481061808,-146.625116452\n338.198591,16.764,24.13,80.18324705,4.716661636,1.36783191,-135.415354264\n338.198591,15.494,24.638,80.18324705,4.716661636,1.36783191,-135.415354264\n350.537678,13.97,24.892,25.054405568,4.175734346,1.545021802,-152.95714646\n0,12.7,24.892,0,25.4,1.27,-24.13\n0,11.43,24.892,0,25.4,1.27,-24.13\n11.309932,10.16,24.638,104.608346536,4.981349956,1.29515108,-128.219944728\n14.036243,9.144,24.384,80.085263502,6.160405002,1.047268924,-103.679614078\n21.801409,7.874,23.876,56.599939124,4.716661636,1.36783191,-135.415354264\n21.801409,6.604,23.368,56.599939124,4.716661636,1.36783191,-135.415354264\n36.869898,5.588,22.606,35.56,5.08,1.27,-125.73\n36.869898,4.572,21.844,35.56,5.08,1.27,-125.73\n33.690068,19.05,2.286,35.223462446,7.04469254,0.915809954,-90.665192304\n26.565051,17.526,1.524,34.077676066,11.35922544,1.703883816,-55.092242876\n21.801409,16.256,1.016,56.599939124,4.716661636,1.36783191,-135.415354264\n11.309932,14.986,0.762,104.608346536,4.981349956,1.29515108,-128.219944728\n8.130102,13.208,0.508,154.460405328,3.592102544,1.796051272,-177.809071102\n0,11.684,0.508,0,25.4,1.524,-23.876\n350.537678,10.16,0.762,25.054405568,4.175734346,1.545021802,-152.95714646\n348.690068,8.89,1.016,24.906749272,4.981349956,1.29515108,-128.219944728\n338.198591,7.62,1.524,80.18324705,4.716661636,1.36783191,-135.415354264\n333.434949,6.604,2.032,22.718450626,11.35922544,1.135922544,-55.660204148\n323.130102,5.588,2.794,91.44,5.08,1.27,-125.73\n323.130102,4.572,3.556,91.44,5.08,1.27,-125.73\n315,3.556,4.572,17.960512212,17.960512212,1.436840916,-34.484183508\n306.869898,2.794,5.588,35.56,5.08,1.27,-125.73\n306.869898,2.032,6.604,35.56,5.08,1.27,-125.73\n296.565051,1.524,7.62,34.077676066,11.35922544,1.135922544,-55.660204148\n291.801409,1.016,8.89,56.599939124,4.716661636,1.36783191,-135.415354264\n281.309932,0.762,10.16,104.608346536,4.981349956,1.29515108,-128.219944728\n281.309932,0.508,11.43,104.608346536,4.981349956,1.29515108,-128.219944728\n270,0.508,12.7,0,25.4,1.27,-24.13\n270,0.508,13.97,0,25.4,1.27,-24.13\n258.690068,0.762,15.24,24.906749272,4.981349956,1.29515108,-128.219944728\n258.690068,1.016,16.51,24.906749272,4.981349956,1.29515108,-128.219944728\n248.198591,1.524,17.78,80.18324705,4.716661636,1.36783191,-135.415354264\n243.434949,2.032,18.796,22.718450626,11.35922544,1.135922544,-55.660204148\n233.130102,2.794,19.812,91.44,5.08,1.27,-125.73\n233.130102,3.556,20.828,91.44,5.08,1.27,-125.73\n225,4.572,21.844,17.960512212,17.960512212,1.436840916,-34.484183508\n0,8.89,5.334,0,25.4,7.366,-18.034\n180,14.224,9.906,0,25.4,1.016,-24.384\n270,14.224,11.176,0,25.4,1.27,-24.13\n180,15.748,11.176,0,25.4,1.524,-23.876\n270,15.748,12.192,0,25.4,1.016,-24.384\n270,24.892,2.794,0,25.4,0.254,-25.146\n270,24.892,3.302,0,25.4,0.508,-24.892\n45,20.828,2.032,17.960512212,17.960512212,3.592102544,-32.328922134\n225,22.86,5.08,17.960512212,17.960512212,3.592102544,-32.328922134\n45,20.066,2.794,17.960512212,17.960512212,3.592102544,-32.328922134\n0,13.8209782,14.218285,0,25.4,0,-25.4\n0,14.9935692,16.1227008,0,25.4,0,-25.4\n0,16.2642042,18.3038496,0,25.4,0,-25.4\n135,24.892,3.302,17.960512212,17.960512212,12.57235865,-23.348666028\n56.309932,24.384,1.778,56.357539812,7.04469254,0.915809954,-90.665192304\n45,23.876,1.27,17.960512212,17.960512212,0.718420458,-35.202603966\n33.690068,23.114,0.762,35.223462446,7.04469254,0.915809954,-90.665192304\n18.434949,22.352,0.508,56.225296744,8.032185358,0.803218612,-79.518633952\n135.806929,22.352,0.508,-35.917462074,0.505879862,12.753228494,-1262.569616842\n289.983107,12.192,12.192,217.006845132,2.170068558,2.9729938,-294.326383914\n338.198591,13.462,13.208,80.18324705,4.716661636,2.73566382,-134.047522354\n105.945396,12.192,12.192,80.246041438,3.488958224,1.84914794,-183.065643266\n218.659808,13.462,13.208,35.701322044,3.966813504,1.626393496,-161.0129622\n336.801409,11.684,13.97,136.74251925,3.335183322,1.934406342,-191.506230398\n56.309932,16.764,19.177,56.357539812,7.04469254,0.457905104,-91.123097408\n239.036243,12.065,11.049,56.628832894,4.356064186,0.740530904,-147.365647356\n236.309932,14.478,15.24,56.357539812,7.04469254,0.457905104,-91.123097408\n236.309932,15.748,17.272,56.357539812,7.04469254,0.457905104,-91.123097408\n0,11.684,10.414,0,25.4,0,-25.4\n0,12.446,8.636,0,25.4,0.508,-24.892\n0,13.716,8.636,0,25.4,0,-25.4\n0,11.43,8.636,0,25.4,0,-25.4\n0,9.144,8.636,0,25.4,0,-25.4\n0,6.858,8.636,0,25.4,0,-25.4\n180,6.096,8.636,0,25.4,0.762,-24.638\n180,8.382,8.636,0,25.4,0.762,-24.638\n180,10.668,8.636,0,25.4,0.762,-24.638\n239.036243,11.43,9.906,56.628832894,4.356064186,1.481061808,-146.625116452\n0,11.176,11.176,0,25.4,1.27,-24.13\n341.565051,10.414,11.43,24.09655582,8.032185358,0.803218612,-79.518633952\n315,9.906,11.938,17.960512212,17.960512212,0.718420458,-35.202603966\n296.565051,9.652,12.446,34.077676066,11.35922544,0.567961272,-56.22816542\n180,9.652,12.446,0,25.4,5.334,-20.066\n240.068488,14.478,20.828,204.780260492,0.667036766,9.672031964,-957.531152498\n0,16.002,12.446,0,25.4,4.572,-20.828\n240.255119,19.05,17.78,56.708680588,3.150482142,6.143440342,-198.637906508\n")),k(N.ParsePatFile("\n*REDBACK,REDBACK\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n63.434949,18.542,19.812,22.71845063,11.35922544,0.567961272,-56.22816542\n33.690068,17.78,19.304,35.22346245,7.04469254,0.915809954,-90.6651923\n75.963757,17.526,18.288,24.6416195,6.160405002,1.047268924,-103.6796141\n0,16.764,18.288,0,25.4,0.762,-24.638\n108.434949,17.018,17.526,56.22529674,8.032185358,0.803218612,-79.51863395\n90,17.018,17.272,0,25.4,0.254,-25.146\n0,13.716,14.478,0,25.4,0.254,-25.146\n270,13.716,14.732,0,25.4,0.254,-25.146\n225,13.97,14.986,17.96051221,17.96051221,0.359210356,-35.56181432\n180,14.224,14.986,0,25.4,0.254,-25.146\n315,13.97,15.24,17.96051221,17.96051221,0.359210356,-35.56181432\n15.524111,9.398,13.97,184.9097925,1.359630758,4.745111668,-469.7660475\n0,8.89,13.97,0,25.4,0.508,-24.892\n45,8.636,13.716,17.96051221,17.96051221,0.359210356,-35.56181432\n0,7.874,13.716,0,25.4,0.762,-24.638\n26.565051,4.826,12.192,34.07767607,11.35922544,3.407767632,-53.38835906\n0,4.572,12.192,0,25.4,0.254,-25.146\n33.690068,3.81,11.684,35.22346245,7.04469254,0.915809954,-90.6651923\n32.005383,1.778,10.414,91.54141687,2.692394666,2.396231174,-237.2268895\n45,1.524,10.16,17.96051221,17.96051221,0.359210356,-35.56181432\n270,1.524,10.414,0,25.4,0.254,-25.146\n225,1.778,10.668,17.96051221,17.96051221,0.359210356,-35.56181432\n213.690068,4.064,12.192,35.22346245,7.04469254,2.747430116,-88.8335724\n243.434949,4.318,12.7,22.71845063,11.35922544,0.567961272,-56.22816542\n205.016893,8.128,14.478,56.77539445,1.534470134,4.20444803,-416.2403639\n189.462322,9.652,14.732,129.4477627,4.175734346,1.545021802,-152.9571465\n194.036243,10.668,14.986,80.0852635,6.160405002,1.047268924,-103.6796141\n194.036243,12.7,15.494,80.0852635,6.160405002,2.094537594,-102.6323452\n198.434949,14.224,16.002,56.22529674,8.032185358,1.60643697,-78.71541559\n6.340192,11.938,15.748,204.7621356,2.804960862,2.30006779,-227.7067148\n315,11.684,16.002,17.96051221,17.96051221,0.359210356,-35.56181432\n45,11.43,15.748,17.96051221,17.96051221,0.359210356,-35.56181432\n23.198591,9.652,14.986,56.69811774,3.335183322,1.934406342,-191.5062304\n0,8.89,14.986,0,25.4,0.762,-24.638\n45,8.128,14.224,17.96051221,17.96051221,1.077630814,-34.84339386\n236.309932,8.636,14.986,56.35753981,7.04469254,0.915809954,-90.6651923\n206.565051,9.144,15.24,34.07767607,11.35922544,0.567961272,-56.22816542\n206.565051,10.668,16.002,34.07767607,11.35922544,1.703883816,-55.09224288\n206.565051,11.176,16.256,34.07767607,11.35922544,0.567961272,-56.22816542\n206.565051,11.684,16.51,34.07767607,11.35922544,0.567961272,-56.22816542\n180,14.478,16.51,0,25.4,2.794,-22.606\n225,14.732,16.764,17.96051221,17.96051221,0.359210356,-35.56181432\n321.340192,13.462,17.78,126.9380337,3.966813504,1.626393496,-161.0129622\n296.565051,13.208,18.288,34.07767607,11.35922544,0.567961272,-56.22816542\n285.945396,12.7,20.066,80.24604144,3.488958224,1.84914794,-183.0656433\n254.054604,13.208,21.844,104.6687498,3.488958224,1.84914794,-183.0656433\n135,13.462,21.59,17.96051221,17.96051221,0.359210356,-35.56181432\n90,13.462,20.828,0,25.4,0.762,-24.638\n71.565051,13.208,20.066,24.09655582,8.032185358,0.803218612,-79.51863395\n105.945396,13.716,18.288,80.24604144,3.488958224,1.84914794,-183.0656433\n135,14.732,17.272,17.96051221,17.96051221,1.436840916,-34.48418351\n180,14.986,17.272,0,25.4,0.254,-25.146\n270,14.986,17.526,0,25.4,0.254,-25.146\n270,14.986,18.034,0,25.4,0.508,-24.892\n296.565051,14.732,18.542,34.07767607,11.35922544,0.567961272,-56.22816542\n278.130102,14.478,20.32,154.4604053,3.592102544,1.796051272,-177.8090711\n251.565051,14.732,21.082,24.09655582,8.032185358,0.803218612,-79.51863395\n225,14.986,21.336,17.96051221,17.96051221,0.359210356,-35.56181432\n225,15.24,21.59,17.96051221,17.96051221,0.359210356,-35.56181432\n243.434949,15.494,22.098,22.71845063,11.35922544,0.567961272,-56.22816542\n243.434949,16.002,23.114,22.71845063,11.35922544,1.135922544,-55.66020415\n243.434949,16.51,24.13,22.71845063,11.35922544,1.135922544,-55.66020415\n225,16.764,24.384,17.96051221,17.96051221,0.359210356,-35.56181432\n168.690068,20.574,23.622,24.90674927,4.981349956,3.885452986,-125.6296428\n355.601295,17.272,23.876,25.32518405,1.9480911,3.31175487,-327.8637273\n56.309932,16.764,23.114,56.35753981,7.04469254,0.915809954,-90.6651923\n56.309932,16.256,22.352,56.35753981,7.04469254,0.915809954,-90.6651923\n63.434949,16.002,21.844,22.71845063,11.35922544,0.567961272,-56.22816542\n56.309932,15.494,21.082,56.35753981,7.04469254,0.915809954,-90.6651923\n71.565051,15.24,20.32,24.09655582,8.032185358,0.803218612,-79.51863395\n90,15.24,20.066,0,25.4,0.254,-25.146\n90,15.24,19.558,0,25.4,0.508,-24.892\n90,15.24,18.796,0,25.4,0.762,-24.638\n225,15.494,19.05,17.96051221,17.96051221,0.359210356,-35.56181432\n243.434949,15.748,19.558,22.71845063,11.35922544,0.567961272,-56.22816542\n225,16.002,19.812,17.96051221,17.96051221,0.359210356,-35.56181432\n206.565051,16.51,20.066,34.07767607,11.35922544,0.567961272,-56.22816542\n206.565051,17.018,20.32,34.07767607,11.35922544,0.567961272,-56.22816542\n180,17.526,20.32,0,25.4,0.508,-24.892\n180,18.034,20.32,0,25.4,0.508,-24.892\n180,18.796,20.32,0,25.4,0.762,-24.638\n153.434949,19.304,20.066,22.71845063,11.35922544,0.567961272,-56.22816542\n135,19.558,19.812,17.96051221,17.96051221,0.359210356,-35.56181432\n135,14.224,14.224,17.96051221,17.96051221,0.359210356,-35.56181432\n26.565051,19.558,18.796,34.07767607,11.35922544,0.567961272,-56.22816542\n56.309932,19.05,18.034,56.35753981,7.04469254,0.915809954,-90.6651923\n14.036243,18.034,17.78,80.0852635,6.160405002,1.047268924,-103.6796141\n90,18.034,17.018,0,25.4,0.762,-24.638\n341.565051,17.272,17.272,24.09655582,8.032185358,0.803218612,-79.51863395\n0,17.018,17.272,0,25.4,0.254,-25.146\n90,14.224,13.97,0,25.4,0.254,-25.146\n180,14.478,13.97,0,25.4,0.254,-25.146\n225,14.732,14.224,17.96051221,17.96051221,0.359210356,-35.56181432\n270,14.732,14.478,0,25.4,0.254,-25.146\n135,14.986,14.224,17.96051221,17.96051221,0.359210356,-35.56181432\n74.475889,13.716,9.652,289.6013664,1.359630758,4.745111668,-469.7660475\n90,13.716,9.144,0,25.4,0.508,-24.892\n45,13.462,8.89,17.96051221,17.96051221,0.359210356,-35.56181432\n90,13.462,8.128,0,25.4,0.762,-24.638\n63.434949,11.938,5.08,22.71845063,11.35922544,3.407767632,-53.38835906\n90,11.938,4.826,0,25.4,0.254,-25.146\n56.309932,11.43,4.064,56.35753981,7.04469254,0.915809954,-90.6651923\n57.994617,10.16,2.032,148.0817038,2.692394666,2.396231174,-237.2268895\n45,9.906,1.778,17.96051221,17.96051221,0.359210356,-35.56181432\n180,10.16,1.778,0,25.4,0.254,-25.146\n225,10.414,2.032,17.96051221,17.96051221,0.359210356,-35.56181432\n236.309932,11.938,4.318,56.35753981,7.04469254,2.747430116,-88.8335724\n206.565051,12.446,4.572,34.07767607,11.35922544,0.567961272,-56.22816542\n244.983107,14.224,8.382,363.6694177,1.534470134,4.20444803,-416.2403639\n260.537678,14.478,9.906,25.05440557,4.175734346,1.545021802,-152.9571465\n255.963757,14.732,10.922,24.6416195,6.160405002,1.047268924,-103.6796141\n255.963757,15.24,12.954,24.6416195,6.160405002,2.094537594,-102.6323452\n251.565051,15.748,14.478,24.09655582,8.032185358,1.60643697,-78.71541559\n83.659808,15.494,12.192,25.24464674,2.804960862,2.30006779,-227.7067148\n135,15.748,11.938,17.96051221,17.96051221,0.359210356,-35.56181432\n45,15.494,11.684,17.96051221,17.96051221,0.359210356,-35.56181432\n66.801409,14.732,9.906,136.7425193,3.335183322,1.934406342,-191.5062304\n90,14.732,9.144,0,25.4,0.762,-24.638\n45,13.97,8.382,17.96051221,17.96051221,1.077630814,-34.84339386\n213.690068,14.732,8.89,35.22346245,7.04469254,0.915809954,-90.6651923\n243.434949,14.986,9.398,22.71845063,11.35922544,0.567961272,-56.22816542\n243.434949,15.748,10.922,22.71845063,11.35922544,1.703883816,-55.09224288\n243.434949,16.002,11.43,22.71845063,11.35922544,0.567961272,-56.22816542\n243.434949,16.256,11.938,22.71845063,11.35922544,0.567961272,-56.22816542\n270,16.256,14.732,0,25.4,2.794,-22.606\n225,16.51,14.986,17.96051221,17.96051221,0.359210356,-35.56181432\n128.659808,17.526,13.716,35.70132204,3.966813504,1.626393496,-161.0129622\n153.434949,18.034,13.462,22.71845063,11.35922544,0.567961272,-56.22816542\n164.054604,19.812,12.954,104.6687498,3.488958224,1.84914794,-183.0656433\n195.945396,21.59,13.462,80.24604144,3.488958224,1.84914794,-183.0656433\n315,21.336,13.716,17.96051221,17.96051221,0.359210356,-35.56181432\n0,20.574,13.716,0,25.4,0.762,-24.638\n18.434949,19.812,13.462,56.22529674,8.032185358,0.803218612,-79.51863395\n344.054604,18.034,13.97,104.6687498,3.488958224,1.84914794,-183.0656433\n315,17.018,14.986,17.96051221,17.96051221,1.436840916,-34.48418351\n270,17.018,15.24,0,25.4,0.254,-25.146\n180,17.272,15.24,0,25.4,0.254,-25.146\n180,17.78,15.24,0,25.4,0.508,-24.892\n153.434949,18.288,14.986,22.71845063,11.35922544,0.567961272,-56.22816542\n171.869898,20.066,14.732,25.14471705,3.592102544,1.796051272,-177.8090711\n198.434949,20.828,14.986,56.22529674,8.032185358,0.803218612,-79.51863395\n225,21.082,15.24,17.96051221,17.96051221,0.359210356,-35.56181432\n225,21.336,15.494,17.96051221,17.96051221,0.359210356,-35.56181432\n206.565051,21.844,15.748,34.07767607,11.35922544,0.567961272,-56.22816542\n206.565051,22.86,16.256,34.07767607,11.35922544,1.135922544,-55.66020415\n206.565051,23.876,16.764,34.07767607,11.35922544,1.135922544,-55.66020415\n225,24.13,17.018,17.96051221,17.96051221,0.359210356,-35.56181432\n281.309932,23.368,20.828,104.6083465,4.981349956,3.885452986,-125.6296428\n94.398705,23.622,17.526,305.8502981,1.9480911,3.31175487,-327.8637273\n33.690068,22.86,17.018,35.22346245,7.04469254,0.915809954,-90.6651923\n33.690068,22.098,16.51,35.22346245,7.04469254,0.915809954,-90.6651923\n26.565051,21.59,16.256,34.07767607,11.35922544,0.567961272,-56.22816542\n33.690068,20.828,15.748,35.22346245,7.04469254,0.915809954,-90.6651923\n18.434949,20.066,15.494,56.22529674,8.032185358,0.803218612,-79.51863395\n0,19.812,15.494,0,25.4,0.254,-25.146\n0,19.304,15.494,0,25.4,0.508,-24.892\n0,18.542,15.494,0,25.4,0.762,-24.638\n225,18.796,15.748,17.96051221,17.96051221,0.359210356,-35.56181432\n206.565051,19.304,16.002,34.07767607,11.35922544,0.567961272,-56.22816542\n225,19.558,16.256,17.96051221,17.96051221,0.359210356,-35.56181432\n243.434949,19.812,16.764,22.71845063,11.35922544,0.567961272,-56.22816542\n243.434949,20.066,17.272,22.71845063,11.35922544,0.567961272,-56.22816542\n270,20.066,17.78,0,25.4,0.508,-24.892\n270,20.066,18.288,0,25.4,0.508,-24.892\n270,20.066,19.05,0,25.4,0.762,-24.638\n296.565051,19.812,19.558,34.07767607,11.35922544,0.567961272,-56.22816542\n315,19.558,19.812,17.96051221,17.96051221,0.359210356,-35.56181432\n")),k(N.ParsePatFile("\n*SACNCR,SACNCR\n45, 0,0, 0,2.38125\n45, 1.6838,0, 0,2.38125, 0,-2.38125\n")),k(N.ParsePatFile("\n*SCAFFOLD\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,19.304,21.336,25.4,25.4,0.508,-24.892\n326.3099325,6.604,4.064,56.357539812,7.04469254,14.652960026,-76.928042486\n90,6.096,12.446,25.4,25.4,0.508,-24.892\n270,6.35,4.064,25.4,25.4,8.128,-17.272\n146.3099325,6.096,21.336,56.357539812,7.04469254,14.65296028,-76.928041978\n180,19.304,12.446,0,25.4,0.508,-24.892\n270,18.796,4.572,25.4,25.4,0.508,-24.892\n0,18.796,21.336,0,25.4,0.508,-24.892\n90,6.35,12.954,25.4,25.4,7.874,-17.526\n270,19.304,12.954,25.4,25.4,0.508,-24.892\n0,6.604,4.318,0,25.4,12.192,-13.208\n0,6.096,12.954,0,25.4,0.508,-24.892\n180,19.304,4.572,0,25.4,0.508,-24.892\n90,18.796,20.828,25.4,25.4,0.508,-24.892\n212.855722,6.096,12.446,514.310608918,0.444520828,14.513605212,-1436.846928942\n147.144278,6.096,4.572,937.049925236,0.444520828,14.513605212,-1436.846928942\n213.6900675,6.096,4.064,35.223462446,7.04469254,14.652959772,-76.928042486\n180,6.096,4.318,0,25.4,12.192,-13.208\n0,6.604,21.082,0,25.4,12.192,-13.208\n90,6.604,4.064,25.4,25.4,0.508,-24.892\n180,19.304,20.828,0,25.4,0.508,-24.892\n90,18.796,12.446,25.4,25.4,0.508,-24.892\n147.144278,18.796,4.572,937.049925236,0.444520828,14.513605466,-1436.846928688\n0,6.096,4.064,0,25.4,0.508,-24.892\n0,6.604,12.7,0,25.4,12.192,-13.208\n270,6.604,21.336,25.4,25.4,0.508,-24.892\n90,19.05,4.572,25.4,25.4,7.874,-17.526\n212.855722,18.796,20.828,514.310608918,0.444520828,14.513605466,-1436.846928688\n180,6.604,12.446,0,25.4,0.508,-24.892\n270,6.096,4.572,25.4,25.4,0.508,-24.892\n0,6.096,21.336,0,25.4,0.508,-24.892\n270,6.604,12.954,25.4,25.4,0.508,-24.892\n270,19.05,20.828,25.4,25.4,7.874,-17.526\n32.855722,6.604,4.572,514.310608918,0.444520828,14.513605466,-1436.846928688\n180,6.604,4.572,0,25.4,0.508,-24.892\n0,18.796,12.954,0,25.4,0.508,-24.892\n90,19.304,4.064,25.4,25.4,0.508,-24.892\n90,6.096,20.828,25.4,25.4,0.508,-24.892\n180,6.096,21.082,0,25.4,12.192,-13.208\n147.144278,6.096,12.954,937.049925236,0.444520828,14.513605212,-1436.846928942\n180,6.096,12.7,0,25.4,12.192,-13.208\n270,6.35,12.446,25.4,25.4,7.874,-17.526\n212.855722,6.096,20.828,514.310608918,0.444520828,14.513605466,-1436.846928688\n0,18.796,4.064,0,25.4,0.508,-24.892\n270,19.05,4.064,25.4,25.4,8.128,-17.272\n180,6.604,20.828,0,25.4,0.508,-24.892\n213.6900675,18.796,4.064,35.223462446,7.04469254,14.652960026,-76.928042486\n327.144278,6.604,20.828,937.049925236,0.444520828,14.513605466,-1436.846928688\n")),k(N.ParsePatFile("\n*SQUARE,SQUARE\n0, 0,0, 0,3.175, 3.175,-3.175\n90, 0,0, 0,3.175, 3.175,-3.175\n")),k(N.ParsePatFile("\n*SQUIGGLE-01,SQUIGGLE-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n45,2.794,-9.906,17.960512212,17.960512212,28.377609234,-7.54341519\n56.309932,1.778,13.97,56.357539812,7.04469254,1.831620162,-89.74938235\n81.869898,1.524,12.192,25.144717046,3.592102544,1.796051272,-177.809071102\n99.462322,1.778,10.668,129.447762694,4.175734346,1.545021802,-152.95714646\n123.690068,2.794,9.144,35.223462446,7.04469254,1.831620162,-89.74938235\n146.309932,4.318,8.128,56.357539812,7.04469254,1.831620162,-89.74938235\n170.537678,5.842,7.874,25.054405568,4.175734346,1.545021802,-152.95714646\n188.130102,7.62,8.128,154.460405328,3.592102544,1.796051272,-177.809071102\n213.690068,9.144,9.144,35.223462446,7.04469254,1.831620162,-89.74938235\n225,16.51,16.51,17.960512212,17.960512212,10.417097022,-25.503927402\n213.690068,18.034,17.526,35.223462446,7.04469254,1.831620162,-89.74938235\n189.462322,19.558,17.78,129.447762694,4.175734346,1.545021802,-152.95714646\n171.869898,21.336,17.526,25.144717046,3.592102544,1.796051272,-177.809071102\n146.309932,22.86,16.51,56.357539812,7.04469254,1.831620162,-89.74938235\n123.690068,23.876,14.986,35.223462446,7.04469254,1.831620162,-89.74938235\n99.462322,24.13,13.462,129.447762694,4.175734346,1.545021802,-152.95714646\n81.869898,23.876,11.684,25.144717046,3.592102544,1.796051272,-177.809071102\n56.309932,22.86,10.16,56.357539812,7.04469254,1.831620162,-89.74938235\n")),k(N.ParsePatFile("\n*SQUIGGLE-02,SQUIGGLE-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n75.963757,25.146,4.064,24.6416195,6.160405002,1.047268924,-103.679614078\n63.434949,24.638,3.048,22.718450626,11.35922544,1.135922544,-55.660204148\n45,23.876,2.286,17.960512212,17.960512212,1.077630814,-34.843393864\n14.036243,22.86,2.032,80.085263502,6.160405002,1.047268924,-103.679614078\n0,21.59,2.032,0,25.4,1.27,-24.13\n345.963757,20.574,2.286,24.6416195,6.160405002,1.047268924,-103.679614078\n315,19.812,3.048,17.960512212,17.960512212,1.077630814,-34.843393864\n296.565051,19.304,4.064,34.077676066,11.35922544,1.135922544,-55.660204148\n284.036243,19.05,5.08,80.085263502,6.160405002,1.047268924,-103.679614078\n281.309932,18.796,21.59,104.608346536,4.981349956,1.29515108,-128.219944728\n303.690068,18.288,22.352,35.223462446,7.04469254,0.915809954,-90.665192304\n315,17.526,23.114,17.960512212,17.960512212,1.077630814,-34.843393864\n345.963757,16.51,23.368,24.6416195,6.160405002,1.047268924,-103.679614078\n0,15.24,23.368,0,25.4,1.27,-24.13\n14.036243,14.224,23.114,80.085263502,6.160405002,1.047268924,-103.679614078\n45,13.462,22.352,17.960512212,17.960512212,1.077630814,-34.843393864\n56.309932,12.954,21.59,56.357539812,7.04469254,0.915809954,-90.665192304\n78.690068,12.7,20.32,24.906749272,4.981349956,1.29515108,-128.219944728\n75.963757,12.446,4.064,24.6416195,6.160405002,1.047268924,-103.679614078\n63.434949,11.938,3.048,22.718450626,11.35922544,1.135922544,-55.660204148\n45,11.176,2.286,17.960512212,17.960512212,1.077630814,-34.843393864\n14.036243,10.16,2.032,80.085263502,6.160405002,1.047268924,-103.679614078\n0,8.89,2.032,0,25.4,1.27,-24.13\n345.963757,7.874,2.286,24.6416195,6.160405002,1.047268924,-103.679614078\n315,7.112,3.048,17.960512212,17.960512212,1.077630814,-34.843393864\n296.565051,6.604,4.064,34.077676066,11.35922544,1.135922544,-55.660204148\n284.036243,6.35,5.08,80.085263502,6.160405002,1.047268924,-103.679614078\n281.309932,6.096,21.59,104.608346536,4.981349956,1.29515108,-128.219944728\n303.690068,5.588,22.352,35.223462446,7.04469254,0.915809954,-90.665192304\n315,4.826,23.114,17.960512212,17.960512212,1.077630814,-34.843393864\n345.963757,3.81,23.368,24.6416195,6.160405002,1.047268924,-103.679614078\n0,2.54,23.368,0,25.4,1.27,-24.13\n14.036243,1.524,23.114,80.085263502,6.160405002,1.047268924,-103.679614078\n45,0.762,22.352,17.960512212,17.960512212,1.077630814,-34.843393864\n56.309932,0.254,21.59,56.357539812,7.04469254,0.915809954,-90.665192304\n78.690068,0,20.32,24.906749272,4.981349956,1.29515108,-128.219944728\n270,19.05,20.32,0,25.4,15.24,-10.16\n270,12.7,20.32,0,25.4,15.24,-10.16\n270,6.35,20.32,0,25.4,15.24,-10.16\n270,0,20.32,0,25.4,15.24,-10.16\n")),k(N.ParsePatFile("\n*STARS,STARS\n0, 0,0, 0,5.49926, 3.175,-3.175\n60, 0,0, 0,5.49926, 3.175,-3.175\n120, 1.5875,2.74963, 0,5.49926, 3.175,-3.175\n")),k(N.ParsePatFile("\n*STEEL,STEEL\n45, 0,0, 0,3.175\n45, 0,1.5875, 0,3.175\n")),k(N.ParsePatFile("\n*SWAMP,SWAMP\n0, 0,0, 12.7,21.997, 3.175,-22.225\n90, 1.5875,0, 21.997,12.7, 1.5875,-42.4066\n90, 1.98438,0, 21.997,12.7, 1.27,-42.7241\n90, 1.19062,0, 21.997,12.7, 1.27,-42.7241\n60, 2.38125,0, 12.7,21.997, 1.016,-24.384\n120, .79375,0, 12.7,21.997, 1.016,-24.384\n")),k(N.ParsePatFile("\n*TRANS,TRANS\n0, 0,0, 0,6.35\n0, 0,3.175, 0,6.35, 3.175,-3.175\n")),k(N.ParsePatFile("\n*TRI-OVERLAP\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n59.641885,2.286000254,3.81,1206.700468992,0.313103514,20.605334202,-2039.928082188\n300.358115,12.7,21.590000254,853.832947398,0.313103514,20.605334202,-2039.928082188\n180,9.129485678,15.494,0,25.4,18.258981262,-7.141018738\n59.036243,22.737590288,4.452650734,56.628832894,4.356064186,5.17479407,-142.931383936\n180,23.114,3.81,0,25.4,20.827999746,-4.572000254\n300.963757,0,8.89,91.477345366,4.356064186,5.174794324,-142.931383682\n300.784147,3.048,3.81,148.105450296,0.464280504,13.89591328,-1375.695350204\n239.215853,22.352,3.81,1241.485813188,0.464280504,13.89591328,-1375.695350204\n")),k(N.ParsePatFile("\n*TRIANG,TRIANG\n60, 0,0, 4.7625,8.24889, 4.7625,-4.7625\n120, 0,0, 4.76250001,8.24889, 4.7625,-4.7625\n0, -2.38125,4.12445, 4.7625,8.24889, 4.7625,-4.7625\n")),k(N.ParsePatFile("\n*WEATHERBOARD,WEATHERBOARD\n; By John Hyslop,    Manually Entered QCAD3 pattern\n; Developed in mm as metric QCAD3 pattern\n; Metric Hatch Scale 1 Makes 152mm horizontally placed boards\n; with a 13mm offset line to simulate a rounded edge\n0,0,0,0,152\n0,0,13,0,152\n")),k(N.ParsePatFile("\n*WEAVING,WEAVING\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n90,22.86,5.08,0,25.4,1.27,-24.13\n75.963757,22.352,3.048,24.6416195,6.160405002,2.094537594,-102.632345154\n66.801409,21.59,1.27,136.74251925,3.335183322,1.934406342,-191.506230398\n54.462322,20.32,-0.508,91.53339072,2.952690056,2.18499055,-216.314071054\n56.309932,19.304,-2.032,56.357539812,7.04469254,1.831620162,-89.74938235\n90,20.066,5.588,0,25.4,1.778,-23.622\n80.537678,19.812,4.064,25.054405568,4.175734346,1.545021802,-152.95714646\n63.434949,19.05,2.54,22.718450626,11.35922544,1.703883816,-55.092242876\n56.309932,18.034,1.016,56.357539812,7.04469254,1.831620162,-89.74938235\n56.309932,17.018,-0.508,56.357539812,7.04469254,1.831620162,-89.74938235\n333.434949,21.844,6.858,22.718450626,11.35922544,1.703883816,-55.092242876\n344.054604,20.066,7.366,104.668749768,3.488958224,1.84914794,-183.065643266\n0,18.034,7.366,0,25.4,2.032,-23.368\n9.462322,16.51,7.112,129.447762694,4.175734346,1.545021802,-152.95714646\n26.565051,14.986,6.35,34.077676066,11.35922544,1.703883816,-55.092242876\n38.659808,13.716,5.334,35.701322044,3.966813504,1.626393496,-161.0129622\n36.869898,11.684,3.81,35.56,5.08,2.54,-124.46\n20.556045,9.652,3.048,136.750876358,2.97284521,2.170177016,-214.847518234\n330.255119,23.114,9.398,56.708680588,3.150482142,2.047813532,-202.733533318\n344.054604,21.336,9.906,104.668749768,3.488958224,1.84914794,-183.065643266\n352.874984,19.304,10.16,25.203858152,3.150482142,2.047813532,-202.733533318\n0,17.526,10.16,0,25.4,1.778,-23.622\n14.036243,15.494,9.652,80.085263502,6.160405002,2.094537594,-102.632345154\n26.565051,13.462,8.636,34.077676066,11.35922544,2.271845088,-54.524281604\n33.690068,11.938,7.62,35.223462446,7.04469254,1.831620162,-89.74938235\n35.537678,10.16,6.35,126.965671138,2.952690056,2.18499055,-216.314071054\n0,5.08,2.54,0,25.4,1.27,-24.13\n348.690068,3.81,2.794,24.906749272,4.981349956,1.29515108,-128.219944728\n341.565051,3.048,3.048,24.09655582,8.032185358,0.803218612,-79.518633952\n336.801409,1.27,3.81,136.74251925,3.335183322,1.934406342,-191.506230398\n326.309932,-0.254,4.826,56.357539812,7.04469254,1.831620162,-89.74938235\n324.462322,-2.032,6.096,91.53339072,2.952690056,2.18499055,-216.314071054\n0,5.588,5.334,0,25.4,1.778,-23.622\n350.537678,4.064,5.588,25.054405568,4.175734346,1.545021802,-152.95714646\n333.434949,2.54,6.35,22.718450626,11.35922544,1.703883816,-55.092242876\n326.309932,1.016,7.366,56.357539812,7.04469254,1.831620162,-89.74938235\n326.309932,-0.508,8.382,56.357539812,7.04469254,1.831620162,-89.74938235\n60.255119,16.002,23.114,56.708680588,3.150482142,2.047813532,-202.733533318\n180,20.066,20.066,0,25.4,2.032,-23.368\n164.054604,21.844,19.558,104.668749768,3.488958224,1.84914794,-183.065643266\n153.434949,23.368,18.796,22.718450626,11.35922544,1.703883816,-55.092242876\n330.255119,23.114,22.098,56.708680588,3.150482142,2.047813532,-202.733533318\n345.963757,21.082,22.606,24.6416195,6.160405002,2.094537594,-102.632345154\n352.874984,19.05,22.86,25.203858152,3.150482142,2.047813532,-202.733533318\n60.255119,18.288,21.59,56.708680588,3.150482142,2.047813532,-202.733533318\n80.537678,18.034,20.066,25.054405568,4.175734346,1.545021802,-152.95714646\n90,18.034,18.034,0,25.4,2.032,-23.368\n104.036243,18.542,16.002,80.085263502,6.160405002,2.094537594,-102.632345154\n116.565051,19.304,14.478,34.077676066,11.35922544,1.703883816,-55.092242876\n129.805571,20.574,12.954,35.773504272,3.252136752,1.9838035,-196.396538372\n123.690068,21.59,11.43,35.223462446,7.04469254,1.831620162,-89.74938235\n113.198591,22.352,9.652,56.698117744,3.335183322,1.934406342,-191.506230398\n309.805571,18.034,11.684,35.773504272,3.252136752,1.9838035,-196.396538372\n305.537678,16.764,13.462,126.965671138,2.952690056,2.18499055,-216.314071054\n299.744881,15.748,15.24,148.072666262,3.150482142,2.047813532,-202.733533318\n285.945396,15.24,17.018,80.246041438,3.488958224,1.84914794,-183.065643266\n270,15.24,19.304,0,25.4,2.286,-23.114\n74.054604,15.494,21.336,104.668749768,3.488958224,1.84914794,-183.065643266\n82.874984,15.24,19.304,25.203858152,3.150482142,2.047813532,-202.733533318\n39.805571,13.716,18.034,35.773504272,3.252136752,1.9838035,-196.396538372\n35.537678,11.938,16.764,126.965671138,2.952690056,2.18499055,-216.314071054\n33.690068,10.414,15.748,35.223462446,7.04469254,1.831620162,-89.74938235\n15.945396,8.636,15.24,80.246041438,3.488958224,1.84914794,-183.065643266\n6.340192,6.35,14.986,204.76213556,2.804960862,2.30006779,-227.706714766\n350.537678,4.826,15.24,25.054405568,4.175734346,1.545021802,-152.95714646\n344.054604,3.048,15.748,104.668749768,3.488958224,1.84914794,-183.065643266\n23.198591,13.97,21.59,56.698117744,3.335183322,1.934406342,-191.506230398\n29.744881,12.192,20.574,148.072666262,3.150482142,2.047813532,-202.733533318\n39.805571,10.668,19.304,35.773504272,3.252136752,1.9838035,-196.396538372\n29.744881,8.89,18.288,148.072666262,3.150482142,2.047813532,-202.733533318\n7.125016,6.858,18.034,179.577488698,3.150482142,2.047813532,-202.733533318\n0,5.334,18.034,0,25.4,1.524,-23.876\n344.054604,3.556,18.542,104.668749768,3.488958224,1.84914794,-183.065643266\n333.434949,2.54,19.05,22.718450626,11.35922544,1.135922544,-55.660204148\n234.462322,7.874,-0.254,91.53339072,2.952690056,2.18499055,-216.314071054\n240.255119,8.89,1.524,56.708680588,3.150482142,2.047813532,-202.733533318\n243.434949,9.906,3.556,22.718450626,11.35922544,2.271845088,-54.524281604\n262.874984,10.16,5.588,25.203858152,3.150482142,2.047813532,-202.733533318\n270,10.16,7.62,0,25.4,2.032,-23.368\n282.528808,9.652,9.906,104.69063898,2.755016842,2.341764176,-231.834664854\n293.198591,8.89,11.684,56.698117744,3.335183322,1.934406342,-191.506230398\n309.805571,7.62,13.208,35.773504272,3.252136752,1.9838035,-196.396538372\n305.537678,6.35,14.986,126.965671138,2.952690056,2.18499055,-216.314071054\n270,5.334,19.812,0,25.4,1.778,-23.622\n254.054604,5.842,21.59,104.668749768,3.488958224,1.84914794,-183.065643266\n246.801409,6.604,23.368,136.74251925,3.335183322,1.934406342,-191.506230398\n236.309932,5.334,1.016,56.357539812,7.04469254,1.831620162,-89.74938235\n234.462322,6.604,2.794,91.53339072,2.952690056,2.18499055,-216.314071054\n249.443955,7.366,4.826,80.266818638,2.97284521,2.170177016,-214.847518234\n270,7.366,6.858,0,25.4,2.032,-23.368\n278.130102,7.112,8.636,154.460405328,3.592102544,1.796051272,-177.809071102\n296.565051,6.096,10.668,34.077676066,11.35922544,2.271845088,-54.524281604\n309.805571,4.826,12.192,35.773504272,3.252136752,1.9838035,-196.396538372\n303.690068,3.81,13.716,35.223462446,7.04469254,1.831620162,-89.74938235\n290.556045,3.048,15.748,136.750876358,2.97284521,2.170177016,-214.847518234\n341.565051,1.524,16.256,24.09655582,8.032185358,1.60643697,-78.715415594\n324.462322,-0.254,17.526,91.53339072,2.952690056,2.18499055,-216.314071054\n324.462322,-2.032,18.796,91.53339072,2.952690056,2.18499055,-216.314071054\n146.309932,1.016,20.066,56.357539812,7.04469254,1.831620162,-89.74938235\n146.309932,2.54,19.05,56.357539812,7.04469254,1.831620162,-89.74938235\n262.874984,2.794,21.082,25.203858152,3.150482142,2.047813532,-202.733533318\n255.963757,3.302,23.114,24.6416195,6.160405002,2.094537594,-102.632345154\n240.255119,4.318,24.892,56.708680588,3.150482142,2.047813532,-202.733533318\n")),k(N.ParsePatFile("\n*WIRE-FENCE\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in mm as metric QCAD3 pattern\n315,11.684,12.7,17.960512212,17.960512212,1.186955462,-34.734068962\n315,13.353142966,14.332857034,17.960512212,17.960512212,1.231577928,-34.689446496\n3.731397,12.767918076,14.294690232,381.845330542,0.55100347,0.586467966,-1170.2956782\n183.17983,11.77579941,14.229987034,432.544118908,1.408938508,23.016097986,-434.888914066\n183.17983,11.714581854,13.209697736,432.544118908,1.408938508,23.012451308,-434.892560744\n153.434949,13.208,12.954,22.718450626,11.35922544,0.567961272,-56.22816542\n266.593556,13.208,12.954,432.546308388,0.301846742,25.69937837,-2111.67704156\n266.593556,14.224,13.462,432.546308388,0.301846742,25.69937837,-2111.67704156\n2.602562,12.523304392,11.860695608,534.003174054,1.153354564,0.622066574,-558.754908396\n")),k(N.ParsePatFile("\n*XMASTREE-01,XMASTREE-01\n;By John Hyslop\n;Developed in mm as metric QCAD3 pattern\n180,1.016,24.13,0,25.4,1.016,-24.384\n90,1.016,20.828,0,25.4,3.302,-22.098\n180,8.382,20.828,0,25.4,7.366,-18.034\n49.763642,5.588,17.526,198.374734568,1.491539308,4.325464044,-428.2209495\n180,7.112,17.526,0,25.4,1.524,-23.876\n51.340192,4.064,13.716,126.938033652,3.966813504,4.879180742,-157.760174954\n180,5.588,13.716,0,25.4,1.524,-23.876\n52.431408,3.048,10.414,126.990557296,1.548665432,4.165909626,-412.425064658\n180,4.318,10.414,0,25.4,1.27,-24.13\n53.130102,2.032,7.366,91.44,5.08,3.81,-123.19\n180,3.302,7.366,0,25.4,1.27,-24.13\n53.972627,1.27,4.572,218.491081432,1.867445084,3.454773634,-342.02257732\n180,2.54,4.572,0,25.4,1.27,-24.13\n54.462322,0,1.016,91.53339072,2.952690056,4.369981354,-214.129080504\n0,24.384,24.13,0,25.4,1.016,-24.384\n90,24.384,20.828,0,25.4,3.302,-22.098\n0,17.018,20.828,0,25.4,7.366,-18.034\n130.236358,19.812,17.526,234.17167923,1.491539308,4.325464044,-428.2209495\n0,18.288,17.526,0,25.4,1.524,-23.876\n128.659808,21.336,13.716,35.701322044,3.966813504,4.879180742,-157.760174954\n0,19.812,13.716,0,25.4,1.524,-23.876\n127.568592,22.352,10.414,289.600417242,1.548665432,4.165909626,-412.425064658\n0,21.082,10.414,0,25.4,1.27,-24.13\n126.869898,23.368,7.366,35.56,5.08,3.81,-123.19\n0,22.098,7.366,0,25.4,1.27,-24.13\n126.027373,24.13,4.572,126.986269522,1.867445084,3.454773634,-342.02257732\n0,22.86,4.572,0,25.4,1.27,-24.13\n125.537678,25.4,1.016,126.965671138,2.952690056,4.369981354,-214.129080504\n0,11.684,1.016,0,25.4,1.016,-24.384\n270,11.684,4.318,0,25.4,3.302,-22.098\n0,4.318,4.318,0,25.4,7.366,-18.034\n229.763642,7.112,7.62,198.374734568,1.491539308,4.325464044,-428.2209495\n0,5.588,7.62,0,25.4,1.524,-23.876\n231.340192,8.636,11.43,126.938033652,3.966813504,4.879180742,-157.760174954\n0,7.112,11.43,0,25.4,1.524,-23.876\n232.431408,9.652,14.732,126.990557296,1.548665432,4.165909626,-412.425064658\n0,8.382,14.732,0,25.4,1.27,-24.13\n233.130102,10.668,17.78,91.44,5.08,3.81,-123.19\n0,9.398,17.78,0,25.4,1.27,-24.13\n233.972627,11.43,20.574,218.491081432,1.867445084,3.454773634,-342.02257732\n0,10.16,20.574,0,25.4,1.27,-24.13\n234.462322,12.7,24.13,91.53339072,2.952690056,4.369981354,-214.129080504\n180,13.716,1.016,0,25.4,1.016,-24.384\n270,13.716,4.318,0,25.4,3.302,-22.098\n180,21.082,4.318,0,25.4,7.366,-18.034\n310.236358,18.288,7.62,234.17167923,1.491539308,4.325464044,-428.2209495\n180,19.812,7.62,0,25.4,1.524,-23.876\n308.659808,16.764,11.43,35.701322044,3.966813504,4.879180742,-157.760174954\n180,18.288,11.43,0,25.4,1.524,-23.876\n307.568592,15.748,14.732,289.600417242,1.548665432,4.165909626,-412.425064658\n180,17.018,14.732,0,25.4,1.27,-24.13\n306.869898,14.732,17.78,35.56,5.08,3.81,-123.19\n180,16.002,17.78,0,25.4,1.27,-24.13\n306.027373,13.97,20.574,126.986269522,1.867445084,3.454773634,-342.02257732\n180,15.24,20.574,0,25.4,1.27,-24.13\n305.537678,12.7,24.13,126.965671138,2.952690056,4.369981354,-214.129080504\n")),k(N.ParsePatFile("\n*XMASTREE-02,XMASTREE-02\n;By John Hyslop\n;Developed in mm as metric QCAD3 pattern\n180,1.016,6.604,0,25.4,1.016,-24.384\n90,1.016,3.302,0,25.4,3.302,-22.098\n180,8.382,3.302,0,25.4,7.366,-18.034\n49.763642,5.588,0,198.374734568,1.491539308,4.325464044,-428.2209495\n180,7.112,25.4,0,25.4,1.524,-23.876\n51.340192,4.064,21.59,126.938033652,3.966813504,4.879180742,-157.760174954\n180,5.588,21.59,0,25.4,1.524,-23.876\n52.431408,3.048,18.288,126.990557296,1.548665432,4.165909626,-412.425064658\n180,4.318,18.288,0,25.4,1.27,-24.13\n53.130102,2.032,15.24,91.44,5.08,3.81,-123.19\n180,3.302,15.24,0,25.4,1.27,-24.13\n53.972627,1.27,12.446,218.491081432,1.867445084,3.454773634,-342.02257732\n180,2.54,12.446,0,25.4,1.27,-24.13\n54.462322,0,8.89,91.53339072,2.952690056,4.369981354,-214.129080504\n0,24.384,6.604,0,25.4,1.016,-24.384\n90,24.384,3.302,0,25.4,3.302,-22.098\n0,17.018,3.302,0,25.4,7.366,-18.034\n130.236358,19.812,0,234.17167923,1.491539308,4.325464044,-428.2209495\n0,18.288,25.4,0,25.4,1.524,-23.876\n128.659808,21.336,21.59,35.701322044,3.966813504,4.879180742,-157.760174954\n0,19.812,21.59,0,25.4,1.524,-23.876\n127.568592,22.352,18.288,289.600417242,1.548665432,4.165909626,-412.425064658\n0,21.082,18.288,0,25.4,1.27,-24.13\n126.869898,23.368,15.24,35.56,5.08,3.81,-123.19\n0,22.098,15.24,0,25.4,1.27,-24.13\n126.027373,24.13,12.446,126.986269522,1.867445084,3.454773634,-342.02257732\n0,22.86,12.446,0,25.4,1.27,-24.13\n125.537678,25.4,8.89,126.965671138,2.952690056,4.369981354,-214.129080504\n0,11.684,2.286,0,25.4,1.016,-24.384\n270,11.684,5.588,0,25.4,3.302,-22.098\n0,4.318,5.588,0,25.4,7.366,-18.034\n229.763642,7.112,8.89,198.374734568,1.491539308,4.325464044,-428.2209495\n0,5.588,8.89,0,25.4,1.524,-23.876\n231.340192,8.636,12.7,126.938033652,3.966813504,4.879180742,-157.760174954\n0,7.112,12.7,0,25.4,1.524,-23.876\n232.431408,9.652,16.002,126.990557296,1.548665432,4.165909626,-412.425064658\n0,8.382,16.002,0,25.4,1.27,-24.13\n233.130102,10.668,19.05,91.44,5.08,3.81,-123.19\n0,9.398,19.05,0,25.4,1.27,-24.13\n233.972627,11.43,21.844,218.491081432,1.867445084,3.454773634,-342.02257732\n0,10.16,21.844,0,25.4,1.27,-24.13\n234.462322,12.7,25.4,91.53339072,2.952690056,4.369981354,-214.129080504\n180,13.716,2.286,0,25.4,1.016,-24.384\n270,13.716,5.588,0,25.4,3.302,-22.098\n180,21.082,5.588,0,25.4,7.366,-18.034\n310.236358,18.288,8.89,234.17167923,1.491539308,4.325464044,-428.2209495\n180,19.812,8.89,0,25.4,1.524,-23.876\n308.659808,16.764,12.7,35.701322044,3.966813504,4.879180742,-157.760174954\n180,18.288,12.7,0,25.4,1.524,-23.876\n307.568592,15.748,16.002,289.600417242,1.548665432,4.165909626,-412.425064658\n180,17.018,16.002,0,25.4,1.27,-24.13\n306.869898,14.732,19.05,35.56,5.08,3.81,-123.19\n180,16.002,19.05,0,25.4,1.27,-24.13\n306.027373,13.97,21.844,126.986269522,1.867445084,3.454773634,-342.02257732\n180,15.24,21.844,0,25.4,1.27,-24.13\n305.537678,12.7,25.4,126.965671138,2.952690056,4.369981354,-214.129080504\n")),k(N.ParsePatFile("\n*ZIGZAG,ZIGZAG\n0, 0,0, 3.175,3.175, 3.175,-3.175\n90, 3.175,0, 3.175,3.175, 3.175,-3.175\n")),k(N.ParsePatFile("\n*ACAD_ISO02W100,ACAD_ISO02W100\n0, 0,0, 0,5, 12,-3\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO03W100,ACAD_ISO03W100\n0, 0,0, 0,5, 12,-18\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO04W100,ACAD_ISO04W100\n0, 0,0, 0,5, 24,-3,.5,-3\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO05W100,ACAD_ISO05W100\n0, 0,0, 0,5, 24,-3,.5,-3,.5,-3\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO06W100,ACAD_ISO06W100\n0, 0,0, 0,5, 24,-3,.5,-3,.5,-6.5\n0, 0,0, 0,5, -34,.5,-3\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO07W100,ACAD_ISO07W100\n0, 0,0, 0,5, .5,-3\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO08W100,ACAD_ISO08W100\n0, 0,0, 0,5, 24,-3,6,-3\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO09W100,ACAD_ISO09W100\n0, 0,0, 0,5, 24,-3,6,-3,6,-3\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO10W100,ACAD_ISO10W100\n0, 0,0, 0,5, 12,-3,.5,-3\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO11W100,ACAD_ISO11W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-3\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO12W100,ACAD_ISO12W100\n0, 0,0, 0,5, 12,-3,.5,-3,.5,-3\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO13W100,ACAD_ISO13W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-6.5\n0, 0,0, 0,5, -33.5,.5,-3\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO14W100,ACAD_ISO14W100\n0, 0,0, 0,5, 12,-3,.5,-3,.5,-6.5\n0, 0,0, 0,5, -22,.5,-3\n"),!1),k(N.ParsePatFile("\n*ACAD_ISO15W100,ACAD_ISO15W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-10\n0, 0,0, 0,5, -33.5,.5,-3,.5,-3\n"),!1),k(N.ParsePatFile("\n*ANGLE,ANGLE\n0, 0,0, 0,.275, .2,-.075\n90, 0,0, 0,.275, .2,-.075\n"),!1),k(N.ParsePatFile("\n*ANSI31,ANSI31\n45, 0,0, 0,.125\n"),!1),k(N.ParsePatFile("\n*ANSI32,ANSI32\n45, 0,0, 0,.375\n45, .1767767,0, 0,.375\n"),!1),k(N.ParsePatFile("\n*ANSI33,ANSI33\n45, 0,0, 0,.25\n45, .1767767,0, 0,.25, .125,-.0625\n"),!1),k(N.ParsePatFile("\n*ANSI34,ANSI34\n45, 0,0, 0,.75\n45, .1767767,0, 0,.75\n45, .35355339,0, 0,.75\n45, .53033009,0, 0,.75\n"),!1),k(N.ParsePatFile("\n*ANSI35,ANSI35\n45, 0,0, 0,.25\n45, .1767767,0, 0,.25, .3125,-.0625,0,-.0625\n"),!1),k(N.ParsePatFile("\n*ANSI36,ANSI36\n45, 0,0, .21875,.125, .3125,-.0625,0,-.0625\n"),!1),k(N.ParsePatFile("\n*ANSI37,ANSI37\n45, 0,0, 0,.125\n135, 0,0, 0,.125\n"),!1),k(N.ParsePatFile("\n*ANSI38,ANSI38\n45, 0,0, 0,.125\n135, 0,0, .25,.125, .3125,-.1875\n"),!1),k(N.ParsePatFile("\n*AR-B816C,AR-B816C\n0, 0,0, 8,8, 15.625,-.375\n0, -8,.375, 8,8, 15.625,-.375\n90, 0,0, 8,8, -8.375,7.625\n90, -.375,0, 8,8, -8.375,7.625\n"),!1),k(N.ParsePatFile("\n*AR-B816,AR-B816\n0, 0,0, 0,8\n90, 0,0, 8,8, 8,-8\n"),!1),k(N.ParsePatFile("\n*AR-B88,AR-B88\n0, 0,0, 0,8\n90, 0,0, 8,4, 8,-8\n"),!1),k(N.ParsePatFile("\n*AR-BRELM,AR-BRELM\n0, 0,0, 0,5.334, 7.625,-.375\n0, 0,2.25, 0,5.334, 7.625,-.375\n0, 2,2.667, 0,5.334, 3.625,-.375\n0, 2,4.917, 0,5.334, 3.625,-.375\n90, 0,0, 0,8, 2.25,-3.084\n90, -.375,0, 0,8, 2.25,-3.084\n90, 2,2.667, 0,4, 2.25,-3.084\n90, 1.625,2.667, 0,4, 2.25,-3.084\n"),!1),k(N.ParsePatFile("\n*AR-BRSTD,AR-BRSTD\n0, 0,0, 0,2.667\n90, 0,0, 2.667,4, 2.667,-2.667\n"),!1),k(N.ParsePatFile("\n*AR-CONC-01,AR-CONC-01\n;Optimize to replace existing AR-CONC Pattern\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n243.434949,0.3,0.8,8.9442719,4.472136,0.2236068,-22.137073\n90,0.3,0.6,0,10,0.2,-9.8\n0,0.2,0.6,0,10,0.1,-9.9\n315,0.1,0.1,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,0.3,0.2,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,0.2,0,8.9442719,4.472136,0.2236068,-22.137073\n45,2,0.4,7.0710678,7.0710678,0.2828427,-13.8592929\n161.565051,2.3,0.3,9.486833,3.1622777,0.3162278,-31.3065488\n288.434949,2.2,0.6,22.1359436,3.1622777,0.3162278,-31.3065488\n315,2.3,0.9,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,2.5,1,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,2.4,0.8,8.9442719,4.472136,0.2236068,-22.137073\n270,4.1,0.6,0,10,0.2,-9.8\n45,3.9,0.4,7.0710678,7.0710678,0.2828427,-13.8592929\n180,4.1,0.4,0,10,0.2,-9.8\n333.434949,3.9,0.2,8.9442719,4.472136,0.2236068,-22.137073\n225,4,0.3,7.0710678,7.0710678,0.1414214,-14.0007143\n116.565051,4.1,0.1,13.4164079,4.472136,0.2236068,-22.137073\n198.434949,6.3,0.8,22.1359436,3.1622777,0.3162278,-31.3065488\n63.434949,6.2,0.6,8.9442719,4.472136,0.2236068,-22.137073\n333.434949,6,0.7,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,5.7,0,13.4164079,4.472136,0.2236068,-22.137073\n251.565051,5.8,0.3,9.486833,3.1622777,0.3162278,-31.3065488\n116.565051,5.9,0.1,13.4164079,4.472136,0.2236068,-22.137073\n45,6.7,0.1,7.0710678,7.0710678,0.2828427,-13.8592929\n161.565051,7,0,9.486833,3.1622777,0.3162278,-31.3065488\n288.434949,6.9,0.3,22.1359436,3.1622777,0.3162278,-31.3065488\n315,3,2.8,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,3.2,2.9,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,3.1,2.7,8.9442719,4.472136,0.2236068,-22.137073\n45,1.1,0.8,7.0710678,7.0710678,0.2828427,-13.8592929\n180,1.3,0.8,0,10,0.2,-9.8\n270,1.3,1,0,10,0.2,-9.8\n225,1.8,2.4,7.0710678,7.0710678,0.1414214,-14.0007143\n270,1.8,2.6,0,10,0.2,-9.8\n71.565051,1.7,2.3,9.486833,3.1622777,0.3162278,-31.3065488\n198.434949,1,2.1,22.1359436,3.1622777,0.3162278,-31.3065488\n63.434949,0.9,1.9,8.9442719,4.472136,0.2236068,-22.137073\n333.434949,0.7,2,8.9442719,4.472136,0.2236068,-22.137073\n0,3.5,2.2,0,10,0.2,-9.8\n225,3.7,2.4,7.0710678,7.0710678,0.2828427,-13.8592929\n90,3.7,2.2,0,10,0.2,-9.8\n315,4.5,1.7,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,4.7,1.8,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,4.6,1.6,8.9442719,4.472136,0.2236068,-22.137073\n315,5.5,2.1,7.0710678,7.0710678,0.1414214,-14.0007143\n270,5.5,2.3,0,10,0.2,-9.8\n108.434949,5.6,2,22.1359436,3.1622777,0.3162278,-31.3065488\n206.565051,6.9,2.7,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,6.8,2.5,8.9442719,4.472136,0.2236068,-22.137073\n315,6.7,2.6,7.0710678,7.0710678,0.1414214,-14.0007143\n333.434949,7.3,1.9,8.9442719,4.472136,0.2236068,-22.137073\n225,7.4,2,7.0710678,7.0710678,0.1414214,-14.0007143\n116.565051,7.5,1.8,13.4164079,4.472136,0.2236068,-22.137073\n26.565051,8.2,1.5,13.4164079,4.472136,0.2236068,-22.137073\n153.434949,8.4,1.4,8.9442719,4.472136,0.2236068,-22.137073\n270,8.4,1.6,0,10,0.2,-9.8\n180,9.3,1.7,0,10,0.1,-9.9\n270,9.3,1.8,0,10,0.1,-9.9\n45,9.2,1.7,7.0710678,7.0710678,0.1414214,-14.0007143\n153.434949,9.3,2.4,8.9442719,4.472136,0.2236068,-22.137073\n270,9.3,2.7,0,10,0.3,-9.7\n45,9.1,2.5,7.0710678,7.0710678,0.2828427,-13.8592929\n206.565051,9.1,3.5,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,9,3.3,8.9442719,4.472136,0.2236068,-22.137073\n315,8.9,3.4,7.0710678,7.0710678,0.1414214,-14.0007143\n180,6.5,2.9,0,10,0.2,-9.8\n270,6.5,3.2,0,10,0.3,-9.7\n56.309932,6.3,2.9,22.1880078,2.773501,0.3605551,-35.6949576\n198.434949,5.4,3.8,22.1359436,3.1622777,0.3162278,-31.3065488\n71.565051,5.3,3.5,9.486833,3.1622777,0.3162278,-31.3065488\n315,5.1,3.7,7.0710678,7.0710678,0.2828427,-13.8592929\n180,3.8,3.3,0,10,0.3,-9.7\n270,3.8,3.6,0,10,0.3,-9.7\n45,3.5,3.3,7.0710678,7.0710678,0.4242641,-13.7178716\n225,3.3,4.3,7.0710678,7.0710678,0.2828427,-13.8592929\n90,3.3,4.1,0,10,0.2,-9.8\n0,3.1,4.1,0,10,0.2,-9.8\n206.565051,1.6,3.9,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,1.5,3.7,8.9442719,4.472136,0.2236068,-22.137073\n315,1.4,3.8,7.0710678,7.0710678,0.1414214,-14.0007143\n108.434949,1,3.7,22.1359436,3.1622777,0.3162278,-31.3065488\n341.565051,0.7,3.8,9.486833,3.1622777,0.3162278,-31.3065488\n225,0.9,4,7.0710678,7.0710678,0.2828427,-13.8592929\n270,1.5,4.5,0,10,0.2,-9.8\n45,1.3,4.3,7.0710678,7.0710678,0.2828427,-13.8592929\n180,1.5,4.3,0,10,0.2,-9.8\n315,3.6,4.7,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,3.8,4.8,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,3.7,4.6,8.9442719,4.472136,0.2236068,-22.137073\n0,5.1,4,0,10,0.1,-9.9\n225,5.2,4.1,7.0710678,7.0710678,0.1414214,-14.0007143\n90,5.2,4,0,10,0.1,-9.9\n0,6.9,3.8,0,10,0.2,-9.8\n243.434949,7,4,8.9442719,4.472136,0.2236068,-22.137073\n116.565051,7.1,3.8,13.4164079,4.472136,0.2236068,-22.137073\n26.565051,7.3,4.5,13.4164079,4.472136,0.2236068,-22.137073\n116.565051,7.4,4.3,13.4164079,4.472136,0.2236068,-22.137073\n251.565051,7.5,4.6,9.486833,3.1622777,0.3162278,-31.3065488\n63.434949,8.8,3.6,8.9442719,4.472136,0.2236068,-22.137073\n180,9,3.6,0,10,0.2,-9.8\n296.565051,8.9,3.8,13.4164079,4.472136,0.2236068,-22.137073\n180,9,5.4,0,10,0.3,-9.7\n270,9,5.7,0,10,0.3,-9.7\n45,8.7,5.4,7.0710678,7.0710678,0.4242641,-13.7178716\n180,8.6,5.6,0,10,0.2,-9.8\n270,8.6,5.8,0,10,0.2,-9.8\n45,8.4,5.6,7.0710678,7.0710678,0.2828427,-13.8592929\n243.434949,8.2,6.5,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,8,6.4,13.4164079,4.472136,0.2236068,-22.137073\n135,8.1,6.3,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,6.7,6,8.9442719,4.472136,0.2236068,-22.137073\n116.565051,6.8,5.8,13.4164079,4.472136,0.2236068,-22.137073\n0,6.6,5.8,0,10,0.2,-9.8\n225,6.2,6.1,7.0710678,7.0710678,0.2828427,-13.8592929\n108.434949,6.3,5.8,22.1359436,3.1622777,0.3162278,-31.3065488\n341.565051,6,5.9,9.486833,3.1622777,0.3162278,-31.3065488\n135,5.9,5.4,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,6,5.6,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,5.8,5.5,13.4164079,4.472136,0.2236068,-22.137073\n180,4.8,6,0,10,0.1,-9.9\n270,4.8,6.1,0,10,0.1,-9.9\n45,4.7,6,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,4.4,6.7,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,4.3,6.5,8.9442719,4.472136,0.2236068,-22.137073\n315,4.2,6.6,7.0710678,7.0710678,0.1414214,-14.0007143\n225,3.4,6.5,7.0710678,7.0710678,0.2828427,-13.8592929\n90,3.4,6.2,0,10,0.3,-9.7\n333.434949,3.2,6.3,8.9442719,4.472136,0.2236068,-22.137073\n180,3,6.1,0,10,0.2,-9.8\n270,3,6.3,0,10,0.2,-9.8\n45,2.8,6.1,7.0710678,7.0710678,0.2828427,-13.8592929\n135,2.1,5.6,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,2.2,5.8,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,2,5.7,13.4164079,4.472136,0.2236068,-22.137073\n180,1.1,6.3,0,10,0.2,-9.8\n270,1.1,6.5,0,10,0.2,-9.8\n45,0.9,6.3,7.0710678,7.0710678,0.2828427,-13.8592929\n270,0.6,7,0,10,0.3,-9.7\n45,0.4,6.8,7.0710678,7.0710678,0.2828427,-13.8592929\n153.434949,0.6,6.7,8.9442719,4.472136,0.2236068,-22.137073\n243.434949,8.2,7.8,8.9442719,4.472136,0.2236068,-22.137073\n90,8.2,7.6,0,10,0.2,-9.8\n0,8.1,7.6,0,10,0.1,-9.9\n135,8.7,8.2,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,8.8,8.4,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,8.6,8.3,13.4164079,4.472136,0.2236068,-22.137073\n180,8.6,8.4,0,10,0.2,-9.8\n251.565051,8.7,8.7,9.486833,3.1622777,0.3162278,-31.3065488\n45,8.4,8.4,7.0710678,7.0710678,0.4242641,-13.7178716\n153.434949,7.2,9.2,8.9442719,4.472136,0.2236068,-22.137073\n135,6.5,7.3,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,6.6,7.5,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,6.4,7.4,13.4164079,4.472136,0.2236068,-22.137073\n135,6.3,7.7,7.0710678,7.0710678,0.1414214,-14.0007143\n251.565051,6.4,8,9.486833,3.1622777,0.3162278,-31.3065488\n45,6.2,7.8,7.0710678,7.0710678,0.2828427,-13.8592929\n26.565051,2.6,7.6,13.4164079,4.472136,0.2236068,-22.137073\n153.434949,2.8,7.5,8.9442719,4.472136,0.2236068,-22.137073\n270,2.8,7.7,0,10,0.2,-9.8\n90,4.5,7.9,0,10,0.2,-9.8\n0,4.3,7.9,0,10,0.2,-9.8\n225,4.5,8.1,7.0710678,7.0710678,0.2828427,-13.8592929\n63.434949,4.9,8.3,8.9442719,4.472136,0.2236068,-22.137073\n315,4.8,8.4,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,5,8.5,13.4164079,4.472136,0.2236068,-22.137073\n153.434949,5.8,8.8,8.9442719,4.472136,0.2236068,-22.137073\n270,5.8,9.1,0,10,0.3,-9.7\n45,5.6,8.9,7.0710678,7.0710678,0.2828427,-13.8592929\n0,2.8,9.3,0,10,0.3,-9.7\n135,2.6,8,7.0710678,7.0710678,0.1414214,-14.0007143\n270,2.6,8.2,0,10,0.2,-9.8\n45,2.5,8.1,7.0710678,7.0710678,0.1414214,-14.0007143\n116.565051,0.8,8.2,13.4164079,4.472136,0.2236068,-22.137073\n333.434949,0.6,8.3,8.9442719,4.472136,0.2236068,-22.137073\n225,0.7,8.4,7.0710678,7.0710678,0.1414214,-14.0007143\n135,1.2,8.6,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,1.3,8.8,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,1.1,8.7,13.4164079,4.472136,0.2236068,-22.137073\n0,8.74875,8.58939,0,10,0,-10\n0,8.12326,9.16255,0,10,0,-10\n0,8.22334,7.41455,0,10,0,-10\n0,7.2264,8.32807,0,10,0,-10\n0,6.60091,8.90123,0,10,0,-10\n0,8.74106,5.28385,0,10,0,-10\n0,8.11556,5.85701,0,10,0,-10\n0,6.70099,7.15323,0,10,0,-10\n0,5.70405,8.06676,0,10,0,-10\n0,5.07855,8.63992,0,10,0,-10\n0,8.21564,4.10901,0,10,0,-10\n0,7.2187,5.02254,0,10,0,-10\n0,6.59321,5.5957,0,10,0,-10\n0,5.17863,6.89192,0,10,0,-10\n0,4.18169,7.80544,0,10,0,-10\n0,3.5562,8.3786,0,10,0,-10\n0,8.73336,1.97832,0,10,0,-10\n0,8.10787,2.55148,0,10,0,-10\n0,6.69329,3.8477,0,10,0,-10\n0,5.69635,4.76122,0,10,0,-10\n0,5.07086,5.33438,0,10,0,-10\n0,3.65628,6.6306,0,10,0,-10\n0,2.65934,7.54413,0,10,0,-10\n0,2.03385,8.11729,0,10,0,-10\n0,8.20795,0.80348,0,10,0,-10\n0,7.21101,1.717,0,10,0,-10\n0,6.58551,2.29016,0,10,0,-10\n0,5.17094,3.58638,0,10,0,-10\n0,4.174,4.49991,0,10,0,-10\n0,3.5485,5.07307,0,10,0,-10\n0,2.13393,6.36929,0,10,0,-10\n0,1.13699,7.28282,0,10,0,-10\n0,0.51149,7.85597,0,10,0,-10\n0,6.68559,0.54216,0,10,0,-10\n0,5.68865,1.45569,0,10,0,-10\n0,5.06316,2.02885,0,10,0,-10\n0,3.53626,3.22649,0,10,0,-10\n0,2.65164,4.23859,0,10,0,-10\n0,2.02615,4.81175,0,10,0,-10\n0,0.61157,6.10797,0,10,0,-10\n0,5.16324,0.28085,0,10,0,-10\n0,4.1663,1.19437,0,10,0,-10\n0,3.54081,1.76753,0,10,0,-10\n0,2.12623,3.06375,0,10,0,-10\n0,1.12929,3.97728,0,10,0,-10\n0,0.5038,4.55044,0,10,0,-10\n0,3.64089,0.01953,0,10,0,-10\n0,2.64395,0.93306,0,10,0,-10\n0,2.01845,1.50622,0,10,0,-10\n0,0.60388,2.80244,0,10,0,-10\n0,1.12159,0.67174,0,10,0,-10\n0,0.4961,1.2449,0,10,0,-10\n0,9.15644,8.35141,0,10,0,-10\n0,8.31335,8.05964,0,10,0,-10\n0,7.76295,8.41028,0,10,0,-10\n0,8.6371,7.02451,0,10,0,-10\n0,6.91985,8.11852,0,10,0,-10\n0,6.36945,8.46916,0,10,0,-10\n0,7.2436,7.08339,0,10,0,-10\n0,5.52636,8.17739,0,10,0,-10\n0,4.97596,8.52804,0,10,0,-10\n0,8.67916,5.33996,0,10,0,-10\n0,8.12876,5.69061,0,10,0,-10\n0,5.85011,7.14227,0,10,0,-10\n0,4.13287,8.23627,0,10,0,-10\n0,3.58247,8.58691,0,10,0,-10\n0,9.00291,4.30484,0,10,0,-10\n0,7.28566,5.39884,0,10,0,-10\n0,6.73527,5.74948,0,10,0,-10\n0,4.45662,7.20114,0,10,0,-10\n0,2.73937,8.29515,0,10,0,-10\n0,2.18897,8.64579,0,10,0,-10\n0,7.60942,4.36371,0,10,0,-10\n0,5.89217,5.45772,0,10,0,-10\n0,5.34177,5.80836,0,10,0,-10\n0,3.06312,7.26002,0,10,0,-10\n0,1.34588,8.35403,0,10,0,-10\n0,0.79548,8.70467,0,10,0,-10\n0,9.04497,2.62029,0,10,0,-10\n0,8.49457,2.97093,0,10,0,-10\n0,6.21592,4.42259,0,10,0,-10\n0,4.49868,5.5166,0,10,0,-10\n0,3.94828,5.86724,0,10,0,-10\n0,1.66963,7.3189,0,10,0,-10\n0,9.36872,1.58516,0,10,0,-10\n0,7.65148,2.67917,0,10,0,-10\n0,7.10108,3.02981,0,10,0,-10\n0,4.82243,4.48147,0,10,0,-10\n0,3.10518,5.57547,0,10,0,-10\n0,2.55479,5.92612,0,10,0,-10\n0,0.27613,7.37778,0,10,0,-10\n0,7.97523,1.64404,0,10,0,-10\n0,6.25798,2.73804,0,10,0,-10\n0,5.70758,3.08869,0,10,0,-10\n0,3.42893,4.54035,0,10,0,-10\n0,1.71169,5.63435,0,10,0,-10\n0,1.16129,5.98499,0,10,0,-10\n0,8.86038,0.25125,0,10,0,-10\n0,6.58173,1.70292,0,10,0,-10\n0,4.86449,2.79692,0,10,0,-10\n0,4.31409,3.14756,0,10,0,-10\n0,2.03544,4.59922,0,10,0,-10\n0,0.3182,5.69323,0,10,0,-10\n0,7.46689,0.31013,0,10,0,-10\n0,5.18824,1.76179,0,10,0,-10\n0,3.471,2.8558,0,10,0,-10\n0,2.9206,3.20644,0,10,0,-10\n0,0.64195,4.6581,0,10,0,-10\n0,6.6238,0.01837,0,10,0,-10\n0,6.0734,0.36901,0,10,0,-10\n0,3.79475,1.82067,0,10,0,-10\n0,2.0775,2.91468,0,10,0,-10\n0,1.5271,3.26532,0,10,0,-10\n0,5.2303,0.07724,0,10,0,-10\n0,4.6799,0.42789,0,10,0,-10\n0,2.40125,1.87955,0,10,0,-10\n0,0.68401,2.97355,0,10,0,-10\n0,0.13361,3.3242,0,10,0,-10\n0,3.83681,0.13612,0,10,0,-10\n0,3.28641,0.48676,0,10,0,-10\n0,1.00776,1.93842,0,10,0,-10\n0,2.44331,0.195,0,10,0,-10\n0,1.89292,0.54564,0,10,0,-10\n0,1.04982,0.25388,0,10,0,-10\n0,0.49942,0.60452,0,10,0,-10\n0,6.42555,9.30607,0,10,0,-10\n0,4.77695,9.08903,0,10,0,-10\n0,3.7883,8.95887,0,10,0,-10\n0,3.13481,8.87284,0,10,0,-10\n0,1.48621,8.6558,0,10,0,-10\n0,0.49757,8.52564,0,10,0,-10\n0,9.02957,8.70973,0,10,0,-10\n0,7.38097,8.49269,0,10,0,-10\n0,6.39232,8.36253,0,10,0,-10\n0,5.73883,8.2765,0,10,0,-10\n0,4.09023,8.05946,0,10,0,-10\n0,3.10158,7.9293,0,10,0,-10\n0,2.4481,7.84327,0,10,0,-10\n0,0.79949,7.62622,0,10,0,-10\n0,8.99634,7.76619,0,10,0,-10\n0,8.34285,7.68016,0,10,0,-10\n0,6.69425,7.46312,0,10,0,-10\n0,5.7056,7.33296,0,10,0,-10\n0,5.05211,7.24692,0,10,0,-10\n0,3.40351,7.02988,0,10,0,-10\n0,2.41487,6.89972,0,10,0,-10\n0,1.76138,6.81369,0,10,0,-10\n0,0.11277,6.59665,0,10,0,-10\n0,9.29827,6.86677,0,10,0,-10\n0,8.30962,6.73662,0,10,0,-10\n0,7.65613,6.65058,0,10,0,-10\n0,6.00753,6.43354,0,10,0,-10\n0,5.01888,6.30338,0,10,0,-10\n0,4.3654,6.21735,0,10,0,-10\n0,2.71679,6.00031,0,10,0,-10\n0,1.72815,5.87015,0,10,0,-10\n0,1.07466,5.78412,0,10,0,-10\n0,8.61155,5.8372,0,10,0,-10\n0,7.6229,5.70704,0,10,0,-10\n0,6.96941,5.62101,0,10,0,-10\n0,5.32081,5.40397,0,10,0,-10\n0,4.33217,5.27381,0,10,0,-10\n0,3.67868,5.18777,0,10,0,-10\n0,2.03007,4.97073,0,10,0,-10\n0,1.04143,4.84057,0,10,0,-10\n0,0.38794,4.75454,0,10,0,-10\n0,7.92483,4.80762,0,10,0,-10\n0,6.93618,4.67747,0,10,0,-10\n0,6.2827,4.59143,0,10,0,-10\n0,4.63409,4.37439,0,10,0,-10\n0,3.64545,4.24423,0,10,0,-10\n0,2.99196,4.1582,0,10,0,-10\n0,1.34336,3.94116,0,10,0,-10\n0,0.35471,3.811,0,10,0,-10\n0,8.88671,3.99509,0,10,0,-10\n0,7.23811,3.77805,0,10,0,-10\n0,6.24947,3.64789,0,10,0,-10\n0,5.59598,3.56186,0,10,0,-10\n0,3.94737,3.34482,0,10,0,-10\n0,2.95873,3.21466,0,10,0,-10\n0,2.30524,3.12862,0,10,0,-10\n0,0.65664,2.91158,0,10,0,-10\n0,8.85348,3.05155,0,10,0,-10\n0,8.19999,2.96552,0,10,0,-10\n0,6.55139,2.74847,0,10,0,-10\n0,5.56275,2.61832,0,10,0,-10\n0,4.90926,2.53228,0,10,0,-10\n0,3.26065,2.31524,0,10,0,-10\n0,2.27201,2.18508,0,10,0,-10\n0,1.61852,2.09905,0,10,0,-10\n0,9.15541,2.15213,0,10,0,-10\n0,8.16676,2.02197,0,10,0,-10\n0,7.51328,1.93594,0,10,0,-10\n0,5.86467,1.7189,0,10,0,-10\n0,4.87603,1.58874,0,10,0,-10\n0,4.22254,1.50271,0,10,0,-10\n0,2.57394,1.28567,0,10,0,-10\n0,1.58529,1.15551,0,10,0,-10\n0,0.9318,1.06947,0,10,0,-10\n0,8.46869,1.12256,0,10,0,-10\n0,7.48005,0.9924,0,10,0,-10\n0,6.82656,0.90637,0,10,0,-10\n0,5.17795,0.68932,0,10,0,-10\n0,4.18931,0.55917,0,10,0,-10\n0,3.53582,0.47313,0,10,0,-10\n0,1.88722,0.25609,0,10,0,-10\n0,0.89857,0.12593,0,10,0,-10\n0,0.24508,0.0399,0,10,0,-10\n0,7.78197,0.09298,0,10,0,-10\n0,1.25458,8.906,0,10,0,-10\n0,2.59486,9.0898,0,10,0,-10\n0,1.22284,8.03701,0,10,0,-10\n0,3.91339,9.25692,0,10,0,-10\n0,2.56312,8.22081,0,10,0,-10\n0,1.19109,7.16803,0,10,0,-10\n0,3.88165,8.38793,0,10,0,-10\n0,2.53137,7.35183,0,10,0,-10\n0,1.15935,6.29904,0,10,0,-10\n0,5.23746,8.58365,0,10,0,-10\n0,3.84991,7.51894,0,10,0,-10\n0,2.49963,6.48284,0,10,0,-10\n0,1.12761,5.43005,0,10,0,-10\n0,6.57774,8.76745,0,10,0,-10\n0,5.20572,7.71466,0,10,0,-10\n0,3.81816,6.64995,0,10,0,-10\n0,2.46789,5.61385,0,10,0,-10\n0,1.09587,4.56106,0,10,0,-10\n0,7.89627,8.93456,0,10,0,-10\n0,6.546,7.89846,0,10,0,-10\n0,5.17398,6.84567,0,10,0,-10\n0,3.78642,5.78096,0,10,0,-10\n0,2.43615,4.74486,0,10,0,-10\n0,1.06413,3.69207,0,10,0,-10\n0,9.25208,9.13028,0,10,0,-10\n0,7.86453,8.06557,0,10,0,-10\n0,6.51425,7.02947,0,10,0,-10\n0,5.14223,5.97668,0,10,0,-10\n0,3.75468,4.91198,0,10,0,-10\n0,2.4044,3.87587,0,10,0,-10\n0,1.03238,2.82308,0,10,0,-10\n0,9.22034,8.26129,0,10,0,-10\n0,7.83279,7.19659,0,10,0,-10\n0,6.48251,6.16048,0,10,0,-10\n0,5.11049,5.10769,0,10,0,-10\n0,3.72294,4.04299,0,10,0,-10\n0,2.37266,3.00688,0,10,0,-10\n0,1.00064,1.9541,0,10,0,-10\n0,9.1886,7.3923,0,10,0,-10\n0,7.80105,6.3276,0,10,0,-10\n0,6.45077,5.29149,0,10,0,-10\n0,5.07875,4.23871,0,10,0,-10\n0,3.6912,3.174,0,10,0,-10\n0,2.34092,2.1379,0,10,0,-10\n0,0.9689,1.08511,0,10,0,-10\n0,9.15686,6.52332,0,10,0,-10\n0,7.7693,5.45861,0,10,0,-10\n0,6.41903,4.42251,0,10,0,-10\n0,5.04701,3.36972,0,10,0,-10\n0,2.30918,1.26891,0,10,0,-10\n0,0.93716,0.21612,0,10,0,-10\n0,9.12511,5.65433,0,10,0,-10\n0,7.73756,4.58962,0,10,0,-10\n0,6.38729,3.55352,0,10,0,-10\n0,5.01527,2.50073,0,10,0,-10\n0,3.62771,1.43602,0,10,0,-10\n0,2.27744,0.39992,0,10,0,-10\n0,9.09337,4.78534,0,10,0,-10\n0,7.70582,3.72063,0,10,0,-10\n0,6.35554,2.68453,0,10,0,-10\n0,4.98352,1.63174,0,10,0,-10\n0,3.59597,0.56703,0,10,0,-10\n0,9.06163,3.91635,0,10,0,-10\n0,7.67408,2.85164,0,10,0,-10\n0,6.3238,1.81554,0,10,0,-10\n0,4.95178,0.76275,0,10,0,-10\n0,9.02989,3.04736,0,10,0,-10\n0,7.64234,1.98266,0,10,0,-10\n0,6.29206,0.94655,0,10,0,-10\n0,8.99815,2.17837,0,10,0,-10\n0,7.61059,1.11367,0,10,0,-10\n0,6.26032,0.07756,0,10,0,-10\n0,8.9664,1.30939,0,10,0,-10\n0,7.57885,0.24468,0,10,0,-10\n0,8.93466,0.4404,0,10,0,-10\n206.565051,10,0.6,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,9.9,0.4,8.9442719,4.472136,0.2236068,-22.137073\n315,9.8,0.5,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,9.7,5.4,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,9.6,5.2,8.9442719,4.472136,0.2236068,-22.137073\n315,9.5,5.3,7.0710678,7.0710678,0.1414214,-14.0007143\n153.434949,10,7.2,8.9442719,4.472136,0.2236068,-22.137073\n288.434949,9.9,7.5,22.1359436,3.1622777,0.3162278,-31.3065488\n63.434949,9.8,7.3,8.9442719,4.472136,0.2236068,-22.137073\n135,9.7,9.3,7.0710678,7.0710678,0.1414214,-14.0007143\n270,9.7,9.5,0,10,0.2,-9.8\n45,9.6,9.4,7.0710678,7.0710678,0.1414214,-14.0007143\n0,7.7,9.6,0,10,0.2,-9.8\n270,7.2,9.4,0,10,0.2,-9.8\n26.565051,7,9.3,13.4164079,4.472136,0.2236068,-22.137073\n0,9.50621,9.4965,0,10,0,-10\n0,9.74569,7.67586,0,10,0,-10\n0,9.63792,6.11833,0,10,0,-10\n0,9.738,4.37033,0,10,0,-10\n0,9.63022,2.81279,0,10,0,-10\n0,9.7303,1.06479,0,10,0,-10\n0,9.70684,8.00076,0,10,0,-10\n0,9.52225,5.63173,0,10,0,-10\n0,9.88807,2.91205,0,10,0,-10\n0,8.06768,9.52227,0,10,0,-10\n0,7.07904,9.39211,0,10,0,-10\n0,9.68306,8.79577,0,10,0,-10\n0,9.98498,7.89635,0,10,0,-10\n0,9.57343,5.02467,0,10,0,-10\n0,9.5402,4.08112,0,10,0,-10\n0,9.84213,3.18171,0,10,0,-10\n0,9.43058,0.31003,0,10,0,-10\n243.434949,7.8,9.8,8.9442719,4.472136,0.2236068,-22.137073\n116.565051,7.9,9.6,13.4164079,4.472136,0.2236068,-22.137073\n180,6,9.7,0,10,0.2,-9.8\n270,6,9.9,0,10,0.2,-9.8\n45,5.8,9.7,7.0710678,7.0710678,0.2828427,-13.8592929\n296.565051,4.1,10,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,4,9.8,8.9442719,4.472136,0.2236068,-22.137073\n180,4.2,9.8,0,10,0.2,-9.8\n135,3.4,9.4,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,3.5,9.6,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,3.3,9.5,13.4164079,4.472136,0.2236068,-22.137073\n116.565051,3.1,9.3,13.4164079,4.472136,0.2236068,-22.137073\n225,3,9.5,7.0710678,7.0710678,0.2828427,-13.8592929\n45,0,9.7,7.0710678,7.0710678,0.2828427,-13.8592929\n161.565051,0.3,9.6,9.486833,3.1622777,0.3162278,-31.3065488\n288.434949,0.2,9.9,22.1359436,3.1622777,0.3162278,-31.3065488\n0,3.66398,9.93614,0,10,0,-10\n0,2.14162,9.67482,0,10,0,-10\n0,0.61927,9.41351,0,10,0,-10\n0,6.87779,9.80307,0,10,0,-10\n0,5.4843,9.86194,0,10,0,-10\n0,2.69731,9.9797,0,10,0,-10\n0,4.47502,9.98845,0,10,0,-10\n0,3.82153,9.90242,0,10,0,-10\n0,2.17293,9.68537,0,10,0,-10\n0,1.18429,9.55522,0,10,0,-10\n0,0.5308,9.46918,0,10,0,-10\n0,1.28632,9.77499,0,10,0,-10\n0,2.6266,9.95879,0,10,0,-10\n0,5.2692,9.45264,0,10,0,-10\n0,6.60948,9.63644,0,10,0,-10\n0,7.92801,9.80355,0,10,0,-10\n0,9.66478,9.68531,0,10,0,-10\n0,8.27128,9.74419,0,10,0,-10\n0,9.71629,9.73931,0,10,0,-10\n0,9.28383,9.99927,0,10,0,-10\n"),!1),k(N.ParsePatFile("\n*AR-CONC,AR-CONC\n50, 0,0, 4.12975034,-5.89789472, .75,-8.25\n355, 0,0, -2.03781207,7.3723684, .6,-6.6\n100.4514, .5977168,-.0522934, 5.7305871,-6.9397673, .6374019,-7.01142112\n46.1842, 0,2, 6.19462551,-8.84684208, 1.125,-12.375\n96.6356, .88936745,1.86206693, 8.59588071,-10.40965104, .95610288,-10.51713\n351.1842, 0,2, 7.74328189,11.0585526, .9,-9.9\n21, 1,1.5, 4.12975034,-5.89789472, .75,-8.25\n326, 1,1.5, -2.03781207,7.3723684, .6,-6.6\n71.4514, 1.49742233,1.16448394, 5.7305871,-6.9397673, .6374019,-7.01142112\n37.5, 0,0, 2.123,2.567, 0,-6.52,0,-6.7,0,-6.625\n7.5, 0,0, 3.123,3.567, 0,-3.82,0,-6.37,0,-2.525\n-32.5, -2.23,0, 4.6234,2.678, 0,-2.5,0,-7.8,0,-10.35\n-42.5, -3.23,0, 3.6234,4.678, 0,-3.25,0,-5.18,0,-7.35\n"),!1),k(N.ParsePatFile("\n*AR-HBONE,AR-HBONE\n45, 0,0, 4,4, 12,-4\n135, 2.82842713,2.82842713, 4,-4, 12,-4\n"),!1),k(N.ParsePatFile("\n*AR-PARQ1,AR-PARQ1\n90, 0,0, 12,12, 12,-12\n90, 2,0, 12,12, 12,-12\n90, 4,0, 12,12, 12,-12\n90, 6,0, 12,12, 12,-12\n90, 8,0, 12,12, 12,-12\n90, 10,0, 12,12, 12,-12\n90, 12,0, 12,12, 12,-12\n0, 0,12, 12,-12, 12,-12\n0, 0,14, 12,-12, 12,-12\n0, 0,16, 12,-12, 12,-12\n0, 0,18, 12,-12, 12,-12\n0, 0,20, 12,-12, 12,-12\n0, 0,22, 12,-12, 12,-12\n0, 0,24, 12,-12, 12,-12\n"),!1),k(N.ParsePatFile("\n*AR-RROOF,AR-RROOF\n0, 0,0, 2.2,1, 15,-2,5,-1\n0, 1.33,.5, -1,1.33, 3,-.33,6,-.75\n0, .5,.85, 5.2,.67, 8,-1.4,4,-1\n"),!1),k(N.ParsePatFile("\n*AR-RSHKE,AR-RSHKE\n0, 0,0, 25.5,12, 6,-5,7,-3,9,-4\n0, 6,.5, 25.5,12, 5,-19,4,-6\n0, 18,-.75, 25.5,12, 3,-31\n90, 0,0, 12,8.5, 11.5,-36.5\n90, 6,0, 12,8.5, 11.25,-36.75\n90, 11,0, 12,8.5, 10.5,-37.5\n90, 18,-.75, 12,8.5, 11.5,-36.5\n90, 21,-.75, 12,8.5, 11.5,-36.5\n90, 30,0, 12,8.5, 11,-37\n"),!1),k(N.ParsePatFile("\n*AR-SAND,AR-SAND\n37.5, 0,0, 1.123,1.567, 0,-1.52,0,-1.7,0,-1.625\n7.5, 0,0, 2.123,2.567, 0,-.82,0,-1.37,0,-.525\n-32.5, -1.23,0, 2.6234,1.678, 0,-.5,0,-1.8,0,-2.35\n-42.5, -1.23,0, 1.6234,2.678, 0,-.25,0,-1.18,0,-1.35\n"),!1),k(N.ParsePatFile("\n*BARBWIRE,BARBWIRE\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n315,0.3,0.56,0.70710678,0.70710678,0.01414214,-1.40007143\n288.434949,0.26,0.68,2.21359436,0.31622777,0.12649111,-3.03578655\n158.198591,0.31,0.66,3.15682075,0.18569534,0.05385165,-5.33131316\n116.565051,0.32,0.64,1.34164079,0.4472136,0.02236068,-2.2137073\n116.565051,0.34,0.6,1.34164079,0.4472136,0.04472136,-2.19134662\n111.801409,0.44,0.39,2.22834406,0.18569534,0.05385165,-5.33131316\n156.801409,0.51,0.36,5.38356375,0.13130643,0.07615773,-7.53961537\n289.653824,0.46,0.5,11.70450662,0.06726728,0.14866069,-14.71740806\n194.036243,0.31,0.36,3.15296313,0.24253563,0.04123106,-4.08187457\n251.565051,0.32,0.39,0.9486833,0.31622777,0.03162278,-3.13065488\n254.054604,0.34,0.46,4.12081692,0.13736056,0.0728011,-7.20730879\n74.744881,0.34,0.46,4.12217269,0.0877058,0.11401754,-11.28773671\n135,0.36,0.44,0.70710678,0.70710678,0.02828427,-1.38592929\n180,0.39,0.44,0,1,0.03,-0.97\n270,0.39,0.45,0,1,0.01,-0.99\n74.054604,0.39,0.45,4.12081692,0.13736056,0.1456022,-7.13450769\n161.565051,0.42,0.44,0.9486833,0.31622777,0.03162278,-3.13065488\n198.434949,0.45,0.45,2.21359436,0.31622777,0.03162278,-3.13065488\n258.231711,0.5,0.69,5.09885635,0.04079085,0.24515301,-24.27014833\n21.801409,0.45,0.67,2.22834406,0.18569534,0.05385165,-5.33131316\n75.963757,0.43,0.59,0.9701425,0.24253563,0.08246211,-4.04064351\n341.565051,0.4,0.6,0.9486833,0.31622777,0.03162278,-3.13065488\n45,0.37,0.57,0.70710678,0.70710678,0.04242641,-1.37178716\n288.434949,0.36,0.6,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.34,0.6,0,1,0.02,-0.98\n26.565051,0.32,0.59,1.34164079,0.4472136,0.02236068,-2.2137073\n78.231711,0.27,0.35,5.09885635,0.04079085,0.24515301,-24.27014833\n4.085617,0.78,0.48,13.03821015,0.07124705,0.14035669,-13.89531216\n0,0.69,0.48,0,1,0.09,-0.91\n354.289407,0.59,0.49,0.99503719,0.09950372,0.10049876,-9.94937686\n356.185925,0.47,0.55,0.99778516,0.06651901,0.15033296,-14.88296341\n351.469234,0.8,0.55,7.07089492,0.04944682,0.20223748,-20.02151093\n0,0.66,0.55,0,1,0.14,-0.86\n14.036243,0.46,0.5,3.15296313,0.24253563,0.20615528,-3.91695034\n189.865807,0.7,0.51,17.26262336,0.04283529,0.23345235,-23.11178271\n180,0.8,0.51,0,1,0.1,-0.9\n171.469234,1,0.48,7.07089492,0.04944682,0.20223748,-20.02151093\n186.115504,1,0.56,9.05531551,0.03551104,0.15644586,-28.00380982\n5.52754,0.13777778,0.53333333,10.04982433,0.03210806,0.17302679,-30.97179621\n3.691386,0,0.48,15.03326191,0.03219114,0.1515339,-30.91291524\n348.310631,0,0.52,5.0989077,0.0337676,0.29614186,-29.31804393\n348.690068,0,0.56,0.98058068,0.19611614,0.30594117,-4.79307834\n"),!1),k(N.ParsePatFile("\n*BLOCKS-01,BLOCKS-01 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.31,0.66,1,1,0.22,-0.78\n180,0.08,0.09,0,1,0.57,-0.43\n270,0.08,0.09,1,1,0.21,-0.79\n180,0.08,0.88,0,1,0.57,-0.43\n270,0.51,0.09,1,1,0.21,-0.79\n270,0.89,0.32,1,1,0.2,-0.8\n0,0.49,0.32,0,1,0.4,-0.6\n90,0.49,0.12,1,1,0.2,-0.8\n180,0.89,0.12,0,1,0.4,-0.6\n270,0.69,0.84,1,1,0.48,-0.52\n0,0.48,0.84,0,1,0.21,-0.79\n90,0.48,0.36,1,1,0.48,-0.52\n180,0.69,0.36,0,1,0.21,-0.79\n270,0.12,0.03,1,1,0.33,-0.67\n0,0.12,0.7,0,1,0.32,-0.68\n270,0.44,0.03,1,1,0.33,-0.67\n0,0.12,0.03,0,1,0.32,-0.68\n270,0.45,0.67,1,1,0.24,-0.76\n0,0.36,0.67,0,1,0.09,-0.91\n90,0.36,0.43,1,1,0.24,-0.76\n180,0.45,0.43,0,1,0.09,-0.91\n270,0.45,0.4,1,1,0.33,-0.67\n0,0.11,0.4,0,1,0.34,-0.66\n90,0.11,0.07,1,1,0.33,-0.67\n180,0.45,0.07,0,1,0.34,-0.66\n270,0.89,0.41,1,1,0.06,-0.94\n0,0.73,0.41,0,1,0.16,-0.84\n90,0.73,0.35,1,1,0.06,-0.94\n180,0.89,0.35,0,1,0.16,-0.84\n180,0.07,0.4,0,1,0.14,-0.86\n270,0.93,0.4,1,1,0.27,-0.73\n180,0.07,0.13,0,1,0.14,-0.86\n270,0.07,0.4,1,1,0.27,-0.73\n180,0.08,0.81,0,1,0.34,-0.66\n270,0.74,0.81,1,1,0.1,-0.9\n180,0.08,0.71,0,1,0.34,-0.66\n270,0.08,0.81,1,1,0.1,-0.9\n180,0.31,0.66,0,1,0.59,-0.41\n270,0.72,0.66,1,1,0.22,-0.78\n180,0.31,0.44,0,1,0.59,-0.41\n"),!1),k(N.ParsePatFile("\n*BLOCKS-02,BLOCKS-02 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.32,0.18,0,1,0.49,-0.51\n270,0.32,0.55,1,1,0.37,-0.63\n0,0.37,0.96,0,1,0.42,-0.58\n0,0.17,0.98,0,1,0.17,-0.83\n90,0.82,0,1,1,0.15,-0.85\n180,0.92,0,0,1,0.1,-0.9\n180,0.32,0.55,0,1,0.49,-0.51\n270,0.83,0.55,1,1,0.37,-0.63\n180,0.13,0.8,0,1,0.18,-0.82\n90,0.14,0.59,1,1,0.17,-0.83\n270,0.13,0.15,1,1,0.35,-0.65\n180,0.71,0.59,0,1,0.57,-0.43\n270,0.92,0.15,1,1,0.15,-0.85\n0,0.82,0.15,0,1,0.1,-0.9\n270,0.71,0.76,1,1,0.17,-0.83\n0,0.14,0.76,0,1,0.57,-0.43\n180,0.08,0.59,0,1,0.32,-0.68\n270,0.08,0.76,1,1,0.17,-0.83\n180,0.13,0.15,0,1,0.18,-0.82\n270,0.95,0.15,1,1,0.35,-0.65\n90,0.18,0.8,1,1,0.13,-0.87\n180,0.91,0.8,0,1,0.73,-0.27\n180,0.08,0.76,0,1,0.32,-0.68\n270,0.76,0.76,1,1,0.17,-0.83\n270,0.34,0.15,1,1,0.17,-0.83\n0,0.17,0.15,0,1,0.17,-0.83\n270,0.91,0.93,1,1,0.13,-0.87\n0,0.18,0.93,0,1,0.73,-0.27\n0,0.37,0.55,0,1,0.42,-0.58\n270,0.37,0.55,1,1,0.59,-0.41\n270,0.17,0.15,1,1,0.17,-0.83\n270,0.79,0.55,1,1,0.59,-0.41\n"),!1),k(N.ParsePatFile("\n*BOXJOIN-01,BOXJOIN-01 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n90,0.15000001,0.15,1,1,0.7,-0.3\n0,0.15000001,0.85,0,1,0.7,-0.3\n270,0.45000001,0.15,1,1,0.3,-0.7\n180,0.15000001,0.45,0,1,0.3,-0.7\n270,0.55000001,0.15,1,1,0.3,-0.7\n180,0.85000001,0.15,0,1,0.7,-0.3\n270,0.85000001,0.85,1,1,0.7,-0.3\n180,0.15000001,0.55,0,1,0.3,-0.7\n"),!1),k(N.ParsePatFile("\n*BOXJOIN-02,BOXJOIN-02 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n90,0.15000001,0.55,1,1,0.3,-0.7\n270,0.85000001,0.85,1,1,0.3,-0.7\n0,0.55000001,0.85,0,1,0.3,-0.7\n180,0.15000001,0.55,0,1,0.3,-0.7\n90,0.15000001,0.15,1,1,0.3,-0.7\n180,0.45000001,0.15,0,1,0.3,-0.7\n180,0.15000001,0.45,0,1,0.3,-0.7\n180,0.85000001,0.15,0,1,0.3,-0.7\n270,0.85000001,0.45,1,1,0.3,-0.7\n270,0.45000001,0.15,1,1,0.3,-0.7\n270,0.55000001,0.15,1,1,0.3,-0.7\n0,0.15000001,0.85,0,1,0.3,-0.7\n"),!1),k(N.ParsePatFile("\n*BOX,BOX\n90, 0,0, 0,1\n90, .25,0, 0,1\n0, 0,0, 0,1, -.25,.25\n0, 0,.25, 0,1, -.25,.25\n0, 0,.5, 0,1, .25,-.25\n0, 0,.75, 0,1, .25,-.25\n90, .5,0, 0,1, .25,-.25\n90, .75,0, 0,1, .25,-.25\n"),!1),k(N.ParsePatFile("\n*BOX-OVERLAP,BOX-OVERLAP verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.2,0.7,0,1,0.4,-0.6\n90,0.2,0.2,1,1,0.6,-0.4\n270,0.3,0.2,1,1,0.4,-0.6\n180,0.2,0.3,0,1,0.4,-0.6\n0,0.2,0.8,0,1,0.6,-0.4\n180,0.8,0.2,0,1,0.6,-0.4\n270,0.8,0.8,1,1,0.6,-0.4\n270,0.7,0.2,1,1,0.4,-0.6\n"),!1),k(N.ParsePatFile("\n*BRASS,BRASS\n0, 0,0, 0,.25\n0, 0,.125, 0,.25, .125,-.0625\n"),!1),k(N.ParsePatFile("\n*BRICK,BRICK\n0, 0,0, 0,.25\n90, 0,0, 0,.5, .25,-.25\n90, .25,0, 0,.5, -.25,.25\n"),!1),k(N.ParsePatFile("\n*BRSTONE,BRSTONE\n0, 0,0, 0,.33\n90, .9,0, .33,.5, .33,-.33\n90, .8,0, .33,.5, .33,-.33\n0, .9,.055, .5,.33, -.9,.1\n0, .9,.11, .5,.33, -.9,.1\n0, .9,.165, .5,.33, -.9,.1\n0, .9,.22, .5,.33, -.9,.1\n0, .9,.275, .5,.33, -.9,.1\n"),!1),k(N.ParsePatFile("\n*BUBBLES-01,BUBBLES-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n0,0.058964,0.016739,0,1,0,-1\n0,0.062236,0.033193,0,1,0,-1\n0,0.067629,0.049078,0,1,0,-1\n0,0.075048,0.064123,0,1,0,-1\n0,0.084368,0.078071,0,1,0,-1\n0,0.095429,0.090684,0,1,0,-1\n0,0.108041,0.101745,0,1,0,-1\n0,0.12199,0.111065,0,1,0,-1\n0,0.137035,0.118484,0,1,0,-1\n0,0.15292,0.123876,0,1,0,-1\n0,0.169373,0.127149,0,1,0,-1\n0,0.186113,0.128246,0,1,0,-1\n0,0.202852,0.127149,0,1,0,-1\n0,0.219305,0.123876,0,1,0,-1\n0,0.23519,0.118484,0,1,0,-1\n0,0.250236,0.111065,0,1,0,-1\n0,0.264184,0.101745,0,1,0,-1\n0,0.276796,0.090684,0,1,0,-1\n0,0.287857,0.078071,0,1,0,-1\n0,0.297177,0.064123,0,1,0,-1\n0,0.304597,0.049078,0,1,0,-1\n0,0.309989,0.033193,0,1,0,-1\n0,0.313262,0.016739,0,1,0,-1\n0,0.120008,0.220248,0,1,0,-1\n0,0.117478,0.203192,0,1,0,-1\n0,0.113288,0.186467,0,1,0,-1\n0,0.10748,0.170233,0,1,0,-1\n0,0.100108,0.154647,0,1,0,-1\n0,0.091244,0.139858,0,1,0,-1\n0,0.080973,0.126009,0,1,0,-1\n0,0.069394,0.113234,0,1,0,-1\n0,0.056618,0.101655,0,1,0,-1\n0,0.04277,0.091384,0,1,0,-1\n0,0.027981,0.08252,0,1,0,-1\n0,0.012394,0.075148,0,1,0,-1\n0,0.012394,0.39979,0,1,0,-1\n0,0.027981,0.392418,0,1,0,-1\n0,0.04277,0.383554,0,1,0,-1\n0,0.056618,0.373283,0,1,0,-1\n0,0.069394,0.361704,0,1,0,-1\n0,0.080973,0.348929,0,1,0,-1\n0,0.091244,0.33508,0,1,0,-1\n0,0.100108,0.320291,0,1,0,-1\n0,0.10748,0.304704,0,1,0,-1\n0,0.113288,0.28847,0,1,0,-1\n0,0.117478,0.271745,0,1,0,-1\n0,0.120008,0.25469,0,1,0,-1\n0,0.120854,0.237469,0,1,0,-1\n0,0.738076,0.372319,0,1,0,-1\n0,0.732613,0.356706,0,1,0,-1\n0,0.723812,0.3427,0,1,0,-1\n0,0.712116,0.331003,0,1,0,-1\n0,0.69811,0.322203,0,1,0,-1\n0,0.682497,0.316739,0,1,0,-1\n0,0.666059,0.314887,0,1,0,-1\n0,0.649622,0.316739,0,1,0,-1\n0,0.634009,0.322203,0,1,0,-1\n0,0.620003,0.331003,0,1,0,-1\n0,0.608306,0.3427,0,1,0,-1\n0,0.599506,0.356706,0,1,0,-1\n0,0.594042,0.372319,0,1,0,-1\n0,0.59219,0.388756,0,1,0,-1\n0,0.594042,0.405194,0,1,0,-1\n0,0.599506,0.420807,0,1,0,-1\n0,0.608306,0.434813,0,1,0,-1\n0,0.620003,0.44651,0,1,0,-1\n0,0.634009,0.45531,0,1,0,-1\n0,0.649622,0.460773,0,1,0,-1\n0,0.666059,0.462625,0,1,0,-1\n0,0.682497,0.460773,0,1,0,-1\n0,0.69811,0.45531,0,1,0,-1\n0,0.712116,0.44651,0,1,0,-1\n0,0.723812,0.434813,0,1,0,-1\n0,0.732613,0.420807,0,1,0,-1\n0,0.738076,0.405194,0,1,0,-1\n0,0.739928,0.388756,0,1,0,-1\n0,0.834916,0.831041,0,1,0,-1\n0,0.821448,0.840826,0,1,0,-1\n0,0.810309,0.853198,0,1,0,-1\n0,0.462763,0.750408,0,1,0,-1\n0,0.458683,0.734294,0,1,0,-1\n0,0.452005,0.71907,0,1,0,-1\n0,0.442913,0.705153,0,1,0,-1\n0,0.431654,0.692923,0,1,0,-1\n0,0.418536,0.682713,0,1,0,-1\n0,0.403916,0.674801,0,1,0,-1\n0,0.388193,0.669403,0,1,0,-1\n0,0.371796,0.666667,0,1,0,-1\n0,0.355172,0.666667,0,1,0,-1\n0,0.338776,0.669403,0,1,0,-1\n0,0.323053,0.674801,0,1,0,-1\n0,0.308433,0.682713,0,1,0,-1\n0,0.295314,0.692923,0,1,0,-1\n0,0.284056,0.705153,0,1,0,-1\n0,0.274963,0.71907,0,1,0,-1\n0,0.268286,0.734294,0,1,0,-1\n0,0.264205,0.750408,0,1,0,-1\n0,0.262832,0.766975,0,1,0,-1\n0,0.264205,0.783542,0,1,0,-1\n0,0.268286,0.799657,0,1,0,-1\n0,0.274963,0.81488,0,1,0,-1\n0,0.284056,0.828797,0,1,0,-1\n0,0.295314,0.841027,0,1,0,-1\n0,0.308433,0.851238,0,1,0,-1\n0,0.323053,0.85915,0,1,0,-1\n0,0.403916,0.85915,0,1,0,-1\n0,0.418536,0.851238,0,1,0,-1\n0,0.431654,0.841027,0,1,0,-1\n0,0.442913,0.828797,0,1,0,-1\n0,0.452005,0.81488,0,1,0,-1\n0,0.458683,0.799657,0,1,0,-1\n0,0.462763,0.783542,0,1,0,-1\n0,0.464136,0.766975,0,1,0,-1\n0,0.821196,0.648394,0,1,0,-1\n0,0.818556,0.631724,0,1,0,-1\n0,0.814188,0.615423,0,1,0,-1\n0,0.808139,0.599667,0,1,0,-1\n0,0.800477,0.584629,0,1,0,-1\n0,0.791286,0.570475,0,1,0,-1\n0,0.780665,0.557359,0,1,0,-1\n0,0.768731,0.545425,0,1,0,-1\n0,0.755615,0.534804,0,1,0,-1\n0,0.741461,0.525612,0,1,0,-1\n0,0.726423,0.51795,0,1,0,-1\n0,0.710667,0.511902,0,1,0,-1\n0,0.694365,0.507534,0,1,0,-1\n0,0.677696,0.504894,0,1,0,-1\n0,0.660842,0.504011,0,1,0,-1\n0,0.643989,0.504894,0,1,0,-1\n0,0.627319,0.507534,0,1,0,-1\n0,0.611018,0.511902,0,1,0,-1\n0,0.595262,0.51795,0,1,0,-1\n0,0.580224,0.525612,0,1,0,-1\n0,0.56607,0.534804,0,1,0,-1\n0,0.552954,0.545425,0,1,0,-1\n0,0.54102,0.557359,0,1,0,-1\n0,0.530399,0.570475,0,1,0,-1\n0,0.521207,0.584629,0,1,0,-1\n0,0.513545,0.599667,0,1,0,-1\n0,0.507497,0.615423,0,1,0,-1\n0,0.503129,0.631724,0,1,0,-1\n0,0.500489,0.648394,0,1,0,-1\n0,0.499606,0.665247,0,1,0,-1\n0,0.500489,0.682101,0,1,0,-1\n0,0.503129,0.69877,0,1,0,-1\n0,0.507497,0.715072,0,1,0,-1\n0,0.513545,0.730828,0,1,0,-1\n0,0.521207,0.745866,0,1,0,-1\n0,0.530399,0.76002,0,1,0,-1\n0,0.54102,0.773136,0,1,0,-1\n0,0.552954,0.785069,0,1,0,-1\n0,0.56607,0.795691,0,1,0,-1\n0,0.580224,0.804882,0,1,0,-1\n0,0.595262,0.812544,0,1,0,-1\n0,0.611018,0.818592,0,1,0,-1\n0,0.627319,0.822961,0,1,0,-1\n0,0.643989,0.825601,0,1,0,-1\n0,0.660842,0.826484,0,1,0,-1\n0,0.677696,0.825601,0,1,0,-1\n0,0.694365,0.822961,0,1,0,-1\n0,0.710667,0.818592,0,1,0,-1\n0,0.726423,0.812544,0,1,0,-1\n0,0.741461,0.804882,0,1,0,-1\n0,0.755615,0.795691,0,1,0,-1\n0,0.768731,0.785069,0,1,0,-1\n0,0.780665,0.773136,0,1,0,-1\n0,0.791286,0.76002,0,1,0,-1\n0,0.800477,0.745866,0,1,0,-1\n0,0.808139,0.730828,0,1,0,-1\n0,0.814188,0.715072,0,1,0,-1\n0,0.818556,0.69877,0,1,0,-1\n0,0.821196,0.682101,0,1,0,-1\n0,0.822079,0.665247,0,1,0,-1\n0,0.524311,0.381738,0,1,0,-1\n0,0.521577,0.364477,0,1,0,-1\n0,0.517054,0.347597,0,1,0,-1\n0,0.510791,0.331282,0,1,0,-1\n0,0.502858,0.315711,0,1,0,-1\n0,0.49334,0.301054,0,1,0,-1\n0,0.482342,0.287473,0,1,0,-1\n0,0.469984,0.275116,0,1,0,-1\n0,0.456403,0.264118,0,1,0,-1\n0,0.441747,0.2546,0,1,0,-1\n0,0.426175,0.246666,0,1,0,-1\n0,0.40986,0.240403,0,1,0,-1\n0,0.39298,0.23588,0,1,0,-1\n0,0.375719,0.233146,0,1,0,-1\n0,0.358267,0.232232,0,1,0,-1\n0,0.340816,0.233146,0,1,0,-1\n0,0.323555,0.23588,0,1,0,-1\n0,0.306674,0.240403,0,1,0,-1\n0,0.290359,0.246666,0,1,0,-1\n0,0.274788,0.2546,0,1,0,-1\n0,0.260132,0.264118,0,1,0,-1\n0,0.246551,0.275116,0,1,0,-1\n0,0.234193,0.287473,0,1,0,-1\n0,0.223195,0.301054,0,1,0,-1\n0,0.213677,0.315711,0,1,0,-1\n0,0.205743,0.331282,0,1,0,-1\n0,0.199481,0.347597,0,1,0,-1\n0,0.194958,0.364477,0,1,0,-1\n0,0.192224,0.381738,0,1,0,-1\n0,0.191309,0.39919,0,1,0,-1\n0,0.192224,0.416642,0,1,0,-1\n0,0.194958,0.433903,0,1,0,-1\n0,0.199481,0.450783,0,1,0,-1\n0,0.205743,0.467098,0,1,0,-1\n0,0.213677,0.482669,0,1,0,-1\n0,0.223195,0.497326,0,1,0,-1\n0,0.234193,0.510907,0,1,0,-1\n0,0.246551,0.523264,0,1,0,-1\n0,0.260132,0.534262,0,1,0,-1\n0,0.274788,0.54378,0,1,0,-1\n0,0.290359,0.551714,0,1,0,-1\n0,0.306674,0.557977,0,1,0,-1\n0,0.323555,0.5625,0,1,0,-1\n0,0.340816,0.565234,0,1,0,-1\n0,0.358267,0.566148,0,1,0,-1\n0,0.375719,0.565234,0,1,0,-1\n0,0.39298,0.5625,0,1,0,-1\n0,0.40986,0.557977,0,1,0,-1\n0,0.426175,0.551714,0,1,0,-1\n0,0.441747,0.54378,0,1,0,-1\n0,0.456403,0.534262,0,1,0,-1\n0,0.469984,0.523264,0,1,0,-1\n0,0.482342,0.510907,0,1,0,-1\n0,0.49334,0.497326,0,1,0,-1\n0,0.502858,0.482669,0,1,0,-1\n0,0.510791,0.467098,0,1,0,-1\n0,0.517054,0.450783,0,1,0,-1\n0,0.521577,0.433903,0,1,0,-1\n0,0.524311,0.416642,0,1,0,-1\n0,0.525226,0.39919,0,1,0,-1\n0,0.847548,0.091384,0,1,0,-1\n0,0.833699,0.101655,0,1,0,-1\n0,0.820923,0.113234,0,1,0,-1\n0,0.809345,0.126009,0,1,0,-1\n0,0.799074,0.139858,0,1,0,-1\n0,0.790209,0.154647,0,1,0,-1\n0,0.782838,0.170233,0,1,0,-1\n0,0.777029,0.186467,0,1,0,-1\n0,0.77284,0.203192,0,1,0,-1\n0,0.77031,0.220248,0,1,0,-1\n0,0.769464,0.237469,0,1,0,-1\n0,0.77031,0.25469,0,1,0,-1\n0,0.77284,0.271745,0,1,0,-1\n0,0.777029,0.28847,0,1,0,-1\n0,0.782838,0.304704,0,1,0,-1\n0,0.790209,0.320291,0,1,0,-1\n0,0.799074,0.33508,0,1,0,-1\n0,0.809345,0.348929,0,1,0,-1\n0,0.820923,0.361704,0,1,0,-1\n0,0.833699,0.373283,0,1,0,-1\n0,0.847548,0.383554,0,1,0,-1\n0,0.241252,0.63247,0,1,0,-1\n0,0.238633,0.614814,0,1,0,-1\n0,0.234297,0.5975,0,1,0,-1\n0,0.228283,0.580695,0,1,0,-1\n0,0.220652,0.56456,0,1,0,-1\n0,0.211476,0.54925,0,1,0,-1\n0,0.200843,0.534914,0,1,0,-1\n0,0.188857,0.521689,0,1,0,-1\n0,0.175632,0.509702,0,1,0,-1\n0,0.161296,0.49907,0,1,0,-1\n0,0.145986,0.489894,0,1,0,-1\n0,0.129851,0.482262,0,1,0,-1\n0,0.113046,0.476249,0,1,0,-1\n0,0.095732,0.471912,0,1,0,-1\n0,0.078076,0.469293,0,1,0,-1\n0,0.060249,0.468417,0,1,0,-1\n0,0.042421,0.469293,0,1,0,-1\n0,0.024766,0.471912,0,1,0,-1\n0,0.007452,0.476249,0,1,0,-1\n0,0.007452,0.824345,0,1,0,-1\n0,0.024766,0.828682,0,1,0,-1\n0,0.042421,0.831301,0,1,0,-1\n0,0.060249,0.832177,0,1,0,-1\n0,0.078076,0.831301,0,1,0,-1\n0,0.095732,0.828682,0,1,0,-1\n0,0.113046,0.824345,0,1,0,-1\n0,0.129851,0.818332,0,1,0,-1\n0,0.145986,0.8107,0,1,0,-1\n0,0.161296,0.801524,0,1,0,-1\n0,0.175632,0.790892,0,1,0,-1\n0,0.188857,0.778905,0,1,0,-1\n0,0.200843,0.76568,0,1,0,-1\n0,0.211476,0.751344,0,1,0,-1\n0,0.220652,0.736034,0,1,0,-1\n0,0.228283,0.719899,0,1,0,-1\n0,0.234297,0.703094,0,1,0,-1\n0,0.238633,0.68578,0,1,0,-1\n0,0.241252,0.668124,0,1,0,-1\n0,0.242128,0.650297,0,1,0,-1\n0,0.771442,0.048085,0,1,0,-1\n0,0.768672,0.029409,0,1,0,-1\n0,0.764084,0.011095,0,1,0,-1\n0,0.39588,0.011095,0,1,0,-1\n0,0.391292,0.029409,0,1,0,-1\n0,0.388522,0.048085,0,1,0,-1\n0,0.387595,0.066942,0,1,0,-1\n0,0.388522,0.085799,0,1,0,-1\n0,0.391292,0.104475,0,1,0,-1\n0,0.39588,0.122789,0,1,0,-1\n0,0.40224,0.140565,0,1,0,-1\n0,0.410312,0.157632,0,1,0,-1\n0,0.420018,0.173826,0,1,0,-1\n0,0.431265,0.18899,0,1,0,-1\n0,0.443944,0.20298,0,1,0,-1\n0,0.457933,0.215659,0,1,0,-1\n0,0.473098,0.226905,0,1,0,-1\n0,0.489292,0.236612,0,1,0,-1\n0,0.506359,0.244684,0,1,0,-1\n0,0.524135,0.251044,0,1,0,-1\n0,0.542449,0.255632,0,1,0,-1\n0,0.561125,0.258402,0,1,0,-1\n0,0.579982,0.259328,0,1,0,-1\n0,0.598839,0.258402,0,1,0,-1\n0,0.617515,0.255632,0,1,0,-1\n0,0.635829,0.251044,0,1,0,-1\n0,0.653605,0.244684,0,1,0,-1\n0,0.670672,0.236612,0,1,0,-1\n0,0.686866,0.226905,0,1,0,-1\n0,0.702031,0.215659,0,1,0,-1\n0,0.71602,0.20298,0,1,0,-1\n0,0.728699,0.18899,0,1,0,-1\n0,0.739945,0.173826,0,1,0,-1\n0,0.749652,0.157632,0,1,0,-1\n0,0.757724,0.140565,0,1,0,-1\n0,0.764084,0.122789,0,1,0,-1\n0,0.768672,0.104475,0,1,0,-1\n0,0.771442,0.085799,0,1,0,-1\n0,0.772368,0.066942,0,1,0,-1\n0,0.990646,0.482262,0,1,0,-1\n0,0.974511,0.489894,0,1,0,-1\n0,0.959202,0.49907,0,1,0,-1\n0,0.944866,0.509702,0,1,0,-1\n0,0.93164,0.521689,0,1,0,-1\n0,0.919654,0.534914,0,1,0,-1\n0,0.909021,0.54925,0,1,0,-1\n0,0.899845,0.56456,0,1,0,-1\n0,0.892214,0.580695,0,1,0,-1\n0,0.886201,0.5975,0,1,0,-1\n0,0.881864,0.614814,0,1,0,-1\n0,0.879245,0.63247,0,1,0,-1\n0,0.878369,0.650297,0,1,0,-1\n0,0.879245,0.668124,0,1,0,-1\n0,0.881864,0.68578,0,1,0,-1\n0,0.886201,0.703094,0,1,0,-1\n0,0.892214,0.719899,0,1,0,-1\n0,0.899845,0.736034,0,1,0,-1\n0,0.909021,0.751344,0,1,0,-1\n0,0.919654,0.76568,0,1,0,-1\n0,0.93164,0.778905,0,1,0,-1\n0,0.944866,0.790892,0,1,0,-1\n0,0.959202,0.801524,0,1,0,-1\n0,0.974511,0.8107,0,1,0,-1\n0,0.990646,0.818332,0,1,0,-1\n0,0.947478,0.867615,0,1,0,-1\n0,0.939155,0.853198,0,1,0,-1\n0,0.928015,0.840826,0,1,0,-1\n0,0.914547,0.831041,0,1,0,-1\n0,0.899339,0.82427,0,1,0,-1\n0,0.883055,0.820809,0,1,0,-1\n0,0.866408,0.820809,0,1,0,-1\n0,0.850124,0.82427,0,1,0,-1\n0,0.801985,0.867615,0,1,0,-1\n0,0.99616,0.069339,0,1,0,-1\n0,0.979435,0.06515,0,1,0,-1\n0,0.96238,0.06262,0,1,0,-1\n0,0.945159,0.061774,0,1,0,-1\n0,0.927938,0.06262,0,1,0,-1\n0,0.910882,0.06515,0,1,0,-1\n0,0.894157,0.069339,0,1,0,-1\n0,0.877923,0.075148,0,1,0,-1\n0,0.862337,0.08252,0,1,0,-1\n0,0.862337,0.392418,0,1,0,-1\n0,0.877923,0.39979,0,1,0,-1\n0,0.894157,0.405599,0,1,0,-1\n0,0.910882,0.409788,0,1,0,-1\n0,0.927938,0.412318,0,1,0,-1\n0,0.945159,0.413164,0,1,0,-1\n0,0.96238,0.412318,0,1,0,-1\n0,0.979435,0.409788,0,1,0,-1\n0,0.99616,0.405599,0,1,0,-1\n0,0.757724,0.993319,0,1,0,-1\n0,0.749652,0.976251,0,1,0,-1\n0,0.739945,0.960058,0,1,0,-1\n0,0.728699,0.944893,0,1,0,-1\n0,0.71602,0.930904,0,1,0,-1\n0,0.702031,0.918225,0,1,0,-1\n0,0.686866,0.906978,0,1,0,-1\n0,0.670672,0.897272,0,1,0,-1\n0,0.653605,0.8892,0,1,0,-1\n0,0.635829,0.882839,0,1,0,-1\n0,0.617515,0.878252,0,1,0,-1\n0,0.598839,0.875482,0,1,0,-1\n0,0.579982,0.874555,0,1,0,-1\n0,0.561125,0.875482,0,1,0,-1\n0,0.542449,0.878252,0,1,0,-1\n0,0.524135,0.882839,0,1,0,-1\n0,0.506359,0.8892,0,1,0,-1\n0,0.489292,0.897272,0,1,0,-1\n0,0.473098,0.906978,0,1,0,-1\n0,0.457933,0.918225,0,1,0,-1\n0,0.443944,0.930904,0,1,0,-1\n0,0.431265,0.944893,0,1,0,-1\n0,0.420018,0.960058,0,1,0,-1\n0,0.410312,0.976251,0,1,0,-1\n0,0.40224,0.993319,0,1,0,-1\n0,0.796841,0.883448,0,1,0,-1\n0,0.795101,0.900004,0,1,0,-1\n0,0.796841,0.91656,0,1,0,-1\n0,0.801985,0.932393,0,1,0,-1\n0,0.810309,0.94681,0,1,0,-1\n0,0.821448,0.959181,0,1,0,-1\n0,0.834916,0.968966,0,1,0,-1\n0,0.338776,0.864547,0,1,0,-1\n0,0.355172,0.867283,0,1,0,-1\n0,0.371796,0.867283,0,1,0,-1\n0,0.388193,0.864547,0,1,0,-1\n0,0.313262,0.983261,0,1,0,-1\n0,0.309989,0.966807,0,1,0,-1\n0,0.304597,0.950922,0,1,0,-1\n0,0.297177,0.935877,0,1,0,-1\n0,0.287857,0.921929,0,1,0,-1\n0,0.276796,0.909316,0,1,0,-1\n0,0.264184,0.898255,0,1,0,-1\n0,0.250236,0.888935,0,1,0,-1\n0,0.23519,0.881516,0,1,0,-1\n0,0.219305,0.876124,0,1,0,-1\n0,0.202852,0.872851,0,1,0,-1\n0,0.186113,0.871754,0,1,0,-1\n0,0.169373,0.872851,0,1,0,-1\n0,0.15292,0.876124,0,1,0,-1\n0,0.137035,0.881516,0,1,0,-1\n0,0.12199,0.888935,0,1,0,-1\n0,0.108041,0.898255,0,1,0,-1\n0,0.095429,0.909316,0,1,0,-1\n0,0.084368,0.921929,0,1,0,-1\n0,0.075048,0.935877,0,1,0,-1\n0,0.067629,0.950922,0,1,0,-1\n0,0.062236,0.966807,0,1,0,-1\n0,0.058964,0.983261,0,1,0,-1\n0,0.057866,1,0,1,0,-1\n0,0.314359,1,0,1,0,-1\n0,0.952623,0.883448,0,1,0,-1\n0,0.850124,0.975738,0,1,0,-1\n0,0.866408,0.979199,0,1,0,-1\n0,0.883055,0.979199,0,1,0,-1\n0,0.899339,0.975738,0,1,0,-1\n0,0.914547,0.968966,0,1,0,-1\n0,0.928015,0.959181,0,1,0,-1\n0,0.939155,0.94681,0,1,0,-1\n0,0.947478,0.932393,0,1,0,-1\n0,0.952623,0.91656,0,1,0,-1\n0,0.954363,0.900004,0,1,0,-1\n"),!1),k(N.ParsePatFile("\n*BUBBLES-02,BUBBLES-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n0,0.01243,0.139689,0,1,0,-1\n0,0.004689,0.124495,0,1,0,-1\n0,0.004689,0.188567,0,1,0,-1\n0,0.01243,0.173373,0,1,0,-1\n0,0.015098,0.156531,0,1,0,-1\n0,0.039159,0.550628,0,1,0,-1\n0,0.03308,0.534599,0,1,0,-1\n0,0.023341,0.52049,0,1,0,-1\n0,0.010509,0.509122,0,1,0,-1\n0,0.010509,0.626172,0,1,0,-1\n0,0.023341,0.614804,0,1,0,-1\n0,0.03308,0.600695,0,1,0,-1\n0,0.039159,0.584666,0,1,0,-1\n0,0.041226,0.567647,0,1,0,-1\n0,0.012655,0.061217,0,1,0,-1\n0,0.029343,0.064052,0,1,0,-1\n0,0.046244,0.065001,0,1,0,-1\n0,0.063146,0.064052,0,1,0,-1\n0,0.079834,0.061217,0,1,0,-1\n0,0.0961,0.05653,0,1,0,-1\n0,0.11174,0.050052,0,1,0,-1\n0,0.126555,0.041864,0,1,0,-1\n0,0.140361,0.032069,0,1,0,-1\n0,0.152983,0.020789,0,1,0,-1\n0,0.164263,0.008167,0,1,0,-1\n0,0.211752,0.623376,0,1,0,-1\n0,0.203326,0.608782,0,1,0,-1\n0,0.190416,0.597949,0,1,0,-1\n0,0.17458,0.592185,0,1,0,-1\n0,0.157727,0.592185,0,1,0,-1\n0,0.141891,0.597949,0,1,0,-1\n0,0.128981,0.608782,0,1,0,-1\n0,0.120555,0.623376,0,1,0,-1\n0,0.117628,0.639973,0,1,0,-1\n0,0.120555,0.65657,0,1,0,-1\n0,0.128981,0.671164,0,1,0,-1\n0,0.141891,0.681997,0,1,0,-1\n0,0.157727,0.687761,0,1,0,-1\n0,0.17458,0.687761,0,1,0,-1\n0,0.190416,0.681997,0,1,0,-1\n0,0.203326,0.671164,0,1,0,-1\n0,0.211752,0.65657,0,1,0,-1\n0,0.214678,0.639973,0,1,0,-1\n0,0.063146,0.764048,0,1,0,-1\n0,0.046244,0.763099,0,1,0,-1\n0,0.029343,0.764048,0,1,0,-1\n0,0.3178,0.248563,0,1,0,-1\n0,0.314583,0.232388,0,1,0,-1\n0,0.309282,0.216771,0,1,0,-1\n0,0.301988,0.20198,0,1,0,-1\n0,0.292825,0.188268,0,1,0,-1\n0,0.281951,0.175868,0,1,0,-1\n0,0.269552,0.164994,0,1,0,-1\n0,0.255839,0.155832,0,1,0,-1\n0,0.241048,0.148538,0,1,0,-1\n0,0.225431,0.143237,0,1,0,-1\n0,0.209256,0.140019,0,1,0,-1\n0,0.1928,0.138941,0,1,0,-1\n0,0.176343,0.140019,0,1,0,-1\n0,0.160168,0.143237,0,1,0,-1\n0,0.144551,0.148538,0,1,0,-1\n0,0.12976,0.155832,0,1,0,-1\n0,0.116047,0.164994,0,1,0,-1\n0,0.103648,0.175868,0,1,0,-1\n0,0.092774,0.188268,0,1,0,-1\n0,0.083612,0.20198,0,1,0,-1\n0,0.076318,0.216771,0,1,0,-1\n0,0.071016,0.232388,0,1,0,-1\n0,0.067799,0.248563,0,1,0,-1\n0,0.06672,0.26502,0,1,0,-1\n0,0.067799,0.281477,0,1,0,-1\n0,0.071016,0.297652,0,1,0,-1\n0,0.076318,0.313268,0,1,0,-1\n0,0.083612,0.32806,0,1,0,-1\n0,0.092774,0.341772,0,1,0,-1\n0,0.103648,0.354171,0,1,0,-1\n0,0.116047,0.365045,0,1,0,-1\n0,0.12976,0.374208,0,1,0,-1\n0,0.144551,0.381502,0,1,0,-1\n0,0.160168,0.386803,0,1,0,-1\n0,0.176343,0.390021,0,1,0,-1\n0,0.1928,0.391099,0,1,0,-1\n0,0.209256,0.390021,0,1,0,-1\n0,0.225431,0.386803,0,1,0,-1\n0,0.241048,0.381502,0,1,0,-1\n0,0.255839,0.374208,0,1,0,-1\n0,0.269552,0.365045,0,1,0,-1\n0,0.281951,0.354171,0,1,0,-1\n0,0.292825,0.341772,0,1,0,-1\n0,0.301988,0.32806,0,1,0,-1\n0,0.309282,0.313268,0,1,0,-1\n0,0.314583,0.297652,0,1,0,-1\n0,0.3178,0.281477,0,1,0,-1\n0,0.318879,0.26502,0,1,0,-1\n0,0.710254,0.515012,0,1,0,-1\n0,0.707834,0.498698,0,1,0,-1\n0,0.703826,0.482701,0,1,0,-1\n0,0.69827,0.467173,0,1,0,-1\n0,0.691219,0.452264,0,1,0,-1\n0,0.682741,0.438119,0,1,0,-1\n0,0.672916,0.424872,0,1,0,-1\n0,0.661841,0.412653,0,1,0,-1\n0,0.649621,0.401577,0,1,0,-1\n0,0.636375,0.391753,0,1,0,-1\n0,0.622229,0.383274,0,1,0,-1\n0,0.607321,0.376223,0,1,0,-1\n0,0.591793,0.370667,0,1,0,-1\n0,0.575795,0.36666,0,1,0,-1\n0,0.559482,0.36424,0,1,0,-1\n0,0.54301,0.363431,0,1,0,-1\n0,0.526538,0.36424,0,1,0,-1\n0,0.510224,0.36666,0,1,0,-1\n0,0.494226,0.370667,0,1,0,-1\n0,0.478698,0.376223,0,1,0,-1\n0,0.46379,0.383274,0,1,0,-1\n0,0.449644,0.391753,0,1,0,-1\n0,0.436398,0.401577,0,1,0,-1\n0,0.424178,0.412653,0,1,0,-1\n0,0.413103,0.424872,0,1,0,-1\n0,0.403279,0.438119,0,1,0,-1\n0,0.3948,0.452264,0,1,0,-1\n0,0.387749,0.467173,0,1,0,-1\n0,0.382193,0.482701,0,1,0,-1\n0,0.378186,0.498698,0,1,0,-1\n0,0.375766,0.515012,0,1,0,-1\n0,0.374957,0.531484,0,1,0,-1\n0,0.375766,0.547956,0,1,0,-1\n0,0.378186,0.56427,0,1,0,-1\n0,0.382193,0.580267,0,1,0,-1\n0,0.387749,0.595795,0,1,0,-1\n0,0.3948,0.610704,0,1,0,-1\n0,0.403279,0.624849,0,1,0,-1\n0,0.413103,0.638096,0,1,0,-1\n0,0.424178,0.650315,0,1,0,-1\n0,0.436398,0.661391,0,1,0,-1\n0,0.449644,0.671215,0,1,0,-1\n0,0.46379,0.679694,0,1,0,-1\n0,0.478698,0.686745,0,1,0,-1\n0,0.494226,0.692301,0,1,0,-1\n0,0.510224,0.696308,0,1,0,-1\n0,0.526538,0.698728,0,1,0,-1\n0,0.54301,0.699537,0,1,0,-1\n0,0.559482,0.698728,0,1,0,-1\n0,0.575795,0.696308,0,1,0,-1\n0,0.591793,0.692301,0,1,0,-1\n0,0.607321,0.686745,0,1,0,-1\n0,0.622229,0.679694,0,1,0,-1\n0,0.636375,0.671215,0,1,0,-1\n0,0.649621,0.661391,0,1,0,-1\n0,0.661841,0.650315,0,1,0,-1\n0,0.672916,0.638096,0,1,0,-1\n0,0.682741,0.624849,0,1,0,-1\n0,0.691219,0.610704,0,1,0,-1\n0,0.69827,0.595795,0,1,0,-1\n0,0.703826,0.580267,0,1,0,-1\n0,0.707834,0.56427,0,1,0,-1\n0,0.710254,0.547956,0,1,0,-1\n0,0.711063,0.531484,0,1,0,-1\n0,0.353512,0.012986,0,1,0,-1\n0,0.351649,0.029516,0,1,0,-1\n0,0.351027,0.046139,0,1,0,-1\n0,0.351649,0.062761,0,1,0,-1\n0,0.353512,0.079291,0,1,0,-1\n0,0.356604,0.095635,0,1,0,-1\n0,0.360909,0.111703,0,1,0,-1\n0,0.366403,0.127404,0,1,0,-1\n0,0.373055,0.14265,0,1,0,-1\n0,0.380828,0.157356,0,1,0,-1\n0,0.389678,0.171441,0,1,0,-1\n0,0.399556,0.184825,0,1,0,-1\n0,0.410406,0.197433,0,1,0,-1\n0,0.422168,0.209196,0,1,0,-1\n0,0.434776,0.220046,0,1,0,-1\n0,0.44816,0.229924,0,1,0,-1\n0,0.462245,0.238774,0,1,0,-1\n0,0.476951,0.246546,0,1,0,-1\n0,0.492198,0.253198,0,1,0,-1\n0,0.507899,0.258692,0,1,0,-1\n0,0.523966,0.262997,0,1,0,-1\n0,0.54031,0.26609,0,1,0,-1\n0,0.55684,0.267952,0,1,0,-1\n0,0.573463,0.268574,0,1,0,-1\n0,0.590085,0.267952,0,1,0,-1\n0,0.606615,0.26609,0,1,0,-1\n0,0.622959,0.262997,0,1,0,-1\n0,0.639027,0.258692,0,1,0,-1\n0,0.654727,0.253198,0,1,0,-1\n0,0.669974,0.246546,0,1,0,-1\n0,0.68468,0.238774,0,1,0,-1\n0,0.698765,0.229924,0,1,0,-1\n0,0.712149,0.220046,0,1,0,-1\n0,0.724757,0.209196,0,1,0,-1\n0,0.736519,0.197433,0,1,0,-1\n0,0.74737,0.184825,0,1,0,-1\n0,0.757248,0.171441,0,1,0,-1\n0,0.766098,0.157356,0,1,0,-1\n0,0.77387,0.14265,0,1,0,-1\n0,0.780522,0.127404,0,1,0,-1\n0,0.928226,0.008167,0,1,0,-1\n0,0.939506,0.020789,0,1,0,-1\n0,0.952128,0.032069,0,1,0,-1\n0,0.965934,0.041864,0,1,0,-1\n0,0.980749,0.050052,0,1,0,-1\n0,0.996388,0.05653,0,1,0,-1\n0,0.992631,0.112437,0,1,0,-1\n0,0.977438,0.104696,0,1,0,-1\n0,0.960595,0.102028,0,1,0,-1\n0,0.943753,0.104696,0,1,0,-1\n0,0.928559,0.112437,0,1,0,-1\n0,0.916502,0.124495,0,1,0,-1\n0,0.90876,0.139689,0,1,0,-1\n0,0.906093,0.156531,0,1,0,-1\n0,0.90876,0.173373,0,1,0,-1\n0,0.916502,0.188567,0,1,0,-1\n0,0.928559,0.200625,0,1,0,-1\n0,0.943753,0.208366,0,1,0,-1\n0,0.960595,0.211034,0,1,0,-1\n0,0.977438,0.208366,0,1,0,-1\n0,0.992631,0.200625,0,1,0,-1\n0,0.995329,0.501155,0,1,0,-1\n0,0.978684,0.497052,0,1,0,-1\n0,0.96154,0.497052,0,1,0,-1\n0,0.944895,0.501155,0,1,0,-1\n0,0.929715,0.509122,0,1,0,-1\n0,0.916882,0.52049,0,1,0,-1\n0,0.907144,0.534599,0,1,0,-1\n0,0.901065,0.550628,0,1,0,-1\n0,0.898998,0.567647,0,1,0,-1\n0,0.901065,0.584666,0,1,0,-1\n0,0.907144,0.600695,0,1,0,-1\n0,0.916882,0.614804,0,1,0,-1\n0,0.929715,0.626172,0,1,0,-1\n0,0.944895,0.634139,0,1,0,-1\n0,0.96154,0.638242,0,1,0,-1\n0,0.978684,0.638242,0,1,0,-1\n0,0.995329,0.634139,0,1,0,-1\n0,0.795276,0.029516,0,1,0,-1\n0,0.793414,0.012986,0,1,0,-1\n0,0.786016,0.111703,0,1,0,-1\n0,0.790321,0.095635,0,1,0,-1\n0,0.793414,0.079291,0,1,0,-1\n0,0.795276,0.062761,0,1,0,-1\n0,0.795898,0.046139,0,1,0,-1\n0,0.790321,0.996642,0,1,0,-1\n0,0.786016,0.980575,0,1,0,-1\n0,0.780522,0.964874,0,1,0,-1\n0,0.77387,0.949628,0,1,0,-1\n0,0.766098,0.934921,0,1,0,-1\n0,0.757248,0.920836,0,1,0,-1\n0,0.74737,0.907452,0,1,0,-1\n0,0.736519,0.894844,0,1,0,-1\n0,0.724757,0.883082,0,1,0,-1\n0,0.712149,0.872232,0,1,0,-1\n0,0.698765,0.862354,0,1,0,-1\n0,0.68468,0.853504,0,1,0,-1\n0,0.669974,0.845731,0,1,0,-1\n0,0.654727,0.839079,0,1,0,-1\n0,0.639027,0.833585,0,1,0,-1\n0,0.622959,0.82928,0,1,0,-1\n0,0.606615,0.826188,0,1,0,-1\n0,0.590085,0.824325,0,1,0,-1\n0,0.573463,0.823703,0,1,0,-1\n0,0.55684,0.824325,0,1,0,-1\n0,0.54031,0.826188,0,1,0,-1\n0,0.523966,0.82928,0,1,0,-1\n0,0.507899,0.833585,0,1,0,-1\n0,0.492198,0.839079,0,1,0,-1\n0,0.476951,0.845731,0,1,0,-1\n0,0.462245,0.853504,0,1,0,-1\n0,0.44816,0.862354,0,1,0,-1\n0,0.434776,0.872232,0,1,0,-1\n0,0.422168,0.883082,0,1,0,-1\n0,0.410406,0.894844,0,1,0,-1\n0,0.399556,0.907452,0,1,0,-1\n0,0.389678,0.920836,0,1,0,-1\n0,0.380828,0.934921,0,1,0,-1\n0,0.373055,0.949628,0,1,0,-1\n0,0.366403,0.964874,0,1,0,-1\n0,0.360909,0.980575,0,1,0,-1\n0,0.356604,0.996642,0,1,0,-1\n0,0.196246,0.897149,0,1,0,-1\n0,0.193411,0.880461,0,1,0,-1\n0,0.188725,0.864194,0,1,0,-1\n0,0.182247,0.848555,0,1,0,-1\n0,0.174058,0.83374,0,1,0,-1\n0,0.164263,0.819934,0,1,0,-1\n0,0.152983,0.807312,0,1,0,-1\n0,0.140361,0.796032,0,1,0,-1\n0,0.126555,0.786236,0,1,0,-1\n0,0.11174,0.778048,0,1,0,-1\n0,0.0961,0.77157,0,1,0,-1\n0,0.079834,0.766884,0,1,0,-1\n0,0.012655,0.766884,0,1,0,-1\n0,0.174058,0.994361,0,1,0,-1\n0,0.182247,0.979545,0,1,0,-1\n0,0.188725,0.963906,0,1,0,-1\n0,0.193411,0.94764,0,1,0,-1\n0,0.196246,0.930951,0,1,0,-1\n0,0.197195,0.91405,0,1,0,-1\n0,0.996388,0.77157,0,1,0,-1\n0,0.980749,0.778048,0,1,0,-1\n0,0.965934,0.786236,0,1,0,-1\n0,0.952128,0.796032,0,1,0,-1\n0,0.939506,0.807312,0,1,0,-1\n0,0.928226,0.819934,0,1,0,-1\n0,0.918431,0.83374,0,1,0,-1\n0,0.910242,0.848555,0,1,0,-1\n0,0.903764,0.864194,0,1,0,-1\n0,0.899078,0.880461,0,1,0,-1\n0,0.896243,0.897149,0,1,0,-1\n0,0.895293,0.91405,0,1,0,-1\n0,0.896243,0.930951,0,1,0,-1\n0,0.899078,0.94764,0,1,0,-1\n0,0.903764,0.963906,0,1,0,-1\n0,0.910242,0.979545,0,1,0,-1\n0,0.918431,0.994361,0,1,0,-1\n"),!1),k(N.ParsePatFile("\n*BUBBLES-03,BUBBLES-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n0,0.401131,0.163621,0,1,0,-1\n0,0.397069,0.144076,0,1,0,-1\n0,0.390384,0.125265,0,1,0,-1\n0,0.3812,0.107541,0,1,0,-1\n0,0.369688,0.091232,0,1,0,-1\n0,0.356062,0.076642,0,1,0,-1\n0,0.340577,0.064044,0,1,0,-1\n0,0.32352,0.053672,0,1,0,-1\n0,0.30521,0.045718,0,1,0,-1\n0,0.285988,0.040333,0,1,0,-1\n0,0.266211,0.037614,0,1,0,-1\n0,0.246248,0.037614,0,1,0,-1\n0,0.226471,0.040333,0,1,0,-1\n0,0.207249,0.045718,0,1,0,-1\n0,0.188938,0.053672,0,1,0,-1\n0,0.171882,0.064044,0,1,0,-1\n0,0.156397,0.076642,0,1,0,-1\n0,0.142771,0.091232,0,1,0,-1\n0,0.131259,0.107541,0,1,0,-1\n0,0.122075,0.125265,0,1,0,-1\n0,0.115389,0.144076,0,1,0,-1\n0,0.111328,0.163621,0,1,0,-1\n0,0.109966,0.183537,0,1,0,-1\n0,0.111328,0.203453,0,1,0,-1\n0,0.115389,0.222999,0,1,0,-1\n0,0.122075,0.241809,0,1,0,-1\n0,0.131259,0.259533,0,1,0,-1\n0,0.142771,0.275842,0,1,0,-1\n0,0.156397,0.290432,0,1,0,-1\n0,0.171882,0.30303,0,1,0,-1\n0,0.188938,0.313403,0,1,0,-1\n0,0.207249,0.321356,0,1,0,-1\n0,0.226471,0.326742,0,1,0,-1\n0,0.246248,0.32946,0,1,0,-1\n0,0.266211,0.32946,0,1,0,-1\n0,0.285988,0.326742,0,1,0,-1\n0,0.30521,0.321356,0,1,0,-1\n0,0.32352,0.313403,0,1,0,-1\n0,0.340577,0.30303,0,1,0,-1\n0,0.356062,0.290432,0,1,0,-1\n0,0.369688,0.275842,0,1,0,-1\n0,0.3812,0.259533,0,1,0,-1\n0,0.390384,0.241809,0,1,0,-1\n0,0.397069,0.222999,0,1,0,-1\n0,0.401131,0.203453,0,1,0,-1\n0,0.402493,0.183537,0,1,0,-1\n0,0.717102,0.580347,0,1,0,-1\n0,0.69634,0.588567,0,1,0,-1\n0,0.676773,0.599325,0,1,0,-1\n0,0.658707,0.61245,0,1,0,-1\n0,0.64243,0.627736,0,1,0,-1\n0,0.628196,0.644941,0,1,0,-1\n0,0.616231,0.663795,0,1,0,-1\n0,0.606724,0.684,0,1,0,-1\n0,0.599823,0.705237,0,1,0,-1\n0,0.595639,0.727171,0,1,0,-1\n0,0.594237,0.749457,0,1,0,-1\n0,0.595639,0.771743,0,1,0,-1\n0,0.599823,0.793677,0,1,0,-1\n0,0.606724,0.814914,0,1,0,-1\n0,0.713243,0.02088,0,1,0,-1\n0,0.688246,0.022108,0,1,0,-1\n0,0.663491,0.02578,0,1,0,-1\n0,0.639215,0.031861,0,1,0,-1\n0,0.615651,0.040292,0,1,0,-1\n0,0.593028,0.050992,0,1,0,-1\n0,0.571562,0.063858,0,1,0,-1\n0,0.551461,0.078766,0,1,0,-1\n0,0.532918,0.095573,0,1,0,-1\n0,0.516111,0.114116,0,1,0,-1\n0,0.501203,0.134218,0,1,0,-1\n0,0.488337,0.155683,0,1,0,-1\n0,0.477637,0.178307,0,1,0,-1\n0,0.469206,0.20187,0,1,0,-1\n0,0.463125,0.226146,0,1,0,-1\n0,0.459453,0.250902,0,1,0,-1\n0,0.458225,0.275898,0,1,0,-1\n0,0.459453,0.300894,0,1,0,-1\n0,0.463125,0.325649,0,1,0,-1\n0,0.469206,0.349926,0,1,0,-1\n0,0.477637,0.373489,0,1,0,-1\n0,0.488337,0.396113,0,1,0,-1\n0,0.501203,0.417578,0,1,0,-1\n0,0.516111,0.43768,0,1,0,-1\n0,0.532918,0.456223,0,1,0,-1\n0,0.551461,0.473029,0,1,0,-1\n0,0.571562,0.487938,0,1,0,-1\n0,0.593028,0.500804,0,1,0,-1\n0,0.615651,0.511504,0,1,0,-1\n0,0.639215,0.519935,0,1,0,-1\n0,0.663491,0.526016,0,1,0,-1\n0,0.688246,0.529688,0,1,0,-1\n0,0.713243,0.530916,0,1,0,-1\n0,0.563094,0.659436,0,1,0,-1\n0,0.558843,0.630776,0,1,0,-1\n0,0.551803,0.602671,0,1,0,-1\n0,0.542042,0.575392,0,1,0,-1\n0,0.529655,0.5492,0,1,0,-1\n0,0.514759,0.524349,0,1,0,-1\n0,0.4975,0.501077,0,1,0,-1\n0,0.478043,0.479609,0,1,0,-1\n0,0.456575,0.460152,0,1,0,-1\n0,0.433303,0.442893,0,1,0,-1\n0,0.408452,0.427998,0,1,0,-1\n0,0.382261,0.41561,0,1,0,-1\n0,0.354981,0.405849,0,1,0,-1\n0,0.326876,0.398809,0,1,0,-1\n0,0.298216,0.394558,0,1,0,-1\n0,0.269278,0.393136,0,1,0,-1\n0,0.240339,0.394558,0,1,0,-1\n0,0.21168,0.398809,0,1,0,-1\n0,0.183575,0.405849,0,1,0,-1\n0,0.156295,0.41561,0,1,0,-1\n0,0.130104,0.427998,0,1,0,-1\n0,0.105252,0.442893,0,1,0,-1\n0,0.081981,0.460152,0,1,0,-1\n0,0.060513,0.479609,0,1,0,-1\n0,0.041056,0.501077,0,1,0,-1\n0,0.023796,0.524349,0,1,0,-1\n0,0.008901,0.5492,0,1,0,-1\n0,0.542042,0.801357,0,1,0,-1\n0,0.551803,0.774077,0,1,0,-1\n0,0.558843,0.745972,0,1,0,-1\n0,0.563094,0.717313,0,1,0,-1\n0,0.564516,0.688374,0,1,0,-1\n0,0.996513,0.575392,0,1,0,-1\n0,0.986753,0.602671,0,1,0,-1\n0,0.979713,0.630776,0,1,0,-1\n0,0.975461,0.659436,0,1,0,-1\n0,0.97404,0.688374,0,1,0,-1\n0,0.975461,0.717313,0,1,0,-1\n0,0.979713,0.745972,0,1,0,-1\n0,0.986753,0.774077,0,1,0,-1\n0,0.996513,0.801357,0,1,0,-1\n0,0.94846,0.727171,0,1,0,-1\n0,0.944275,0.705237,0,1,0,-1\n0,0.937375,0.684,0,1,0,-1\n0,0.927868,0.663795,0,1,0,-1\n0,0.915903,0.644941,0,1,0,-1\n0,0.901669,0.627736,0,1,0,-1\n0,0.885391,0.61245,0,1,0,-1\n0,0.867326,0.599325,0,1,0,-1\n0,0.847758,0.588567,0,1,0,-1\n0,0.826996,0.580347,0,1,0,-1\n0,0.805368,0.574794,0,1,0,-1\n0,0.783214,0.571995,0,1,0,-1\n0,0.760884,0.571995,0,1,0,-1\n0,0.738731,0.574794,0,1,0,-1\n0,0.616231,0.835119,0,1,0,-1\n0,0.628196,0.853972,0,1,0,-1\n0,0.64243,0.871178,0,1,0,-1\n0,0.658707,0.886464,0,1,0,-1\n0,0.676773,0.899589,0,1,0,-1\n0,0.69634,0.910346,0,1,0,-1\n0,0.717102,0.918566,0,1,0,-1\n0,0.738731,0.92412,0,1,0,-1\n0,0.760884,0.926918,0,1,0,-1\n0,0.783214,0.926918,0,1,0,-1\n0,0.805368,0.92412,0,1,0,-1\n0,0.826996,0.918566,0,1,0,-1\n0,0.847758,0.910346,0,1,0,-1\n0,0.867326,0.899589,0,1,0,-1\n0,0.885391,0.886464,0,1,0,-1\n0,0.901669,0.871178,0,1,0,-1\n0,0.915903,0.853972,0,1,0,-1\n0,0.927868,0.835119,0,1,0,-1\n0,0.937375,0.814914,0,1,0,-1\n0,0.944275,0.793677,0,1,0,-1\n0,0.94846,0.771743,0,1,0,-1\n0,0.949862,0.749457,0,1,0,-1\n0,0.967032,0.250902,0,1,0,-1\n0,0.96336,0.226146,0,1,0,-1\n0,0.957279,0.20187,0,1,0,-1\n0,0.948848,0.178307,0,1,0,-1\n0,0.938148,0.155683,0,1,0,-1\n0,0.925282,0.134218,0,1,0,-1\n0,0.910374,0.114116,0,1,0,-1\n0,0.893567,0.095573,0,1,0,-1\n0,0.875024,0.078766,0,1,0,-1\n0,0.854923,0.063858,0,1,0,-1\n0,0.833457,0.050992,0,1,0,-1\n0,0.810834,0.040292,0,1,0,-1\n0,0.78727,0.031861,0,1,0,-1\n0,0.762994,0.02578,0,1,0,-1\n0,0.738239,0.022108,0,1,0,-1\n0,0.738239,0.529688,0,1,0,-1\n0,0.762994,0.526016,0,1,0,-1\n0,0.78727,0.519935,0,1,0,-1\n0,0.810834,0.511504,0,1,0,-1\n0,0.833457,0.500804,0,1,0,-1\n0,0.854923,0.487938,0,1,0,-1\n0,0.875024,0.473029,0,1,0,-1\n0,0.893567,0.456223,0,1,0,-1\n0,0.910374,0.43768,0,1,0,-1\n0,0.925282,0.417578,0,1,0,-1\n0,0.938148,0.396113,0,1,0,-1\n0,0.948848,0.373489,0,1,0,-1\n0,0.957279,0.349926,0,1,0,-1\n0,0.96336,0.325649,0,1,0,-1\n0,0.967032,0.300894,0,1,0,-1\n0,0.96826,0.275898,0,1,0,-1\n0,0.4975,0.875671,0,1,0,-1\n0,0.514759,0.8524,0,1,0,-1\n0,0.529655,0.827549,0,1,0,-1\n0,0.008901,0.827549,0,1,0,-1\n0,0.023796,0.8524,0,1,0,-1\n0,0.041056,0.875671,0,1,0,-1\n0,0.060513,0.897139,0,1,0,-1\n0,0.081981,0.916597,0,1,0,-1\n0,0.105252,0.933856,0,1,0,-1\n0,0.130104,0.948751,0,1,0,-1\n0,0.156295,0.961139,0,1,0,-1\n0,0.183575,0.9709,0,1,0,-1\n0,0.21168,0.97794,0,1,0,-1\n0,0.240339,0.982191,0,1,0,-1\n0,0.269278,0.983612,0,1,0,-1\n0,0.298216,0.982191,0,1,0,-1\n0,0.326876,0.97794,0,1,0,-1\n0,0.354981,0.9709,0,1,0,-1\n0,0.382261,0.961139,0,1,0,-1\n0,0.408452,0.948751,0,1,0,-1\n0,0.433303,0.933856,0,1,0,-1\n0,0.456575,0.916597,0,1,0,-1\n0,0.478043,0.897139,0,1,0,-1\n"),!1),k(N.ParsePatFile("\n*CELTIC-01,CELTIC PATTERN 01\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n135,0.36,0.42222222,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.42222222,0.39111111,0.70710678,0.70710678,0.25848681,-1.15572675\n315,0.39111111,0.57777778,0.70710678,0.70710678,0.08799551,-1.32621805\n315,0.30166667,0.63611111,0.70710678,0.70710678,0.25848681,-1.15572675\n225,0.76055556,0.42611111,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.86555556,0.5,0.70710678,0.70710678,0.28048569,-1.13372787\n225,0.85388889,0.33277778,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.99,0.5,0.70710678,0.70710678,0.3684812,-1.04573236\n225,0.76055556,0.72944444,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.85388889,0.63611111,0.70710678,0.70710678,0.08799551,-1.32621805\n90,0.99,0.90200449,0,1,0.08799551,-0.91200449\n0,0.90200449,0.88000561,0,1,0.08799551,-0.91200449\n0,0.83978227,0.90200449,0,1,0.15021773,-0.84978227\n0,0.80333333,0.99,0,1,0.18666667,-0.81333333\n90,0.90200449,0.83978227,0,1,0.04022334,-0.95977666\n90,0.99,0.80333333,0,1,0.07667228,-0.92332772\n180,0.09799551,0.99,0,1,0.08799551,-0.91200449\n90,0.11999439,0.90200449,0,1,0.08799551,-0.91200449\n90,0.09799551,0.83978227,0,1,0.15021773,-0.84978227\n90,0.01,0.80333333,0,1,0.18666667,-0.81333333\n180,0.16021773,0.90200449,0,1,0.04022334,-0.95977666\n180,0.19666667,0.99,0,1,0.07667228,-0.92332772\n270,0.01,0.09799551,0,1,0.08799551,-0.91200449\n180,0.09799551,0.11999439,0,1,0.08799551,-0.91200449\n180,0.16021773,0.09799551,0,1,0.15021773,-0.84978227\n180,0.19666667,0.01,0,1,0.18666667,-0.81333333\n270,0.09799551,0.16021773,0,1,0.04022334,-0.95977666\n270,0.01,0.19666667,0,1,0.07667228,-0.92332772\n45,0.70222222,0.51555556,0.70710678,0.70710678,0.40697924,-1.00723433\n45,0.51555556,0.29777778,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.42611111,0.23944444,0.70710678,0.70710678,0.25848681,-1.15572675\n45,0.19666667,0.01,0.70710678,0.70710678,0.19249018,-1.22172338\n45,0.64,0.57777778,0.70710678,0.70710678,0.3705303,-1.04368326\n45,0.42222222,0.39111111,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.36388889,0.30166667,0.70710678,0.70710678,0.25848681,-1.15572675\n45,0.16021773,0.09799551,0.70710678,0.70710678,0.15604125,-1.25817232\n45,0.66722222,0.85388889,0.70710678,0.70710678,0.19249018,-1.22172338\n45,0.42222222,0.64,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.14611111,0.36388889,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.39111111,0.57777778,0.70710678,0.70710678,0.25848681,-1.15572675\n45,0.01,0.19666667,0.70710678,0.70710678,0.40697924,-1.00723433\n45,0.72944444,0.79166667,0.70710678,0.70710678,0.15604125,-1.25817232\n45,0.23944444,0.27055556,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.51555556,0.54666667,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.45333333,0.51555556,0.70710678,0.70710678,0.25848681,-1.15572675\n45,0.09799551,0.16021773,0.70710678,0.70710678,0.3705303,-1.04368326\n0,0.90200449,0.01,0,1,0.08799551,-0.91200449\n135,0.70222222,0.51555556,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.42611111,0.79166667,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.48444444,0.70222222,0.70710678,0.70710678,0.40697924,-1.00723433\n135,0.76055556,0.42611111,0.70710678,0.70710678,0.25848681,-1.15572675\n135,0.99,0.19666667,0.70710678,0.70710678,0.19249018,-1.22172338\n135,0.33277778,0.69833333,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.42222222,0.64,0.70710678,0.70710678,0.3705303,-1.04368326\n135,0.60888889,0.42222222,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.69833333,0.36388889,0.70710678,0.70710678,0.25848681,-1.15572675\n135,0.90200449,0.16021773,0.70710678,0.70710678,0.15604125,-1.25817232\n135,0.63611111,0.14611111,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.14611111,0.66722222,0.70710678,0.70710678,0.19249018,-1.22172338\n135,0.80333333,0.01,0.70710678,0.70710678,0.40697924,-1.00723433\n135,0.72944444,0.23944444,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.20833333,0.72944444,0.70710678,0.70710678,0.15604125,-1.25817232\n135,0.83978227,0.09799551,0.70710678,0.70710678,0.3705303,-1.04368326\n270,0.88000561,0.09799551,0,1,0.08799551,-0.91200449\n270,0.90200449,0.16021773,0,1,0.15021773,-0.84978227\n270,0.99,0.19666667,0,1,0.18666667,-0.81333333\n0,0.83978227,0.09799551,0,1,0.04022334,-0.95977666\n0,0.80333333,0.01,0,1,0.07667228,-0.92332772\n135,0.99,0.5,0.70710678,0.70710678,0.19249018,-1.22172338\n45,0.5,0.01,0.70710678,0.70710678,0.19249018,-1.22172338\n315,0.27055556,0.20833333,0.70710678,0.70710678,0.08799551,-1.32621805\n315,0.23944444,0.27055556,0.70710678,0.70710678,0.3684812,-1.04573236\n315,0.01,0.5,0.70710678,0.70710678,0.19249018,-1.22172338\n225,0.20833333,0.72944444,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.27055556,0.76055556,0.70710678,0.70710678,0.3684812,-1.04573236\n225,0.5,0.99,0.70710678,0.70710678,0.19249018,-1.22172338\n135,0.72944444,0.79166667,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.76055556,0.72944444,0.70710678,0.70710678,0.3684812,-1.04573236\n135,0.86555556,0.5,0.70710678,0.70710678,0.10449467,-1.30971889\n45,0.5,0.13444444,0.70710678,0.70710678,0.10449467,-1.30971889\n315,0.36388889,0.30166667,0.70710678,0.70710678,0.08799551,-1.32621805\n315,0.30166667,0.33277778,0.70710678,0.70710678,0.28048569,-1.13372787\n315,0.13444444,0.5,0.70710678,0.70710678,0.10449467,-1.30971889\n225,0.30166667,0.63611111,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.33277778,0.69833333,0.70710678,0.70710678,0.28048569,-1.13372787\n225,0.5,0.86555556,0.70710678,0.70710678,0.10449467,-1.30971889\n135,0.63611111,0.69833333,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.69833333,0.66722222,0.70710678,0.70710678,0.28048569,-1.13372787\n"),!1),k(N.ParsePatFile("\n*CELTIC-02,CELTIC PATTERN 02\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n180,0.438471,0.01545916,0,1,0.12305799,-0.87694201\n270,0.98454084,0.438471,0,1,0.12305799,-0.87694201\n270,0.01545916,0.68458699,0,1,0.12305799,-0.87694201\n180,0.68458699,0.98454084,0,1,0.12305799,-0.87694201\n90,0.98454084,0.4692355,0,1,0.51530534,-0.48469466\n270,0.98454084,0.28464852,0,1,0.26918936,-0.73081064\n180,0.438471,0.28464852,0,1,0.12305799,-0.87694201\n180,0.5307645,0.31541301,0,1,0.36148285,-0.63851715\n0,0.31541301,0.4692355,0,1,0.12305799,-0.87694201\n0,0.16928165,0.438471,0,1,0.36148285,-0.63851715\n270,0.83071835,0.68458699,0,1,0.12305799,-0.87694201\n270,0.86148285,0.86148285,0,1,0.39224735,-0.60775265\n270,0.5307645,0.98454084,0,1,0.12305799,-0.87694201\n270,0.71535148,0.98454084,0,1,0.12305799,-0.87694201\n90,0.68458699,0.71535148,0,1,0.26918936,-0.73081064\n90,0.71535148,0.31541301,0,1,0.12305799,-0.87694201\n90,0.68458699,0.16928165,0,1,0.36148285,-0.63851715\n90,0.561529,0.71535148,0,1,0.26918936,-0.73081064\n90,0.5307645,0.31541301,0,1,0.12305799,-0.87694201\n90,0.561529,0.16928165,0,1,0.36148285,-0.63851715\n90,0.28464852,0.561529,0,1,0.12305799,-0.87694201\n90,0.28464852,0.01545916,0,1,0.12305799,-0.87694201\n90,0.31541301,0.4692355,0,1,0.36148285,-0.63851715\n90,0.31541301,0.01545916,0,1,0.26918936,-0.73081064\n90,0.4692355,0.01545916,0,1,0.12305799,-0.87694201\n90,0.4692355,0.561529,0,1,0.12305799,-0.87694201\n90,0.438471,0.4692355,0,1,0.36148285,-0.63851715\n90,0.438471,0.01545916,0,1,0.26918936,-0.73081064\n180,0.68458699,0.71535148,0,1,0.12305799,-0.87694201\n180,0.13851715,0.71535148,0,1,0.12305799,-0.87694201\n180,0.28464852,0.68458699,0,1,0.26918936,-0.73081064\n180,0.83071835,0.68458699,0,1,0.36148285,-0.63851715\n180,0.13851715,0.5307645,0,1,0.12305799,-0.87694201\n180,0.28464852,0.561529,0,1,0.26918936,-0.73081064\n180,0.68458699,0.5307645,0,1,0.12305799,-0.87694201\n180,0.83071835,0.561529,0,1,0.36148285,-0.63851715\n180,0.98454084,0.28464852,0,1,0.12305799,-0.87694201\n180,0.98454084,0.31541301,0,1,0.26918936,-0.73081064\n180,0.98454084,0.4692355,0,1,0.12305799,-0.87694201\n180,0.98454084,0.438471,0,1,0.26918936,-0.73081064\n180,0.98454084,0.98454084,0,1,0.26918936,-0.73081064\n0,0.4692355,0.01545916,0,1,0.51530534,-0.48469466\n0,0.01545916,0.01545916,0,1,0.26918936,-0.73081064\n270,0.01545916,0.5307645,0,1,0.51530534,-0.48469466\n270,0.01545916,0.98454084,0,1,0.26918936,-0.73081064\n180,0.5307645,0.98454084,0,1,0.51530534,-0.48469466\n180,0.86148285,0.86148285,0,1,0.14613136,-0.85386864\n90,0.86148285,0.13851715,0,1,0.14613136,-0.85386864\n0,0.561529,0.16928165,0,1,0.12305799,-0.87694201\n0,0.4692355,0.13851715,0,1,0.39224735,-0.60775265\n0,0.13851715,0.13851715,0,1,0.14613136,-0.85386864\n270,0.16928165,0.438471,0,1,0.12305799,-0.87694201\n270,0.13851715,0.5307645,0,1,0.39224735,-0.60775265\n270,0.13851715,0.86148285,0,1,0.14613136,-0.85386864\n180,0.438471,0.83071835,0,1,0.12305799,-0.87694201\n180,0.5307645,0.86148285,0,1,0.39224735,-0.60775265\n"),!1),k(N.ParsePatFile("\n*CELTIC-03,CELTIC-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n90,6.35,13.97,0,25.4,5.08,-20.32\n90,19.05,6.35,0,25.4,5.08,-20.32\n0,6.35,6.35,0,25.4,12.7,-12.7\n270,6.35,11.43,0,25.4,5.08,-20.32\n90,3.81,3.81,0,25.4,7.62,-17.78\n180,21.59,3.81,0,25.4,17.78,-7.62\n270,21.59,11.43,0,25.4,7.62,-17.78\n270,21.59,21.59,0,25.4,7.62,-17.78\n0,3.81,21.59,0,25.4,17.78,-7.62\n90,3.81,13.97,0,25.4,7.62,-17.78\n270,19.05,19.05,0,25.4,5.08,-20.32\n0,6.35,19.05,0,25.4,12.7,-12.7\n90,13.97,6.35,0,25.4,12.7,-12.7\n90,11.43,6.35,0,25.4,12.7,-12.7\n270,13.97,3.81,0,25.4,7.62,-17.78\n90,11.43,-3.81,0,25.4,7.62,-17.78\n180,11.43,11.43,0,25.4,22.86,-2.54\n0,-11.43,13.97,0,25.4,22.86,-2.54\n"),!1),k(N.ParsePatFile("\n*CELTIC-04,CELTIC-04\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n45,3.81,13.97,17.960512212,17.960512212,12.57235865,-23.348666028\n135,21.59,13.97,17.960512212,17.960512212,12.57235865,-23.348666028\n45,12.7,2.54,17.960512212,17.960512212,12.57235865,-23.348666028\n315,3.81,11.43,17.960512212,17.960512212,12.57235865,-23.348666028\n135,12.7,5.08,17.960512212,17.960512212,8.980256106,-26.940768318\n225,19.05,11.43,17.960512212,17.960512212,8.980256106,-26.940768318\n315,12.7,20.32,17.960512212,17.960512212,8.980256106,-26.940768318\n45,6.35,13.97,17.960512212,17.960512212,8.980256106,-26.940768318\n90,13.97,6.35,0,25.4,12.7,-12.7\n90,11.43,6.35,0,25.4,12.7,-12.7\n270,13.97,3.81,0,25.4,7.62,-17.78\n90,11.43,-3.81,0,25.4,7.62,-17.78\n180,11.43,11.43,0,25.4,22.86,-2.54\n0,-11.43,13.97,0,25.4,22.86,-2.54\n"),!1),k(N.ParsePatFile("\n*CIRCLES-02,CIRCLES-02\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n0,0.959092,0.471116,0,1,0,-1\n0,0.956373,0.442347,0,1,0,-1\n0,0.951852,0.413805,0,1,0,-1\n0,0.945548,0.385603,0,1,0,-1\n0,0.937486,0.357852,0,1,0,-1\n0,0.927697,0.330663,0,1,0,-1\n0,0.91622,0.304142,0,1,0,-1\n0,0.903101,0.278393,0,1,0,-1\n0,0.888391,0.25352,0,1,0,-1\n0,0.872148,0.229619,0,1,0,-1\n0,0.854436,0.206785,0,1,0,-1\n0,0.835326,0.185108,0,1,0,-1\n0,0.814892,0.164674,0,1,0,-1\n0,0.793215,0.145564,0,1,0,-1\n0,0.770381,0.127852,0,1,0,-1\n0,0.74648,0.111609,0,1,0,-1\n0,0.721607,0.096899,0,1,0,-1\n0,0.695858,0.08378,0,1,0,-1\n0,0.669337,0.072303,0,1,0,-1\n0,0.642148,0.062514,0,1,0,-1\n0,0.614397,0.054452,0,1,0,-1\n0,0.586195,0.048148,0,1,0,-1\n0,0.557653,0.043627,0,1,0,-1\n0,0.528884,0.040908,0,1,0,-1\n0,0.5,0.04,0,1,0,-1\n0,0.471116,0.040908,0,1,0,-1\n0,0.442347,0.043627,0,1,0,-1\n0,0.413805,0.048148,0,1,0,-1\n0,0.385603,0.054452,0,1,0,-1\n0,0.357852,0.062514,0,1,0,-1\n0,0.330663,0.072303,0,1,0,-1\n0,0.304142,0.08378,0,1,0,-1\n0,0.278393,0.096899,0,1,0,-1\n0,0.25352,0.111609,0,1,0,-1\n0,0.229619,0.127852,0,1,0,-1\n0,0.206785,0.145564,0,1,0,-1\n0,0.185108,0.164674,0,1,0,-1\n0,0.164674,0.185108,0,1,0,-1\n0,0.145564,0.206785,0,1,0,-1\n0,0.127852,0.229619,0,1,0,-1\n0,0.111609,0.25352,0,1,0,-1\n0,0.096899,0.278393,0,1,0,-1\n0,0.08378,0.304142,0,1,0,-1\n0,0.072303,0.330663,0,1,0,-1\n0,0.062514,0.357852,0,1,0,-1\n0,0.054452,0.385603,0,1,0,-1\n0,0.048148,0.413805,0,1,0,-1\n0,0.043627,0.442347,0,1,0,-1\n0,0.040908,0.471116,0,1,0,-1\n0,0.04,0.5,0,1,0,-1\n0,0.040908,0.528884,0,1,0,-1\n0,0.043627,0.557653,0,1,0,-1\n0,0.048148,0.586195,0,1,0,-1\n0,0.054452,0.614397,0,1,0,-1\n0,0.062514,0.642148,0,1,0,-1\n0,0.072303,0.669337,0,1,0,-1\n0,0.08378,0.695858,0,1,0,-1\n0,0.096899,0.721607,0,1,0,-1\n0,0.111609,0.74648,0,1,0,-1\n0,0.127852,0.770381,0,1,0,-1\n0,0.145564,0.793215,0,1,0,-1\n0,0.164674,0.814892,0,1,0,-1\n0,0.185108,0.835326,0,1,0,-1\n0,0.206785,0.854436,0,1,0,-1\n0,0.229619,0.872148,0,1,0,-1\n0,0.25352,0.888391,0,1,0,-1\n0,0.278393,0.903101,0,1,0,-1\n0,0.304142,0.91622,0,1,0,-1\n0,0.330663,0.927697,0,1,0,-1\n0,0.357852,0.937486,0,1,0,-1\n0,0.385603,0.945548,0,1,0,-1\n0,0.413805,0.951852,0,1,0,-1\n0,0.442347,0.956373,0,1,0,-1\n0,0.471116,0.959092,0,1,0,-1\n0,0.5,0.96,0,1,0,-1\n0,0.528884,0.959092,0,1,0,-1\n0,0.557653,0.956373,0,1,0,-1\n0,0.586195,0.951852,0,1,0,-1\n0,0.614397,0.945548,0,1,0,-1\n0,0.642148,0.937486,0,1,0,-1\n0,0.669337,0.927697,0,1,0,-1\n0,0.695858,0.91622,0,1,0,-1\n0,0.721607,0.903101,0,1,0,-1\n0,0.74648,0.888391,0,1,0,-1\n0,0.770381,0.872148,0,1,0,-1\n0,0.793215,0.854436,0,1,0,-1\n0,0.814892,0.835326,0,1,0,-1\n0,0.835326,0.814892,0,1,0,-1\n0,0.854436,0.793215,0,1,0,-1\n0,0.872148,0.770381,0,1,0,-1\n0,0.888391,0.74648,0,1,0,-1\n0,0.903101,0.721607,0,1,0,-1\n0,0.91622,0.695858,0,1,0,-1\n0,0.927697,0.669337,0,1,0,-1\n0,0.937486,0.642148,0,1,0,-1\n0,0.945548,0.614397,0,1,0,-1\n0,0.951852,0.586195,0,1,0,-1\n0,0.956373,0.557653,0,1,0,-1\n0,0.959092,0.528884,0,1,0,-1\n0,0.96,0.5,0,1,0,-1\n"),!1),k(N.ParsePatFile("\n*CIRCLES,CIRCLES\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n0,0.934583,0.431169,0,1,0,-1\n0,0.918465,0.364033,0,1,0,-1\n0,0.892043,0.300244,0,1,0,-1\n0,0.855967,0.241374,0,1,0,-1\n0,0.811127,0.188873,0,1,0,-1\n0,0.758626,0.144033,0,1,0,-1\n0,0.699756,0.107957,0,1,0,-1\n0,0.635967,0.081535,0,1,0,-1\n0,0.568831,0.065417,0,1,0,-1\n0,0.5,0.06,0,1,0,-1\n0,0.431169,0.065417,0,1,0,-1\n0,0.364033,0.081535,0,1,0,-1\n0,0.300244,0.107957,0,1,0,-1\n0,0.241374,0.144033,0,1,0,-1\n0,0.188873,0.188873,0,1,0,-1\n0,0.144033,0.241374,0,1,0,-1\n0,0.107957,0.300244,0,1,0,-1\n0,0.081535,0.364033,0,1,0,-1\n0,0.065417,0.431169,0,1,0,-1\n0,0.06,0.5,0,1,0,-1\n0,0.065417,0.568831,0,1,0,-1\n0,0.081535,0.635967,0,1,0,-1\n0,0.107957,0.699756,0,1,0,-1\n0,0.144033,0.758626,0,1,0,-1\n0,0.188873,0.811127,0,1,0,-1\n0,0.241374,0.855967,0,1,0,-1\n0,0.300244,0.892043,0,1,0,-1\n0,0.364033,0.918465,0,1,0,-1\n0,0.431169,0.934583,0,1,0,-1\n0,0.5,0.94,0,1,0,-1\n0,0.568831,0.934583,0,1,0,-1\n0,0.635967,0.918465,0,1,0,-1\n0,0.699756,0.892043,0,1,0,-1\n0,0.758626,0.855967,0,1,0,-1\n0,0.811127,0.811127,0,1,0,-1\n0,0.855967,0.758626,0,1,0,-1\n0,0.892043,0.699756,0,1,0,-1\n0,0.918465,0.635967,0,1,0,-1\n0,0.934583,0.568831,0,1,0,-1\n0,0.94,0.5,0,1,0,-1\n"),!1),k(N.ParsePatFile("\n*CLAY,CLAY\n0, 0,0, 0,.1875\n0, 0,.03125, 0,.1875\n0, 0,.0625, 0,.1875\n0, 0,.125, 0,.1875, .1875,-.125\n"),!1),k(N.ParsePatFile("\n*CORK,CORK\n0, 0,0, 0,.125\n135, .0625,-.0625, 0,.35355339, .1767767,-.1767767\n135, .09375,-.0625, 0,.35355339, .1767767,-.1767767\n135, .125,-.0625, 0,.35355339, .1767767,-.1767767\n"),!1),k(N.ParsePatFile("\n*CROSS,CROSS\n0, 0,0, .25,.25, .125,-.375\n90, .0625,-.0625, .25,.25, .125,-.375\n"),!1),k(N.ParsePatFile("\n*DASH,DASH\n0, 0,0, .125,.125, .125,-.125\n"),!1),k(N.ParsePatFile("\n*DOLMIT,DOLMIT\n0, 0,0, 0,.25\n45, 0,0, 0,.70710678, .35355339,-.70710768\n"),!1),k(N.ParsePatFile("\n*DOTS,DOTS\n0, 0,0, .03125,.0625, 0,-.0625\n"),!1),k(N.ParsePatFile("\n*EARTH,EARTH\n0, 0,0, .25,.25, .25,-.25\n0, 0,.09375, .25,.25, .25,-.25\n0, 0,.1875, .25,.25, .25,-.25\n90, .03125,.21875, .25,.25, .25,-.25\n90, .125,.21875, .25,.25, .25,-.25\n90, .21875,.21875, .25,.25, .25,-.25\n"),!1),k(N.ParsePatFile("\n*ESCHER,ESCHER\n60, 0,0, -.6,1.03923048, 1.1,-.1\n180, 0,0, -.6,1.03923048, 1.1,-.1\n300, 0,0, .6,1.03923048, 1.1,-.1\n60, .1,0, -.6,1.03923048, .2,-1\n300, .1,0, .6,1.03923048, .2,-1\n60, -.05,.08660254, -.6,1.03923048, .2,-1\n180, -.05,.08660254, -.6,1.03923048, .2,-1\n300, -.05,-.08660254, .6,1.03923048, .2,-1\n180, -.05,-.08660254, -.6,1.03923048, .2,-1\n60, -.4,0, -.6,1.03923048, .2,-1\n300, -.4,0, .6,1.03923048, .2,-1\n60, .2,-.34641016, -.6,1.03923048, .2,-1\n180, .2,-.34641016, -.6,1.03923048, .2,-1\n300, .2,.34641016, .6,1.03923048, .2,-1\n180, .2,.34641016, -.6,1.03923048, .2,-1\n0, .2,.17320508, -.6,1.03923048, .7,-.5\n0, .2,-.17320508, -.6,1.03923048, .7,-.5\n120, .05,.25980762, .6,1.03923048, .7,-.5\n120, -.25,.08660254, .6,1.03923048, .7,-.5\n240, -.25,-.08660254, .6,1.03923048, .7,-.5\n240, .05,-.25980762, .6,1.03923048, .7,-.5\n"),!1),k(N.ParsePatFile("\n*EXPLOSION,EXPLOSION\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n270,0.45,0.11,0,1,0.11,-0.89\n143.130102,0.49,0.08,3.6,0.2,0.05,-4.95\n270,0.49,0.17,0,1,0.09,-0.91\n112.380135,0.56,0,12.99988621,0.05439283,0.18384776,-18.20092855\n75.256437,0.51,0.81,4.12279145,0.05089866,0.19646883,-19.45041388\n287.525568,0.45,1,3.16187936,0.05018856,0.19924859,-19.72561026\n135,0.06,0.49,0.70710678,0.70710678,0.08485281,-1.32936075\n26.565051,0,0.46,1.34164079,0.4472136,0.06708204,-2.16898594\n353.884496,0.72,0.49,19.10494017,0.03551104,0.28160256,-27.87865312\n192.094757,1,0.55,9.2192799,0.06984303,0.28635642,-14.03146464\n3.691386,0.69,0.38,15.03326191,0.03219114,0.31064449,-30.75380464\n136.080924,0.96,0.12,36.06936773,0.02667853,0.3748333,-37.10849633\n336.037511,0.87,0.16,7.61509624,0.10153462,0.09848858,-9.75036922\n123.690068,0.97,0.01,1.38675049,0.2773501,0.18027756,-3.42527371\n324.462322,0.62,0.26,3.6036768,0.11624764,0.43011626,-8.172209\n117.645975,0.73,0.05,21.47086912,0.04218245,0.23706539,-23.46947379\n326.309932,0.55,0.17,2.21880078,0.2773501,0.21633308,-3.3892182\n106.38954,0.6,0,10.44015399,0.05643326,0.17720045,-17.5428447\n153.434949,0.12,0.34,0.89442719,0.4472136,0.13416408,-2.1019039\n64.798876,0.04,0.17,16.55285979,0.05322463,0.18788294,-18.60041129\n202.619865,0.16,0.22,7.61538462,0.07692308,0.13,-12.87\n59.036243,0.1,0.12,2.22948161,0.17149859,0.11661904,-5.71433286\n211.75948,0.31,0.25,9.43389425,0.04048882,0.24698178,-24.45119629\n79.215702,0.27,0.04,16.27875339,0.04677803,0.21377558,-21.16378274\n212.471192,0.38,0.11,3.60473545,0.0766965,0.13038405,-12.90802076\n63.434949,0.35,0.05,0.89442719,0.4472136,0.06708204,-2.16898594\n135,0.4,0,0.70710678,0.70710678,0.07071068,-1.34350288\n74.357754,0.33,0.75,18.68150198,0.03851856,0.2596151,-25.70189487\n333.434949,0.03,0.9,0.89442719,0.4472136,0.3354102,-1.90065778\n110.556045,0.18,0.5,5.38389277,0.11704115,0.42720019,-8.11680356\n330.945396,0,0.6,2.23395748,0.09712859,0.2059126,-10.08971754\n99.462322,0.63,0.82,5.09636861,0.16439899,0.18248288,-5.90027965\n222.70939,0.76,0.94,1.41308355,0.05652334,0.17691806,-17.51488795\n74.744881,0.73,0.83,4.12217269,0.0877058,0.11401754,-11.28773671\n208.61046,0.95,0.95,10.29532081,0.07980869,0.25059928,-12.2793648\n62.744672,0.78,0.62,2.2359057,0.02693862,0.37121422,-36.75020816\n212.275644,0.97,0.74,13.03832887,0.04449942,0.22472205,-22.247483\n55.00798,0.9,0.64,3.60462045,0.08192319,0.12206556,-12.08449006\n158.198591,1,0.6,3.15682075,0.18569534,0.1077033,-5.27746151\n51.911227,0.59,0.51,29.20615599,0.02127178,0.47010637,-46.54053072\n153.434949,0.65,0.48,0.89442719,0.4472136,0.06708204,-2.16898594\n35.537678,0.58,0.43,4.99864847,0.11624764,0.08602325,-8.51630201\n129.289407,0.76,0.21,7.80993275,0.07035975,0.28425341,-13.928417\n322.30576,0.54,0.38,16.40118003,0.0359675,0.27802878,-27.52484877\n77.905243,0.51,0.24,5.09854116,0.06984303,0.14317821,-14.17464285\n282.994617,0.48,0.37,4.12242429,0.07495317,0.13341664,-13.20824742\n62.525568,0.35,0.12,2.23578634,0.03548867,0.28178006,-27.89622555\n267.137595,0.36,0.32,0.99875234,0.04993762,0.20024984,-19.82473455\n12.994617,0.1,0.26,4.12242429,0.07495317,0.26683328,-13.07483078\n211.75948,0.31,0.39,9.43389425,0.04048882,0.24698178,-24.45119629\n318.366461,0.22,0.47,10.62982142,0.08304548,0.12041595,-11.92117863\n189.462322,0.28,0.48,5.09636861,0.16439899,0.06082763,-6.0219349\n297.299572,0.12,0.79,32.64964285,0.02866518,0.34885527,-34.53667181\n132.273689,0.32,0.57,1.41261287,0.06726728,0.29732137,-14.56874737\n282.994617,0.29,0.7,4.12242429,0.07495317,0.13341664,-13.20824742\n140.194429,0.41,0.6,6.401844,0.12803688,0.15620499,-7.65404468\n268.363423,0.42,0.95,0.99959209,0.02855977,0.35014283,-34.66413997\n102.200469,0.5,0.58,23.53718977,0.0264166,0.37854986,-37.4764366\n250.016893,0.58,0.8,3.16112333,0.08543577,0.234094,-11.47060591\n84.559668,0.56,0.59,11.04525929,0.04740455,0.21095023,-20.88407288\n222.184443,0.88,0.88,14.86605071,0.02315584,0.43185646,-42.75378931\n"),!1),k(N.ParsePatFile("\n*FLEX,FLEX\n0, 0,0, 0,.25, .25,-.25\n45, .25,0, .1767767,.1767767, .0625,-.22855339,.0625,-.35355339\n"),!1),k(N.ParsePatFile("\n*GRASS,GRASS\n90, 0,0, .70710678,.70710678, .1875,-1.22671356\n45, 0,0, 0,1, .1875,-.8125\n135, 0,0, 0,1, .1875,-.8125\n"),!1),k(N.ParsePatFile("\n*GRATE,GRATE\n0, 0,0, 0,.03125\n90, 0,0, 0,.125\n"),!1),k(N.ParsePatFile("\n*GRAVEL-01,GRAVEL-01\n;Optimize to replace existing GRAVEL Pattern\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n159.443955,0.16,0.13,3.16011097,0.11704115,0.17088007,-8.37312367\n114.775141,0.22,0,2.23497695,0.06984303,0.14317821,-14.17464285\n249.443955,0.32,0.08,3.16011097,0.11704115,0.08544004,-8.45856371\n186.009006,0.51,0.1,9.05523386,0.05234239,0.19104973,-18.91392344\n165.963757,0.71,0.05,0.9701425,0.24253563,0.20615528,-3.91695034\n101.309932,0.72,0,4.11843884,0.19611614,0.0509902,-5.04802932\n243.434949,0.84,0.14,0.89442719,0.4472136,0.15652476,-2.07954322\n355.426079,0.49,0.13,13.03834384,0.03987261,0.25079872,-24.82907368\n300.256437,0.42,0.25,5.83050758,0.07198158,0.13892444,-13.75351955\n228.012788,0.6,0.45,12.04136517,0.07432941,0.26907248,-13.18455157\n180,0.86,0.45,0,1,0.26,-0.74\n303.690068,0.62,0.62,1.38675049,0.2773501,0.14422205,-3.46132922\n225,0.72,0.72,0.70710678,0.70710678,0.14142136,-1.27279221\n110.224859,0.08,0.23,8.54386101,0.04938648,0.20248457,-20.04597216\n177.273689,0.29,0.22,0.99886814,0.04756515,0.21023796,-20.81355808\n217.69424,0.51,0.39,11.40169752,0.0359675,0.27802878,-27.52484877\n252.255328,0.59,0.64,23.08676133,0.03809697,0.26248809,-25.9863214\n301.429566,0.48,0.82,15.26426391,0.04740455,0.21095023,-20.88407288\n355.236358,0.24,0.84,0.99654576,0.08304548,0.24083189,-11.80076269\n43.66778,0.02,0.63,1.41383129,0.0328798,0.30413813,-30.10967452\n87.273689,0.01,0.42,0.99886814,0.04756515,0.21023796,-20.81355808\n30.963757,0.62,0.71,3.60147029,0.17149859,0.17492856,-5.65602334\n291.801409,0.58,0.81,2.22834406,0.18569534,0.1077033,-5.27746151\n203.198591,0.65,0.84,2.23220936,0.13130643,0.07615773,-7.53961537\n161.565051,0.77,0.8,0.9486833,0.31622777,0.12649111,-3.03578655\n4.969741,0.4,0.88,11.04527609,0.04331481,0.23086793,-22.85592483\n16.38954,0,0.81,10.44015399,0.05643326,0.17720045,-17.5428447\n197.354025,1,0.19,3.16171493,0.059655,0.16763055,-16.59542407\n74.054604,0.95,0.22,4.12081692,0.13736056,0.1456022,-7.13450769\n27.645975,0.74,0.11,21.47086912,0.04218245,0.23706539,-23.46947379\n145.304846,0.99,0.36,3.60499653,0.06324555,0.15811388,-15.65327442\n353.157227,0.7,0.5,17.1171967,0.03971507,0.25179357,-24.92756306\n171.469234,0.92,0.69,7.07089492,0.04944682,0.20223748,-20.02151093\n138.814075,1,0.62,9.21906451,0.09407209,0.10630146,-10.52384435\n90,1,0.56,0,1,0.06,-0.94\n60.945396,0.95,0.47,2.23395748,0.09712859,0.1029563,-10.19267384\n343.61046,0.83,0.86,7.27989116,0.05643326,0.17720045,-17.5428447\n293.198591,0.77,1,2.23220936,0.13130643,0.15231546,-7.46345764\n48.012788,0.63,0.9,12.04136517,0.07432941,0.13453624,-13.31908781\n312.510447,0.29,1,1.41287877,0.06142951,0.16278821,-16.11603239\n70.346176,0.17,0.86,3.16156213,0.06726728,0.14866069,-14.71740806\n"),!1),k(N.ParsePatFile("\n*GRAVEL,GRAVEL\n228.0128, .72,1, 12.041365,.074329, .134536,-13.319088\n184.9697, .63,.9, -12.041517,.043315, .230868,-22.855925\n132.5104, .4,.88, -14.865942,.06143, .162788,-16.116032\n267.2737, .01,.63, -20.024928,.047565, .210238,-20.813558\n292.8337, 0,.42, -12.99991,.048507, .206155,-20.409373\n357.2737, .08,.23, -20.024928,.047565, .210238,-20.813558\n37.6942, .29,.22, -16.40118,.035968, .278029,-27.524849\n72.2553, .51,.39, 23.086761,.038097, .262488,-25.986321\n121.4296, .59,.64, 15.264264,.047405, .21095,-20.884073\n175.2364, .48,.82, -11.045049,.083045, .240832,-11.800763\n222.3974, .24,.84, 16.278789,.032108, .311448,-30.833375\n138.8141, 1,.62, 9.219065,.094072, .106301,-10.523844\n171.4692, .92,.69, -13.152853,.049447, .202237,-20.021511\n225, .72,.72, .707107,.707107, .141421,-1.272792\n203.1986, .65,.84, -5.383564,.131306, .076158,-7.539615\n291.8014, .58,.81, -3.156821,.185695, .107703,-5.277462\n30.9638, .62,.71, 3.60147,.171499, .174929,-5.656023\n161.5651, .77,.8, -2.213594,.316228, .126491,-3.035787\n16.3895, 0,.81, 10.440154,.056433, .1772,-17.542845\n70.3462, .17,.86, -11.704507,.067267, .148661,-14.717408\n293.1986, .77,1, -5.383564,.131306, .152315,-7.463458\n343.6105, .83,.86, -10.440154,.056433, .1772,-17.542845\n339.444, 0,.19, -5.383893,.117041, .17088,-8.373124\n294.7751, .16,.13, -12.082844,.069843, .143178,-14.174643\n66.8014, .78,0, 5.383564,.131306, .152315,-7.463458\n17.354, .84,.14, -13.60134,.059655, .167631,-16.595424\n69.444, .29,0, -5.383893,.117041, .08544,-8.458564\n101.3099, .72,0, 4.118439,.196116, .05099,-5.048029\n165.9638, .71,.05, -3.152963,.242536, .206155,-3.91695\n186.009, .51,.1, -10.049739,.052342, .19105,-18.913923\n303.6901, .62,.62, -2.218801,.27735, .144222,-3.461329\n353.1572, .7,.5, 17.117197,.039715, .251794,-24.927563\n60.9454, .95,.47, -8.061673,.097129, .102956,-10.192674\n90, 1,.56, 1,1, .06,-.94\n120.2564, .49,.13, -8.061936,.071982, .138924,-13.75352\n48.0128, .42,.25, 12.041365,.074329, .269072,-13.184552\n0, .6,.45, 1,1, .26,-.74\n325.3048, .86,.45, -12.206392,.063246, .158114,-15.653274\n254.0546, .99,.36, 4.120817,.137361, .145602,-7.134508\n207.646, .95,.22, 21.470869,.042182, .237065,-23.469474\n175.4261, .74,.11, 13.038344,.039873, .250799,-24.829074\n"),!1),k(N.ParsePatFile("\n*HATCH-DOTS,HATCH-DOTS verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n225,0.56554781,0.11554781,0.70710678,0.70710678,0.45245257,-0.96176099\n225,0.25036388,0.20036388,0.70710678,0.70710678,0.6374253,-0.77678826\n225,0.12918503,0.37918503,0.70710678,0.70710678,0.71894383,-0.69526973\n225,0.75438447,0.20438447,0.70710678,0.70710678,0.45245257,-0.96176099\n225,0.30962291,0.15962291,0.70710678,0.70710678,0.6636138,-0.75059977\n225,0.11186858,0.46186858,0.70710678,0.70710678,0.81138689,-0.60282667\n225,0.37918503,0.12918503,0.70710678,0.70710678,0.71894383,-0.69526973\n225,0.11554781,0.56554781,0.70710678,0.70710678,0.45245257,-0.96176099\n225,0.20036388,0.25036388,0.70710678,0.70710678,0.6374253,-0.77678826\n225,0.46186859,0.11186859,0.70710678,0.70710678,0.8113869,-0.60282666\n225,0.20438447,0.75438447,0.70710678,0.70710678,0.45245257,-0.96176099\n225,0.15962291,0.30962291,0.70710678,0.70710678,0.6636138,-0.75059977\n"),!1),k(N.ParsePatFile("\n*HATCH-SQRS,HATCH-SQRS verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n225,0.11,0.36,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.86,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.26,0.70710678,0.70710678,0.52325902,-0.89095454\n225,0.76,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.56,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.46,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.26,0.11,0.70710678,0.70710678,0.52325902,-0.89095454\n225,0.11,0.76,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.16,0.70710678,0.70710678,0.38183766,-1.0323759\n225,0.16,0.11,0.70710678,0.70710678,0.38183766,-1.0323759\n225,0.46,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.56,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.36,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.86,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.66,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.66,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n"),!1),k(N.ParsePatFile("\n*HEXAGONS,HEXAGONS verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n239.931417,0.21999999,0.99999998,8.06212908,0.04554875,0.21954496,-21.73495344\n239.931417,0.89,0.19,8.06212908,0.04554875,0.21954496,-21.73495344\n300.068583,0.78000001,0.99999998,13.89236932,0.04554875,0.21954496,-21.73495344\n60.068488,0.12,0.5,8.06221498,0.02626129,0.38078866,-37.69807687\n119.931512,0.31,0.17,30.01665055,0.02626129,0.38078865,-37.69807687\n300.068583,0.11,0.19,13.89236932,0.04554875,0.21954496,-21.73495344\n180,0.11,0.19,0,1,0.21999996,-0.78000004\n299.931512,0.69,0.83,30.01665055,0.02626129,0.38078865,-37.69807687\n0,0.31,0.83,0,1,0.38,-0.62\n180,0.69,0.17,0,1,0.38,-0.62\n240.068488,0.88,0.5,8.06221498,0.02626129,0.38078866,-37.69807687\n180,0.11,0.81,0,1,0.21999996,-0.78000004\n"),!1),k(N.ParsePatFile("\n*HEXJOIN-01,HEXJOIN-01 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n45,0.15,0.65,0.70710678,0.70710678,0.28284271,-1.13137085\n270,0.85,0.65,1,1,0.3,-0.7\n315,0.65,0.85,0.70710678,0.70710678,0.28284271,-1.13137085\n180,0.65,0.15,0,1,0.3,-0.7\n270,0.55,0.15,1,1,0.3,-0.7\n90,0.15,0.35,1,1,0.3,-0.7\n135,0.35,0.15,0.70710678,0.70710678,0.28284271,-1.13137085\n180,0.15,0.55,0,1,0.3,-0.7\n270,0.45,0.15,1,1,0.3,-0.7\n180,0.15,0.45,0,1,0.3,-0.7\n225,0.85,0.35,0.70710678,0.70710678,0.28284271,-1.13137085\n0,0.35,0.85,0,1,0.3,-0.7\n"),!1),k(N.ParsePatFile("\n*HEXJOIN-02,HEXJOIN-02 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.85,0.45,1,1,0.1,-0.9\n315,0.65,0.85,0.70710678,0.70710678,0.28284271,-1.13137085\n270,0.55,0.15,1,1,0.3,-0.7\n180,0.15,0.55,0,1,0.3,-0.7\n180,0.65,0.15,0,1,0.1,-0.9\n45,0.15,0.65,0.70710678,0.70710678,0.28284271,-1.13137085\n90,0.15,0.55,1,1,0.1,-0.9\n180,0.15,0.45,0,1,0.3,-0.7\n180,0.45,0.15,0,1,0.1,-0.9\n270,0.45,0.15,1,1,0.3,-0.7\n90,0.15,0.35,1,1,0.1,-0.9\n0,0.55,0.85,0,1,0.1,-0.9\n135,0.35,0.15,0.70710678,0.70710678,0.28284271,-1.13137085\n0,0.35,0.85,0,1,0.1,-0.9\n225,0.85,0.35,0.70710678,0.70710678,0.28284271,-1.13137085\n270,0.85,0.65,1,1,0.1,-0.9\n"),!1),k(N.ParsePatFile("\n*HEX,HEX\n0, 0,0, 0,.21650635, .125,-.25\n120, 0,0, 0,.21650635, .125,-.25\n60, .125,0, 0,.21650635, .125,-.25\n"),!1),k(N.ParsePatFile("\n*HOLLY,HOLLY\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n99.462322,0.8,0.11,5.09636861,0.16439899,0.06082763,-6.0219349\n74.744881,0.67,0.08,4.12217269,0.0877058,0.11401754,-11.28773671\n68.198591,0.53,0.15,3.15682075,0.18569534,0.1077033,-5.27746151\n270,0.58,0.37,0,1,0.07,-0.93\n248.198591,0.75,0.35,3.15682075,0.18569534,0.1077033,-5.27746151\n45,0.8,0.2,0.70710678,0.70710678,0.08485281,-1.32936075\n351.869898,0.9,0.13,0.98994949,0.14142136,0.07071068,-7.00035713\n0,0.86,0.13,0,1,0.04,-0.96\n26.565051,0.82,0.11,1.34164079,0.4472136,0.04472136,-2.19134662\n45,0.8,0.09,0.70710678,0.70710678,0.02828427,-1.38592929\n341.565051,0.77,0.1,0.9486833,0.31622777,0.03162278,-3.13065488\n0,0.73,0.1,0,1,0.04,-0.96\n26.565051,0.71,0.09,1.34164079,0.4472136,0.02236068,-2.2137073\n26.565051,0.69,0.08,1.34164079,0.4472136,0.02236068,-2.2137073\n53.130102,0.66,0.04,3.6,0.2,0.05,-4.95\n270,0.66,0.08,0,1,0.04,-0.96\n303.690068,0.64,0.11,1.38675049,0.2773501,0.03605551,-3.56949576\n315,0.62,0.13,0.70710678,0.70710678,0.02828427,-1.38592929\n345.963757,0.58,0.14,0.9701425,0.24253563,0.04123106,-4.08187457\n0,0.54,0.14,0,1,0.04,-0.96\n33.690068,0.51,0.12,1.38675049,0.2773501,0.03605551,-3.56949576\n255.963757,0.52,0.16,0.9701425,0.24253563,0.04123106,-4.08187457\n281.309932,0.51,0.21,4.11843884,0.19611614,0.0509902,-5.04802932\n284.036243,0.5,0.25,3.15296313,0.24253563,0.04123106,-4.08187457\n296.565051,0.48,0.29,1.34164079,0.4472136,0.04472136,-2.19134662\n303.690068,0.46,0.32,1.38675049,0.2773501,0.03605551,-3.56949576\n180,0.5,0.32,0,1,0.04,-0.96\n180,0.53,0.32,0,1,0.03,-0.97\n213.690068,0.56,0.34,1.38675049,0.2773501,0.03605551,-3.56949576\n243.434949,0.57,0.36,0.89442719,0.4472136,0.02236068,-2.2137073\n251.565051,0.58,0.39,0.9486833,0.31622777,0.03162278,-3.13065488\n108.434949,0.59,0.36,2.21359436,0.31622777,0.03162278,-3.13065488\n135,0.61,0.34,0.70710678,0.70710678,0.02828427,-1.38592929\n153.434949,0.63,0.33,0.89442719,0.4472136,0.02236068,-2.2137073\n161.565051,0.66,0.32,0.9486833,0.31622777,0.03162278,-3.13065488\n180,0.69,0.32,0,1,0.03,-0.97\n198.434949,0.72,0.33,2.21359436,0.31622777,0.03162278,-3.13065488\n225,0.74,0.35,0.70710678,0.70710678,0.02828427,-1.38592929\n251.565051,0.75,0.38,0.9486833,0.31622777,0.03162278,-3.13065488\n108.434949,0.76,0.35,2.21359436,0.31622777,0.03162278,-3.13065488\n116.565051,0.78,0.31,1.34164079,0.4472136,0.04472136,-2.19134662\n135,0.81,0.28,0.70710678,0.70710678,0.04242641,-1.37178716\n161.565051,0.84,0.27,0.9486833,0.31622777,0.03162278,-3.13065488\n180,0.87,0.27,0,1,0.03,-0.97\n90,0.87,0.24,0,1,0.03,-0.97\n111.801409,0.89,0.19,2.22834406,0.18569534,0.05385165,-5.33131316\n126.869898,0.92,0.15,1.4,0.2,0.05,-4.95\n149.036243,0.97,0.12,2.22948161,0.17149859,0.05830952,-5.77264238\n338.587031,0.46,0.32,24.69817132,0.01825438,0.54781384,-54.23356986\n338.198591,0.8,0.69,3.15682075,0.18569534,0.05385165,-5.33131316\n323.972627,0.71,0.62,8.60201108,0.07352146,0.13601471,-13.4654558\n315,0.6,0.53,0.70710678,0.70710678,0.11313708,-1.30107648\n135,0.58,0.55,0.70710678,0.70710678,0.07071068,-1.34350288\n126.869898,0.68,0.65,1.4,0.2,0.1,-4.9\n105.945396,0.77,0.72,3.15929297,0.13736056,0.0728011,-7.20730879\n30.963757,0.87,0.8,3.60147029,0.17149859,0.05830952,-5.77264238\n14.036243,0.83,0.79,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.8,0.79,0,1,0.03,-0.97\n341.565051,0.77,0.8,0.9486833,0.31622777,0.03162278,-3.13065488\n333.434949,0.75,0.81,0.89442719,0.4472136,0.02236068,-2.2137073\n63.434949,0.74,0.79,0.89442719,0.4472136,0.02236068,-2.2137073\n45,0.72,0.77,0.70710678,0.70710678,0.02828427,-1.38592929\n33.690068,0.69,0.75,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.66,0.74,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.63,0.74,0,1,0.03,-0.97\n341.565051,0.6,0.75,0.9486833,0.31622777,0.03162278,-3.13065488\n108.434949,0.61,0.72,2.21359436,0.31622777,0.03162278,-3.13065488\n90,0.61,0.69,0,1,0.03,-0.97\n75.963757,0.6,0.65,0.9701425,0.24253563,0.04123106,-4.08187457\n45,0.57,0.62,0.70710678,0.70710678,0.04242641,-1.37178716\n14.036243,0.53,0.61,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.5,0.61,0,1,0.03,-0.97\n126.869898,0.53,0.57,1.4,0.2,0.05,-4.95\n90,0.53,0.54,0,1,0.03,-0.97\n75.963757,0.52,0.5,0.9701425,0.24253563,0.04123106,-4.08187457\n56.309932,0.5,0.47,2.21880078,0.2773501,0.03605551,-3.56949576\n191.309932,0.55,0.48,4.11843884,0.19611614,0.0509902,-5.04802932\n168.690068,0.6,0.47,0.98058068,0.19611614,0.0509902,-5.04802932\n161.565051,0.66,0.45,0.9486833,0.31622777,0.06324555,-3.09903211\n143.130102,0.7,0.42,3.6,0.2,0.05,-4.95\n270,0.7,0.43,0,1,0.01,-0.99\n270,0.7,0.46,0,1,0.03,-0.97\n243.434949,0.72,0.5,0.89442719,0.4472136,0.04472136,-2.19134662\n213.690068,0.75,0.52,1.38675049,0.2773501,0.03605551,-3.56949576\n198.434949,0.78,0.53,2.21359436,0.31622777,0.03162278,-3.13065488\n180,0.82,0.53,0,1,0.04,-0.96\n146.309932,0.85,0.51,2.21880078,0.2773501,0.03605551,-3.56949576\n303.690068,0.83,0.54,1.38675049,0.2773501,0.03605551,-3.56949576\n270,0.83,0.57,0,1,0.03,-0.97\n270,0.83,0.61,0,1,0.04,-0.96\n243.434949,0.85,0.65,0.89442719,0.4472136,0.04472136,-2.19134662\n225,0.87,0.67,0.70710678,0.70710678,0.02828427,-1.38592929\n296.565051,0.86,0.69,1.34164079,0.4472136,0.02236068,-2.2137073\n270,0.86,0.71,0,1,0.02,-0.98\n255.963757,0.87,0.75,0.9701425,0.24253563,0.04123106,-4.08187457\n243.434949,0.89,0.79,0.89442719,0.4472136,0.04472136,-2.19134662\n233.130102,0.92,0.83,3.6,0.2,0.05,-4.95\n40.601295,0.5,0.47,1.41004798,0.10846523,0.55317267,-8.66637179\n195.945396,0.26,0.54,3.15929297,0.13736056,0.0728011,-7.20730879\n5.194429,0.29,0.55,10.04946781,0.09053575,0.11045361,-10.93490741\n19.983107,0.28,0.68,8.54357658,0.08543577,0.117047,-11.58765291\n185.710593,0.23,0.68,9.05483843,0.09950372,0.10049876,-9.94937686\n164.054604,0.22,0.79,4.12081692,0.13736056,0.0728011,-7.20730879\n45,0.27,0.79,0.70710678,0.70710678,0.05656854,-1.35764502\n90,0.21,0.92,0,1,0.04,-0.96\n75.963757,0.2,0.88,0.9701425,0.24253563,0.04123106,-4.08187457\n243.434949,0.31,0.47,0.89442719,0.4472136,0.04472136,-2.19134662\n236.309932,0.33,0.5,2.21880078,0.2773501,0.03605551,-3.56949576\n225,0.36,0.53,0.70710678,0.70710678,0.04242641,-1.37178716\n213.690068,0.39,0.55,1.38675049,0.2773501,0.03605551,-3.56949576\n189.462322,0.45,0.56,5.09636861,0.16439899,0.06082763,-6.0219349\n333.434949,0.43,0.57,0.89442719,0.4472136,0.02236068,-2.2137073\n326.309932,0.4,0.59,2.21880078,0.2773501,0.03605551,-3.56949576\n303.690068,0.38,0.62,1.38675049,0.2773501,0.03605551,-3.56949576\n270,0.38,0.66,0,1,0.04,-0.96\n251.565051,0.39,0.69,0.9486833,0.31622777,0.03162278,-3.13065488\n236.309932,0.41,0.72,2.21880078,0.2773501,0.03605551,-3.56949576\n213.690068,0.44,0.74,1.38675049,0.2773501,0.03605551,-3.56949576\n0,0.4,0.74,0,1,0.04,-0.96\n333.434949,0.36,0.76,0.89442719,0.4472136,0.04472136,-2.19134662\n306.869898,0.33,0.8,1.4,0.2,0.05,-4.95\n284.036243,0.32,0.84,3.15296313,0.24253563,0.04123106,-4.08187457\n341.565051,0.29,0.85,0.9486833,0.31622777,0.03162278,-3.13065488\n326.309932,0.26,0.87,2.21880078,0.2773501,0.03605551,-3.56949576\n303.690068,0.24,0.9,1.38675049,0.2773501,0.03605551,-3.56949576\n296.565051,0.21,0.96,1.34164079,0.4472136,0.06708204,-2.16898594\n56.309932,0.18,0.85,2.21880078,0.2773501,0.03605551,-3.56949576\n45,0.16,0.83,0.70710678,0.70710678,0.02828427,-1.38592929\n33.690068,0.13,0.81,1.38675049,0.2773501,0.03605551,-3.56949576\n116.565051,0.14,0.79,1.34164079,0.4472136,0.02236068,-2.2137073\n108.434949,0.15,0.76,2.21359436,0.31622777,0.03162278,-3.13065488\n90,0.15,0.72,0,1,0.04,-0.96\n63.434949,0.13,0.68,0.89442719,0.4472136,0.04472136,-2.19134662\n33.690068,0.1,0.66,1.38675049,0.2773501,0.03605551,-3.56949576\n165.963757,0.14,0.65,0.9701425,0.24253563,0.04123106,-4.08187457\n143.130102,0.18,0.62,3.6,0.2,0.05,-4.95\n116.565051,0.2,0.58,1.34164079,0.4472136,0.04472136,-2.19134662\n75.963757,0.19,0.54,0.9701425,0.24253563,0.04123106,-4.08187457\n63.434949,0.17,0.5,0.89442719,0.4472136,0.04472136,-2.19134662\n180,0.21,0.5,0,1,0.04,-0.96\n165.963757,0.25,0.49,0.9701425,0.24253563,0.04123106,-4.08187457\n135,0.27,0.47,0.70710678,0.70710678,0.02828427,-1.38592929\n116.565051,0.29,0.43,1.34164079,0.4472136,0.04472136,-2.19134662\n278.583621,0.21,0.96,33.37663332,0.01865659,0.53600373,-53.0643694\n104.036243,0.3,0.2,3.15296313,0.24253563,0.04123106,-4.08187457\n123.690068,0.32,0.17,1.38675049,0.2773501,0.03605551,-3.56949576\n153.434949,0.36,0.15,0.89442719,0.4472136,0.04472136,-2.19134662\n180,0.39,0.15,0,1,0.03,-0.97\n206.565051,0.43,0.17,1.34164079,0.4472136,0.04472136,-2.19134662\n236.309932,0.45,0.2,2.21880078,0.2773501,0.03605551,-3.56949576\n255.963757,0.46,0.24,0.9701425,0.24253563,0.04123106,-4.08187457\n288.434949,0.45,0.27,2.21359436,0.31622777,0.03162278,-3.13065488\n303.690068,0.43,0.3,1.38675049,0.2773501,0.03605551,-3.56949576\n333.434949,0.39,0.32,0.89442719,0.4472136,0.04472136,-2.19134662\n0,0.36,0.32,0,1,0.03,-0.97\n26.565051,0.32,0.3,1.34164079,0.4472136,0.04472136,-2.19134662\n56.309932,0.3,0.27,2.21880078,0.2773501,0.03605551,-3.56949576\n71.565051,0.29,0.24,0.9486833,0.31622777,0.03162278,-3.13065488\n104.036243,0.16,0.31,3.15296313,0.24253563,0.04123106,-4.08187457\n123.690068,0.18,0.28,1.38675049,0.2773501,0.03605551,-3.56949576\n153.434949,0.22,0.26,0.89442719,0.4472136,0.04472136,-2.19134662\n180,0.25,0.26,0,1,0.03,-0.97\n206.565051,0.29,0.28,1.34164079,0.4472136,0.04472136,-2.19134662\n236.309932,0.31,0.31,2.21880078,0.2773501,0.03605551,-3.56949576\n255.963757,0.32,0.35,0.9701425,0.24253563,0.04123106,-4.08187457\n288.434949,0.31,0.38,2.21359436,0.31622777,0.03162278,-3.13065488\n303.690068,0.29,0.41,1.38675049,0.2773501,0.03605551,-3.56949576\n333.434949,0.25,0.43,0.89442719,0.4472136,0.04472136,-2.19134662\n0,0.22,0.43,0,1,0.03,-0.97\n26.565051,0.18,0.41,1.34164079,0.4472136,0.04472136,-2.19134662\n56.309932,0.16,0.38,2.21880078,0.2773501,0.03605551,-3.56949576\n71.565051,0.15,0.35,0.9486833,0.31622777,0.03162278,-3.13065488\n104.036243,0.34,0.38,3.15296313,0.24253563,0.04123106,-4.08187457\n123.690068,0.36,0.35,1.38675049,0.2773501,0.03605551,-3.56949576\n153.434949,0.4,0.33,0.89442719,0.4472136,0.04472136,-2.19134662\n180,0.43,0.33,0,1,0.03,-0.97\n206.565051,0.47,0.35,1.34164079,0.4472136,0.04472136,-2.19134662\n236.309932,0.49,0.38,2.21880078,0.2773501,0.03605551,-3.56949576\n255.963757,0.5,0.42,0.9701425,0.24253563,0.04123106,-4.08187457\n288.434949,0.49,0.45,2.21359436,0.31622777,0.03162278,-3.13065488\n303.690068,0.47,0.48,1.38675049,0.2773501,0.03605551,-3.56949576\n333.434949,0.43,0.5,0.89442719,0.4472136,0.04472136,-2.19134662\n0,0.4,0.5,0,1,0.03,-0.97\n26.565051,0.36,0.48,1.34164079,0.4472136,0.04472136,-2.19134662\n56.309932,0.34,0.45,2.21880078,0.2773501,0.03605551,-3.56949576\n71.565051,0.33,0.42,0.9486833,0.31622777,0.03162278,-3.13065488\n"),!1),k(N.ParsePatFile("\n*HONEY,HONEY\n0, 0,0, .1875,.10825317, .125,-.25\n120, 0,0, .1875,.10825317, .125,-.25\n60, 0,0, .1875,.10825317, -.25,.125\n"),!1),k(N.ParsePatFile("\n*HOUND,HOUND\n0, 0,0, .25,.0625, 1,-.5\n90, 0,0, -.25,.0625, 1,-.5\n"),!1),k(N.ParsePatFile("\n*INSUL,INSUL\n0, 0,0, 0,.375\n0, 0,.125, 0,.375, .125,-.125\n0, 0,.25, 0,.375, .125,-.125\n"),!1),k(N.ParsePatFile("\n*LATTICE-01,LATTICE-01 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.08514719,0.4,0,1,0.17029438,-0.82970562\n270,0.6,0.08514719,1,1,0.17029438,-0.82970562\n270,0.4,0.08514719,1,1,0.17029438,-0.82970562\n135,0.5,0.2679899,0.70710678,0.70710678,0.32811183,-1.08610173\n225,0.7320101,0.5,0.70710678,0.70710678,0.32811183,-1.08610173\n45,0.08514719,0.6,0.70710678,0.70710678,0.44526911,-0.96894445\n180,0.08514719,0.6,0,1,0.17029438,-0.82970562\n315,0.5,0.7320101,0.70710678,0.70710678,0.32811183,-1.08610173\n45,0.2679899,0.5,0.70710678,0.70710678,0.32811183,-1.08610173\n315,0.6,0.91485281,0.70710678,0.70710678,0.44526911,-0.96894445\n45,0.6,0.08514719,0.70710678,0.70710678,0.44526911,-0.96894445\n315,0.08514719,0.4,0.70710678,0.70710678,0.44526911,-0.96894445\n"),!1),k(N.ParsePatFile("\n*LATTICE-02,LATTICE-02 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.38333333,0.38333333,0,1,0.76666666,-0.23333334\n270,0.61666667,1,1,1,1;,0 Removed 0 IT RENDERS A POINT\n180,0.38333333,0.61666667,0,1,0.76666666,-0.23333334\n270,0.38333333,1,1,1,1,;0 Removed 0 IT RENDERS A POINT\n"),!1),k(N.ParsePatFile("\n*LATTICE-03,LATTICE-03 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.38333333,0.38333333,0,1,0.76666666,-0.23333334\n180,0.38333333,0.61666667,0,1,0.76666666,-0.23333334\n270,0.61666667,0.38333333,1,1,0.76666666,-0.23333334\n270,0.38333333,0.38333333,1,1,0.76666666,-0.23333334\n"),!1),k(N.ParsePatFile("\n*LATTICE-04,LATTICE-04 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n296.565051,0.15333333,0.46,1.34164079,0.4472136,1.13294111,-1.10312687\n296.565051,0.34000001,0.55333333,1.34164079,0.4472136,1.13294111,-1.10312687\n206.565051,0.46,0.84666667,1.34164079,0.4472136,1.13294111,-1.10312687\n206.565051,0.55333333,0.65999999,1.34164079,0.4472136,1.13294111,-1.10312687\n"),!1),k(N.ParsePatFile("\n*LATTICE-05,LATTICE-05\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n0,0.775,0.075,0,1,0.15,-0.85\n180,0.225,0.925,0,1,0.15,-0.85\n180,0.625,0.225,0,1,0.4,-0.6\n180,0.625,0.075,0,1,0.55,-0.45\n270,0.625,0.225,0,1,0.15,-0.85\n270,0.775,0.775,0,1,0.7,-0.3\n270,0.925,0.925,0,1,0.85,-0.15\n0,0.375,0.775,0,1,0.4,-0.6\n0,0.375,0.925,0,1,0.55,-0.45\n90,0.375,0.775,0,1,0.15,-0.85\n90,0.225,0.225,0,1,0.7,-0.3\n90,0.075,0.075,0,1,0.85,-0.15\n"),!1),k(N.ParsePatFile("\n*LATTICE-06,LATTICE-06\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n180,0.625,0.375,0,1,0.25,-0.75\n270,0.625,0.625,0,1,0.25,-0.75\n0,0.375,0.625,0,1,0.25,-0.75\n90,0.375,0.375,0,1,0.25,-0.75\n0,0.775,0.075,0,1,0.15,-0.85\n180,0.225,0.925,0,1,0.15,-0.85\n180,0.625,0.225,0,1,0.4,-0.6\n180,0.625,0.075,0,1,0.55,-0.45\n270,0.625,0.225,0,1,0.15,-0.85\n270,0.775,0.775,0,1,0.7,-0.3\n270,0.925,0.925,0,1,0.85,-0.15\n0,0.375,0.775,0,1,0.4,-0.6\n0,0.375,0.925,0,1,0.55,-0.45\n90,0.375,0.775,0,1,0.15,-0.85\n90,0.225,0.225,0,1,0.7,-0.3\n90,0.075,0.075,0,1,0.85,-0.15\n"),!1),k(N.ParsePatFile("\n*LATTICE-07, verbose comment\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.69166667,0.69166666,1,1,0.88333333,-0.11666667\n270,0.80833334,0.69166666,1,1,0.88333333,-0.11666667\n270,0.19166666,0.19166667,1,1,0.88333333,-0.11666667\n270,0.30833333,0.19166667,1,1,0.88333333,-0.11666667\n180,0.69166667,0.30833333,0,1,0.88333333,-0.11666667\n180,0.69166667,0.19166666,0,1,0.88333333,-0.11666667\n180,0.19166667,0.80833334,0,1,0.88333333,-0.11666667\n180,0.19166667,0.69166667,0,1,0.88333333,-0.11666667\n"),!1),k(N.ParsePatFile("\n*LEAF-01,LEAF-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n83.659808,0.9,0.2,0.99388373,0.11043153,0.09055385,-8.96483129\n26.565051,0.88,0.19,1.34164079,0.4472136,0.02236068,-2.2137073\n14.036243,0.84,0.18,3.15296313,0.24253563,0.04123106,-4.08187457\n315,0.84,0.18,0.70710678,0.70710678,0.05656854,-1.35764502\n83.659808,0.84,0.18,0.99388373,0.11043153,0.09055385,-8.96483129\n0,0.79,0.18,0,1,0.05,-0.95\n345.963757,0.82,0.12,0.9701425,0.24253563,0.04123106,-4.08187457\n326.309932,0.79,0.14,2.21880078,0.2773501,0.03605551,-3.56949576\n303.690068,0.77,0.17,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.74,0.16,2.21359436,0.31622777,0.03162278,-3.13065488\n288.434949,0.73,0.19,2.21359436,0.31622777,0.03162278,-3.13065488\n180,0.77,0.19,0,1,0.04,-0.96\n258.690068,0.78,0.24,0.98058068,0.19611614,0.0509902,-5.04802932\n243.434949,0.79,0.26,0.89442719,0.4472136,0.02236068,-2.2137073\n225,0.82,0.29,0.70710678,0.70710678,0.04242641,-1.37178716\n213.690068,0.85,0.31,1.38675049,0.2773501,0.03605551,-3.56949576\n191.309932,0.9,0.32,4.11843884,0.19611614,0.0509902,-5.04802932\n128.659808,0.3,0.42,1.40556386,0.15617376,0.06403124,-6.339093\n143.130102,0.34,0.39,3.6,0.2,0.05,-4.95\n153.434949,0.38,0.37,0.89442719,0.4472136,0.04472136,-2.19134662\n192.528808,0.38,0.37,4.1216787,0.10846523,0.09219544,-9.12734901\n105.945396,0.38,0.37,3.15929297,0.13736056,0.0728011,-7.20730879\n153.434949,0.42,0.35,0.89442719,0.4472136,0.04472136,-2.19134662\n149.036243,0.47,0.32,2.22948161,0.17149859,0.05830952,-5.77264238\n95.710593,0.47,0.32,9.05483843,0.09950372,0.10049876,-9.94937686\n194.931417,0.47,0.32,11.40157229,0.06441566,0.15524175,-15.36893295\n135,0.51,0.28,0.70710678,0.70710678,0.05656854,-1.35764502\n123.690068,0.53,0.25,1.38675049,0.2773501,0.03605551,-3.56949576\n199.653824,0.53,0.25,11.70450662,0.06726728,0.14866069,-14.71740806\n71.565051,0.53,0.25,0.9486833,0.31622777,0.09486833,-3.06740933\n119.054604,0.58,0.16,8.06167266,0.09712859,0.1029563,-10.19267384\n288.434949,0.58,0.14,2.21359436,0.31622777,0.06324555,-3.09903211\n21.801409,0.53,0.12,2.22834406,0.18569534,0.05385165,-5.33131316\n11.309932,0.48,0.11,4.11843884,0.19611614,0.0509902,-5.04802932\n0,0.45,0.11,0,1,0.03,-0.97\n341.565051,0.39,0.13,0.9486833,0.31622777,0.06324555,-3.09903211\n326.309932,0.33,0.17,2.21880078,0.2773501,0.07211103,-3.53344025\n308.659808,0.29,0.22,1.40556386,0.15617376,0.06403124,-6.339093\n300.963757,0.26,0.27,3.60147029,0.17149859,0.05830952,-5.77264238\n285.945396,0.24,0.34,3.15929297,0.13736056,0.0728011,-7.20730879\n270,0.24,0.41,0,1,0.07,-0.93\n279.462322,0.23,0.47,5.09636861,0.16439899,0.06082763,-6.0219349\n285.945396,0.21,0.54,3.15929297,0.13736056,0.0728011,-7.20730879\n123.690068,0.23,0.51,1.38675049,0.2773501,0.03605551,-3.56949576\n161.565051,0.26,0.5,0.9486833,0.31622777,0.03162278,-3.13065488\n171.869898,0.33,0.49,0.98994949,0.14142136,0.07071068,-7.00035713\n171.869898,0.4,0.48,0.98994949,0.14142136,0.07071068,-7.00035713\n161.565051,0.46,0.46,0.9486833,0.31622777,0.06324555,-3.09903211\n161.565051,0.52,0.44,0.9486833,0.31622777,0.06324555,-3.09903211\n146.309932,0.58,0.4,2.21880078,0.2773501,0.07211103,-3.53344025\n119.744881,0.62,0.33,5.82963253,0.12403473,0.08062258,-7.98163517\n111.801409,0.64,0.28,2.22834406,0.18569534,0.05385165,-5.33131316\n90,0.64,0.24,0,1,0.04,-0.96\n75.963757,0.63,0.2,0.9701425,0.24253563,0.04123106,-4.08187457\n56.309932,0.61,0.17,2.21880078,0.2773501,0.03605551,-3.56949576\n63.434949,0.6,0.15,0.89442719,0.4472136,0.02236068,-2.2137073\n126.869898,0.63,0.11,1.4,0.2,0.05,-4.95\n45,0.6,0.08,0.70710678,0.70710678,0.04242641,-1.37178716\n233.130102,0.89,0.04,3.6,0.2,0.05,-4.95\n258.690068,0.07,0.05,0.98058068,0.19611614,0.0509902,-5.04802932\n258.690068,0.14,0.05,0.98058068,0.19611614,0.0509902,-5.04802932\n198.434949,0.26,0.02,2.21359436,0.31622777,0.06324555,-3.09903211\n225,0.31,0.02,0.70710678,0.70710678,0.02828427,-1.38592929\n198.434949,0.34,0.03,2.21359436,0.31622777,0.03162278,-3.13065488\n348.690068,0.29,0.04,0.98058068,0.19611614,0.0509902,-5.04802932\n345.963757,0.25,0.05,0.9701425,0.24253563,0.04123106,-4.08187457\n333.434949,0.21,0.07,0.89442719,0.4472136,0.04472136,-2.19134662\n333.434949,0.15,0.1,0.89442719,0.4472136,0.06708204,-2.16898594\n348.690068,0.1,0.11,0.98058068,0.19611614,0.0509902,-5.04802932\n0,0.07,0.11,0,1,0.03,-0.97\n8.130102,0,0.1,6.08111832,0.14142136,0.07071068,-7.00035713\n236.309932,0.02,0.23,2.21880078,0.2773501,0.03605551,-3.56949576\n236.309932,0.04,0.26,2.21880078,0.2773501,0.03605551,-3.56949576\n213.690068,0.07,0.28,1.38675049,0.2773501,0.03605551,-3.56949576\n0,0.03,0.28,0,1,0.04,-0.96\n326.309932,0,0.3,2.21880078,0.2773501,0.03605551,-3.56949576\n18.434949,0,0.26,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0,0.55,0,1,0.07,-0.93\n14.036243,0.1,0.61,3.15296313,0.24253563,0.04123106,-4.08187457\n21.801409,0.05,0.59,2.22834406,0.18569534,0.05385165,-5.33131316\n30.963757,0,0.56,3.60147029,0.17149859,0.05830952,-5.77264238\n254.054604,0.02,0.66,4.12081692,0.13736056,0.0728011,-7.20730879\n158.198591,0.05,0.69,3.15682075,0.18569534,0.05385165,-5.33131316\n153.434949,0.11,0.66,0.89442719,0.4472136,0.06708204,-2.16898594\n158.198591,0.16,0.64,3.15682075,0.18569534,0.05385165,-5.33131316\n180,0.21,0.64,0,1,0.05,-0.95\n33.690068,0.18,0.62,1.38675049,0.2773501,0.03605551,-3.56949576\n45,0.16,0.6,0.70710678,0.70710678,0.02828427,-1.38592929\n53.130102,0.13,0.56,3.6,0.2,0.05,-4.95\n56.309932,0.09,0.5,2.21880078,0.2773501,0.07211103,-3.53344025\n51.340192,0.05,0.45,4.99756038,0.15617376,0.06403124,-6.339093\n38.659808,0,0.41,1.40556386,0.15617376,0.06403124,-6.339093\n180,0.82,0.48,0,1,0.1,-0.9\n310.601295,0.82,0.48,1.41004798,0.10846523,0.09219544,-9.12734901\n82.405357,0.82,0.48,8.06198693,0.06608186,0.15132746,-14.98141849\n180,0.84,0.48,0,1,0.02,-0.98\n194.036243,0.88,0.49,3.15296313,0.24253563,0.04123106,-4.08187457\n198.434949,0.91,0.5,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.83,0.37,0,1,0.08,-0.92\n348.690068,0.78,0.38,0.98058068,0.19611614,0.0509902,-5.04802932\n321.340192,0.73,0.42,4.99756038,0.15617376,0.06403124,-6.339093\n300.963757,0.7,0.47,3.60147029,0.17149859,0.05830952,-5.77264238\n21.801409,0.65,0.45,2.22834406,0.18569534,0.05385165,-5.33131316\n284.036243,0.64,0.49,3.15296313,0.24253563,0.04123106,-4.08187457\n180,0.7,0.49,0,1,0.06,-0.94\n261.869898,0.71,0.56,0.98994949,0.14142136,0.07071068,-7.00035713\n248.198591,0.73,0.61,3.15682075,0.18569534,0.05385165,-5.33131316\n225,0.77,0.65,0.70710678,0.70710678,0.05656854,-1.35764502\n216.869898,0.81,0.68,1.4,0.2,0.05,-4.95\n198.434949,0.9,0.71,2.21359436,0.31622777,0.09486833,-3.06740933\n153.434949,0.36,0.65,0.89442719,0.4472136,0.06708204,-2.16898594\n170.537678,0.42,0.64,0.98639392,0.16439899,0.06082763,-6.0219349\n188.130102,0.49,0.65,6.08111832,0.14142136,0.07071068,-7.00035713\n201.801409,0.54,0.67,2.22834406,0.18569534,0.05385165,-5.33131316\n219.805571,0.6,0.72,1.40840568,0.12803688,0.0781025,-7.73214718\n18.434949,0.97,0.25,2.21359436,0.31622777,0.03162278,-3.13065488\n33.690068,0.94,0.23,1.38675049,0.2773501,0.03605551,-3.56949576\n0,0.94,0.23,0,1,0.04,-0.96\n80.537678,0.94,0.23,0.98639392,0.16439899,0.06082763,-6.0219349\n36.869898,0.9,0.2,1.4,0.2,0.05,-4.95\n341.565051,0.9,0.2,0.9486833,0.31622777,0.06324555,-3.09903211\n53.130102,0.97,0.16,3.6,0.2,0.05,-4.95\n38.659808,0.92,0.12,1.40556386,0.15617376,0.06403124,-6.339093\n9.462322,0.86,0.11,5.09636861,0.16439899,0.06082763,-6.0219349\n180,0.95,0.32,0,1,0.05,-0.95\n158.198591,1,0.3,3.15682075,0.18569534,0.05385165,-5.33131316\n216.869898,0.93,0.07,1.4,0.2,0.05,-4.95\n206.565051,0.97,0.09,1.34164079,0.4472136,0.04472136,-2.19134662\n198.434949,1,0.1,2.21359436,0.31622777,0.03162278,-3.13065488\n90,0.97,0,0,1,0.02,-0.98\n26.565051,0.96,0.53,1.34164079,0.4472136,0.04472136,-2.19134662\n56.309932,0.96,0.53,2.21880078,0.2773501,0.07211103,-3.53344025\n36.869898,0.96,0.53,1.4,0.2,0.05,-4.95\n30.963757,0.91,0.5,3.60147029,0.17149859,0.05830952,-5.77264238\n78.690068,0.91,0.5,0.98058068,0.19611614,0.15297059,-4.94604893\n156.037511,1,0.46,7.61509624,0.10153462,0.09848858,-9.75036922\n30.963757,0.95,0.38,3.60147029,0.17149859,0.05830952,-5.77264238\n14.036243,0.91,0.37,3.15296313,0.24253563,0.04123106,-4.08187457\n180,1,0.71,0,1,0.1,-0.9\n0,0.86,0.87,0,1,0.09,-0.91\n11.309932,0.95,0.87,4.11843884,0.19611614,0.0509902,-5.04802932\n135,1,0.82,0.70710678,0.70710678,0.07071068,-1.34350288\n0,0.96,0.76,0,1,0.04,-0.96\n345.963757,0.92,0.77,0.9701425,0.24253563,0.04123106,-4.08187457\n333.434949,0.88,0.79,0.89442719,0.4472136,0.04472136,-2.19134662\n315,0.86,0.81,0.70710678,0.70710678,0.02828427,-1.38592929\n306.869898,0.83,0.85,1.4,0.2,0.05,-4.95\n11.309932,0.78,0.84,4.11843884,0.19611614,0.0509902,-5.04802932\n284.036243,0.77,0.88,3.15296313,0.24253563,0.04123106,-4.08187457\n180,0.83,0.88,0,1,0.06,-0.94\n14.036243,0.65,0.89,3.15296313,0.24253563,0.04123106,-4.08187457\n18.434949,0.62,0.88,2.21359436,0.31622777,0.03162278,-3.13065488\n33.690068,0.59,0.86,1.38675049,0.2773501,0.03605551,-3.56949576\n230.194429,0.65,0.78,6.401844,0.12803688,0.0781025,-7.73214718\n239.036243,0.68,0.83,2.22948161,0.17149859,0.05830952,-5.77264238\n236.309932,0.72,0.89,2.21880078,0.2773501,0.07211103,-3.53344025\n213.690068,0.75,0.91,1.38675049,0.2773501,0.03605551,-3.56949576\n198.434949,0.78,0.92,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.74,0.92,0,1,0.04,-0.96\n345.963757,0.7,0.93,0.9701425,0.24253563,0.04123106,-4.08187457\n261.869898,0.84,0.95,0.98994949,0.14142136,0.07071068,-7.00035713\n248.198591,0.86,1,3.15682075,0.18569534,0.05385165,-5.33131316\n36.869898,0.55,0.83,1.4,0.2,0.05,-4.95\n0,0.55,0.83,0,1,0.08,-0.92\n78.690068,0.55,0.83,0.98058068,0.19611614,0.10198039,-4.99703912\n33.690068,0.52,0.81,1.38675049,0.2773501,0.03605551,-3.56949576\n30.963757,0.47,0.78,3.60147029,0.17149859,0.05830952,-5.77264238\n336.037511,0.47,0.78,7.61509624,0.10153462,0.09848858,-9.75036922\n79.380345,0.47,0.78,11.18017113,0.06142951,0.16278821,-16.11603239\n26.565051,0.43,0.76,1.34164079,0.4472136,0.04472136,-2.19134662\n9.462322,0.37,0.75,5.09636861,0.16439899,0.06082763,-6.0219349\n318.814075,0.37,0.75,9.21906451,0.09407209,0.10630146,-10.52384435\n82.405357,0.37,0.75,8.06198693,0.06608186,0.15132746,-14.98141849\n0,0.33,0.75,0,1,0.04,-0.96\n0,0.29,0.75,0,1,0.04,-0.96\n0,0.2,0.76,0,1,0.06,-0.94\n104.036243,0.21,0.72,3.15296313,0.24253563,0.04123106,-4.08187457\n201.801409,0.26,0.74,2.22834406,0.18569534,0.05385165,-5.33131316\n123.690068,0.3,0.68,1.38675049,0.2773501,0.07211103,-3.53344025\n338.198591,0.65,0.95,3.15682075,0.18569534,0.05385165,-5.33131316\n333.434949,0.59,0.98,0.89442719,0.4472136,0.06708204,-2.16898594\n348.690068,0.54,0.99,0.98058068,0.19611614,0.0509902,-5.04802932\n0,0.46,0.99,0,1,0.08,-0.92\n18.434949,0.4,0.97,2.21359436,0.31622777,0.06324555,-3.09903211\n26.565051,0.34,0.94,1.34164079,0.4472136,0.06708204,-2.16898594\n45,0.29,0.89,0.70710678,0.70710678,0.07071068,-1.34350288\n71.565051,0.27,0.83,0.9486833,0.31622777,0.06324555,-3.09903211\n81.869898,0.26,0.76,0.98994949,0.14142136,0.07071068,-7.00035713\n;0,0.2,0.76,0,1,0.06,-0.94\n315,0,0.82,0.70710678,0.70710678,0.02828427,-1.38592929\n198.434949,0.03,0.89,2.21359436,0.31622777,0.03162278,-3.13065488\n343.300756,0.03,0.89,7.27947977,0.09578263,0.10440307,-10.33590344\n74.744881,0.03,0.89,4.12217269,0.0877058,0.11401754,-11.28773671\n206.565051,0.05,0.9,1.34164079,0.4472136,0.02236068,-2.2137073\n213.690068,0.08,0.92,1.38675049,0.2773501,0.03605551,-3.56949576\n216.869898,0.12,0.95,1.4,0.2,0.05,-4.95\n352.874984,0.12,0.95,0.99227788,0.12403473,0.08062258,-7.98163517\n78.690068,0.12,0.95,0.98058068,0.19611614,0.0509902,-5.04802932\n213.690068,0.15,0.97,1.38675049,0.2773501,0.03605551,-3.56949576\n213.690068,0.18,0.99,1.38675049,0.2773501,0.03605551,-3.56949576\n206.565051,0.2,1,1.34164079,0.4472136,0.02236068,-2.2137073\n45,0.28,0.99,0.70710678,0.70710678,0.01414214,-1.40007143\n56.309932,0.26,0.96,2.21880078,0.2773501,0.03605551,-3.56949576\n56.309932,0.22,0.9,2.21880078,0.2773501,0.07211103,-3.53344025\n53.130102,0.19,0.86,3.6,0.2,0.05,-4.95\n45,0.14,0.81,0.70710678,0.70710678,0.07071068,-1.34350288\n36.869898,0.1,0.78,1.4,0.2,0.05,-4.95\n18.434949,0.04,0.76,2.21359436,0.31622777,0.06324555,-3.09903211\n0,0,0.76,0,1,0.04,-0.96\n81.253838,0.95,0.87,7.07065907,0.07602859,0.13152946,-13.02141697\n"),!1),k(N.ParsePatFile("\n*LEAF-02,LEAF-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n303.690068,0.77,0.17,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.74,0.16,2.21359436,0.31622777,0.03162278,-3.13065488\n288.434949,0.73,0.19,2.21359436,0.31622777,0.03162278,-3.13065488\n180,0.77,0.19,0,1,0.04,-0.96\n258.690068,0.78,0.24,0.98058068,0.19611614,0.0509902,-5.04802932\n243.434949,0.79,0.26,0.89442719,0.4472136,0.02236068,-2.2137073\n288.434949,0.58,0.14,2.21359436,0.31622777,0.06324555,-3.09903211\n21.801409,0.53,0.12,2.22834406,0.18569534,0.05385165,-5.33131316\n11.309932,0.48,0.11,4.11843884,0.19611614,0.0509902,-5.04802932\n0,0.45,0.11,0,1,0.03,-0.97\n341.565051,0.39,0.13,0.9486833,0.31622777,0.06324555,-3.09903211\n326.309932,0.33,0.17,2.21880078,0.2773501,0.07211103,-3.53344025\n308.659808,0.29,0.22,1.40556386,0.15617376,0.06403124,-6.339093\n300.963757,0.26,0.27,3.60147029,0.17149859,0.05830952,-5.77264238\n285.945396,0.24,0.34,3.15929297,0.13736056,0.0728011,-7.20730879\n270,0.24,0.41,0,1,0.07,-0.93\n279.462322,0.23,0.47,5.09636861,0.16439899,0.06082763,-6.0219349\n285.945396,0.21,0.54,3.15929297,0.13736056,0.0728011,-7.20730879\n123.690068,0.23,0.51,1.38675049,0.2773501,0.03605551,-3.56949576\n161.565051,0.26,0.5,0.9486833,0.31622777,0.03162278,-3.13065488\n171.869898,0.33,0.49,0.98994949,0.14142136,0.07071068,-7.00035713\n171.869898,0.4,0.48,0.98994949,0.14142136,0.07071068,-7.00035713\n161.565051,0.46,0.46,0.9486833,0.31622777,0.06324555,-3.09903211\n161.565051,0.52,0.44,0.9486833,0.31622777,0.06324555,-3.09903211\n146.309932,0.58,0.4,2.21880078,0.2773501,0.07211103,-3.53344025\n119.744881,0.62,0.33,5.82963253,0.12403473,0.08062258,-7.98163517\n111.801409,0.64,0.28,2.22834406,0.18569534,0.05385165,-5.33131316\n90,0.64,0.24,0,1,0.04,-0.96\n75.963757,0.63,0.2,0.9701425,0.24253563,0.04123106,-4.08187457\n56.309932,0.61,0.17,2.21880078,0.2773501,0.03605551,-3.56949576\n63.434949,0.6,0.15,0.89442719,0.4472136,0.02236068,-2.2137073\n126.869898,0.63,0.11,1.4,0.2,0.05,-4.95\n45,0.6,0.08,0.70710678,0.70710678,0.04242641,-1.37178716\n225,0.31,0.02,0.70710678,0.70710678,0.02828427,-1.38592929\n198.434949,0.34,0.03,2.21359436,0.31622777,0.03162278,-3.13065488\n348.690068,0.29,0.04,0.98058068,0.19611614,0.0509902,-5.04802932\n345.963757,0.25,0.05,0.9701425,0.24253563,0.04123106,-4.08187457\n333.434949,0.21,0.07,0.89442719,0.4472136,0.04472136,-2.19134662\n333.434949,0.15,0.1,0.89442719,0.4472136,0.06708204,-2.16898594\n348.690068,0.1,0.11,0.98058068,0.19611614,0.0509902,-5.04802932\n0,0.07,0.11,0,1,0.03,-0.97\n8.130102,0,0.1,6.08111832,0.14142136,0.07071068,-7.00035713\n236.309932,0.02,0.23,2.21880078,0.2773501,0.03605551,-3.56949576\n236.309932,0.04,0.26,2.21880078,0.2773501,0.03605551,-3.56949576\n213.690068,0.07,0.28,1.38675049,0.2773501,0.03605551,-3.56949576\n0,0.03,0.28,0,1,0.04,-0.96\n326.309932,0,0.3,2.21880078,0.2773501,0.03605551,-3.56949576\n158.198591,0.05,0.69,3.15682075,0.18569534,0.05385165,-5.33131316\n153.434949,0.11,0.66,0.89442719,0.4472136,0.06708204,-2.16898594\n158.198591,0.16,0.64,3.15682075,0.18569534,0.05385165,-5.33131316\n180,0.21,0.64,0,1,0.05,-0.95\n33.690068,0.18,0.62,1.38675049,0.2773501,0.03605551,-3.56949576\n45,0.16,0.6,0.70710678,0.70710678,0.02828427,-1.38592929\n53.130102,0.13,0.56,3.6,0.2,0.05,-4.95\n56.309932,0.09,0.5,2.21880078,0.2773501,0.07211103,-3.53344025\n51.340192,0.05,0.45,4.99756038,0.15617376,0.06403124,-6.339093\n38.659808,0,0.41,1.40556386,0.15617376,0.06403124,-6.339093\n321.340192,0.73,0.42,4.99756038,0.15617376,0.06403124,-6.339093\n300.963757,0.7,0.47,3.60147029,0.17149859,0.05830952,-5.77264238\n21.801409,0.65,0.45,2.22834406,0.18569534,0.05385165,-5.33131316\n284.036243,0.64,0.49,3.15296313,0.24253563,0.04123106,-4.08187457\n180,0.7,0.49,0,1,0.06,-0.94\n261.869898,0.71,0.56,0.98994949,0.14142136,0.07071068,-7.00035713\n248.198591,0.73,0.61,3.15682075,0.18569534,0.05385165,-5.33131316\n225,0.77,0.65,0.70710678,0.70710678,0.05656854,-1.35764502\n284.036243,0.77,0.88,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.2,0.76,0,1,0.06,-0.94\n104.036243,0.21,0.72,3.15296313,0.24253563,0.04123106,-4.08187457\n201.801409,0.26,0.74,2.22834406,0.18569534,0.05385165,-5.33131316\n123.690068,0.3,0.68,1.38675049,0.2773501,0.07211103,-3.53344025\n153.434949,0.36,0.65,0.89442719,0.4472136,0.06708204,-2.16898594\n170.537678,0.42,0.64,0.98639392,0.16439899,0.06082763,-6.0219349\n188.130102,0.49,0.65,6.08111832,0.14142136,0.07071068,-7.00035713\n201.801409,0.54,0.67,2.22834406,0.18569534,0.05385165,-5.33131316\n219.805571,0.6,0.72,1.40840568,0.12803688,0.0781025,-7.73214718\n230.194429,0.65,0.78,6.401844,0.12803688,0.0781025,-7.73214718\n239.036243,0.68,0.83,2.22948161,0.17149859,0.05830952,-5.77264238\n236.309932,0.72,0.89,2.21880078,0.2773501,0.07211103,-3.53344025\n213.690068,0.75,0.91,1.38675049,0.2773501,0.03605551,-3.56949576\n198.434949,0.78,0.92,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.74,0.92,0,1,0.04,-0.96\n345.963757,0.7,0.93,0.9701425,0.24253563,0.04123106,-4.08187457\n338.198591,0.65,0.95,3.15682075,0.18569534,0.05385165,-5.33131316\n45,0.29,0.89,0.70710678,0.70710678,0.07071068,-1.34350288\n71.565051,0.27,0.83,0.9486833,0.31622777,0.06324555,-3.09903211\n81.869898,0.26,0.76,0.98994949,0.14142136,0.07071068,-7.00035713\n;0,0.2,0.76,0,1,0.06,-0.94\n53.130102,0.19,0.86,3.6,0.2,0.05,-4.95\n45,0.14,0.81,0.70710678,0.70710678,0.07071068,-1.34350288\n36.869898,0.1,0.78,1.4,0.2,0.05,-4.95\n18.434949,0.04,0.76,2.21359436,0.31622777,0.06324555,-3.09903211\n0,0,0.76,0,1,0.04,-0.96\n0,0.96,0.76,0,1,0.04,-0.96\n345.963757,0.92,0.77,0.9701425,0.24253563,0.04123106,-4.08187457\n333.434949,0.88,0.79,0.89442719,0.4472136,0.04472136,-2.19134662\n315,0.86,0.81,0.70710678,0.70710678,0.02828427,-1.38592929\n306.869898,0.83,0.85,1.4,0.2,0.05,-4.95\n11.309932,0.78,0.84,4.11843884,0.19611614,0.0509902,-5.04802932\n180,0.83,0.88,0,1,0.06,-0.94\n261.869898,0.84,0.95,0.98994949,0.14142136,0.07071068,-7.00035713\n248.198591,0.86,1,3.15682075,0.18569534,0.05385165,-5.33131316\n333.434949,0.59,0.98,0.89442719,0.4472136,0.06708204,-2.16898594\n348.690068,0.54,0.99,0.98058068,0.19611614,0.0509902,-5.04802932\n0,0.46,0.99,0,1,0.08,-0.92\n18.434949,0.4,0.97,2.21359436,0.31622777,0.06324555,-3.09903211\n26.565051,0.34,0.94,1.34164079,0.4472136,0.06708204,-2.16898594\n45,0.28,0.99,0.70710678,0.70710678,0.01414214,-1.40007143\n56.309932,0.26,0.96,2.21880078,0.2773501,0.03605551,-3.56949576\n56.309932,0.22,0.9,2.21880078,0.2773501,0.07211103,-3.53344025\n53.130102,0.97,0.16,3.6,0.2,0.05,-4.95\n38.659808,0.92,0.12,1.40556386,0.15617376,0.06403124,-6.339093\n9.462322,0.86,0.11,5.09636861,0.16439899,0.06082763,-6.0219349\n345.963757,0.82,0.12,0.9701425,0.24253563,0.04123106,-4.08187457\n326.309932,0.79,0.14,2.21880078,0.2773501,0.03605551,-3.56949576\n225,0.82,0.29,0.70710678,0.70710678,0.04242641,-1.37178716\n213.690068,0.85,0.31,1.38675049,0.2773501,0.03605551,-3.56949576\n191.309932,0.9,0.32,4.11843884,0.19611614,0.0509902,-5.04802932\n180,0.95,0.32,0,1,0.05,-0.95\n158.198591,1,0.3,3.15682075,0.18569534,0.05385165,-5.33131316\n233.130102,0.89,0.04,3.6,0.2,0.05,-4.95\n216.869898,0.93,0.07,1.4,0.2,0.05,-4.95\n206.565051,0.97,0.09,1.34164079,0.4472136,0.04472136,-2.19134662\n198.434949,1,0.1,2.21359436,0.31622777,0.03162278,-3.13065488\n30.963757,0.95,0.38,3.60147029,0.17149859,0.05830952,-5.77264238\n14.036243,0.91,0.37,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.83,0.37,0,1,0.08,-0.92\n348.690068,0.78,0.38,0.98058068,0.19611614,0.0509902,-5.04802932\n216.869898,0.81,0.68,1.4,0.2,0.05,-4.95\n198.434949,0.9,0.71,2.21359436,0.31622777,0.09486833,-3.06740933\n180,1,0.71,0,1,0.1,-0.9\n"),!1),k(N.ParsePatFile("\n*LEAF-03,LEAF-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n344.054604,0.86,0.38,4.12081692,0.13736056,0.0728011,-7.20730879\n338.198591,0.81,0.4,3.15682075,0.18569534,0.05385165,-5.33131316\n326.309932,0.75,0.44,2.21880078,0.2773501,0.07211103,-3.53344025\n320.194429,0.69,0.49,6.401844,0.12803688,0.0781025,-7.73214718\n308.659808,0.65,0.54,1.40556386,0.15617376,0.06403124,-6.339093\n300.963757,0.62,0.59,3.60147029,0.17149859,0.05830952,-5.77264238\n293.198591,0.59,0.66,2.23220936,0.13130643,0.07615773,-7.53961537\n281.309932,0.58,0.71,4.11843884,0.19611614,0.0509902,-5.04802932\n276.340192,0.57,0.8,8.0615014,0.11043153,0.09055385,-8.96483129\n270,0.57,0.85,0,1,0.05,-0.95\n257.471192,0.59,0.94,5.09786576,0.10846523,0.09219544,-9.12734901\n164.054604,0.66,0.92,4.12081692,0.13736056,0.0728011,-7.20730879\n158.198591,0.71,0.9,3.15682075,0.18569534,0.05385165,-5.33131316\n146.309932,0.77,0.86,2.21880078,0.2773501,0.07211103,-3.53344025\n140.194429,0.83,0.81,6.401844,0.12803688,0.0781025,-7.73214718\n125.537678,0.88,0.74,4.99864847,0.11624764,0.08602325,-8.51630201\n116.565051,0.92,0.66,1.34164079,0.4472136,0.08944272,-2.14662526\n105.945396,0.94,0.59,3.15929297,0.13736056,0.0728011,-7.20730879\n97.125016,0.95,0.51,7.06997987,0.12403473,0.08062258,-7.98163517\n90,0.95,0.45,0,1,0.06,-0.94\n77.471192,0.93,0.36,5.09786576,0.10846523,0.09219544,-9.12734901\n195.945396,0.14,0.38,3.15929297,0.13736056,0.0728011,-7.20730879\n201.801409,0.19,0.4,2.22834406,0.18569534,0.05385165,-5.33131316\n213.690068,0.25,0.44,1.38675049,0.2773501,0.07211103,-3.53344025\n219.805571,0.31,0.49,1.40840568,0.12803688,0.0781025,-7.73214718\n231.340192,0.35,0.54,4.99756038,0.15617376,0.06403124,-6.339093\n239.036243,0.38,0.59,2.22948161,0.17149859,0.05830952,-5.77264238\n246.801409,0.41,0.66,5.38356375,0.13130643,0.07615773,-7.53961537\n258.690068,0.42,0.71,0.98058068,0.19611614,0.0509902,-5.04802932\n263.659808,0.43,0.8,0.99388373,0.11043153,0.09055385,-8.96483129\n270,0.43,0.85,0,1,0.05,-0.95\n282.528808,0.41,0.94,4.1216787,0.10846523,0.09219544,-9.12734901\n15.945396,0.34,0.92,3.15929297,0.13736056,0.0728011,-7.20730879\n21.801409,0.29,0.9,2.22834406,0.18569534,0.05385165,-5.33131316\n33.690068,0.23,0.86,1.38675049,0.2773501,0.07211103,-3.53344025\n39.805571,0.17,0.81,1.40840568,0.12803688,0.0781025,-7.73214718\n54.462322,0.12,0.74,3.6036768,0.11624764,0.08602325,-8.51630201\n63.434949,0.08,0.66,0.89442719,0.4472136,0.08944272,-2.14662526\n74.054604,0.06,0.59,4.12081692,0.13736056,0.0728011,-7.20730879\n82.874984,0.05,0.51,0.99227788,0.12403473,0.08062258,-7.98163517\n90,0.05,0.45,0,1,0.06,-0.94\n102.528808,0.07,0.36,4.1216787,0.10846523,0.09219544,-9.12734901\n128.659808,0.21,0.15,1.40556386,0.15617376,0.06403124,-6.339093\n146.309932,0.27,0.11,2.21880078,0.2773501,0.07211103,-3.53344025\n153.434949,0.33,0.08,0.89442719,0.4472136,0.06708204,-2.16898594\n164.054604,0.4,0.06,4.12081692,0.13736056,0.0728011,-7.20730879\n171.869898,0.47,0.05,0.98994949,0.14142136,0.07071068,-7.00035713\n180,0.53,0.05,0,1,0.06,-0.94\n188.130102,0.6,0.06,6.08111832,0.14142136,0.07071068,-7.00035713\n195.945396,0.67,0.08,3.15929297,0.13736056,0.0728011,-7.20730879\n206.565051,0.73,0.11,1.34164079,0.4472136,0.06708204,-2.16898594\n218.659808,0.78,0.15,1.40556386,0.15617376,0.06403124,-6.339093\n225,0.83,0.2,0.70710678,0.70710678,0.07071068,-1.34350288\n315,0.78,0.25,0.70710678,0.70710678,0.07071068,-1.34350288\n321.340192,0.73,0.29,4.99756038,0.15617376,0.06403124,-6.339093\n336.801409,0.66,0.32,5.38356375,0.13130643,0.07615773,-7.53961537\n341.565051,0.6,0.34,0.9486833,0.31622777,0.06324555,-3.09903211\n351.869898,0.53,0.35,0.98994949,0.14142136,0.07071068,-7.00035713\n0,0.47,0.35,0,1,0.06,-0.94\n8.130102,0.4,0.34,6.08111832,0.14142136,0.07071068,-7.00035713\n18.434949,0.34,0.32,2.21359436,0.31622777,0.06324555,-3.09903211\n23.198591,0.27,0.29,2.23220936,0.13130643,0.07615773,-7.53961537\n38.659808,0.22,0.25,1.40556386,0.15617376,0.06403124,-6.339093\n45,0.17,0.2,0.70710678,0.70710678,0.07071068,-1.34350288\n"),!1),k(N.ParsePatFile("\n*LINE,LINE\n0, 0,0, 0,.125\n"),!1),k(N.ParsePatFile("\n*LOOPLINKS,LOOPLINKS\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n206.565051,0.53,0.67,1.34164079,0.4472136,0.02236068,-2.2137073\n243.434949,0.54,0.69,0.89442719,0.4472136,0.02236068,-2.2137073\n116.565051,0.47,0.67,1.34164079,0.4472136,0.02236068,-2.2137073\n153.434949,0.49,0.66,0.89442719,0.4472136,0.02236068,-2.2137073\n180,0.51,0.66,0,1,0.02,-0.98\n258.690068,0.19,0.59,0.98058068,0.19611614,0.0509902,-5.04802932\n251.565051,0.2,0.62,0.9486833,0.31622777,0.03162278,-3.13065488\n243.434949,0.22,0.66,0.89442719,0.4472136,0.04472136,-2.19134662\n230.194429,0.27,0.72,6.401844,0.12803688,0.0781025,-7.73214718\n225,0.31,0.76,0.70710678,0.70710678,0.05656854,-1.35764502\n209.744881,0.38,0.8,5.82963253,0.12403473,0.08062258,-7.98163517\n194.036243,0.46,0.82,3.15296313,0.24253563,0.08246211,-4.04064351\n251.565051,0.28,0.6,0.9486833,0.31622777,0.06324555,-3.09903211\n239.036243,0.31,0.65,2.22948161,0.17149859,0.05830952,-5.77264238\n225,0.35,0.69,0.70710678,0.70710678,0.05656854,-1.35764502\n210.963757,0.4,0.72,3.60147029,0.17149859,0.05830952,-5.77264238\n198.434949,0.46,0.74,2.21359436,0.31622777,0.06324555,-3.09903211\n116.565051,0.67,0.47,1.34164079,0.4472136,0.02236068,-2.2137073\n153.434949,0.69,0.46,0.89442719,0.4472136,0.02236068,-2.2137073\n26.565051,0.67,0.53,1.34164079,0.4472136,0.02236068,-2.2137073\n63.434949,0.66,0.51,0.89442719,0.4472136,0.02236068,-2.2137073\n90,0.66,0.49,0,1,0.02,-0.98\n168.690068,0.59,0.81,0.98058068,0.19611614,0.0509902,-5.04802932\n161.565051,0.62,0.8,0.9486833,0.31622777,0.03162278,-3.13065488\n153.434949,0.66,0.78,0.89442719,0.4472136,0.04472136,-2.19134662\n140.194429,0.72,0.73,6.401844,0.12803688,0.0781025,-7.73214718\n135,0.76,0.69,0.70710678,0.70710678,0.05656854,-1.35764502\n119.744881,0.8,0.62,5.82963253,0.12403473,0.08062258,-7.98163517\n104.036243,0.82,0.54,3.15296313,0.24253563,0.08246211,-4.04064351\n161.565051,0.6,0.72,0.9486833,0.31622777,0.06324555,-3.09903211\n149.036243,0.65,0.69,2.22948161,0.17149859,0.05830952,-5.77264238\n135,0.69,0.65,0.70710678,0.70710678,0.05656854,-1.35764502\n120.963757,0.72,0.6,3.60147029,0.17149859,0.05830952,-5.77264238\n108.434949,0.74,0.54,2.21359436,0.31622777,0.06324555,-3.09903211\n26.565051,0.47,0.33,1.34164079,0.4472136,0.02236068,-2.2137073\n63.434949,0.46,0.31,0.89442719,0.4472136,0.02236068,-2.2137073\n296.565051,0.53,0.33,1.34164079,0.4472136,0.02236068,-2.2137073\n333.434949,0.51,0.34,0.89442719,0.4472136,0.02236068,-2.2137073\n0,0.49,0.34,0,1,0.02,-0.98\n78.690068,0.81,0.41,0.98058068,0.19611614,0.0509902,-5.04802932\n71.565051,0.8,0.38,0.9486833,0.31622777,0.03162278,-3.13065488\n63.434949,0.78,0.34,0.89442719,0.4472136,0.04472136,-2.19134662\n50.194429,0.73,0.28,6.401844,0.12803688,0.0781025,-7.73214718\n45,0.69,0.24,0.70710678,0.70710678,0.05656854,-1.35764502\n29.744881,0.62,0.2,5.82963253,0.12403473,0.08062258,-7.98163517\n14.036243,0.54,0.18,3.15296313,0.24253563,0.08246211,-4.04064351\n71.565051,0.72,0.4,0.9486833,0.31622777,0.06324555,-3.09903211\n59.036243,0.69,0.35,2.22948161,0.17149859,0.05830952,-5.77264238\n45,0.65,0.31,0.70710678,0.70710678,0.05656854,-1.35764502\n30.963757,0.6,0.28,3.60147029,0.17149859,0.05830952,-5.77264238\n18.434949,0.54,0.26,2.21359436,0.31622777,0.06324555,-3.09903211\n296.565051,0.33,0.53,1.34164079,0.4472136,0.02236068,-2.2137073\n333.434949,0.31,0.54,0.89442719,0.4472136,0.02236068,-2.2137073\n206.565051,0.33,0.47,1.34164079,0.4472136,0.02236068,-2.2137073\n243.434949,0.34,0.49,0.89442719,0.4472136,0.02236068,-2.2137073\n270,0.34,0.51,0,1,0.02,-0.98\n348.690068,0.41,0.19,0.98058068,0.19611614,0.0509902,-5.04802932\n341.565051,0.38,0.2,0.9486833,0.31622777,0.03162278,-3.13065488\n333.434949,0.34,0.22,0.89442719,0.4472136,0.04472136,-2.19134662\n320.194429,0.28,0.27,6.401844,0.12803688,0.0781025,-7.73214718\n315,0.24,0.31,0.70710678,0.70710678,0.05656854,-1.35764502\n299.744881,0.2,0.38,5.82963253,0.12403473,0.08062258,-7.98163517\n284.036243,0.18,0.46,3.15296313,0.24253563,0.08246211,-4.04064351\n341.565051,0.4,0.28,0.9486833,0.31622777,0.06324555,-3.09903211\n329.036243,0.35,0.31,2.22948161,0.17149859,0.05830952,-5.77264238\n315,0.31,0.35,0.70710678,0.70710678,0.05656854,-1.35764502\n300.963757,0.28,0.4,3.60147029,0.17149859,0.05830952,-5.77264238\n288.434949,0.26,0.46,2.21359436,0.31622777,0.06324555,-3.09903211\n90,0.46,-0.31,0,1,0.62,-0.38\n270,0.54,0.31,0,1,0.62,-0.38\n180,0.31,0.46,0,1,0.62,-0.38\n0,-0.31,0.54,0,1,0.62,-0.38\n"),!1),k(N.ParsePatFile("\n*MAZE-01,MAZE-01 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.95,0.92,0,1,0.25,-0.75\n90,0.95,0.55,1,1,0.37,-0.63\n90,0.83,0.55,1,1,0.25,-0.75\n0,0.7,0.42,0,1,0.11,-0.89\n180,0.57,0.8,0,1,0.38,-0.62\n270,0.57,0.92,1,1,0.12,-0.88\n0,0.07,0.92,0,1,0.5,-0.5\n90,0.95,0.29,1,1,0.13,-0.87\n180,0.45,0.05,0,1,0.38,-0.62\n0,0.7,0.29,0,1,0.25,-0.75\n270,0.45,0.17,1,1,0.12,-0.88\n0,0.19,0.17,0,1,0.26,-0.74\n90,0.7,0.17,1,1,0.12,-0.88\n270,0.19,0.8,1,1,0.63,-0.37\n0,0.31,0.29,0,1,0.26,-0.74\n270,0.31,0.68,1,1,0.39,-0.61\n180,0.7,0.68,0,1,0.39,-0.61\n270,0.7,0.92,1,1,0.24,-0.76\n180,0.95,0.17,0,1,0.25,-0.75\n90,0.95,0.05,1,1,0.12,-0.88\n0,0.57,0.05,0,1,0.38,-0.62\n270,0.57,0.42,1,1,0.37,-0.63\n270,0.7,0.55,1,1,0.13,-0.87\n0,0.45,0.55,0,1,0.25,-0.75\n90,0.45,0.42,1,1,0.13,-0.87\n90,0.07,0.05,1,1,0.87,-0.13\n"),!1),k(N.ParsePatFile("\n*MAZE-02,MAZE-02 verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.89999999,0.1,1,1,0.1,-0.9\n0,0.69999999,0.1,0,1,0.2,-0.8\n90,0,0.3,1,1,0.5,-0.5\n270,0.89999999,0.9,1,1,0.5,-0.5\n270,0.29999999,0.9,1,1,0.1,-0.9\n180,0.29999999,0.9,0,1,0.4,-0.6\n0,0.19999999,0.2,0,1,0.15,-0.85\n90,0.19999999,0.3,1,1,0.2,-0.8\n180,0.49999999,0.3,0,1,0.3,-0.7\n90,0.49999999,0.1,1,1,0.2,-0.8\n270,0.69999999,0.2,1,1,0.1,-0.9\n0,0.59999999,0.2,0,1,0.1,-0.9\n270,0.59999999,0.3,1,1,0.1,-0.9\n180,0.69999999,0.3,0,1,0.1,-0.9\n270,0.59999999,0.6,1,1,0.1,-0.9\n0,0.29999999,0.6,0,1,0.3,-0.7\n90,0.29999999,0.4,1,1,0.2,-0.8\n180,0.69999999,0.4,0,1,0.4,-0.6\n180,0.59999999,0.5,0,1,0.2,-0.8\n270,0.79999999,0.8,1,1,0.5,-0.5\n0,0.09999999,0.1,0,1,0.4,-0.6\n0,0.09999999,0.8,0,1,0.7,-0.3\n270,0.09999999,0.2,1,1,0.1,-0.9\n90,0.09999999,0.3,1,1,0.5,-0.5\n180,0.09999999,0.2,0,1,0.3,-0.7\n180,0,0.3,0,1,0.20000001,-0.79999999\n180,0.29999999,0,0,1,0.3,-0.7\n270,0.69999999,0.7,1,1,0.2,-0.8\n0,0.39999999,0,0,1,0.4,-0.6\n0,0.19999999,0.7,0,1,0.5,-0.5\n90,0.19999999,0.6,1,1,0.1,-0.9\n270,0.59999999,0.1,1,1,0.1,-0.9\n0,0.39999999,0.9,0,1,0.4,-0.6\n270,0.39999999,1,1,1,0.1,-0.9\n"),!1),k(N.ParsePatFile("\n*MUDST,MUDST\n0, 0,0, .5,.25, .25,-.25,0,-.25,0,-.25\n"),!1),k(N.ParsePatFile("\n*NET3,NET3\n0, 0,0, 0,.125\n60, 0,0, 0,.125\n120, 0,0, 0,.125\n"),!1),k(N.ParsePatFile("\n*NET,NET\n0, 0,0, 0,.125\n90, 0,0, 0,.125\n"),!1),k(N.ParsePatFile("\n*PLASTI,PLASTI\n0, 0,0, 0,.25\n0, 0,.03125, 0,.25\n0, 0,.0625, 0,.25\n0, 0,.15625, 0,.25\n"),!1),k(N.ParsePatFile("\n*PLAST,PLAST\n0, 0,0, 0,.25\n0, 0,.03125, 0,.25\n0, 0,.0625, 0,.25\n"),!1),k(N.ParsePatFile("\n*QCAD-LOGO,QCAD-LOGO\n;By John Hyslop, Line 101 modified by CVH to fix left side of pencil drift when hatching far from Origin\n;Developed in inch as imperial QCAD3 pattern\n243.434949,0.8,0.36,0.89442719,0.4472136,0.02236068,-2.2137073\n248.198591,0.82,0.41,3.15682075,0.18569534,0.05385165,-5.33131316\n263.659808,0.83,0.5,0.99388373,0.11043153,0.09055385,-8.96483129\n276.340192,0.82,0.59,8.0615014,0.11043153,0.09055385,-8.96483129\n290.556045,0.79,0.67,5.38389277,0.11704115,0.08544004,-8.45856371\n310.601295,0.73,0.74,1.41004798,0.10846523,0.09219544,-9.12734901\n324.462322,0.66,0.79,3.6036768,0.11624764,0.08602325,-8.51630201\n336.801409,0.59,0.82,5.38356375,0.13130643,0.07615773,-7.53961537\n351.869898,0.52,0.83,0.98994949,0.14142136,0.07071068,-7.00035713\n26.565051,0.61,0.18,1.34164079,0.4472136,0.06708204,-2.16898594\n7.125016,0.53,0.17,7.06997987,0.12403473,0.08062258,-7.98163517\n0,0.45,0.17,0,1,0.08,-0.92\n344.054604,0.38,0.19,4.12081692,0.13736056,0.0728011,-7.20730879\n336.801409,0.31,0.22,5.38356375,0.13130643,0.07615773,-7.53961537\n320.194429,0.25,0.27,6.401844,0.12803688,0.0781025,-7.73214718\n308.659808,0.21,0.32,1.40556386,0.15617376,0.06403124,-6.339093\n293.198591,0.18,0.39,2.23220936,0.13130643,0.07615773,-7.53961537\n285.945396,0.16,0.46,3.15929297,0.13736056,0.0728011,-7.20730879\n270,0.16,0.52,0,1,0.06,-0.94\n261.869898,0.17,0.59,0.98994949,0.14142136,0.07071068,-7.00035713\n246.801409,0.2,0.66,5.38356375,0.13130643,0.07615773,-7.53961537\n234.462322,0.25,0.73,3.6036768,0.11624764,0.08602325,-8.51630201\n219.805571,0.31,0.78,1.40840568,0.12803688,0.0781025,-7.73214718\n206.565051,0.37,0.81,1.34164079,0.4472136,0.06708204,-2.16898594\n195.945396,0.44,0.83,3.15929297,0.13736056,0.0728011,-7.20730879\n180,0.48,0.83,0,1,0.04,-0.96\n180,0.52,0.83,0,1,0.04,-0.96\n233.130102,0.92,0.27,3.6,0.2,0.05,-4.95\n248.198591,0.94,0.32,3.15682075,0.18569534,0.05385165,-5.33131316\n248.198591,0.96,0.37,3.15682075,0.18569534,0.05385165,-5.33131316\n260.537678,0.97,0.43,0.98639392,0.16439899,0.06082763,-6.0219349\n261.869898,0.98,0.5,0.98994949,0.14142136,0.07071068,-7.00035713\n278.130102,0.97,0.57,6.08111832,0.14142136,0.07071068,-7.00035713\n279.462322,0.96,0.63,5.09636861,0.16439899,0.06082763,-6.0219349\n288.434949,0.94,0.69,2.21359436,0.31622777,0.06324555,-3.09903211\n299.744881,0.9,0.76,5.82963253,0.12403473,0.08062258,-7.98163517\n308.659808,0.86,0.81,1.40556386,0.15617376,0.06403124,-6.339093\n315,0.81,0.86,0.70710678,0.70710678,0.07071068,-1.34350288\n321.340192,0.76,0.9,4.99756038,0.15617376,0.06403124,-6.339093\n329.036243,0.71,0.93,2.22948161,0.17149859,0.05830952,-5.77264238\n338.198591,0.66,0.95,3.15682075,0.18569534,0.05385165,-5.33131316\n338.198591,0.61,0.97,3.15682075,0.18569534,0.05385165,-5.33131316\n350.537678,0.55,0.98,0.98639392,0.16439899,0.06082763,-6.0219349\n0,0.5,0.98,0,1,0.05,-0.95\n0,0.45,0.98,0,1,0.05,-0.95\n11.309932,0.4,0.97,4.11843884,0.19611614,0.0509902,-5.04802932\n14.036243,0.36,0.96,3.15296313,0.24253563,0.04123106,-4.08187457\n21.801409,0.31,0.94,2.22834406,0.18569534,0.05385165,-5.33131316\n21.801409,0.26,0.92,2.22834406,0.18569534,0.05385165,-5.33131316\n36.869898,0.22,0.89,1.4,0.2,0.05,-4.95\n36.869898,0.18,0.86,1.4,0.2,0.05,-4.95\n33.690068,0.75,0.09,1.38675049,0.2773501,0.03605551,-3.56949576\n26.565051,0.69,0.06,1.34164079,0.4472136,0.06708204,-2.16898594\n21.801409,0.64,0.04,2.22834406,0.18569534,0.05385165,-5.33131316\n11.309932,0.59,0.03,4.11843884,0.19611614,0.0509902,-5.04802932\n8.130102,0.52,0.02,6.08111832,0.14142136,0.07071068,-7.00035713\n0,0.46,0.02,0,1,0.06,-0.94\n350.537678,0.4,0.03,0.98639392,0.16439899,0.06082763,-6.0219349\n348.690068,0.35,0.04,0.98058068,0.19611614,0.0509902,-5.04802932\n338.198591,0.3,0.06,3.15682075,0.18569534,0.05385165,-5.33131316\n333.434949,0.26,0.08,0.89442719,0.4472136,0.04472136,-2.19134662\n323.130102,0.22,0.11,3.6,0.2,0.05,-4.95\n323.130102,0.18,0.14,3.6,0.2,0.05,-4.95\n315,0.14,0.18,0.70710678,0.70710678,0.05656854,-1.35764502\n306.869898,0.11,0.22,1.4,0.2,0.05,-4.95\n306.869898,0.08,0.26,1.4,0.2,0.05,-4.95\n296.565051,0.06,0.3,1.34164079,0.4472136,0.04472136,-2.19134662\n291.801409,0.04,0.35,2.22834406,0.18569534,0.05385165,-5.33131316\n281.309932,0.03,0.4,4.11843884,0.19611614,0.0509902,-5.04802932\n281.309932,0.02,0.45,4.11843884,0.19611614,0.0509902,-5.04802932\n270,0.02,0.5,0,1,0.05,-0.95\n270,0.02,0.55,0,1,0.05,-0.95\n258.690068,0.03,0.6,0.98058068,0.19611614,0.0509902,-5.04802932\n258.690068,0.04,0.65,0.98058068,0.19611614,0.0509902,-5.04802932\n248.198591,0.06,0.7,3.15682075,0.18569534,0.05385165,-5.33131316\n243.434949,0.08,0.74,0.89442719,0.4472136,0.04472136,-2.19134662\n233.130102,0.11,0.78,3.6,0.2,0.05,-4.95\n233.130102,0.14,0.82,3.6,0.2,0.05,-4.95\n225,0.18,0.86,0.70710678,0.70710678,0.05656854,-1.35764502\n0,0.35,0.21,0,1,0.29,-0.71\n180,0.56,0.39,0,1,0.04,-0.96\n270,0.56,0.44,0,1,0.05,-0.95\n180,0.62,0.44,0,1,0.06,-0.94\n270,0.62,0.48,0,1,0.04,-0.96\n270,0.98,0.11,0,1,0.01,-0.99\n270,0.98,0.13,0,1,0.02,-0.98\n45,0.82,0.08,0.70710678,0.70710678,0.14142136,-1.27279221\n225,0.9,0.2,0.70710678,0.70710678,0.14142136,-1.27279221\n45,0.79,0.11,0.70710678,0.70710678,0.14142136,-1.27279221\n0,0.544133,0.559775,0,1,0,-1\n0,0.590298,0.634752,0,1,0,-1\n0,0.640323,0.720624,0,1,0,-1\n135,0.98,0.13,0.70710678,0.70710678,0.49497475,-0.91923882\n56.309932,0.96,0.07,2.21880078,0.2773501,0.03605551,-3.56949576\n45,0.94,0.05,0.70710678,0.70710678,0.02828427,-1.38592929\n33.690068,0.91,0.03,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.88,0.02,2.21359436,0.31622777,0.03162278,-3.13065488\n135.806929,0.88,0.02,-1.41407331,0.01991653,0.50209561,-49.70746523\n289.983107,0.48,0.48,8.54357658,0.08543577,0.117047,-11.58765291\n338.198591,0.53,0.52,3.15682075,0.18569534,0.1077033,-5.27746151\n105.945396,0.48,0.48,3.15929297,0.13736056,0.0728011,-7.20730879\n218.659808,0.53,0.52,1.40556386,0.15617376,0.06403124,-6.339093\n336.801409,0.46,0.55,5.38356375,0.13130643,0.07615773,-7.53961537\n56.309932,0.66,0.755,2.21880078,0.2773501,0.01802776,-3.58752352\n239.036243,0.475,0.435,2.22948161,0.17149859,0.02915476,-5.80179714\n236.309932,0.57,0.6,2.21880078,0.2773501,0.01802776,-3.58752352\n236.309932,0.62,0.68,2.21880078,0.2773501,0.01802776,-3.58752352\n0,0.46,0.41,0,1,0,-1\n0,0.49,0.34,0,1,0.02,-0.98\n0,0.54,0.34,0,1,0,-1\n0,0.45,0.34,0,1,0,-1\n0,0.36,0.34,0,1,0,-1\n0,0.27,0.34,0,1,0,-1\n180,0.24,0.34,0,1,0.03,-0.97\n180,0.33,0.34,0,1,0.03,-0.97\n180,0.42,0.34,0,1,0.03,-0.97\n239.036243,0.45,0.39,2.22948161,0.17149859,0.05830952,-5.77264238\n0,0.44,0.44,0,1,0.05,-0.95\n341.565051,0.41,0.45,0.9486833,0.31622777,0.03162278,-3.13065488\n315,0.39,0.47,0.70710678,0.70710678,0.02828427,-1.38592929\n296.565051,0.38,0.49,1.34164079,0.4472136,0.02236068,-2.2137073\n180,0.38,0.49,0,1,0.21,-0.79\n240.068488,0.57,0.82,8.06221498,0.02626129,0.38078866,-37.69807687\n0,0.63,0.49,0,1,0.18,-0.82\n240.255119,0.75,0.7,2.23262522,0.12403473,0.24186773,-7.82039002\n"),!1),k(N.ParsePatFile("\n*REDBACK,REDBACK\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n63.434949,0.73,0.78,0.89442719,0.4472136,0.02236068,-2.2137073\n33.690068,0.7,0.76,1.38675049,0.2773501,0.03605551,-3.56949576\n75.963757,0.69,0.72,0.9701425,0.24253563,0.04123106,-4.08187457\n0,0.66,0.72,0,1,0.03,-0.97\n108.434949,0.67,0.69,2.21359436,0.31622777,0.03162278,-3.13065488\n90,0.67,0.68,0,1,0.01,-0.99\n0,0.54,0.57,0,1,0.01,-0.99\n270,0.54,0.58,0,1,0.01,-0.99\n225,0.55,0.59,0.70710678,0.70710678,0.01414214,-1.40007143\n180,0.56,0.59,0,1,0.01,-0.99\n315,0.55,0.6,0.70710678,0.70710678,0.01414214,-1.40007143\n15.524111,0.37,0.55,7.27991309,0.05352877,0.18681542,-18.49472628\n0,0.35,0.55,0,1,0.02,-0.98\n45,0.34,0.54,0.70710678,0.70710678,0.01414214,-1.40007143\n0,0.31,0.54,0,1,0.03,-0.97\n26.565051,0.19,0.48,1.34164079,0.4472136,0.13416408,-2.1019039\n0,0.18,0.48,0,1,0.01,-0.99\n33.690068,0.15,0.46,1.38675049,0.2773501,0.03605551,-3.56949576\n32.005383,0.07,0.41,3.60399279,0.10599979,0.09433981,-9.33964132\n45,0.06,0.4,0.70710678,0.70710678,0.01414214,-1.40007143\n270,0.06,0.41,0,1,0.01,-0.99\n225,0.07,0.42,0.70710678,0.70710678,0.01414214,-1.40007143\n213.690068,0.16,0.48,1.38675049,0.2773501,0.10816654,-3.49738474\n243.434949,0.17,0.5,0.89442719,0.4472136,0.02236068,-2.2137073\n205.016893,0.32,0.57,2.23525175,0.06041221,0.16552945,-16.3874159\n189.462322,0.38,0.58,5.09636861,0.16439899,0.06082763,-6.0219349\n194.036243,0.42,0.59,3.15296313,0.24253563,0.04123106,-4.08187457\n194.036243,0.5,0.61,3.15296313,0.24253563,0.08246211,-4.04064351\n198.434949,0.56,0.63,2.21359436,0.31622777,0.06324555,-3.09903211\n6.340192,0.47,0.62,8.0615014,0.11043153,0.09055385,-8.96483129\n315,0.46,0.63,0.70710678,0.70710678,0.01414214,-1.40007143\n45,0.45,0.62,0.70710678,0.70710678,0.01414214,-1.40007143\n23.198591,0.38,0.59,2.23220936,0.13130643,0.07615773,-7.53961537\n0,0.35,0.59,0,1,0.03,-0.97\n45,0.32,0.56,0.70710678,0.70710678,0.04242641,-1.37178716\n236.309932,0.34,0.59,2.21880078,0.2773501,0.03605551,-3.56949576\n206.565051,0.36,0.6,1.34164079,0.4472136,0.02236068,-2.2137073\n206.565051,0.42,0.63,1.34164079,0.4472136,0.06708204,-2.16898594\n206.565051,0.44,0.64,1.34164079,0.4472136,0.02236068,-2.2137073\n206.565051,0.46,0.65,1.34164079,0.4472136,0.02236068,-2.2137073\n180,0.57,0.65,0,1,0.11,-0.89\n225,0.58,0.66,0.70710678,0.70710678,0.01414214,-1.40007143\n321.340192,0.53,0.7,4.99756038,0.15617376,0.06403124,-6.339093\n296.565051,0.52,0.72,1.34164079,0.4472136,0.02236068,-2.2137073\n285.945396,0.5,0.79,3.15929297,0.13736056,0.0728011,-7.20730879\n254.054604,0.52,0.86,4.12081692,0.13736056,0.0728011,-7.20730879\n135,0.53,0.85,0.70710678,0.70710678,0.01414214,-1.40007143\n90,0.53,0.82,0,1,0.03,-0.97\n71.565051,0.52,0.79,0.9486833,0.31622777,0.03162278,-3.13065488\n105.945396,0.54,0.72,3.15929297,0.13736056,0.0728011,-7.20730879\n135,0.58,0.68,0.70710678,0.70710678,0.05656854,-1.35764502\n180,0.59,0.68,0,1,0.01,-0.99\n270,0.59,0.69,0,1,0.01,-0.99\n270,0.59,0.71,0,1,0.02,-0.98\n296.565051,0.58,0.73,1.34164079,0.4472136,0.02236068,-2.2137073\n278.130102,0.57,0.8,6.08111832,0.14142136,0.07071068,-7.00035713\n251.565051,0.58,0.83,0.9486833,0.31622777,0.03162278,-3.13065488\n225,0.59,0.84,0.70710678,0.70710678,0.01414214,-1.40007143\n225,0.6,0.85,0.70710678,0.70710678,0.01414214,-1.40007143\n243.434949,0.61,0.87,0.89442719,0.4472136,0.02236068,-2.2137073\n243.434949,0.63,0.91,0.89442719,0.4472136,0.04472136,-2.19134662\n243.434949,0.65,0.95,0.89442719,0.4472136,0.04472136,-2.19134662\n225,0.66,0.96,0.70710678,0.70710678,0.01414214,-1.40007143\n168.690068,0.81,0.93,0.98058068,0.19611614,0.15297059,-4.94604893\n355.601295,0.68,0.94,0.99705449,0.0766965,0.13038405,-12.90802076\n56.309932,0.66,0.91,2.21880078,0.2773501,0.03605551,-3.56949576\n56.309932,0.64,0.88,2.21880078,0.2773501,0.03605551,-3.56949576\n63.434949,0.63,0.86,0.89442719,0.4472136,0.02236068,-2.2137073\n56.309932,0.61,0.83,2.21880078,0.2773501,0.03605551,-3.56949576\n71.565051,0.6,0.8,0.9486833,0.31622777,0.03162278,-3.13065488\n90,0.6,0.79,0,1,0.01,-0.99\n90,0.6,0.77,0,1,0.02,-0.98\n90,0.6,0.74,0,1,0.03,-0.97\n225,0.61,0.75,0.70710678,0.70710678,0.01414214,-1.40007143\n243.434949,0.62,0.77,0.89442719,0.4472136,0.02236068,-2.2137073\n225,0.63,0.78,0.70710678,0.70710678,0.01414214,-1.40007143\n206.565051,0.65,0.79,1.34164079,0.4472136,0.02236068,-2.2137073\n206.565051,0.67,0.8,1.34164079,0.4472136,0.02236068,-2.2137073\n180,0.69,0.8,0,1,0.02,-0.98\n180,0.71,0.8,0,1,0.02,-0.98\n180,0.74,0.8,0,1,0.03,-0.97\n153.434949,0.76,0.79,0.89442719,0.4472136,0.02236068,-2.2137073\n135,0.77,0.78,0.70710678,0.70710678,0.01414214,-1.40007143\n135,0.56,0.56,0.70710678,0.70710678,0.01414214,-1.40007143\n26.565051,0.77,0.74,1.34164079,0.4472136,0.02236068,-2.2137073\n56.309932,0.75,0.71,2.21880078,0.2773501,0.03605551,-3.56949576\n14.036243,0.71,0.7,3.15296313,0.24253563,0.04123106,-4.08187457\n90,0.71,0.67,0,1,0.03,-0.97\n341.565051,0.68,0.68,0.9486833,0.31622777,0.03162278,-3.13065488\n0,0.67,0.68,0,1,0.01,-0.99\n90,0.56,0.55,0,1,0.01,-0.99\n180,0.57,0.55,0,1,0.01,-0.99\n225,0.58,0.56,0.70710678,0.70710678,0.01414214,-1.40007143\n270,0.58,0.57,0,1,0.01,-0.99\n135,0.59,0.56,0.70710678,0.70710678,0.01414214,-1.40007143\n74.475889,0.54,0.38,11.4016286,0.05352877,0.18681542,-18.49472628\n90,0.54,0.36,0,1,0.02,-0.98\n45,0.53,0.35,0.70710678,0.70710678,0.01414214,-1.40007143\n90,0.53,0.32,0,1,0.03,-0.97\n63.434949,0.47,0.2,0.89442719,0.4472136,0.13416408,-2.1019039\n90,0.47,0.19,0,1,0.01,-0.99\n56.309932,0.45,0.16,2.21880078,0.2773501,0.03605551,-3.56949576\n57.994617,0.4,0.08,5.82998834,0.10599979,0.09433981,-9.33964132\n45,0.39,0.07,0.70710678,0.70710678,0.01414214,-1.40007143\n180,0.4,0.07,0,1,0.01,-0.99\n225,0.41,0.08,0.70710678,0.70710678,0.01414214,-1.40007143\n236.309932,0.47,0.17,2.21880078,0.2773501,0.10816654,-3.49738474\n206.565051,0.49,0.18,1.34164079,0.4472136,0.02236068,-2.2137073\n244.983107,0.56,0.33,14.31769361,0.06041221,0.16552945,-16.3874159\n260.537678,0.57,0.39,0.98639392,0.16439899,0.06082763,-6.0219349\n255.963757,0.58,0.43,0.9701425,0.24253563,0.04123106,-4.08187457\n255.963757,0.6,0.51,0.9701425,0.24253563,0.08246211,-4.04064351\n251.565051,0.62,0.57,0.9486833,0.31622777,0.06324555,-3.09903211\n83.659808,0.61,0.48,0.99388373,0.11043153,0.09055385,-8.96483129\n135,0.62,0.47,0.70710678,0.70710678,0.01414214,-1.40007143\n45,0.61,0.46,0.70710678,0.70710678,0.01414214,-1.40007143\n66.801409,0.58,0.39,5.38356375,0.13130643,0.07615773,-7.53961537\n90,0.58,0.36,0,1,0.03,-0.97\n45,0.55,0.33,0.70710678,0.70710678,0.04242641,-1.37178716\n213.690068,0.58,0.35,1.38675049,0.2773501,0.03605551,-3.56949576\n243.434949,0.59,0.37,0.89442719,0.4472136,0.02236068,-2.2137073\n243.434949,0.62,0.43,0.89442719,0.4472136,0.06708204,-2.16898594\n243.434949,0.63,0.45,0.89442719,0.4472136,0.02236068,-2.2137073\n243.434949,0.64,0.47,0.89442719,0.4472136,0.02236068,-2.2137073\n270,0.64,0.58,0,1,0.11,-0.89\n225,0.65,0.59,0.70710678,0.70710678,0.01414214,-1.40007143\n128.659808,0.69,0.54,1.40556386,0.15617376,0.06403124,-6.339093\n153.434949,0.71,0.53,0.89442719,0.4472136,0.02236068,-2.2137073\n164.054604,0.78,0.51,4.12081692,0.13736056,0.0728011,-7.20730879\n195.945396,0.85,0.53,3.15929297,0.13736056,0.0728011,-7.20730879\n315,0.84,0.54,0.70710678,0.70710678,0.01414214,-1.40007143\n0,0.81,0.54,0,1,0.03,-0.97\n18.434949,0.78,0.53,2.21359436,0.31622777,0.03162278,-3.13065488\n344.054604,0.71,0.55,4.12081692,0.13736056,0.0728011,-7.20730879\n315,0.67,0.59,0.70710678,0.70710678,0.05656854,-1.35764502\n270,0.67,0.6,0,1,0.01,-0.99\n180,0.68,0.6,0,1,0.01,-0.99\n180,0.7,0.6,0,1,0.02,-0.98\n153.434949,0.72,0.59,0.89442719,0.4472136,0.02236068,-2.2137073\n171.869898,0.79,0.58,0.98994949,0.14142136,0.07071068,-7.00035713\n198.434949,0.82,0.59,2.21359436,0.31622777,0.03162278,-3.13065488\n225,0.83,0.6,0.70710678,0.70710678,0.01414214,-1.40007143\n225,0.84,0.61,0.70710678,0.70710678,0.01414214,-1.40007143\n206.565051,0.86,0.62,1.34164079,0.4472136,0.02236068,-2.2137073\n206.565051,0.9,0.64,1.34164079,0.4472136,0.04472136,-2.19134662\n206.565051,0.94,0.66,1.34164079,0.4472136,0.04472136,-2.19134662\n225,0.95,0.67,0.70710678,0.70710678,0.01414214,-1.40007143\n281.309932,0.92,0.82,4.11843884,0.19611614,0.15297059,-4.94604893\n94.398705,0.93,0.69,12.04135032,0.0766965,0.13038405,-12.90802076\n33.690068,0.9,0.67,1.38675049,0.2773501,0.03605551,-3.56949576\n33.690068,0.87,0.65,1.38675049,0.2773501,0.03605551,-3.56949576\n26.565051,0.85,0.64,1.34164079,0.4472136,0.02236068,-2.2137073\n33.690068,0.82,0.62,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.79,0.61,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.78,0.61,0,1,0.01,-0.99\n0,0.76,0.61,0,1,0.02,-0.98\n0,0.73,0.61,0,1,0.03,-0.97\n225,0.74,0.62,0.70710678,0.70710678,0.01414214,-1.40007143\n206.565051,0.76,0.63,1.34164079,0.4472136,0.02236068,-2.2137073\n225,0.77,0.64,0.70710678,0.70710678,0.01414214,-1.40007143\n243.434949,0.78,0.66,0.89442719,0.4472136,0.02236068,-2.2137073\n243.434949,0.79,0.68,0.89442719,0.4472136,0.02236068,-2.2137073\n270,0.79,0.7,0,1,0.02,-0.98\n270,0.79,0.72,0,1,0.02,-0.98\n270,0.79,0.75,0,1,0.03,-0.97\n296.565051,0.78,0.77,1.34164079,0.4472136,0.02236068,-2.2137073\n315,0.77,0.78,0.70710678,0.70710678,0.01414214,-1.40007143\n"),!1),k(N.ParsePatFile("\n*SACNCR,SACNCR\n45, 0,0, 0,.09375\n45, .06629126,0, 0,.09375, 0,-.09375\n"),!1),k(N.ParsePatFile("\n*SCAFFOLD, verbose comment\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.76,0.84,1,1,0.02,-0.98\n326.3099325,0.26,0.16,2.21880078,0.2773501,0.57688819,-3.02866309\n90,0.24,0.49,1,1,0.02,-0.98\n270,0.25,0.16,1,1,0.32,-0.68\n146.3099325,0.24,0.84,2.21880078,0.2773501,0.5768882,-3.02866307\n180,0.76,0.49,0,1,0.02,-0.98\n270,0.74,0.18,1,1,0.02,-0.98\n0,0.74,0.84,0,1,0.02,-0.98\n90,0.25,0.51,1,1,0.31,-0.69\n270,0.76,0.51,1,1,0.02,-0.98\n0,0.26,0.17,0,1,0.48,-0.52\n0,0.24,0.51,0,1,0.02,-0.98\n180,0.76,0.18,0,1,0.02,-0.98\n90,0.74,0.82,1,1,0.02,-0.98\n212.855722,0.24,0.49,20.24844917,0.01750082,0.57140178,-56.56877673\n147.144278,0.24,0.18,36.89172934,0.01750082,0.57140178,-56.56877673\n213.6900675,0.24,0.16,1.38675049,0.2773501,0.57688818,-3.02866309\n180,0.24,0.17,0,1,0.48,-0.52\n0,0.26,0.83,0,1,0.48,-0.52\n90,0.26,0.16,1,1,0.02,-0.98\n180,0.76,0.82,0,1,0.02,-0.98\n90,0.74,0.49,1,1,0.02,-0.98\n147.144278,0.74,0.18,36.89172934,0.01750082,0.57140179,-56.56877672\n0,0.24,0.16,0,1,0.02,-0.98\n0,0.26,0.5,0,1,0.48,-0.52\n270,0.26,0.84,1,1,0.02,-0.98\n90,0.75,0.18,1,1,0.31,-0.69\n212.855722,0.74,0.82,20.24844917,0.01750082,0.57140179,-56.56877672\n180,0.26,0.49,0,1,0.02,-0.98\n270,0.24,0.18,1,1,0.02,-0.98\n0,0.24,0.84,0,1,0.02,-0.98\n270,0.26,0.51,1,1,0.02,-0.98\n270,0.75,0.82,1,1,0.31,-0.69\n32.855722,0.26,0.18,20.24844917,0.01750082,0.57140179,-56.56877672\n180,0.26,0.18,0,1,0.02,-0.98\n0,0.74,0.51,0,1,0.02,-0.98\n90,0.76,0.16,1,1,0.02,-0.98\n90,0.24,0.82,1,1,0.02,-0.98\n180,0.24,0.83,0,1,0.48,-0.52\n147.144278,0.24,0.51,36.89172934,0.01750082,0.57140178,-56.56877673\n180,0.24,0.5,0,1,0.48,-0.52\n270,0.25,0.49,1,1,0.31,-0.69\n212.855722,0.24,0.82,20.24844917,0.01750082,0.57140179,-56.56877672\n0,0.74,0.16,0,1,0.02,-0.98\n270,0.75,0.16,1,1,0.32,-0.68\n180,0.26,0.82,0,1,0.02,-0.98\n213.6900675,0.74,0.16,1.38675049,0.2773501,0.57688819,-3.02866309\n327.144278,0.26,0.82,36.89172934,0.01750082,0.57140179,-56.56877672\n"),!1),k(N.ParsePatFile("\n*SQUARE,SQUARE\n0, 0,0, 0,.125, .125,-.125\n90, 0,0, 0,.125, .125,-.125\n"),!1),k(N.ParsePatFile("\n*SQUIGGLE-01,SQUIGGLE-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n45,0.11,-0.39,0.70710678,0.70710678,1.11722871,-0.29698485\n56.309932,0.07,0.55,2.21880078,0.2773501,0.07211103,-3.53344025\n81.869898,0.06,0.48,0.98994949,0.14142136,0.07071068,-7.00035713\n99.462322,0.07,0.42,5.09636861,0.16439899,0.06082763,-6.0219349\n123.690068,0.11,0.36,1.38675049,0.2773501,0.07211103,-3.53344025\n146.309932,0.17,0.32,2.21880078,0.2773501,0.07211103,-3.53344025\n170.537678,0.23,0.31,0.98639392,0.16439899,0.06082763,-6.0219349\n188.130102,0.3,0.32,6.08111832,0.14142136,0.07071068,-7.00035713\n213.690068,0.36,0.36,1.38675049,0.2773501,0.07211103,-3.53344025\n225,0.65,0.65,0.70710678,0.70710678,0.41012193,-1.00409163\n213.690068,0.71,0.69,1.38675049,0.2773501,0.07211103,-3.53344025\n189.462322,0.77,0.7,5.09636861,0.16439899,0.06082763,-6.0219349\n171.869898,0.84,0.69,0.98994949,0.14142136,0.07071068,-7.00035713\n146.309932,0.9,0.65,2.21880078,0.2773501,0.07211103,-3.53344025\n123.690068,0.94,0.59,1.38675049,0.2773501,0.07211103,-3.53344025\n99.462322,0.95,0.53,5.09636861,0.16439899,0.06082763,-6.0219349\n81.869898,0.94,0.46,0.98994949,0.14142136,0.07071068,-7.00035713\n56.309932,0.9,0.4,2.21880078,0.2773501,0.07211103,-3.53344025\n"),!1),k(N.ParsePatFile("\n*SQUIGGLE-02,SQUIGGLE-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n75.963757,0.99,0.16,0.9701425,0.24253563,0.04123106,-4.08187457\n63.434949,0.97,0.12,0.89442719,0.4472136,0.04472136,-2.19134662\n45,0.94,0.09,0.70710678,0.70710678,0.04242641,-1.37178716\n14.036243,0.9,0.08,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.85,0.08,0,1,0.05,-0.95\n345.963757,0.81,0.09,0.9701425,0.24253563,0.04123106,-4.08187457\n315,0.78,0.12,0.70710678,0.70710678,0.04242641,-1.37178716\n296.565051,0.76,0.16,1.34164079,0.4472136,0.04472136,-2.19134662\n284.036243,0.75,0.2,3.15296313,0.24253563,0.04123106,-4.08187457\n281.309932,0.74,0.85,4.11843884,0.19611614,0.0509902,-5.04802932\n303.690068,0.72,0.88,1.38675049,0.2773501,0.03605551,-3.56949576\n315,0.69,0.91,0.70710678,0.70710678,0.04242641,-1.37178716\n345.963757,0.65,0.92,0.9701425,0.24253563,0.04123106,-4.08187457\n0,0.6,0.92,0,1,0.05,-0.95\n14.036243,0.56,0.91,3.15296313,0.24253563,0.04123106,-4.08187457\n45,0.53,0.88,0.70710678,0.70710678,0.04242641,-1.37178716\n56.309932,0.51,0.85,2.21880078,0.2773501,0.03605551,-3.56949576\n78.690068,0.5,0.8,0.98058068,0.19611614,0.0509902,-5.04802932\n75.963757,0.49,0.16,0.9701425,0.24253563,0.04123106,-4.08187457\n63.434949,0.47,0.12,0.89442719,0.4472136,0.04472136,-2.19134662\n45,0.44,0.09,0.70710678,0.70710678,0.04242641,-1.37178716\n14.036243,0.4,0.08,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.35,0.08,0,1,0.05,-0.95\n345.963757,0.31,0.09,0.9701425,0.24253563,0.04123106,-4.08187457\n315,0.28,0.12,0.70710678,0.70710678,0.04242641,-1.37178716\n296.565051,0.26,0.16,1.34164079,0.4472136,0.04472136,-2.19134662\n284.036243,0.25,0.2,3.15296313,0.24253563,0.04123106,-4.08187457\n281.309932,0.24,0.85,4.11843884,0.19611614,0.0509902,-5.04802932\n303.690068,0.22,0.88,1.38675049,0.2773501,0.03605551,-3.56949576\n315,0.19,0.91,0.70710678,0.70710678,0.04242641,-1.37178716\n345.963757,0.15,0.92,0.9701425,0.24253563,0.04123106,-4.08187457\n0,0.1,0.92,0,1,0.05,-0.95\n14.036243,0.06,0.91,3.15296313,0.24253563,0.04123106,-4.08187457\n45,0.03,0.88,0.70710678,0.70710678,0.04242641,-1.37178716\n56.309932,0.01,0.85,2.21880078,0.2773501,0.03605551,-3.56949576\n78.690068,0,0.8,0.98058068,0.19611614,0.0509902,-5.04802932\n270,0.75,0.8,0,1,0.6,-0.4\n270,0.5,0.8,0,1,0.6,-0.4\n270,0.25,0.8,0,1,0.6,-0.4\n270,0,0.8,0,1,0.6,-0.4\n"),!1),k(N.ParsePatFile("\n*STARS,STARS\n0, 0,0, 0,.21650635, .125,-.125\n60, 0,0, 0,.21650635, .125,-.125\n120, .0625,.10825318, 0,.21650635, .125,-.125\n"),!1),k(N.ParsePatFile("\n*STEEL,STEEL\n45, 0,0, 0,.125\n45, 0,.0625, 0,.125\n"),!1),k(N.ParsePatFile("\n*SWAMP,SWAMP\n0, 0,0, .5,.8660254, .125,-.875\n90, .0625,0, .8660254,.5, .0625,-1.66955081\n90, .078125,0, .8660254,.5, .05,-1.68205081\n90, .046875,0, .8660254,.5, .05,-1.68205081\n60, .09375,0, .5,.8660254, .04,-.96\n120, .03125,0, .5,.8660254, .04,-.96\n"),!1),k(N.ParsePatFile("\n*TRANS,TRANS\n0, 0,0, 0,.25\n0, 0,.125, 0,.25, .125,-.125\n"),!1),k(N.ParsePatFile("\n*TRIANG,TRIANG\n60, 0,0, .1875,.32475953, .1875,-.1875\n120, 0,0, .1875,.32475953, .1875,-.1875\n0, -.09375,.16237976, .1875,.32475953, .1875,-.1875\n"),!1),k(N.ParsePatFile("\n*TRI-OVERLAP,TRI-OVERLAP verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n59.641885,0.09000001,0.15,47.50789248,0.01232691,0.81123363,-80.31212922\n300.358115,0.5,0.85000001,33.61547037,0.01232691,0.81123363,-80.31212922\n180,0.35942857,0.61,0,1,0.71885753,-0.28114247\n59.036243,0.89518072,0.17530121,2.22948161,0.17149859,0.20373205,-5.62721984\n180,0.91,0.15,0,1,0.81999999,-0.18000001\n300.963757,0,0.35,3.60147029,0.17149859,0.20373206,-5.62721983\n300.784147,0.12,0.15,5.83092324,0.01827876,0.5470832,-54.16123426\n239.215853,0.88,0.15,48.87739422,0.01827876,0.5470832,-54.16123426\n"),!1),k(N.ParsePatFile("\n*WEATHERBOARD,WEATHERBOARD\n; By John Hyslop,    Manually Entered QCAD3 pattern\n; Developed in inch as imperial QCAD3 pattern\n; Imperial Hatch Scale 1 Makes 6inch horizontally placed boards\n; with a 0.5in offset line to simulate a rounded edge\n0,0,0,0,6\n0,0,0.5,0,6\n"),!1),k(N.ParsePatFile("\n*WEAVING,WEAVING\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n90,0.9,0.2,0,1,0.05,-0.95\n75.963757,0.88,0.12,0.9701425,0.24253563,0.08246211,-4.04064351\n66.801409,0.85,0.05,5.38356375,0.13130643,0.07615773,-7.53961537\n54.462322,0.8,-0.02,3.6036768,0.11624764,0.08602325,-8.51630201\n56.309932,0.76,-0.08,2.21880078,0.2773501,0.07211103,-3.53344025\n90,0.79,0.22,0,1,0.07,-0.93\n80.537678,0.78,0.16,0.98639392,0.16439899,0.06082763,-6.0219349\n63.434949,0.75,0.1,0.89442719,0.4472136,0.06708204,-2.16898594\n56.309932,0.71,0.04,2.21880078,0.2773501,0.07211103,-3.53344025\n56.309932,0.67,-0.02,2.21880078,0.2773501,0.07211103,-3.53344025\n333.434949,0.86,0.27,0.89442719,0.4472136,0.06708204,-2.16898594\n344.054604,0.79,0.29,4.12081692,0.13736056,0.0728011,-7.20730879\n0,0.71,0.29,0,1,0.08,-0.92\n9.462322,0.65,0.28,5.09636861,0.16439899,0.06082763,-6.0219349\n26.565051,0.59,0.25,1.34164079,0.4472136,0.06708204,-2.16898594\n38.659808,0.54,0.21,1.40556386,0.15617376,0.06403124,-6.339093\n36.869898,0.46,0.15,1.4,0.2,0.1,-4.9\n20.556045,0.38,0.12,5.38389277,0.11704115,0.08544004,-8.45856371\n330.255119,0.91,0.37,2.23262522,0.12403473,0.08062258,-7.98163517\n344.054604,0.84,0.39,4.12081692,0.13736056,0.0728011,-7.20730879\n352.874984,0.76,0.4,0.99227788,0.12403473,0.08062258,-7.98163517\n0,0.69,0.4,0,1,0.07,-0.93\n14.036243,0.61,0.38,3.15296313,0.24253563,0.08246211,-4.04064351\n26.565051,0.53,0.34,1.34164079,0.4472136,0.08944272,-2.14662526\n33.690068,0.47,0.3,1.38675049,0.2773501,0.07211103,-3.53344025\n35.537678,0.4,0.25,4.99864847,0.11624764,0.08602325,-8.51630201\n0,0.2,0.1,0,1,0.05,-0.95\n348.690068,0.15,0.11,0.98058068,0.19611614,0.0509902,-5.04802932\n341.565051,0.12,0.12,0.9486833,0.31622777,0.03162278,-3.13065488\n336.801409,0.05,0.15,5.38356375,0.13130643,0.07615773,-7.53961537\n326.309932,-0.01,0.19,2.21880078,0.2773501,0.07211103,-3.53344025\n324.462322,-0.08,0.24,3.6036768,0.11624764,0.08602325,-8.51630201\n0,0.22,0.21,0,1,0.07,-0.93\n350.537678,0.16,0.22,0.98639392,0.16439899,0.06082763,-6.0219349\n333.434949,0.1,0.25,0.89442719,0.4472136,0.06708204,-2.16898594\n326.309932,0.04,0.29,2.21880078,0.2773501,0.07211103,-3.53344025\n326.309932,-0.02,0.33,2.21880078,0.2773501,0.07211103,-3.53344025\n60.255119,0.63,0.91,2.23262522,0.12403473,0.08062258,-7.98163517\n180,0.79,0.79,0,1,0.08,-0.92\n164.054604,0.86,0.77,4.12081692,0.13736056,0.0728011,-7.20730879\n153.434949,0.92,0.74,0.89442719,0.4472136,0.06708204,-2.16898594\n330.255119,0.91,0.87,2.23262522,0.12403473,0.08062258,-7.98163517\n345.963757,0.83,0.89,0.9701425,0.24253563,0.08246211,-4.04064351\n352.874984,0.75,0.9,0.99227788,0.12403473,0.08062258,-7.98163517\n60.255119,0.72,0.85,2.23262522,0.12403473,0.08062258,-7.98163517\n80.537678,0.71,0.79,0.98639392,0.16439899,0.06082763,-6.0219349\n90,0.71,0.71,0,1,0.08,-0.92\n104.036243,0.73,0.63,3.15296313,0.24253563,0.08246211,-4.04064351\n116.565051,0.76,0.57,1.34164079,0.4472136,0.06708204,-2.16898594\n129.805571,0.81,0.51,1.40840568,0.12803688,0.0781025,-7.73214718\n123.690068,0.85,0.45,1.38675049,0.2773501,0.07211103,-3.53344025\n113.198591,0.88,0.38,2.23220936,0.13130643,0.07615773,-7.53961537\n309.805571,0.71,0.46,1.40840568,0.12803688,0.0781025,-7.73214718\n305.537678,0.66,0.53,4.99864847,0.11624764,0.08602325,-8.51630201\n299.744881,0.62,0.6,5.82963253,0.12403473,0.08062258,-7.98163517\n285.945396,0.6,0.67,3.15929297,0.13736056,0.0728011,-7.20730879\n270,0.6,0.76,0,1,0.09,-0.91\n74.054604,0.61,0.84,4.12081692,0.13736056,0.0728011,-7.20730879\n82.874984,0.6,0.76,0.99227788,0.12403473,0.08062258,-7.98163517\n39.805571,0.54,0.71,1.40840568,0.12803688,0.0781025,-7.73214718\n35.537678,0.47,0.66,4.99864847,0.11624764,0.08602325,-8.51630201\n33.690068,0.41,0.62,1.38675049,0.2773501,0.07211103,-3.53344025\n15.945396,0.34,0.6,3.15929297,0.13736056,0.0728011,-7.20730879\n6.340192,0.25,0.59,8.0615014,0.11043153,0.09055385,-8.96483129\n350.537678,0.19,0.6,0.98639392,0.16439899,0.06082763,-6.0219349\n344.054604,0.12,0.62,4.12081692,0.13736056,0.0728011,-7.20730879\n23.198591,0.55,0.85,2.23220936,0.13130643,0.07615773,-7.53961537\n29.744881,0.48,0.81,5.82963253,0.12403473,0.08062258,-7.98163517\n39.805571,0.42,0.76,1.40840568,0.12803688,0.0781025,-7.73214718\n29.744881,0.35,0.72,5.82963253,0.12403473,0.08062258,-7.98163517\n7.125016,0.27,0.71,7.06997987,0.12403473,0.08062258,-7.98163517\n0,0.21,0.71,0,1,0.06,-0.94\n344.054604,0.14,0.73,4.12081692,0.13736056,0.0728011,-7.20730879\n333.434949,0.1,0.75,0.89442719,0.4472136,0.04472136,-2.19134662\n234.462322,0.31,-0.01,3.6036768,0.11624764,0.08602325,-8.51630201\n240.255119,0.35,0.06,2.23262522,0.12403473,0.08062258,-7.98163517\n243.434949,0.39,0.14,0.89442719,0.4472136,0.08944272,-2.14662526\n262.874984,0.4,0.22,0.99227788,0.12403473,0.08062258,-7.98163517\n270,0.4,0.3,0,1,0.08,-0.92\n282.528808,0.38,0.39,4.1216787,0.10846523,0.09219544,-9.12734901\n293.198591,0.35,0.46,2.23220936,0.13130643,0.07615773,-7.53961537\n309.805571,0.3,0.52,1.40840568,0.12803688,0.0781025,-7.73214718\n305.537678,0.25,0.59,4.99864847,0.11624764,0.08602325,-8.51630201\n270,0.21,0.78,0,1,0.07,-0.93\n254.054604,0.23,0.85,4.12081692,0.13736056,0.0728011,-7.20730879\n246.801409,0.26,0.92,5.38356375,0.13130643,0.07615773,-7.53961537\n236.309932,0.21,0.04,2.21880078,0.2773501,0.07211103,-3.53344025\n234.462322,0.26,0.11,3.6036768,0.11624764,0.08602325,-8.51630201\n249.443955,0.29,0.19,3.16011097,0.11704115,0.08544004,-8.45856371\n270,0.29,0.27,0,1,0.08,-0.92\n278.130102,0.28,0.34,6.08111832,0.14142136,0.07071068,-7.00035713\n296.565051,0.24,0.42,1.34164079,0.4472136,0.08944272,-2.14662526\n309.805571,0.19,0.48,1.40840568,0.12803688,0.0781025,-7.73214718\n303.690068,0.15,0.54,1.38675049,0.2773501,0.07211103,-3.53344025\n290.556045,0.12,0.62,5.38389277,0.11704115,0.08544004,-8.45856371\n341.565051,0.06,0.64,0.9486833,0.31622777,0.06324555,-3.09903211\n324.462322,-0.01,0.69,3.6036768,0.11624764,0.08602325,-8.51630201\n324.462322,-0.08,0.74,3.6036768,0.11624764,0.08602325,-8.51630201\n146.309932,0.04,0.79,2.21880078,0.2773501,0.07211103,-3.53344025\n146.309932,0.1,0.75,2.21880078,0.2773501,0.07211103,-3.53344025\n262.874984,0.11,0.83,0.99227788,0.12403473,0.08062258,-7.98163517\n255.963757,0.13,0.91,0.9701425,0.24253563,0.08246211,-4.04064351\n240.255119,0.17,0.98,2.23262522,0.12403473,0.08062258,-7.98163517\n"),!1),k(N.ParsePatFile("\n*WIRE-FENCE,WIRE-FENCE verbose\n;By John Hyslop,    Tile2Hatch tool © CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n315,0.46,0.5,0.70710678,0.70710678,0.04673053,-1.36748303\n315,0.52571429,0.56428571,0.70710678,0.70710678,0.04848732,-1.36572624\n3.731397,0.50267394,0.56278308,15.03328073,0.02169305,0.02308929,-46.074633\n183.17983,0.46361415,0.56023571,17.02929602,0.05547002,0.90614559,-17.12161079\n183.17983,0.46120401,0.52006684,17.02929602,0.05547002,0.90600202,-17.12175436\n153.434949,0.52,0.51,0.89442719,0.4472136,0.02236068,-2.2137073\n266.593556,0.52,0.51,17.02938222,0.01188373,1.01178655,-83.1368914\n266.593556,0.56,0.53,17.02938222,0.01188373,1.01178655,-83.1368914\n2.602562,0.49304348,0.46695652,21.02374701,0.04540766,0.02449081,-21.99822474\n"),!1),k(N.ParsePatFile("\n*XMASTREE-01,XMASTREE-01\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n180,0.04,0.95,0,1,0.04,-0.96\n90,0.04,0.82,0,1,0.13,-0.87\n180,0.33,0.82,0,1,0.29,-0.71\n49.763642,0.22,0.69,7.81002892,0.05872202,0.17029386,-16.8590925\n180,0.28,0.69,0,1,0.06,-0.94\n51.340192,0.16,0.54,4.99756038,0.15617376,0.19209373,-6.21103051\n180,0.22,0.54,0,1,0.06,-0.94\n52.431408,0.12,0.41,4.99962824,0.06097108,0.16401219,-16.23720727\n180,0.17,0.41,0,1,0.05,-0.95\n53.130102,0.08,0.29,3.6,0.2,0.15,-4.85\n180,0.13,0.29,0,1,0.05,-0.95\n53.972627,0.05,0.18,8.60201108,0.07352146,0.13601471,-13.4654558\n180,0.1,0.18,0,1,0.05,-0.95\n54.462322,0,0.04,3.6036768,0.11624764,0.17204651,-8.43027876\n0,0.96,0.95,0,1,0.04,-0.96\n90,0.96,0.82,0,1,0.13,-0.87\n0,0.67,0.82,0,1,0.29,-0.71\n130.236358,0.78,0.69,9.21935745,0.05872202,0.17029386,-16.8590925\n0,0.72,0.69,0,1,0.06,-0.94\n128.659808,0.84,0.54,1.40556386,0.15617376,0.19209373,-6.21103051\n0,0.78,0.54,0,1,0.06,-0.94\n127.568592,0.88,0.41,11.40159123,0.06097108,0.16401219,-16.23720727\n0,0.83,0.41,0,1,0.05,-0.95\n126.869898,0.92,0.29,1.4,0.2,0.15,-4.85\n0,0.87,0.29,0,1,0.05,-0.95\n126.027373,0.95,0.18,4.99945943,0.07352146,0.13601471,-13.4654558\n0,0.9,0.18,0,1,0.05,-0.95\n125.537678,1,0.04,4.99864847,0.11624764,0.17204651,-8.43027876\n0,0.46,0.04,0,1,0.04,-0.96\n270,0.46,0.17,0,1,0.13,-0.87\n0,0.17,0.17,0,1,0.29,-0.71\n229.763642,0.28,0.3,7.81002892,0.05872202,0.17029386,-16.8590925\n0,0.22,0.3,0,1,0.06,-0.94\n231.340192,0.34,0.45,4.99756038,0.15617376,0.19209373,-6.21103051\n0,0.28,0.45,0,1,0.06,-0.94\n232.431408,0.38,0.58,4.99962824,0.06097108,0.16401219,-16.23720727\n0,0.33,0.58,0,1,0.05,-0.95\n233.130102,0.42,0.7,3.6,0.2,0.15,-4.85\n0,0.37,0.7,0,1,0.05,-0.95\n233.972627,0.45,0.81,8.60201108,0.07352146,0.13601471,-13.4654558\n0,0.4,0.81,0,1,0.05,-0.95\n234.462322,0.5,0.95,3.6036768,0.11624764,0.17204651,-8.43027876\n180,0.54,0.04,0,1,0.04,-0.96\n270,0.54,0.17,0,1,0.13,-0.87\n180,0.83,0.17,0,1,0.29,-0.71\n310.236358,0.72,0.3,9.21935745,0.05872202,0.17029386,-16.8590925\n180,0.78,0.3,0,1,0.06,-0.94\n308.659808,0.66,0.45,1.40556386,0.15617376,0.19209373,-6.21103051\n180,0.72,0.45,0,1,0.06,-0.94\n307.568592,0.62,0.58,11.40159123,0.06097108,0.16401219,-16.23720727\n180,0.67,0.58,0,1,0.05,-0.95\n306.869898,0.58,0.7,1.4,0.2,0.15,-4.85\n180,0.63,0.7,0,1,0.05,-0.95\n306.027373,0.55,0.81,4.99945943,0.07352146,0.13601471,-13.4654558\n180,0.6,0.81,0,1,0.05,-0.95\n305.537678,0.5,0.95,4.99864847,0.11624764,0.17204651,-8.43027876\n"),!1),k(N.ParsePatFile("\n*XMASTREE-02,XMASTREE-02\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n180,0.04,0.26,0,1,0.04,-0.96\n90,0.04,0.13,0,1,0.13,-0.87\n180,0.33,0.13,0,1,0.29,-0.71\n49.763642,0.22,0,7.81002892,0.05872202,0.17029386,-16.8590925\n180,0.28,1,0,1,0.06,-0.94\n51.340192,0.16,0.85,4.99756038,0.15617376,0.19209373,-6.21103051\n180,0.22,0.85,0,1,0.06,-0.94\n52.431408,0.12,0.72,4.99962824,0.06097108,0.16401219,-16.23720727\n180,0.17,0.72,0,1,0.05,-0.95\n53.130102,0.08,0.6,3.6,0.2,0.15,-4.85\n180,0.13,0.6,0,1,0.05,-0.95\n53.972627,0.05,0.49,8.60201108,0.07352146,0.13601471,-13.4654558\n180,0.1,0.49,0,1,0.05,-0.95\n54.462322,0,0.35,3.6036768,0.11624764,0.17204651,-8.43027876\n0,0.96,0.26,0,1,0.04,-0.96\n90,0.96,0.13,0,1,0.13,-0.87\n0,0.67,0.13,0,1,0.29,-0.71\n130.236358,0.78,0,9.21935745,0.05872202,0.17029386,-16.8590925\n0,0.72,1,0,1,0.06,-0.94\n128.659808,0.84,0.85,1.40556386,0.15617376,0.19209373,-6.21103051\n0,0.78,0.85,0,1,0.06,-0.94\n127.568592,0.88,0.72,11.40159123,0.06097108,0.16401219,-16.23720727\n0,0.83,0.72,0,1,0.05,-0.95\n126.869898,0.92,0.6,1.4,0.2,0.15,-4.85\n0,0.87,0.6,0,1,0.05,-0.95\n126.027373,0.95,0.49,4.99945943,0.07352146,0.13601471,-13.4654558\n0,0.9,0.49,0,1,0.05,-0.95\n125.537678,1,0.35,4.99864847,0.11624764,0.17204651,-8.43027876\n0,0.46,0.09,0,1,0.04,-0.96\n270,0.46,0.22,0,1,0.13,-0.87\n0,0.17,0.22,0,1,0.29,-0.71\n229.763642,0.28,0.35,7.81002892,0.05872202,0.17029386,-16.8590925\n0,0.22,0.35,0,1,0.06,-0.94\n231.340192,0.34,0.5,4.99756038,0.15617376,0.19209373,-6.21103051\n0,0.28,0.5,0,1,0.06,-0.94\n232.431408,0.38,0.63,4.99962824,0.06097108,0.16401219,-16.23720727\n0,0.33,0.63,0,1,0.05,-0.95\n233.130102,0.42,0.75,3.6,0.2,0.15,-4.85\n0,0.37,0.75,0,1,0.05,-0.95\n233.972627,0.45,0.86,8.60201108,0.07352146,0.13601471,-13.4654558\n0,0.4,0.86,0,1,0.05,-0.95\n234.462322,0.5,1,3.6036768,0.11624764,0.17204651,-8.43027876\n180,0.54,0.09,0,1,0.04,-0.96\n270,0.54,0.22,0,1,0.13,-0.87\n180,0.83,0.22,0,1,0.29,-0.71\n310.236358,0.72,0.35,9.21935745,0.05872202,0.17029386,-16.8590925\n180,0.78,0.35,0,1,0.06,-0.94\n308.659808,0.66,0.5,1.40556386,0.15617376,0.19209373,-6.21103051\n180,0.72,0.5,0,1,0.06,-0.94\n307.568592,0.62,0.63,11.40159123,0.06097108,0.16401219,-16.23720727\n180,0.67,0.63,0,1,0.05,-0.95\n306.869898,0.58,0.75,1.4,0.2,0.15,-4.85\n180,0.63,0.75,0,1,0.05,-0.95\n306.027373,0.55,0.86,4.99945943,0.07352146,0.13601471,-13.4654558\n180,0.6,0.86,0,1,0.05,-0.95\n305.537678,0.5,1,4.99864847,0.11624764,0.17204651,-8.43027876\n"),!1),k(N.ParsePatFile("\n*ZIGZAG,ZIGZAG\n0, 0,0, .125,.125, .125,-.125\n90, .125,0, .125,.125, .125,-.125\n"),!1);var C_=D().mark(K_);function D(){D=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new P(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=f,function(e,t){if(s===y)throw Error("Generator is already running");if(s===d){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=y;n=h(i,o,a);if("normal"===n.type){if(s=a.done?d:p,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var t={},w=(o(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(T([]))),x=(w&&w!==e&&l.call(w,r)&&(t=w),g.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==M_(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(M_(t)+" is not iterable")}return c(x,"constructor",{value:b.prototype=g,configurable:!0}),c(g,"constructor",{value:b,configurable:!0}),b.displayName=o(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),o(x,i,"Generator"),o(x,r,function(){return this}),o(x,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function B(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(r=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){i=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(i)throw n}}};if(Array.isArray(e)||(a=L_(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j_(e,t){return(e=>{if(Array.isArray(e))return e})(e)||((e,t)=>{var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}})(e,t)||L_(e,t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function L_(e,t){var n;if(e)return"string"==typeof e?I_(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I_(e,t):void 0}function I_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function N_(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function D_(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){N_(r,t,n,i,o,"next",e)}function o(e){N_(r,t,n,i,o,"throw",e)}i(void 0)})}}function B_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=M_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=M_(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==M_(e)?e:e+""))(r.key),r)}}function U_(e,t,n){return t&&F_(e.prototype,t),n&&F_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var z_=65536,G_=15*Math.PI/180,H_="__point_shape",V_={DIMTXT:function(){return 2.5},DIMASZ:2.5,DIMCLRD:0,DIMCLRE:0,DIMCLRT:0,DIMDEC:2,DIMDLE:0,DIMDSEP:".".charCodeAt(0),DIMEXE:1.25,DIMEXO:.625,DIMFXL:1,DIMFXLON:!1,DIMGAP:.625,DIMLFAC:1,DIMRND:0,DIMSAH:0,DIMSCALE:1,DIMSD1:0,DIMSD2:0,DIMSE1:0,DIMSE2:0,DIMSOXD:!1,DIMTSZ:0,DIMZIN:8},Y_=(()=>{return U_(function e(t){B_(this,e),this.options=Object.create(e.DefaultOptions),t&&Object.assign(this.options,t.sceneOptions),this.origin=null,this.batches=new Wx(function(e,t){return e.key.Compare(t.key)}),this.layers=new Map,this.blocks=new Map,this.dimStyles=new Map,this.vars=new Map,this.fontStyles=new Map,this.inserts=new Map,this.bounds=null,this.pointShapeBlock=null,this.numBlocksFlattened=0,this.numEntitiesFiltered=0},[{key:"Build",value:(n=D_(D().mark(function e(t,n){var r,i,o,a,s,u,l,c,h,f,p,y,d,v,m,b,g,w,x,_,S,k,O,P,T,E,R,A,M;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(w=t.header||{},r=0,i=Object.entries(w);r<i.length;r++)a=j_(i[r],2),o=a[0],a=a[1],o.startsWith("$")&&this.vars.set(o.slice(1),a);if(this.angBase=null!=(w=this.vars.get("ANGBASE"))?w:0,this.angDir=null!=(w=this.vars.get("ANGDIR"))?w:0,this.pdSize=null!=(w=this.vars.get("PDSIZE"))?w:0,this.isMetric=1==(null!=(w=this.vars.get("MEASUREMENT"))?w:1),t.tables&&t.tables.layer)for(s=0,u=Object.entries(t.tables.layer.layers);s<u.length;s++)l=j_(u[s],2),(l=l[1]).displayName=Lx(l.name),this.layers.set(l.name,l);if(t.tables&&t.tables.dimstyle)for(c=0,h=Object.entries(t.tables.dimstyle.dimStyles);c<h.length;c++)f=j_(h[c],2),f=f[1],this.dimStyles.set(f.name,f);if(t.tables&&t.tables.style)for(p=0,y=Object.entries(t.tables.style.styles);p<y.length;p++)d=j_(y[p],2),d=d[1],this.fontStyles.set(d.styleName,d);if(t.blocks)for(v=0,m=Object.entries(t.blocks);v<m.length;v++)b=j_(m[v],2),b=b[1],this.blocks.set(b.name,new q_(b));return this.textRenderer=new Ix(n,this.options.textOptions),this.hasMissingChars=!1,e.next=14,this._FetchFonts(t);case 14:g=B(t.entities),e.prev=15,g.s();case 17:if((w=g.n()).done){e.next=24;break}if(x=w.value,this._FilterEntity(x)){e.next=21;break}return e.abrupt("continue",22);case 21:"INSERT"===x.type?(this.inserts.set(x.handle,x),null!=(_=this.blocks.get(x.name))&&_.RegisterInsert(x)):"DIMENSION"==x.type&&null!==(null!=(_=x.block)?_:null)&&null!=(k=this.blocks.get(x.block))&&k.RegisterInsert(x);case 22:e.next=17;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(15),g.e(e.t0);case 29:return e.prev=29,g.f(),e.finish(29);case 32:S=B(this.blocks.values()),e.prev=33,S.s();case 35:if((k=S.n()).done){e.next=60;break}if(!(O=k.value).data.hasOwnProperty("entities")){e.next=57;break}P=O.DefinitionContext(),T=B(O.data.entities),e.prev=40,T.s();case 42:if((A=T.n()).done){e.next=49;break}if(E=A.value,this._FilterEntity(E)){e.next=46;break}return e.abrupt("continue",47);case 46:this._ProcessDxfEntity(E,P);case 47:e.next=42;break;case 49:e.next=54;break;case 51:e.prev=51,e.t1=e.catch(40),T.e(e.t1);case 54:return e.prev=54,T.f(),e.finish(54);case 57:O.SetFlatten()&&this.numBlocksFlattened++;case 58:e.next=35;break;case 60:e.next=65;break;case 62:e.prev=62,e.t2=e.catch(33),S.e(e.t2);case 65:return e.prev=65,S.f(),e.finish(65);case 68:"".concat(this.numBlocksFlattened," blocks flattened"),R=B(t.entities),e.prev=70,R.s();case 72:if((A=R.n()).done){e.next=80;break}if(M=A.value,this._FilterEntity(M)){e.next=77;break}return this.numEntitiesFiltered++,e.abrupt("continue",78);case 77:this._ProcessDxfEntity(M);case 78:e.next=72;break;case 80:e.next=85;break;case 82:e.prev=82,e.t3=e.catch(70),R.e(e.t3);case 85:return e.prev=85,R.f(),e.finish(85);case 88:"".concat(this.numEntitiesFiltered," entities filtered"),this.scene=this._BuildScene(),delete this.batches,delete this.layers,delete this.blocks,delete this.textRenderer;case 94:case"end":return e.stop()}},e,this,[[15,26,29,32],[33,62,65,68],[40,51,54,57],[70,82,85,88]])})),function(e,t){return n.apply(this,arguments)})},{key:"_FilterEntity",value:function(e){return!this.options.suppressPaperSpace||!e.inPaperSpace}},{key:"_FetchFonts",value:(t=D_(D().mark(function e(t){var n,r,i,o,a,s,u,l,c=this;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=function(e){return"TEXT"===e.type||"MTEXT"===e.type||"DIMENSION"===e.type||"ATTDEF"===e.type||"ATTRIB"===e.type},r=(()=>{var t=D_(D().mark(function e(t){var n,r,i,o,a,s;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c._FilterEntity(t)){e.next=2;break}return e.abrupt("return");case 2:if("TEXT"===t.type||"ATTRIB"===t.type||"ATTDEF"===t.type)return e.next=5,c.textRenderer.FetchFonts(Lx(t.text));e.next=8;break;case 5:n=e.sent,e.next=61;break;case 8:if("MTEXT"!==t.type){e.next=34;break}(r=new kx).Parse(t.text),n=!0,r=B(r.GetText()),e.prev=13,r.s();case 15:if((a=r.n()).done){e.next=24;break}return a=a.value,e.next=19,c.textRenderer.FetchFonts(Lx(a));case 19:if(e.sent){e.next=22;break}return n=!1,e.abrupt("break",24);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),r.e(e.t0);case 29:return e.prev=29,r.f(),e.finish(29);case 32:e.next=61;break;case 34:if("DIMENSION"!==t.type){e.next=60;break}if(n=!0,!(i=c._CreateLinearDimension(t))){e.next=58;break}o=B(i.GetTexts()),e.prev=39,o.s();case 41:if((a=o.n()).done){e.next=50;break}return s=a.value,e.next=45,c.textRenderer.FetchFonts(s);case 45:if(e.sent){e.next=48;break}return n=!1,e.abrupt("break",50);case 48:e.next=41;break;case 50:e.next=55;break;case 52:e.prev=52,e.t1=e.catch(39),o.e(e.t1);case 55:return e.prev=55,o.f(),e.finish(55);case 58:e.next=61;break;case 60:throw new Error("Bad entity type");case 61:return n||(c.hasMissingChars=!0),e.abrupt("return",n);case 63:case"end":return e.stop()}},e,null,[[13,26,29,32],[39,52,55,58]])}));return function(e){return t.apply(this,arguments)}})(),i=B(t.entities),e.prev=3,i.s();case 5:if((a=i.n()).done)e.next=14;else{if(n(a=a.value))return e.next=10,r(a);e.next=12}break;case 10:if(e.sent){e.next=12;break}return e.abrupt("return");case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:o=B(this.blocks.values()),e.prev=23,o.s();case 25:if((a=o.n()).done){e.next=50;break}if(!(s=a.value).data.hasOwnProperty("entities")){e.next=48;break}u=B(s.data.entities),e.prev=29,u.s();case 31:if((l=u.n()).done)e.next=40;else{if(n(l=l.value))return e.next=36,r(l);e.next=38}break;case 36:if(e.sent){e.next=38;break}return e.abrupt("return");case 38:e.next=31;break;case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(29),u.e(e.t1);case 45:return e.prev=45,u.f(),e.finish(45);case 48:e.next=25;break;case 50:e.next=55;break;case 52:e.prev=52,e.t2=e.catch(23),o.e(e.t2);case 55:return e.prev=55,o.f(),e.finish(55);case 58:case"end":return e.stop()}},e,this,[[3,16,19,22],[23,52,55,58],[29,42,45,48]])})),function(e){return t.apply(this,arguments)})},{key:"_ProcessDxfEntity",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;switch(e.type){case"LINE":t=this._DecomposeLine(e,n);break;case"POLYLINE":case"LWPOLYLINE":t=this._DecomposePolyline(e,n);break;case"ARC":t=this._DecomposeArc(e,n);break;case"CIRCLE":t=this._DecomposeCircle(e,n);break;case"ELLIPSE":t=this._DecomposeEllipse(e,n);break;case"POINT":t=this._DecomposePoint(e,n);break;case"SPLINE":t=this._DecomposeSpline(e,n);break;case"INSERT":return void this._ProcessInsert(e,n);case"TEXT":t=this._DecomposeText(e,n);break;case"MTEXT":t=this._DecomposeMText(e,n);break;case"3DFACE":t=this._Decompose3DFace(e,n);break;case"SOLID":t=this._DecomposeSolid(e,n);break;case"DIMENSION":t=this._DecomposeDimension(e,n);break;case"ATTRIB":t=this._DecomposeAttribute(e,n);break;case"HATCH":t=this._DecomposeHatch(e,n);break;default:return void e.type}var r,i=B(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;this._ProcessEntity(o,n)}}catch(e){i.e(e)}finally{i.f()}}},{key:"_ProcessEntity",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;switch(e.type){case z.Type.POINTS:this._ProcessPoints(e,t);break;case z.Type.LINE_SEGMENTS:this._ProcessLineSegments(e,t);break;case z.Type.POLYLINE:this._ProcessPolyline(e,t);break;case z.Type.TRIANGLES:this._ProcessTriangles(e,t);break;default:throw new Error("Unhandled entity type: "+e.type)}}},{key:"_GetLineType",value:function(e){return 0}},{key:"_IsPlainLine",value:function(e){return!Boolean(e.startWidth||e.endWidth)}},{key:"_DecomposeLine",value:D().mark(function e(t,n){var r,i;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(2!==t.vertices.length)return e.abrupt("return");e.next=2;break;case 2:return r=this._GetEntityLayer(t,n),i=this._GetEntityColor(t,n),e.next=6,new z({type:z.Type.LINE_SEGMENTS,vertices:t.vertices,layer:r,color:i,lineType:this._GetLineType(t,t.vertices[0])});case 6:case"end":return e.stop()}},e,this)})},{key:"_GenerateBulgeVertices",value:function(e,t,n,r){var r=4*Math.atan(r),i=Math.abs(r);if(i<this.options.arcTessellationAngle)e.push(new U(n.x,n.y));else{var o=r/2,a=Math.sin(o),o=Math.cos(o),s={x:n.x-t.x,y:n.y-t.y},u=s.x*s.x+s.y*s.y;if(!(u<2*Number.MIN_VALUE)){var u=Math.sqrt(u),l=u/2/a;s.x/=u,s.y/=u;var c=(s.x*a-s.y*o)*l+t.x,h=(s.x*o+s.y*a)*l+t.y,f=Math.floor(i/this.options.arcTessellationAngle);if(1<(f=f<this.options.minArcTessellationSubdivisions?this.options.minArcTessellationSubdivisions:f)){var p=Math.atan2(t.y-h,t.x-c),y=r/f;r<0&&(l=-l);for(var d=1;d<f;d++){var v=p+d*y,v=new U(c+l*Math.cos(v),h+l*Math.sin(v));e.push(v)}}e.push(new U(n.x,n.y))}}}},{key:"_GenerateArcVertices",value:function(e){var t=e.vertices,n=e.center,r=e.radius,i=e.startAngle,o=void 0===i?null:i,i=e.endAngle,a=void 0===i?null:i,i=e.tessellationAngle,i=void 0===i?null:i,s=e.yRadius,u=void 0===s?null:s,s=e.transform,l=void 0===s?null:s,s=e.rotation,s=void 0===s?null:s,e=e.ccwAngleDir,c=void 0===e||e;if(n&&r){i=i||this.options.arcTessellationAngle,null===u&&(u=r),null==o?o=0:o+=this.angBase;var h=!1;for(null==a?(a=o+2*Math.PI,h=!0):a+=this.angBase,c||(e=o,o=-a,a=-e);a<=o;)a+=2*Math.PI;var e=a-o,f=Math.floor(e/i),p=e/(f=0===f?1:f),y=null;s&&(y=(new Sb).makeRotation(s));for(var d=0;d<=f&&(d!==f||!h);d++){var v=void 0,v=c?o+d*p:o+(f-d)*p,v=new U(r*Math.cos(v),u*Math.sin(v));y&&v.applyMatrix3(y),v.add(n),l&&v.applyMatrix3(l),t.push(v)}}}},{key:"_DecomposeArc",value:D().mark(function e(t,n){var r,i,o,a;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._GetEntityColor(t,n),i=this._GetEntityLayer(t,n),o=this._GetLineType(t,null,n),a=[],this._GenerateArcVertices({vertices:a,center:t.center,radius:t.radius,startAngle:t.startAngle,endAngle:t.endAngle,transform:this._GetEntityExtrusionTransform(t)}),e.next=7,new z({type:z.Type.POLYLINE,vertices:a,layer:i,color:r,lineType:o,shape:void 0===t.endAngle});case 7:case"end":return e.stop()}},e,this)})},{key:"_DecomposeCircle",value:D().mark(function e(t,n){var r,i,o,a;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._GetEntityColor(t,n),i=this._GetEntityLayer(t,n),o=this._GetLineType(t,null,n),a=[],this._GenerateArcVertices({vertices:a,center:t.center,radius:t.radius,transform:this._GetEntityExtrusionTransform(t)}),e.next=7,new z({type:z.Type.POLYLINE,vertices:a,layer:i,color:r,lineType:o,shape:!0});case 7:case"end":return e.stop()}},e,this)})},{key:"_DecomposeEllipse",value:D().mark(function e(t,n){var r,i,o,a,s,u,l,c,h,f;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=this._GetEntityColor(t,n),i=this._GetEntityLayer(t,n),o=this._GetLineType(t,null,n),a=[],s=Math.sqrt(t.majorAxisEndPoint.x*t.majorAxisEndPoint.x+t.majorAxisEndPoint.y*t.majorAxisEndPoint.y),u=s*t.axisRatio,l=Math.atan2(t.majorAxisEndPoint.y,t.majorAxisEndPoint.x),c=null!=(f=t.startAngle)?f:0,h=null!=(f=t.endAngle)?f:c+2*Math.PI;h<=c;)h+=2*Math.PI;return f=null===(null!=(f=t.endAngle)?f:null)||Math.abs(h-c-2*Math.PI)<1e-6,this._GenerateArcVertices({vertices:a,center:t.center,radius:s,startAngle:t.startAngle,endAngle:f?null:t.endAngle,yRadius:u,rotation:l,ccwAngleDir:!this._GetEntityExtrusionTransform(t)}),e.next=14,new z({type:z.Type.POLYLINE,vertices:a,layer:i,color:r,lineType:o,shape:f});case 14:case"end":return e.stop()}},e,this)})},{key:"_DecomposePoint",value:D().mark(function e(t,n){var r,i,o,a;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pdMode===Q_.NONE)return e.abrupt("return");e.next=2;break;case 2:if(this.pdMode!==Q_.DOT&&this.pdSize<=0)return e.abrupt("return");e.next=4;break;case 4:if(r=this._GetEntityColor(t,n),i=this._GetEntityLayer(t,n),o=this.pdMode&Q_.MARK_MASK,0!=(this.pdMode&Q_.SHAPE_MASK))return a=new x(i,H_,x.GeometryType.POINT_INSTANCE,r,0),this._GetBatch(a).PushVertex(this._TransformVertex(t.position)),this._CreatePointShapeBlock(),e.abrupt("return");e.next=14;break;case 14:if(o===Q_.DOT)return e.next=17,new z({type:z.Type.POINTS,vertices:[t.position],layer:i,color:r,lineType:null});e.next=18;break;case 17:return e.abrupt("return");case 18:return a=[],this._CreatePointMarker(a,o,t.position),e.next=22,new z({type:z.Type.LINE_SEGMENTS,vertices:a,layer:i,color:r,lineType:null});case 22:case"end":return e.stop()}},e,this)})},{key:"_DecomposeAttribute",value:D().mark(function e(t,n){var r,i;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.textRenderer.canRender){e.next=2;break}return e.abrupt("return");case 2:return i=this.inserts.get(t.ownerHandle),r=this._GetEntityLayer(null!=i?i:t,n),i=this._GetEntityColor(null!=i?i:t,n),e.delegateYield(this.textRenderer.Render({text:Lx(t.text),fontSize:t.textHeight*t.scale,startPos:t.startPoint,endPos:t.endPoint,rotation:t.rotation,hAlign:t.horizontalJustification,vAlign:t.verticalJustification,color:i,layer:r}),"t0",6);case 6:case"end":return e.stop()}},e,this)})},{key:"_CreatePointMarker",value:function(r,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=this;function t(e,t){var n;r.push({x:(null!=(n=null==i?void 0:i.x)?n:0)+e*o.pdSize*.5,y:(null!=(n=null==i?void 0:i.y)?n:0)+t*o.pdSize*.5})}switch(e){case Q_.PLUS:t(0,1.5),t(0,-1.5),t(-1.5,0),t(1.5,0);break;case Q_.CROSS:t(-1,1),t(1,-1),t(1,1),t(-1,-1);break;case Q_.TICK:t(0,1),t(0,0);break;default:console.warn("Unsupported point display type: "+e)}}},{key:"_CreatePointShapeBlock",value:function(){var e,t,n;this.pointShapeBlock||(this.pointShapeBlock=new q_({name:H_,position:{x:0,y:0}}),this.pointShapeBlock.offset=new U(0,0),e=this.pointShapeBlock.DefinitionContext(),(n=this.pdMode&Q_.MARK_MASK)!==Q_.DOT&&n!==Q_.NONE&&(this._CreatePointMarker(t=[],n),n=new z({type:z.Type.LINE_SEGMENTS,vertices:t,color:$_.BY_BLOCK}),this._ProcessEntity(n,e)),this.pdMode&Q_.SQUARE&&(t=.5*this.pdSize,n=new z({type:z.Type.POLYLINE,vertices:[{x:-t,y:t},{x:t,y:t},{x:t,y:-t},{x:-t,y:-t}],color:$_.BY_BLOCK,shape:!0}),this._ProcessEntity(n,e)),this.pdMode&Q_.CIRCLE&&(this._GenerateArcVertices({vertices:t=[],center:{x:0,y:0},radius:.5*this.pdSize,tessellationAngle:G_}),n=new z({type:z.Type.POLYLINE,vertices:t,color:$_.BY_BLOCK,shape:!0}),this._ProcessEntity(n,e)))}},{key:"_Decompose3DFace",value:D().mark(function e(t,n){return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._DecomposeFace(t,t.vertices,n,this.options.wireframeMesh),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"_DecomposeSolid",value:D().mark(function e(t,n){return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._DecomposeFace(t,t.points,n,!1,this._GetEntityExtrusionTransform(t)),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"_DecomposeFace",value:function(f,p,y,d){var v=this,m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;return D().mark(function e(){var t,n,r,i,o,a,s,u,l,c,h;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e,t,n){t=(new U).subVectors(t,e),n=(new U).subVectors(n,e);return Math.abs(t.cross(n))>Number.EPSILON},t=v._GetEntityLayer(f,y),n=v._GetEntityColor(f,y),r=new U(p[0].x,p[0].y),i=new U(p[1].x,p[1].y),o=new U(p[2].x,p[2].y),a=null,s=l(r,i,o),u=!1,3<p.length&&(a=new U(p[3].x,p[3].y),u=l(i,a,o),m)&&a.applyMatrix3(m),m&&(r.applyMatrix3(m),i.applyMatrix3(m),o.applyMatrix3(m)),s||u){e.next=13;break}return e.abrupt("return");case 13:if(d)return l=[],s&&!u?l.push(r,i,o):!s&&u?l.push(i,a,o):l.push(r,i,a,o),e.next=18,new z({type:z.Type.POLYLINE,vertices:l,layer:t,color:n,shape:!0});e.next=20;break;case 18:e.next=26;break;case 20:return c=[],h=[],s&&(c.push(r,i,o),h.push(0,1,2)),u&&(s?h.push(1,2,3):(c.push(i,o),h.push(0,1,2)),c.push(a)),e.next=26,new z({type:z.Type.TRIANGLES,vertices:c,indices:h,layer:t,color:n});case 26:case"end":return e.stop()}},e)})()}},{key:"_DecomposeText",value:D().mark(function e(t,n){var r,i;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.textRenderer.canRender){e.next=2;break}return e.abrupt("return");case 2:return r=this._GetEntityLayer(t,n),i=this._GetEntityColor(t,n),e.delegateYield(this.textRenderer.Render({text:Lx(t.text),fontSize:t.textHeight,startPos:t.startPoint,endPos:t.endPoint,rotation:t.rotation,hAlign:t.halign,vAlign:t.valign,widthFactor:t.xScale,color:i,layer:r}),"t0",5);case 5:case"end":return e.stop()}},e,this)})},{key:"_DecomposeMText",value:D().mark(function e(t,n){var r,i,o;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.textRenderer.canRender){e.next=2;break}return e.abrupt("return");case 2:return r=this._GetEntityLayer(t,n),i=this._GetEntityColor(t,n),(o=new kx).Parse(Lx(t.text)),e.delegateYield(this.textRenderer.RenderMText({formattedText:o.GetContent(),fontSize:t.height,position:t.position,rotation:t.rotation,direction:t.direction,attachment:t.attachmentPoint,lineSpacing:t.lineSpacing,width:t.width,color:i,layer:r}),"t0",7);case 7:case"end":return e.stop()}},e,this)})},{key:"_CreateLinearDimension",value:function(t){var n,r=this,e=15&(t.dimensionType||0);return(0==e||1==e)&&t.linearOrAngularPoint1&&t.linearOrAngularPoint2&&t.anchorPoint?(n=null,t.hasOwnProperty("styleName")&&(n=this.dimStyles.get(t.styleName)),(e=new i_({p1:(new U).copy(t.linearOrAngularPoint1),p2:(new U).copy(t.linearOrAngularPoint2),anchor:(new U).copy(t.anchorPoint),isAligned:1==e,angle:t.angle,text:t.text,textAnchor:t.middleOfText?(new U).copy(t.middleOfText):null,textRotation:t.textRotation},function(e){return r._GetDimStyleValue(e,t,n)},function(e,t){return r.textRenderer.GetLineWidth(e,t)})).IsValid?e:(console.warn("Invalid dimension geometry detected for "+t.handle),null)):null}},{key:"_DecomposeDimension",value:D().mark(function e(t,n){var r,i,o,a,s,u,l,c,h,f,p,y,d,v,m;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(null!=(l=t.block)?l:null)&&this.blocks.has(t.block))return l={name:t.block,position:{x:0,y:0},layer:t.layer,color:t.color,colorIndex:t.colorIndex},this._ProcessInsert(l,n),e.abrupt("return");e.next=4;break;case 4:if(r=this._CreateLinearDimension(t)){e.next=7;break}return e.abrupt("return");case 7:i=this._GetEntityLayer(t,n),o=this._GetEntityColor(t,n),a=this._GetEntityExtrusionTransform(t),s=r.GenerateLayout(),u=B(s.lines),e.prev=12,u.s();case 14:if((l=u.n()).done){e.next=23;break}return h=l.value,f=[],a&&(h.start.applyMatrix3(a),h.end.applyMatrix3(a)),f.push(h.start,h.end),e.next=21,new z({type:z.Type.LINE_SEGMENTS,vertices:f,layer:i,color:null!=(f=h.color)?f:o});case 21:e.next=14;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(12),u.e(e.t0);case 28:return e.prev=28,u.f(),e.finish(28);case 31:c=B(s.triangles),e.prev=32,c.s();case 34:if((h=c.n()).done){e.next=41;break}if(f=h.value,a){p=B(f.vertices);try{for(p.s();!(y=p.n()).done;)y.value.applyMatrix3(a)}catch(e){p.e(e)}finally{p.f()}}return e.next=39,new z({type:z.Type.TRIANGLES,vertices:f.vertices,indices:f.indices,layer:i,color:null!=(v=f.color)?v:o});case 39:e.next=34;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(32),c.e(e.t1);case 46:return e.prev=46,c.f(),e.finish(46);case 49:if(!this.textRenderer.canRender){e.next=67;break}d=B(s.texts),e.prev=51,d.s();case 53:if((v=d.n()).done){e.next=59;break}return m=v.value,a&&m.position.applyMatrix3(a),e.delegateYield(this.textRenderer.Render({text:m.text,fontSize:m.size,startPos:m.position,rotation:m.angle,hAlign:Bx.CENTER,vAlign:Fx.MIDDLE,color:null!=(m=m.color)?m:o,layer:i}),"t2",57);case 57:e.next=53;break;case 59:e.next=64;break;case 61:e.prev=61,e.t3=e.catch(51),d.e(e.t3);case 64:return e.prev=64,d.f(),e.finish(64);case 67:case"end":return e.stop()}},e,this,[[12,25,28,31],[32,43,46,49],[51,61,64,67]])})},{key:"_DecomposeHatch",value:D().mark(function e(t,n){var r,i,k,O,P,T,o,a,s,u,l,E,R,A,c,h,M,C,f,p,j,y,d,v,L,m,I;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isSolid)return e.abrupt("return");e.next=2;break;case 2:if((r=null!=(r=t.hatchStyle)?r:0)!=w_.ODD_PARITY&&r!=w_.THROUGH_ENTIRE_AREA)return e.abrupt("return");e.next=5;break;case 5:if(0==(i=this._GetHatchBoundaryLoops(t)).length)return console.warn("HATCH entity with empty boundary loops array (perhaps some loop types are not implemented yet)"),e.abrupt("return");e.next=9;break;case 9:if(k=new S_(i,r),O=this._GetEntityLayer(t,n),P=this._GetEntityColor(t,n),T=this._GetEntityExtrusionTransform(t),o=null,!t.patternName||(o=A_(t.patternName,this.isMetric))||("Hatch pattern with name ".concat(t.patternName," not found "),"(metric: ".concat(this.isMetric,")")),o=null==(o=null==o&&t.definitionLines?new N(t.definitionLines,null,!1):o)?A_("ANSI31"):o){e.next=19;break}return e.abrupt("return");case 19:a=t.seedPoints||[{x:0,y:0}],a=B(a),e.prev=21,a.s();case 23:if((l=a.n()).done){e.next=67;break}l=l.value,s=k.GetPatternTransform({seedPoint:l,angle:t.patternAngle,scale:t.patternScale}),u=B(o.lines),e.prev=27,u.s();case 29:if((l=u.n()).done)e.next=57;else{if(E=l.value,A=R=void 0,(A=o.offsetInLineSpace?(R=E.offset.x,E.offset.y):(c=Math.sin(-(null!=(c=E.angle)?c:0)),h=Math.cos(-(null!=(h=E.angle)?h:0)),R=E.offset.x*h-E.offset.y*c,E.offset.x*c+E.offset.y*h))<0&&(A=-A,R=-R),h=k.GetLineTransform({patTransform:s,basePoint:E.base,angle:null!=(c=E.angle)?c:0}),M=k.GetBoundingBox(h),C=.05*(M.max.x-M.min.x),p=f=void 0,2e4<(p=0==A?f=0:(f=Math.ceil(M.min.y/A),Math.floor(M.max.y/A)))-f)return console.warn("Too many lines produced by hatching pattern"),e.abrupt("continue",55);e.next=43}break;case 43:if(j=void 0,E.dashes&&1<E.dashes.length){j=0,y=B(E.dashes);try{for(y.s();!(d=y.n()).done;)(v=d.value)<0?j-=v:j+=v}catch(e){y.e(e)}finally{y.f()}}else j=null;L=h.clone().invert(),m=D().mark(function e(){var s,t,n,r,i,o,u,a,l,c,h,f,p,y,d,v,m,b,g,w,x,_,S;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(t,n){var r,i,o,a;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=B(u),e.prev=1,r.s();case 3:if((o=r.n()).done)e.next=16;else{if((i=o.value)[0]>=n)return e.abrupt("return");e.next=7}break;case 7:if(i[1]<=t)return e.abrupt("continue",14);e.next=9;break;case 9:return o=Math.max(t,i[0]),a=Math.min(n,i[1]),e.next=13,[o,a];case 13:t=a;case 14:e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:case"end":return e.stop()}},s,null,[[1,18,21,24]])},l=function(e){var t=o.clone().multiplyScalar(e[0]).add(i),n=o.clone().multiplyScalar(e[1]).add(i);return T&&(t.applyMatrix3(T),n.applyMatrix3(T)),e[1]-e[0]<=Number.EPSILON?new z({type:z.Type.POINTS,vertices:[t],layer:O,color:P}):new z({type:z.Type.LINE_SEGMENTS,vertices:[t,n],layer:O,color:P})},a=function(e){return(e-n)/r},s=D().mark(c),v=I*A,t=I*R,n=M.min.x-C,m=M.max.x+C,r=m-n,i=new U(n,v).applyMatrix3(L),v=new U(m,v).applyMatrix3(L),o=v.clone().sub(i),u=k.ClipLine([i,v]),null===j)e.next=64;else{if(h=Math.floor((n-t)/j),2e4<=(f=Math.floor((m-t)/j))-h)return console.warn("Too many segments produced by hatching pattern line"),e.abrupt("return",1);e.next=19}break;case 19:p=h;case 20:if(!(p<=f)){e.next=62;break}y=a(t+p*j),d=B(E.dashes),e.prev=23,d.s();case 25:if((v=d.n()).done){e.next=51;break}if(b=(m=(w=(m=v.value)<0)?-m:m)/r,w){e.next=48;break}g=B(c(y,y+b)),e.prev=32,g.s();case 34:if((w=g.n()).done){e.next=40;break}return _=w.value,e.next=38,l(_);case 38:e.next=34;break;case 40:e.next=45;break;case 42:e.prev=42,e.t0=e.catch(32),g.e(e.t0);case 45:return e.prev=45,g.f(),e.finish(45);case 48:y+=b;case 49:e.next=25;break;case 51:e.next=56;break;case 53:e.prev=53,e.t1=e.catch(23),d.e(e.t1);case 56:return e.prev=56,d.f(),e.finish(56);case 59:p++,e.next=20;break;case 62:e.next=81;break;case 64:x=B(u),e.prev=65,x.s();case 67:if((_=x.n()).done){e.next=73;break}return S=_.value,e.next=71,l(S);case 71:e.next=67;break;case 73:e.next=78;break;case 75:e.prev=75,e.t2=e.catch(65),x.e(e.t2);case 78:return e.prev=78,x.f(),e.finish(78);case 81:case"end":return e.stop()}},e,null,[[23,53,56,59],[32,42,45,48],[65,75,78,81]])}),I=f;case 48:if(I<=p)return e.delegateYield(m(),"t0",50);e.next=55;break;case 50:if(e.t0)return e.abrupt("continue",52);e.next=52;break;case 52:I++,e.next=48;break;case 55:e.next=29;break;case 57:e.next=62;break;case 59:e.prev=59,e.t1=e.catch(27),u.e(e.t1);case 62:return e.prev=62,u.f(),e.finish(62);case 65:e.next=23;break;case 67:e.next=72;break;case 69:e.prev=69,e.t2=e.catch(21),a.e(e.t2);case 72:return e.prev=72,a.f(),e.finish(72);case 75:case"end":return e.stop()}},e,this,[[21,69,72,75],[27,59,62,65]])})},{key:"_GetHatchBoundaryLoops",value:function(e){if(!e.boundaryLoops)return[];function t(e,t){var n,r=t.length;if(0!=r){0!=e.length&&(n=e[e.length-1]).x==t[0].x&&n.y==t[0].y||e.push(t[0]);for(var i=1;i<r;i++)e.push(t[i])}}var n,r=[],i=B(e.boundaryLoops);try{for(i.s();!(n=i.n()).done;){var o,a,s=n.value,u=[];if(2&s.type)for(var l=0;l<s.polyline.vertices.length;l++){var c,h,f,p=s.polyline.vertices[l];0==(null!=(c=p.bulge)?c:0)?u.push(new U(p.x,p.y)):(0==(null!=(h=s.polyline.vertices[0==l?s.polyline.vertices.length-1:l-1].bulge)?h:0)&&u.push(new U(p.x,p.y)),f=s.polyline.vertices[l==s.polyline.vertices.length-1?0:l+1],this._GenerateBulgeVertices(u,p,f,p.bulge))}else if(s.edges&&0<s.edges.length){var y,d=B(s.edges);try{for(d.s();!(y=d.n()).done;){var v=y.value;switch(v.type){case 1:t(u,[new U(v.start.x,v.start.y),new U(v.end.x,v.end.y)]);break;case 2:var m=[];this._GenerateArcVertices({vertices:m,center:v.start,radius:v.radius,startAngle:v.startAngle,endAngle:v.endAngle,ccwAngleDir:v.isCcw}),t(u,m);break;case 3:var b=v.start,g=v.end,w=Math.sqrt(g.x*g.x+g.y*g.y),x=w*v.radius,_=Math.atan2(g.y,g.x),S=[];if(this._GenerateArcVertices({vertices:S,center:b,radius:w,startAngle:v.startAngle,endAngle:v.endAngle,yRadius:x,ccwAngleDir:v.isCcw}),0!==_){var k,O=Math.cos(_),P=Math.sin(_),T=B(S);try{for(T.s();!(k=T.n()).done;){var E=k.value,R=E.x-b.x,A=E.y-b.y;E.x=R*O-A*P+b.x,E.y=R*P+A*O+b.y}}catch(e){T.e(e)}finally{T.f()}}t(u,S);break;case 4:for(var M=v.controlPoints.map(function(e){return[e.x,e.y]}),C=4*M.length,j=1/C,L=0;L<=C;L++){var I=this._InterpolateSpline(L*j,v.degreeOfSplineCurve,M,v.knotValues);u.push(new U(I[0],I[1]))}break;default:console.warn("Unhandled hatch boundary loop edge type: "+v.type)}}}catch(e){d.e(e)}finally{d.f()}}2<u.length&&(o=u[0],(a=u[u.length-1]).x==o.x)&&a.y==o.y&&(u.length=u.length-1),2<u.length&&r.push(u)}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"_GetDimStyleValue",value:function(e,t,n){var t=null==t||null==(t=t.xdata)||null==(t=t.ACAD)||null==(t=t.DSTYLE)?void 0:t.values;if(t){var r,i=!0,o=!1,a=B(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(i){if(1070!=s.code)break;ab.get(s.value)==e&&(o=!0)}else if(o)return s.value;i=!i}}catch(e){a.e(e)}finally{a.f()}}return n&&n.hasOwnProperty(e)?n[e]:this.vars.has(e)?this.vars.get(e):V_.hasOwnProperty(e)?(t=V_[e])instanceof Function?t.call(this):t:null}},{key:"_ProcessInsert",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t)if(t.name===e.name)console.warn("Recursive block reference: "+t.name);else{var n=this.blocks.get(e.name);if(n){var r=t.NestedBlockContext(n,e);if(n.data.entities){var i,o=B(n.data.entities);try{for(o.s();!(i=o.n()).done;){var a=i.value;this._ProcessDxfEntity(a,r)}}catch(e){o.e(e)}finally{o.f()}}}else console.warn("Unresolved nested block reference: "+e.name)}else{t=this.blocks.get(e.name);if(t){if(t.HasGeometry()){var s=this._GetEntityLayer(e,null),u=this._GetEntityColor(e,null),l=this._GetLineType(e,null,null),c=t.InstantiationContext().GetInsertionTransform(e),n=t.bounds;if(this._UpdateBounds(new U(n.minX,n.minY).applyMatrix3(c)),this._UpdateBounds(new U(n.maxX,n.maxY).applyMatrix3(c)),this._UpdateBounds(new U(n.minX,n.maxY).applyMatrix3(c)),this._UpdateBounds(new U(n.maxX,n.minY).applyMatrix3(c)),c.translate(-this.origin.x,-this.origin.y),t.flatten){var h,f=B(t.batches);try{for(f.s();!(h=f.n()).done;){var p=h.value;this._FlattenBatch(p,s,u,l,c)}}catch(e){f.e(e)}finally{f.f()}}else{n=new x(s,e.name,x.GeometryType.BLOCK_INSTANCE,u,l);this._GetBatch(n).PushInstanceTransform(c)}}}else console.warn("Unresolved block reference in INSERT: "+e.name)}}},{key:"_FlattenBatch",value:function(e,t,n,r,i){var o=this.layers.get(t),n=(o=e.key.color===$_.BY_BLOCK?n:e.key.color===$_.BY_LAYER?null!=(n=null==o?void 0:o.color)?n:0:e.key.color,new x(t,null,e.key.geometryType,o,0));this._GetBatch(n).Merge(e,i)}},{key:"_GenerateShapedPolyline",value:D().mark(function e(t,n,r,i,o){return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new z({type:z.Type.POLYLINE,vertices:t,layer:n,color:r,lineType:i,shape:o});case 2:case"end":return e.stop()}},e)})},{key:"_MirrorEntityVertices",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!e.extrusionDirection||0<=e.extrusionDirection.z)return null!=t?t:e.vertices;for(var n=(t=t&&t!==e.vertices?t:e.vertices.slice()).length,r=0;r<n;r++){var i,o=t[r],a={x:-o.x};for(i in o)o.hasOwnProperty(i)&&"x"!==i&&(a[i]=o[i]);t[r]=a}return t}},{key:"_DecomposePolyline",value:function(m){var b=this,g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return D().mark(function e(){var i,o,a,s,u,l,c,h,f,p,t,n,r,y,d,v;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(t){var n,r;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===c)return e.abrupt("return");e.next=2;break;case 2:if(n=!1,r=p,t===a&&0===c?(n=!0,null===r&&(r=o)):t===a-1&&0===c?null===r&&(r=o):t===a?null===r&&(r=o.slice(c,t)).push(o[0]):null===r&&(r=o.slice(c,t+1)),h)return e.next=8,new z({type:z.Type.POLYLINE,vertices:r,layer:u,color:s,lineType:f,shape:n});e.next=10;break;case 8:e.next=11;break;case 10:return e.delegateYield(l._GenerateShapedPolyline(r,u,s,f,n),"t0",11);case 11:(c=t)!==a&&(h=l._IsPlainLine(o[t]),f=l._GetLineType(m,o[t])),p=null;case 14:case"end":return e.stop()}},i)},i=D().mark(t),m.isPolyfaceMesh)return e.delegateYield(b._DecomposePolyfaceMesh(m,g),"t0",4);e.next=5;break;case 4:return e.abrupt("return");case 5:if((a=(m.includesCurveFitVertices||m.includesSplineFitVertices?o=m.vertices.filter(function(e){return e.splineVertex||e.curveFittingVertex}):(o=m.vertices,m.vertices)).length)<2)return e.abrupt("return");e.next=8;break;case 8:o=b._MirrorEntityVertices(m,o),s=b._GetEntityColor(m,g),u=b._GetEntityLayer(m,g),c=0,h=(l=b)._IsPlainLine(o[0]),f=b._GetLineType(m,o[0],g),p=null,n=1;case 17:if(!(n<=a)){e.next=39;break}if(r=o[n-1],y=void 0,n!==a){e.next=27;break}if(m.shape){e.next=24;break}return e.delegateYield(t(n-1),"t1",23);case 23:return e.abrupt("break",39);case 24:y=o[0],e.next=28;break;case 27:y=o[n];case 28:if(Boolean(r.bulge)&&h?(null===p&&(p=o.slice(c,n)),b._GenerateBulgeVertices(p,r,y,r.bulge)):null!==p&&p.push(y),n===a)return e.delegateYield(t(n),"t2",31);e.next=32;break;case 31:return e.abrupt("break",39);case 32:if(d=b._IsPlainLine(y),v=b._GetLineType(m,y),d!==h||h&&v!==f)return e.delegateYield(t(n),"t3",36);e.next=36;break;case 36:n++,e.next=17;break;case 39:case"end":return e.stop()}},e)})()}},{key:"_DecomposePolyfaceMesh",value:function(k){var O=this,P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return D().mark(function e(){var t,n,r,i,o,a,s,u,l,c,h,f,p,y,d,v,m,b,g,w,x,_,S;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=O._GetEntityLayer(k,P),n=O._GetEntityColor(k,P),r=[],i=[],o=B(k.vertices),e.prev=5,o.s();case 7:if((l=o.n()).done){e.next=36;break}if(!(a=l.value).faces){e.next=33;break}s={indices:[],hiddenEdges:[]},u=B(a.faces),e.prev=12,u.s();case 14:if((l=u.n()).done)e.next=22;else{if(0==(c=l.value))return e.abrupt("break",22);e.next=18}break;case 18:s.indices.push(c<0?-c-1:c-1),s.hiddenEdges.push(c<0);case 20:e.next=14;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(12),u.e(e.t0);case 27:return e.prev=27,u.f(),e.finish(27);case 30:3!=s.indices.length&&4!=s.indices.length||i.push(s),e.next=34;break;case 33:r.push(new U(a.x,a.y));case 34:e.next=7;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(5),o.e(e.t1);case 41:return e.prev=41,o.f(),e.finish(41);case 44:h=[],f=function(e,t){if(0<h.length){var n=h[h.length-1];if(n.indices[n.indices.length-1]==e)return void n.indices.push(t);n.indices[0]==n.indices[n.indices.length-1]&&(n.isClosed=!0)}h.push({indices:[e,t],isClosed:!1})},p=0,y=i;case 47:if(!(p<y.length)){e.next=68;break}if(d=y[p],!O.options.wireframeMesh){e.next=61;break}v=0;case 51:if(v<d.indices.length){if(d.hiddenEdges[v])return e.abrupt("continue",56);e.next=54}else e.next=59;break;case 54:m=v<d.indices.length-1?v+1:0,f(d.indices[v],d.indices[m]);case 56:v++,e.next=51;break;case 59:e.next=65;break;case 61:return m=void 0,m=3==d.indices.length?d.indices:[d.indices[0],d.indices[1],d.indices[2],d.indices[0],d.indices[2],d.indices[3]],e.next=65,new z({type:z.Type.TRIANGLES,vertices:r,indices:m,layer:t,color:n});case 65:p++,e.next=47;break;case 68:if(!O.options.wireframeMesh){e.next=94;break}b=B(h),e.prev=70,b.s();case 72:if((g=b.n()).done)e.next=86;else{if(2==(w=g.value).length)return e.next=77,new z({type:z.Type.LINE_SEGMENTS,vertices:[r[w.indices[0]],r[w.indices[1]]],layer:t,color:n});e.next=79}break;case 77:e.next=84;break;case 79:x=[],_=B(w.indices);try{for(_.s();!(S=_.n()).done;)x.push(r[S.value])}catch(e){_.e(e)}finally{_.f()}return e.next=84,new z({type:z.Type.POLYLINE,vertices:x,layer:t,color:n,shape:w.isClosed});case 84:e.next=72;break;case 86:e.next=91;break;case 88:e.prev=88,e.t2=e.catch(70),b.e(e.t2);case 91:return e.prev=91,b.f(),e.finish(91);case 94:case"end":return e.stop()}},e,null,[[5,38,41,44],[12,24,27,30],[70,88,91,94]])})()}},{key:"_DecomposeSpline",value:function(c){var h=this,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return D().mark(function e(){var t,n,r,i,o,a,s,u,l;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h._GetEntityColor(c,f),n=h._GetEntityLayer(c,f),r=h._GetLineType(c,null,f),c.controlPoints){e.next=5;break}return e.abrupt("return");case 5:for(i=c.controlPoints.map(function(e){return[e.x,e.y]}),o=[],a=4*i.length,s=1/a,u=0;u<=a;u++)l=h._InterpolateSpline(u*s,c.degreeOfSplineCurve,i,c.knotValues),o.push({x:l[0],y:l[1]});return e.next=12,new z({type:z.Type.POLYLINE,vertices:o,layer:n,color:t,lineType:r});case 12:case"end":return e.stop()}},e)})()}},{key:"_InterpolateSpline",value:function(e,t,n){var r,i,o,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,u=n.length,l=n[0].length;if(t<1)throw new Error("Degree must be at least 1 (linear)");if(u-1<t)throw new Error("Degree must be less than or equal to point count - 1");if(!s)for(s=[],d=0;d<u;d++)s[d]=1;if(a){if(a.length!==u+t+1)throw new Error("Bad knot vector length")}else for(a=[],d=0;d<u+t+1;d++)a[d]=d;var c=[t,a.length-1-t],h=a[c[0]],f=a[c[1]];for((e=e*(f-h)+h)<h?e=h:f<e&&(e=f),i=c[0];i<c[1]&&!(e>=a[i]&&e<=a[i+1]);i++);for(var p,y=[],d=0;d<u;d++){for(y[d]=[],r=0;r<l;r++)y[d][r]=n[d][r]*s[d];y[d][l]=s[d]}for(o=1;o<=t+1;o++)for(d=i;i-t-1+o<d;d--)for(p=(e-a[d])/(a[d+t+1-o]-a[d]),r=0;r<l+1;r++)y[d][r]=(1-p)*y[d-1][r]+p*y[d][r];var v=[];for(d=0;d<l;d++)v[d]=y[i][d]/y[i][l];return v}},{key:"_ProcessPoints",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=new x(e.layer,null==n?void 0:n.name,x.GeometryType.POINTS,e.color,0),i=this._GetBatch(r),o=B(e.vertices);try{for(o.s();!(t=o.n()).done;){var a=t.value;i.PushVertex(this._TransformVertex(a,n))}}catch(e){o.e(e)}finally{o.f()}}},{key:"_ProcessLineSegments",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(e.vertices.length%2!=0)throw Error("Even number of vertices expected");var n,r=new x(e.layer,null==t?void 0:t.name,x.GeometryType.LINES,e.color,e.lineType),i=this._GetBatch(r),o=B(e.vertices);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.PushVertex(this._TransformVertex(a,t))}}catch(e){o.e(e)}finally{o.f()}}},{key:"_ProcessPolyline",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!(e.vertices.length<2)){var n=e.vertices.length;if(n<=3){var r,i=new x(e.layer,null==t?void 0:t.name,x.GeometryType.LINES,e.color,e.lineType),o=this._GetBatch(i),a=null,s=B(e.vertices);try{for(s.s();!(r=s.n()).done;){var u=r.value;null!==a&&(o.PushVertex(this._TransformVertex(a,t)),o.PushVertex(this._TransformVertex(u,t))),a=u}}catch(e){s.e(e)}finally{s.f()}e.shape&&2<n&&(o.PushVertex(this._TransformVertex(e.vertices[n-1],t)),o.PushVertex(this._TransformVertex(e.vertices[0],t)))}else{var l,i=new x(e.layer,null==t?void 0:t.name,x.GeometryType.INDEXED_LINES,e.color,e.lineType),c=this._GetBatch(i),h=B(e._IterateLineChunks());try{for(h.s();!(l=h.n()).done;){var f,p=l.value,y=c.PushChunk(p.verticesCount),d=B(p.vertices);try{for(d.s();!(f=d.n()).done;){var v=f.value;y.PushVertex(this._TransformVertex(v,t))}}catch(e){d.e(e)}finally{d.f()}var m,b=B(p.indices);try{for(b.s();!(m=b.n()).done;){var g=m.value;y.PushIndex(g)}}catch(e){b.e(e)}finally{b.f()}y.Finish()}}catch(e){h.e(e)}finally{h.f()}}}}},{key:"_ProcessTriangles",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!(e.vertices.length<3))if(e.indices.length%3!=0)console.error("Unexpected size of indices array: "+e.indices.length);else{var n,r=new x(e.layer,null==t?void 0:t.name,x.GeometryType.INDEXED_TRIANGLES,e.color,0),i=this._GetBatch(r).PushChunk(e.vertices.length),o=B(e.vertices);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.PushVertex(this._TransformVertex(a,t))}}catch(e){o.e(e)}finally{o.f()}var s,u=B(e.indices);try{for(u.s();!(s=u.n()).done;){var l=s.value;i.PushIndex(l)}}catch(e){u.e(e)}finally{u.f()}i.Finish()}}},{key:"_GetEntityColor",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=$_.BY_LAYER;if(0===e.colorIndex?n=$_.BY_BLOCK:256===e.colorIndex?n=$_.BY_LAYER:e.hasOwnProperty("color")&&(n=e.color),t)return n;if(n!==$_.BY_LAYER&&n!==$_.BY_BLOCK)return n;if(e.hasOwnProperty("layer")){t=this.layers.get(e.layer);if(t)return t.color}return 0}},{key:"_GetEntityLayer",value:function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)?null:e.hasOwnProperty("layer")?e.layer:"0"}},{key:"_GetEntityExtrusionTransform",value:function(e){return!e.hasOwnProperty("extrusionDirection")||0<e.extrusionDirection.z?null:(new Sb).scale(-1,1)}},{key:"_GetBatch",value:function(e){var t=this.batches.find({key:e});return null!==t||(t=new W_(e),this.batches.insert(t),null===e.blockName)||e.IsInstanced()||(e=this.blocks.get(e.blockName))&&e.batches.push(t),t}},{key:"_TransformVertex",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t.TransformVertex(e):(this._UpdateBounds(e),{x:e.x-this.origin.x,y:e.y-this.origin.y})}},{key:"_UpdateBounds",value:function(e){null===this.bounds?this.bounds={minX:e.x,maxX:e.x,minY:e.y,maxY:e.y}:(e.x<this.bounds.minX?this.bounds.minX=e.x:e.x>this.bounds.maxX&&(this.bounds.maxX=e.x),e.y<this.bounds.minY?this.bounds.minY=e.y:e.y>this.bounds.maxY&&(this.bounds.maxY=e.y)),null===this.origin&&(this.origin={x:e.x,y:e.y})}},{key:"_BuildScene",value:function(){var e,t=0,n=0,r=0,i=(this.batches.each(function(e){t+=e.GetVerticesBufferSize(),n+=e.GetIndicesBufferSize(),r+=e.GetTransformsSize()}),{vertices:new ArrayBuffer(t),indices:new ArrayBuffer(n),transforms:new ArrayBuffer(r),batches:[],layers:[],origin:this.origin,bounds:this.bounds,hasMissingChars:this.hasMissingChars}),o={vertices:new Float32Array(i.vertices),verticesOffset:0,indices:new Uint16Array(i.indices),indicesOffset:0,transforms:new Float32Array(i.transforms),transformsOffset:0},a=(this.batches.each(function(e){i.batches.push(e.Serialize(o))}),B(this.layers.values()));try{for(a.s();!(e=a.n()).done;){var s=e.value;i.layers.push({name:s.name,displayName:s.displayName,color:s.color})}}catch(e){a.e(e)}finally{a.f()}return i.pointShapeHasDot=(this.pdMode&Q_.MARK_MASK)===Q_.DOT,i}}]);var t,n})(),W_=(()=>U_(function e(t){B_(this,e),(this.key=t).IsIndexed()?this.chunks=[]:t.geometryType===x.GeometryType.BLOCK_INSTANCE?this.transforms=new bb(gb.FLOAT32):this.vertices=new bb(gb.FLOAT32)},[{key:"PushVertex",value:function(e){var t=this.vertices.Push(e.x);return this.vertices.Push(e.y),t}},{key:"PushInstanceTransform",value:function(e){for(var t=0;t<2;t++)for(var n=0;n<3;n++)this.transforms.Push(e.elements[3*n+t])}},{key:"PushChunk",value:function(e){if(z_<e)throw new Error("Vertices count exceeds chunk limit: "+e);var t,n=null,r=0,i=B(this.chunks);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=z_-o.vertices.GetSize()/2;a<e||(null===n||a<r)&&(n=o,r=a)}}catch(e){i.e(e)}finally{i.f()}return null===n&&(n=this._NewChunk(e)),new J_(n,e)}},{key:"Merge",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(this.key.geometryType!==e.key.geometryType)throw new Error("Rendering batch merging geometry type mismatch: "+"".concat(this.key.geometryType," !== ").concat(e.key.geometryType));if(this.key.IsInstanced())throw new Error("Attempted to merge instanced batch");if(this.key.IsIndexed()){var n,r=B(e.chunks);try{for(r.s();!(n=r.n()).done;){for(var i=n.value,o=i.vertices.size,a=this.PushChunk(o/2),s=0;s<o;s+=2){var u=new U(i.vertices.Get(s),i.vertices.Get(s+1));t&&u.applyMatrix3(t),a.PushVertex(u)}for(var l=i.indices.size,c=0;c<l;c++)a.PushIndex(i.indices.Get(c));a.Finish()}}catch(e){r.e(e)}finally{r.f()}}else for(var h=e.vertices.size,f=0;f<h;f+=2){var p=new U(e.vertices.Get(f),e.vertices.Get(f+1));t&&p.applyMatrix3(t),this.PushVertex(p)}}},{key:"GetVerticesBufferSize",value:function(){if(this.key.IsIndexed()){var e,t=0,n=B(this.chunks);try{for(n.s();!(e=n.n()).done;)t+=e.value.vertices.GetSize()}catch(e){n.e(e)}finally{n.f()}return t*Float32Array.BYTES_PER_ELEMENT}return this.key.geometryType===x.GeometryType.BLOCK_INSTANCE?0:this.vertices.GetSize()*Float32Array.BYTES_PER_ELEMENT}},{key:"GetIndicesBufferSize",value:function(){if(this.key.IsIndexed()){var e,t=0,n=B(this.chunks);try{for(n.s();!(e=n.n()).done;)t+=e.value.indices.GetSize()}catch(e){n.e(e)}finally{n.f()}return t*Uint16Array.BYTES_PER_ELEMENT}return 0}},{key:"GetTransformsSize",value:function(){return this.key.geometryType===x.GeometryType.BLOCK_INSTANCE?this.transforms.GetSize()*Float32Array.BYTES_PER_ELEMENT:0}},{key:"Serialize",value:function(e){var t,n;if(this.key.IsIndexed()){var r,i={key:this.key,chunks:[]},o=B(this.chunks);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.chunks.push(a.Serialize(e))}}catch(e){o.e(e)}finally{o.f()}return i}return this.key.geometryType===x.GeometryType.BLOCK_INSTANCE?(t=this.transforms.GetSize(),n={key:this.key,transformsOffset:e.transformsOffset,transformsSize:t},this.transforms.CopyTo(e.transforms,e.transformsOffset),e.transformsOffset+=t,n):(t=this.vertices.GetSize(),n={key:this.key,verticesOffset:e.verticesOffset,verticesSize:t},this.vertices.CopyTo(e.vertices,e.verticesOffset),e.verticesOffset+=t,n)}},{key:"_NewChunk",value:function(e){e=new Z_(e);return this.chunks.push(e),e}}]))(),q_=(()=>U_(function e(t){B_(this,e),this.data=t,this.useCount=0,this.nestedUseCount=0,this.verticesCount=0,this.offset=null,this.batches=[],this.flatten=!1,this.bounds=null},[{key:"SetFlatten",value:function(){return!!this.HasGeometry()&&(this.flatten=1===this.useCount||this.useCount*this.verticesCount<=1024,this.flatten)}},{key:"HasGeometry",value:function(){return null!==this.offset}},{key:"RegisterInsert",value:function(e){this.useCount++}},{key:"RegisterNestedUse",value:function(e){this.nestedUseCount++}},{key:"DefinitionContext",value:function(){return new X_(this,X_.Type.DEFINITION)}},{key:"InstantiationContext",value:function(){return new X_(this,X_.Type.INSTANTIATION)}},{key:"UpdateBounds",value:function(e){null===this.bounds?this.bounds={minX:e.x,maxX:e.x,minY:e.y,maxY:e.y}:(e.x<this.bounds.minX?this.bounds.minX=e.x:e.x>this.bounds.maxX&&(this.bounds.maxX=e.x),e.y<this.bounds.minY?this.bounds.minY=e.y:e.y>this.bounds.maxY&&(this.bounds.maxY=e.y))}}]))(),X_=(()=>{function a(e,t){B_(this,a),this.block=e,this.type=t,this.origin=this.block.data.position,this.transform=new Sb}return U_(a,[{key:"name",get:function(){return this.block.data.name}},{key:"TransformVertex",value:function(e){var t,e=new U(e.x,e.y).applyMatrix3(this.transform);if(this.type!==a.Type.DEFINITION&&this.type!==a.Type.NESTED_DEFINITION)throw new Error("Unexpected transform type");return this.block.verticesCount++,null===this.block.offset?(this.block.offset=e,t=new U,this.block.UpdateBounds(t),t):(e.sub(this.block.offset),this.block.UpdateBounds(e),e)}},{key:"GetInsertionTransform",value:function(e){var t=(new Sb).translate(-this.origin.x,-this.origin.y),n=e.yScale||1,r=-(e.rotation||0)*Math.PI/180,i=e.position.x,o=e.position.y;return t.scale(e.xScale||1,n),t.rotate(r),t.translate(i,o),e.extrusionDirection&&e.extrusionDirection.z<0&&t.scale(-1,1),this.type!==a.Type.INSTANTIATION?t:(n=(new Sb).translate(this.block.offset.x,this.block.offset.y),t.multiply(n))}},{key:"NestedBlockContext",value:function(e,t){e.RegisterNestedUse(this.block);e=new a(e,a.Type.NESTED_DEFINITION).GetInsertionTransform(t),t=new a(this.block,a.Type.NESTED_DEFINITION);return t.transform=(new Sb).multiplyMatrices(this.transform,e),t}}])})(),Z_=(X_.Type=Object.freeze({DEFINITION:0,NESTED_DEFINITION:1,INSTANTIATION:2}),(()=>U_(function e(t){B_(this,e),this.indices=new bb(gb.UINT16,2*(t=t<16?16:t)),this.vertices=new bb(gb.FLOAT32,2*t)},[{key:"Serialize",value:function(e){var t={},n=this.vertices.GetSize(),n=(t.verticesOffset=e.verticesOffset,t.verticesSize=n,this.vertices.CopyTo(e.vertices,e.verticesOffset),e.verticesOffset+=n,this.indices.GetSize());return t.indicesOffset=e.indicesOffset,t.indicesSize=n,this.indices.CopyTo(e.indices,e.indicesOffset),e.indicesOffset+=n,t}}]))()),J_=(()=>U_(function e(t,n){B_(this,e),this.chunk=t,this.verticesCount=n,this.verticesOffset=this.chunk.vertices.GetSize()/2,this.numVerticesPushed=0},[{key:"PushVertex",value:function(e){if(this.numVerticesPushed===this.verticesCount)throw new Error;this.chunk.vertices.Push(e.x),this.chunk.vertices.Push(e.y),this.numVerticesPushed++}},{key:"PushIndex",value:function(e){if(e<0||e>=this.verticesCount)throw new Error("Index out of range: ".concat(e,"/").concat(this.verticesCount));this.chunk.indices.Push(e+this.verticesOffset)}},{key:"Finish",value:function(){if(this.numVerticesPushed!==this.verticesCount)throw new Error("Not all vertices pushed: ".concat(this.numVerticesPushed,"/").concat(this.verticesCount))}}]))(),z=(()=>U_(function e(t){var n=t.type,r=t.vertices,i=t.indices,i=void 0===i?null:i,o=t.layer,o=void 0===o?null:o,a=t.color,s=t.lineType,s=void 0===s?0:s,t=t.shape,t=void 0!==t&&t;B_(this,e),this.type=n,this.vertices=r,this.indices=i,this.layer=o,this.color=a,this.lineType=s,this.shape=t},[{key:"_IterateVertices",value:D().mark(function e(t,n){var r;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t;case 1:if(r<t+n)return e.next=4,this.vertices[r];e.next=7;break;case 4:r++,e.next=1;break;case 7:case"end":return e.stop()}},e,this)})},{key:"_IterateLineChunks",value:D().mark(function e(){var s,u,t,n,l=this;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=this.vertices.length)<2)return e.abrupt("return");e.next=3;break;case 3:u=this,t=D().mark(function e(t){var n,r,i,o,a;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=!(z_<(n=s-t)&&(n=z_)))&&l.shape&&0<t&&n===z_&&(r=!1),t!==s||l.shape){e.next=5;break}return e.abrupt("return",1);case 5:return a=n<2?(i=(1===n&&l.shape?D().mark(function e(){return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vertices[t];case 2:return e.next=4,this.vertices[0];case 4:case"end":return e.stop()}},e,this)}):1===n?D().mark(function e(){return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vertices[t-1];case 2:return e.next=4,this.vertices[t];case 4:case"end":return e.stop()}},e,this)}):D().mark(function e(){return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vertices[s-1];case 2:return e.next=4,this.vertices[0];case 4:case"end":return e.stop()}},e,this)}))(),o=K_(2,!1),2):r&&l.shape&&0<t&&n<z_?(i=D().mark(function e(){return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(u._IterateVertices(t,n),"t0",1);case 1:return e.next=3,this.vertices[0];case 3:case"end":return e.stop()}},e,this)})(),o=K_(n+1,!1),n+1):(i=l._IterateVertices(t,n),o=K_(n,r&&0===t&&l.shape),n),e.next=8,{verticesCount:a,vertices:i,indices:o};case 8:case"end":return e.stop()}},e)}),n=0;case 6:if(n<=s)return e.delegateYield(t(n),"t0",8);e.next=13;break;case 8:if(e.t0)return e.abrupt("break",13);e.next=10;break;case 10:n+=z_,e.next=6;break;case 13:case"end":return e.stop()}},e,this)})}]))();function K_(t,n){var r;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(r<t-1)return e.next=4,r;e.next=9;break;case 4:return e.next=6,r+1;case 6:r++,e.next=1;break;case 9:if(n&&2<t)return e.next=12,t-1;e.next=14;break;case 12:return e.next=14,0;case 14:case"end":return e.stop()}},C_)}z.Type=Object.freeze({POINTS:0,LINE_SEGMENTS:1,POLYLINE:2,TRIANGLES:3});var Q_=Object.freeze({DOT:0,NONE:1,PLUS:2,CROSS:3,TICK:4,MARK_MASK:15,CIRCLE:32,SQUARE:64,SHAPE_MASK:240}),$_=Object.freeze({BY_LAYER:-1,BY_BLOCK:-2}),eS=(Y_.DefaultOptions={arcTessellationAngle:10/180*Math.PI,minArcTessellationSubdivisions:8,wireframeMesh:!1,suppressPaperSpace:!1,textOptions:Ix.DefaultOptions},e(6));function tS(e){return(tS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nS(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(r=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){i=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(i)throw n}}};if(Array.isArray(e)||(a=((e,t)=>{var n;if(e)return"string"==typeof e?rS(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rS(e,t):void 0})(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(){R=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new P(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=f,function(e,t){if(s===y)throw Error("Generator is already running");if(s===d){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=y;n=h(i,o,a);if("normal"===n.type){if(s=a.done?d:p,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var t={},w=(o(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(T([]))),x=(w&&w!==e&&l.call(w,r)&&(t=w),g.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==tS(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(tS(t)+" is not iterable")}return c(x,"constructor",{value:b.prototype=g,configurable:!0}),c(g,"constructor",{value:b,configurable:!0}),b.displayName=o(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),o(x,i,"Generator"),o(x,r,function(){return this}),o(x,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function iS(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function oS(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){iS(r,t,n,i,o,"next",e)}function o(e){iS(r,t,n,i,o,"throw",e)}i(void 0)})}}function aS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=tS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=tS(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==tS(e)?e:e+""))(r.key),r)}}function uS(e,t,n){return t&&sS(e.prototype,t),n&&sS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var lS="DxfWorkerMsg",cS=(()=>{function u(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];aS(this,u),this.worker=e,t?e.onmessage=this._ProcessRequest.bind(this):e&&(e.addEventListener("message",this._ProcessResponse.bind(this),!1),e.addEventListener("error",this._OnError.bind(this),!1),this.reqSeq=1,this.requests=new Map,this.progressCbk=null)}return uS(u,[{key:"Load",value:(s=oS(R().mark(function e(t,n,r,i){return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.worker)return e.abrupt("return",this._SendRequest(u.WorkerMsg.LOAD,{url:t,fonts:n,options:this._CloneOptions(r)},i));e.next=4;break;case 4:return e.abrupt("return",this._Load(t,n,r,i));case 5:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return s.apply(this,arguments)})},{key:"Destroy",value:(e=oS(R().mark(function e(){var t,n=arguments;return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<n.length&&void 0!==n[0]&&n[0],!this.worker){e.next=6;break}if(t){e.next=5;break}return e.next=5,this._SendRequest(u.WorkerMsg.DESTROY);case 5:this.worker.terminate();case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"_ProcessRequest",value:(a=oS(R().mark(function e(t){var n,r,i;return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.data).signature!==lS)return e.abrupt("return");e.next=4;break;case 4:return r={seq:n.seq,type:n.type,signature:lS},i=[],e.prev=6,e.next=9,this._ProcessRequestMessage(n.type,n.data,i,n.seq);case 9:r.data=e.sent,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0),r.error=String(e.t0);case 16:this.worker.postMessage(r,i),n.type===u.WorkerMsg.DESTROY&&(this.worker.onmessage=null,this.worker.close(),this.worker=null);case 18:case"end":return e.stop()}},e,this,[[6,12]])})),function(e){return a.apply(this,arguments)})},{key:"_ProcessRequestMessage",value:(o=oS(R().mark(function e(t,n,r,i){var o,a,s=this;return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===u.WorkerMsg.LOAD?3:e.t0===u.WorkerMsg.DESTROY?12:13;break;case 3:return e.next=5,this._Load(n.url,n.fonts,n.options,function(e,t,n){return s._SendProgress(i,e,t,n)});case 5:return a=e.sent,o=a.scene,a=a.dxf,r.push(o.vertices),r.push(o.indices),r.push(o.transforms),e.abrupt("return",{scene:o,dxf:a});case 12:return e.abrupt("return",null);case 13:throw"Unknown message type: "+t;case 14:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return o.apply(this,arguments)})},{key:"_ProcessResponse",value:(r=oS(R().mark(function e(t){var n,r,i,o;return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.data).signature!==lS)return e.abrupt("return");e.next=4;break;case 4:if(r=n.seq,i=this.requests.get(r)){e.next=9;break}return console.error("Unmatched message sequence: ",r),e.abrupt("return");case 9:if(o=n.data,n.type===u.WorkerMsg.PROGRESS&&i.progressCbk)return i.progressCbk(o.phase,o.size,o.totalSize),e.abrupt("return");e.next=13;break;case 13:this.requests.delete(r),n.hasOwnProperty("error")?i.SetError(n.error):i.SetResponse(o);case 15:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_OnError",value:(n=oS(R().mark(function e(t){var n;return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.error("DxfWorker worker error",t),n=Array.from(this.requests.values),this.requests.clear(),n.forEach(function(e){return e.SetError(t)});case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_SendRequest",value:(t=oS(R().mark(function e(t){var n,r,i,o=arguments;return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<o.length&&void 0!==o[1]?o[1]:null,i=2<o.length&&void 0!==o[2]?o[2]:null,r=this.reqSeq++,i=new u.Request(r,i),this.requests.set(r,i),this.worker.postMessage({seq:r,type:t,data:n,signature:lS}),e.next=8,i.GetResponse();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_SendProgress",value:function(e,t,n,r){this.worker.postMessage({seq:e,type:u.WorkerMsg.PROGRESS,data:{phase:t,size:n,totalSize:r},signature:lS})}},{key:"_Load",value:(i=oS(R().mark(function e(t,n,r,i){var o,a,s;return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n?this._CreateFontFetchers(n,i):[],e.next=3,new db(t,r.fileEncoding).Fetch(i);case 3:return a=e.sent,i&&i("prepare",0,null),s=new Y_(r),e.next=8,s.Build(a,o);case 8:return e.abrupt("return",{scene:s.scene,dxf:!0===r.retainParsedDxf?a:void 0});case 9:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return i.apply(this,arguments)})},{key:"_CreateFontFetchers",value:function(e,r){var t,n=[],i=nS(e);try{for(i.s();!(t=i.n()).done;)n.push((n=>oS(R().mark(function e(){var t;return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r&&r("font",0,null),e.next=3,fetch(n).then(function(e){return e.arrayBuffer()});case 3:return t=e.sent,r&&r("prepare",0,null),e.abrupt("return",eS.a.parse(t));case 6:case"end":return e.stop()}},e)})))(t.value))}catch(e){i.e(e)}finally{i.f()}return n}},{key:"_CloneOptions",value:function(e){var t=this;if(Array.isArray(e))return e.map(function(e){return t._CloneOptions(e)});if("object"!==tS(e)||null===e)return e;var n,r={};for(n in e)r[n]=this._CloneOptions(e[n]);return r}}]);var i,t,n,r,o,a,e,s})();function hS(e){return(hS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=hS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=hS(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==hS(e)?e:e+""))(r.key),r)}}cS.WorkerMsg={LOAD:"LOAD",PROGRESS:"PROGRESS",DESTROY:"DESTROY"},cS.Request=(()=>{return uS(function e(t,n){var r=this;aS(this,e),this.seq=t,this.progressCbk=n,this.promise=new Promise(function(e,t){r._Resolve=e,r._Reject=t})},[{key:"GetResponse",value:(e=oS(R().mark(function e(){return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.promise;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"SetResponse",value:function(e){this._Resolve(e)}},{key:"SetError",value:function(e){this._Reject(e)}}]);var e})();var pS=(()=>{function i(e,t,n,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.instanceType=e,this.geometryType=null!=t?t:null,this.color=n,this.lineType=null!=r?r:null}return e=i,(t=[{key:"Compare",value:function(e){var t=jm(this.instanceType,e.instanceType);return 0!==t||0!==(t=jm(this.geometryType,e.geometryType))||0!==(t=jm(this.color,e.color))?t:jm(this.lineType,e.lineType)}}])&&fS(e.prototype,t),n&&fS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();function yS(e){return(yS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dS(){dS=function(){return a};var u,a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(u){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new P(r||[]);return c(t,"_invoke",{value:(i=e,o=n,a=r,s=f,function(e,t){if(s===y)throw Error("Generator is already running");if(s===d){if("throw"===e)throw t;return{value:u,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===u)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,a);if(n){if(n===v)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=y;n=h(i,o,a);if("normal"===n.type){if(s=a.done?d:p,n.arg===v)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var t={},w=(o(t,r,function(){return this}),Object.getPrototypeOf),w=w&&w(w(T([]))),x=(w&&w!==e&&l.call(w,r)&&(t=w),g.prototype=m.prototype=Object.create(t));function _(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function S(a,s){var t;c(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=h(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==yS(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}throw new TypeError(yS(t)+" is not iterable")}return c(x,"constructor",{value:b.prototype=g,configurable:!0}),c(g,"constructor",{value:b,configurable:!0}),b.displayName=o(g,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},_(S.prototype),o(S.prototype,n,function(){return this}),a.AsyncIterator=S,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new S(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),o(x,i,"Generator"),o(x,r,function(){return this}),o(x,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),v}},a}function vS(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(r=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){i=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(i)throw n}}};if(Array.isArray(e)||(a=((e,t)=>{var n;if(e)return"string"==typeof e?mS(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mS(e,t):void 0})(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function bS(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function gS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=yS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=yS(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==yS(e)?e:e+""))(r.key),r)}}function xS(e,t,n){return t&&wS(e.prototype,t),n&&wS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var _S=Object.freeze({INFO:"info",WARN:"warn",ERROR:"error"}),SS=(()=>{return xS(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;gS(this,e),this.opacity=t.opacity,this.options=Object.create(e.DefaultOptions),t&&Object.assign(this.options,t),t=this.options,this.clearColor=this.options.clearColor.getHex(),this.scene=new ht,this.fmmap=t.fmmap,this.simpleColorMaterial=[],this.simplePointMaterial=[];for(var n=0;n<kS.MAX;n++)this.simpleColorMaterial[n]=this._CreateSimpleColorMaterial(n),this.simplePointMaterial[n]=this._CreateSimplePointMaterial(n);this.materials=new Wx(function(e,t){return e.key.Compare(t.key)}),this.layers=new Map,this.blocks=new Map,this.worker=null},[{key:"HasRenderer",value:function(){return Boolean(this.renderer)}},{key:"GetRenderer",value:function(){return this.renderer}},{key:"GetCanvas",value:function(){return this.canvas}},{key:"GetDxf",value:function(){return this.parsedDxf}},{key:"SetSize",value:function(e,t){this._EnsureRenderer();var n=e/this.canvasWidth,r=t/this.canvasHeight,i=this.camera,o=(i.left+i.right)/2,a=(i.bottom+i.top)/2,s=i.right-i.left,u=i.top-i.bottom;i.left=o-n*s/2,i.right=o+n*s/2,i.bottom=a-r*u/2,i.top=a+r*u/2,i.updateProjectionMatrix(),this.canvasWidth=e,this.canvasHeight=t,this.renderer.setSize(e,t),this.controls&&this.controls.update(),this._Emit("resized",{width:e,height:t}),this._Emit("viewChanged"),this.Render()}},{key:"Load",value:(s=dS().mark(function e(t,n){var r,i,o,a,s,u,l,c,h,f,p,y,d,v,m,b;return dS().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,i=void 0===(i=t.fonts)?null:i,o=void 0===(o=t.progressCbk)?null:o,a=void 0===(a=t.workerFactory)?null:a,null==r)throw new Error("`url` parameter is not specified");e.next=3;break;case 3:return this.worker=new cS(a?a():null),e.next=6,this.worker.Load(r,i,this.options,o);case 6:return u=e.sent,s=u.scene,u=u.dxf,e.next=11,this.worker.Destroy();case 11:this.worker=null,this.parsedDxf=u,this.origin=s.origin,this.bounds=s.bounds,this.hasMissingChars=s.hasMissingChars,l=vS(s.layers);try{for(l.s();!(c=l.n()).done;)h=c.value,this.layers.set(h.name,new PS(h.name,h.displayName,h.color))}catch(e){l.e(e)}finally{l.f()}f=vS(s.batches);try{for(f.s();!(p=f.n()).done;)null!==(y=p.value).key.blockName&&y.key.geometryType!==x.GeometryType.BLOCK_INSTANCE&&y.key.geometryType!==x.GeometryType.POINT_INSTANCE&&((d=this.blocks.get(y.key.blockName))||(d=new TS,this.blocks.set(y.key.blockName,d)),d.PushBatch(new OS(this,s,y)))}catch(e){f.e(e)}finally{f.f()}"DXF scene:\n                     ".concat(s.batches.length," batches,\n                     ").concat(this.layers.size," layers,\n                     ").concat(this.blocks.size," blocks,\n                     vertices ").concat(s.vertices.byteLength," B,\n                     indices ").concat(s.indices.byteLength," B\n                     transforms ").concat(s.transforms.byteLength," B"),v=vS(s.batches);try{for(v.s();!(m=v.n()).done;)b=m.value,this._LoadBatch(s,b)}catch(e){v.e(e)}finally{v.f()}n&&n();case 24:case"end":return e.stop()}},e,this)}),n=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){bS(r,t,n,i,o,"next",e)}function o(e){bS(r,t,n,i,o,"throw",e)}i(void 0)})},function(e,t){return n.apply(this,arguments)})},{key:"GetLayers",value:function(){var e,t=[],n=vS(this.layers.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push({name:r.name,displayName:r.displayName,color:this._TransformColor(r.color)})}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"ShowLayer",value:function(e,t){this._EnsureRenderer();e=this.layers.get(e);if(e){var n,r=vS(e.objects);try{for(r.s();!(n=r.n()).done;)n.value.visible=t}catch(e){r.e(e)}finally{r.f()}this.Render()}}},{key:"Clear",value:function(){for(this.worker&&(this.worker.Destroy(!0),this.worker=null);0<this.scene.children.length;)this.scene.remove(this.scene.children[0]);var e,t=vS(this.layers.values());try{for(t.s();!(e=t.n()).done;)e.value.Dispose()}catch(e){t.e(e)}finally{t.f()}this.layers.clear(),this.blocks.clear(),this.materials.each(function(e){return e.material.dispose()}),this.materials.clear()}},{key:"Destroy",value:function(){this.Clear();var e,t=vS(this.simplePointMaterial);try{for(t.s();!(e=t.n()).done;)e.value.dispose()}catch(e){t.e(e)}finally{t.f()}var n,r=vS(this.simpleColorMaterial);try{for(r.s();!(n=r.n()).done;)n.value.dispose()}catch(e){r.e(e)}finally{r.f()}this.simplePointMaterial=null,this.simpleColorMaterial=null}},{key:"SetView",value:function(e,t){var n=t/(this.canvasWidth/this.canvasHeight),r=this.camera;r.left=-t/2,r.right=t/2,r.top=n/2,r.bottom=-n/2,r.zoom=1,r.position.set(e.x,e.y,1),r.rotation.set(0,0,0),r.updateMatrix(),r.updateProjectionMatrix(),this._Emit("viewChanged")}},{key:"FitView",value:function(e,t,n,r){var i=this.canvasWidth/this.canvasHeight,t=t-e,r=r-n,e={x:e+t/2,y:n+r/2};(t=t<r*i?r*i:t)<=2*Number.MIN_VALUE&&(t=1),this.SetView(e,t*(1+(4<arguments.length&&void 0!==arguments[4]?arguments[4]:.1)))}},{key:"GetScene",value:function(){return this.scene}},{key:"GetCamera",value:function(){return this.camera}},{key:"GetOrigin",value:function(){return this.origin}},{key:"GetBounds",value:function(){return this.bounds}},{key:"Subscribe",value:function(e,t){this._EnsureRenderer(),this.canvas.addEventListener(ES+e,t)}},{key:"Unsubscribe",value:function(e,t){this._EnsureRenderer(),this.canvas.removeEventListener(ES+e,t)}},{key:"_EnsureRenderer",value:function(){if(!this.HasRenderer())throw new Error("WebGL renderer not available. Probable WebGL context loss, try refreshing the page.")}},{key:"_Emit",value:function(e){this.canvas.dispatchEvent(new CustomEvent(ES+e,{detail:1<arguments.length&&void 0!==arguments[1]?arguments[1]:null}))}},{key:"_Message",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_S.INFO;this._Emit("message",{message:e,level:t})}},{key:"_OnPointerEvent",value:function(e){var t=e.target.getBoundingClientRect(),t={x:e.clientX-t.left,y:e.clientY-t.top};this._Emit(e.type,{domEvent:e,canvasCoord:t,position:this._CanvasToSceneCoord(t.x,t.y)})}},{key:"_CanvasToSceneCoord",value:function(e,t){e=new F(2*e/this.canvasWidth-1,2*-t/this.canvasHeight+1,1).unproject(this.camera);return{x:e.x,y:e.y}}},{key:"_OnResize",value:function(e){this.SetSize(Math.floor(e.contentRect.width),Math.floor(e.contentRect.height))}},{key:"_LoadBatch",value:function(e,t){if(null===t.key.blockName||t.key.geometryType===x.GeometryType.BLOCK_INSTANCE||t.key.geometryType===x.GeometryType.POINT_INSTANCE){var n,e=new OS(this,e,t).CreateObjects(),r=this.layers.get(t.key.layerName),i=vS(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;this.scene.add(o),this.fmmap.getRenderManager().render(),r&&r.PushObject(o)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"_GetSimpleColorMaterial",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:kS.NONE,n=new pS(t,null,e,0),r=this.materials.find({key:n});return null===r&&(r={key:n,material:this._CreateSimpleColorMaterialInstance(e,t)},this.materials.insert(r)),r.material}},{key:"_CreateSimpleColorMaterial",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:kS.NONE,e=this._GenerateShaders(e,!1),t=!0;return 0===this.opacity&&(t=!1),new Qv({uniforms:{color:{value:new v(16711935)},opacity:{value:this.opacity}},vertexShader:e.vertex,fragmentShader:e.fragment,depthTest:!1,depthWrite:!1,visible:t,side:2})}},{key:"_CreateSimpleColorMaterialInstance",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:kS.NONE,t=this.simpleColorMaterial[t].clone();return t.uniforms.color={value:new v(e)},t}},{key:"_GetSimplePointMaterial",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:kS.NONE,n=new pS(t,x.GeometryType.POINTS,e,0),r=this.materials.find({key:n});return null===r&&(r={key:n,material:this._CreateSimplePointMaterialInstance(e,this.options.pointSize,t)},this.materials.insert(r)),r.material}},{key:"_CreateSimplePointMaterial",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:kS.NONE,e=this._GenerateShaders(e,!0),t=!0;return 0===this.opacity&&(t=!1),new Qv({uniforms:{color:{value:new v(16711935)},opacity:{value:this.opacity},pointSize:{value:2}},vertexShader:e.vertex,fragmentShader:e.fragment,depthTest:!1,depthWrite:!1,visible:t})}},{key:"_CreateSimplePointMaterialInstance",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:kS.NONE,n=this.simplePointMaterial[n].clone();return n.uniforms.color={value:new v(e)},n.uniforms.size={value:t},n}},{key:"_GenerateShaders",value:function(e,t){var n=e===kS.FULL?"\n            /* First row. */\n            attribute vec3 instanceTransform0;\n            /* Second row. */\n            attribute vec3 instanceTransform1;\n            ":"",r=e===kS.FULL?"\n            pos.xy = mat2(instanceTransform0[0], instanceTransform1[0],\n                          instanceTransform0[1], instanceTransform1[1]) * pos.xy +\n                     vec2(instanceTransform0[2], instanceTransform1[2]);\n            ":"",i=e===kS.POINT?"\n            attribute vec2 instanceTransform;\n            ":"",e=e===kS.POINT?"\n            pos.xy += instanceTransform;\n            ":"",o=t?"uniform float pointSize;":"",t=t?"gl_PointSize = pointSize;":"";return{vertex:"\n\n            precision highp float;\n            precision highp int;\n            attribute vec2 position;\n            ".concat(n,"\n            ").concat(i,"\n            uniform mat4 modelViewMatrix;\n            uniform mat4 projectionMatrix;\n            ").concat(o,"\n\n            void main() {\n                vec4 pos = vec4(position, 0.0, 1.0);\n                ").concat(r,"\n                ").concat(e,"\n                gl_Position = projectionMatrix * modelViewMatrix * pos;\n                ").concat(t,"\n            }\n            "),fragment:"\n\n            precision highp float;\n            precision highp int;\n            uniform vec3 color;\n            uniform float opacity;\n\n            void main() {\n                gl_FragColor = vec4(color, opacity);\n            }\n            "}}},{key:"_TransformColor",value:function(e){if(this.options.colorCorrection||this.options.blackWhiteInversion){var t,n,r,i=MS(this.clearColor);if(16777215===e&&.8<=i)return 0;if(0===e&&i<=.2)return 16777215;this.options.colorCorrection&&(t=MS(e),n=e,r=this.clearColor,(1<=(n=(MS(n)+.05)/(MS(r)+.05))?n:1/n)<1.5)&&(e=t<(r=.5<i?i/2:2*i)?((e,t)=>((e=jS(e)).l*=t,1<e.l&&(e.l=1),CS(e)))(e,r/t):((e,t)=>((e=jS(e)).l/=t,CS(e)))(e,t/r))}return e}}]);var s,n})(),kS=(SS.MessageLevel=_S,SS.DefaultOptions={canvasWidth:400,canvasHeight:300,autoResize:!1,clearColor:new v("#000"),clearAlpha:1,canvasAlpha:!1,canvasPremultipliedAlpha:!0,antialias:!0,colorCorrection:!1,blackWhiteInversion:!0,pointSize:2,sceneOptions:Y_.DefaultOptions,retainParsedDxf:!1,preserveDrawingBuffer:!1,fileEncoding:"utf-8"},SS.SetupWorker=function(){new cS(self,!0)},Object.freeze({NONE:0,FULL:1,POINT:2,MAX:3})),OS=(()=>xS(function e(t,n,r){if(gS(this,e),this.viewer=t,this.key=r.key,r.hasOwnProperty("verticesOffset")&&(t=new Float32Array(n.vertices,r.verticesOffset*Float32Array.BYTES_PER_ELEMENT,r.verticesSize),this.key.geometryType===x.GeometryType.POINT_INSTANCE&&!n.pointShapeHasDot||(this.vertices=new fn(t,2)),this.key.geometryType===x.GeometryType.POINT_INSTANCE)&&(this.transforms=new tf(t,2)),r.hasOwnProperty("chunks")){this.chunks=[];var i,o=vS(r.chunks);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=new Float32Array(n.vertices,a.verticesOffset*Float32Array.BYTES_PER_ELEMENT,a.verticesSize),u=new Uint16Array(n.indices,a.indicesOffset*Uint16Array.BYTES_PER_ELEMENT,a.indicesSize);this.chunks.push({vertices:new fn(s,2),indices:new fn(u,1)})}}catch(e){o.e(e)}finally{o.f()}}r.hasOwnProperty("transformsOffset")&&(t=new Float32Array(n.transforms,r.transformsOffset*Float32Array.BYTES_PER_ELEMENT,r.transformsSize),r=new sm(t,6),this.transforms0=new Ef(r,3,0),this.transforms1=new Ef(r,3,3)),this.key.geometryType!==x.GeometryType.BLOCK_INSTANCE&&this.key.geometryType!==x.GeometryType.POINT_INSTANCE||(t=this.viewer.layers.get(this.key.layerName),this.layerColor=t?t.color:0)},[{key:"GetInstanceType",value:function(){switch(this.key.geometryType){case x.GeometryType.BLOCK_INSTANCE:return kS.FULL;case x.GeometryType.POINT_INSTANCE:return kS.POINT;default:return kS.NONE}}},{key:"CreateObjects",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return dS().mark(function e(){return dS().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.key.geometryType!==x.GeometryType.BLOCK_INSTANCE&&t.key.geometryType!==x.GeometryType.POINT_INSTANCE)e.next=5;else{if(null!==n)throw new Error("Unexpected instance batch specified for instance batch");e.next=3}break;case 3:return e.delegateYield(t._CreateBlockInstanceObjects(),"t0",4);case 4:return e.abrupt("return");case 5:return e.delegateYield(t._CreateObjects(n),"t1",6);case 6:case"end":return e.stop()}},e)})()}},{key:"_CreateObjects",value:dS().mark(function e(r){var i,o,t,n,a,s;return dS().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e,t){var n=new(r?Am:xm),e=(n.setAttribute("position",e),null!=r&&r._SetInstanceTransformAttribute(n),t&&n.setIndex(t),new o(n,i));return e.frustumCulled=!1,e.matrixAutoUpdate=!1,e},a=r?r._GetInstanceColor(this.key.color):this.key.color,s=this.key.geometryType===x.GeometryType.POINTS||this.key.geometryType===x.GeometryType.POINT_INSTANCE?this.viewer._GetSimplePointMaterial:this.viewer._GetSimpleColorMaterial,i=s.call(this.viewer,this.viewer._TransformColor(a),null!=(s=null==r?void 0:r.GetInstanceType())?s:kS.NONE),e.t0=this.key.geometryType,e.next=e.t0===x.GeometryType.POINTS||e.t0===x.GeometryType.POINT_INSTANCE?7:e.t0===x.GeometryType.LINES||e.t0===x.GeometryType.INDEXED_LINES?9:e.t0===x.GeometryType.TRIANGLES||e.t0===x.GeometryType.INDEXED_TRIANGLES?11:13;break;case 7:return o=F7,e.abrupt("break",14);case 9:return o=y8,e.abrupt("break",14);case 11:return o=j0,e.abrupt("break",14);case 13:throw new Error("Unexpected geometry type:"+this.key.geometryType);case 14:if(!this.chunks){e.next=34;break}n=vS(this.chunks),e.prev=16,n.s();case 18:if((a=n.n()).done){e.next=24;break}return s=a.value,e.next=22,t(s.vertices,s.indices);case 22:e.next=18;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(16),n.e(e.t1);case 29:return e.prev=29,n.f(),e.finish(29);case 32:e.next=36;break;case 34:return e.next=36,t(this.vertices);case 36:case"end":return e.stop()}},e,this,[[16,26,29,32]])})},{key:"_SetInstanceTransformAttribute",value:function(e){if(!e.isInstancedBufferGeometry)throw new Error("InstancedBufferGeometry expected");this.key.geometryType===x.GeometryType.POINT_INSTANCE?e.setAttribute("instanceTransform",this.transforms):(e.setAttribute("instanceTransform0",this.transforms0),e.setAttribute("instanceTransform1",this.transforms1))}},{key:"_CreateBlockInstanceObjects",value:dS().mark(function e(){var t,n,r;return dS().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.viewer.blocks.get(this.key.blockName)){e.next=3;break}return e.abrupt("return");case 3:n=vS(t.batches),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=11;break}return r=r.value,e.delegateYield(r.CreateObjects(this),"t0",9);case 9:e.next=6;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:if(this.hasOwnProperty("vertices"))return e.delegateYield(this._CreateObjects(),"t2",21);e.next=21;break;case 21:case"end":return e.stop()}},e,this,[[4,13,16,19]])})},{key:"_GetInstanceColor",value:function(e){return e===$_.BY_BLOCK?this.key.color:e===$_.BY_LAYER?this.layerColor:e}}]))(),PS=(()=>xS(function e(t,n,r){gS(this,e),this.name=t,this.displayName=n,this.color=r,this.objects=[]},[{key:"PushObject",value:function(e){this.objects.push(e)}},{key:"Dispose",value:function(){var e,t=vS(this.objects);try{for(t.s();!(e=t.n()).done;)e.value.geometry.dispose()}catch(e){t.e(e)}finally{t.f()}this.objects=null}}]))(),TS=(()=>xS(function e(){gS(this,e),this.batches=[]},[{key:"PushBatch",value:function(e){this.batches.push(e)}}]))(),ES="__dxf_";function RS(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function AS(e){return e<.003?12.92*e:1.055*Math.pow(e,1/2.4)-.055}function MS(e){return.2126*RS(((16711680&e)>>>16)/255)+.7152*RS(((65280&e)>>>8)/255)+.0722*RS((255&e)/255)}function CS(e){var t,n,r,i,o=e.h,a=e.l,e=e.s;return 0===e?n=r=i=a:(n=(t=function(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e})(e=2*a-(a=a<.5?a*(1+e):a+e-a*e),a,o+1/3),r=t(e,a,o),i=t(e,a,o-1/3)),Math.min(Math.floor(256*AS(n)),255)<<16|Math.min(Math.floor(256*AS(r)),255)<<8|Math.min(Math.floor(256*AS(i)),255)}function jS(e){var t,n=RS(((16711680&e)>>>16)/255),r=RS(((65280&e)>>>8)/255),i=RS((255&e)/255),e=Math.max(n,r,i),o=Math.min(n,r,i),a=(e+o)/2;if(e===o)t=u=0;else{var s=e-o,u=.5<a?s/(2-e-o):s/(e+o);switch(e){case n:t=(r-i)/s+(r<i?6:0);break;case r:t=(i-n)/s+2;break;case i:t=(n-r)/s+4}t/=6}return{h:t,l:a,s:u}}var r={NONE:0,EXTRUDE_MARKER:2,FM3DTILE_LAYER:4,IMAGE_MARKER:8,LOCATION_MARKER:16,POLYGON_MARKER:32,TEXT_MARKER:64,LINE_MARKER:128,LINE3D_MARKER:256,HEAT_MAP_MARKER:512,EXTENT:1024,EXTERNAL_MODEL:2048,MODEL:4096,FACILITY:8192,LABEL:16384,DYNAMIC_MODEL_MARKER:32768,DOM_MARKER:65536,SPHERE_MARKER:1<<17,CAD_LAYER:1<<18,EXTENT_LAYER:1<<20,EXTERNAL_MODEL_LAYER:1<<21,MODEL_LAYER:1<<22,FACILITY_LAYER:1<<23,LABEL_LAYER:1<<24,MARKER_GROUP:1<<25,FLOW_LINE_LAYER:1<<27,FLOW_LINE_MARKER:1<<27,FIRE_MARKER:1<<28,WALL_MARKER:1<<29,TUBE_MARKER:1<<30},LS=(r.LAYER_NODE_TYPE=new Map,r.LAYER_NODE_TYPE.set(r.EXTENT_LAYER,r.EXTENT),r.LAYER_NODE_TYPE.set(r.EXTERNAL_MODEL_LAYER,r.EXTERNAL_MODEL),r.LAYER_NODE_TYPE.set(r.MODEL_LAYER,r.MODEL),r.LAYER_NODE_TYPE.set(r.FACILITY_LAYER,r.FACILITY),r.LAYER_NODE_TYPE.set(r.LABEL_LAYER,r.LABEL),r.LAYER_NODE_TYPE.set(r.DOM_MARKER,r.DOM_MARKER),r.LAYER_NODE_TYPE.set(r.DYNAMIC_MODEL_MARKER,r.DYNAMIC_MODEL_MARKER),r.LAYER_NODE_TYPE.set(r.EXTRUDE_MARKER,r.EXTRUDE_MARKER),r.LAYER_NODE_TYPE.set(r.HEAT_MAP_MARKER,r.HEAT_MAP_MARKER),r.LAYER_NODE_TYPE.set(r.LINE_MARKER,r.LINE_MARKER),r.LAYER_NODE_TYPE.set(r.LOCATION_MARKER,r.LOCATION_MARKER),r.LAYER_NODE_TYPE.set(r.POLYGON_MARKER,r.POLYGON_MARKER),r.LAYER_NODE_TYPE.set(r.TEXT_MARKER,r.TEXT_MARKER),r.LAYER_NODE_TYPE.set(r.IMAGE_MARKER,r.IMAGE_MARKER),r.LAYER_NODE_TYPE.set(r.FLOW_LINE_LAYER,r.FLOW_LINE_MARKER),r.LAYER_NODE_TYPE.set(r.FIRE_MARKER,r.FIRE_MARKER),r.LAYER_NODE_TYPE.set(r.WALL_MARKER,r.WALL_MARKER),r.LAYER_NODE_TYPE.set(r.TUBE_MARKER,r.TUBE_MARKER),r.LAYER_NODE_TYPE.set(r.LINE3D_MARKER,r.LINE3D_MARKER),r.LAYER_NODE_TYPE.set(r.SPHERE_MARKER,r.SPHERE_MARKER),r.LAYER_NODE_TYPE.set(r.CAD_LAYER,r.CAD_LAYER),r);function IS(e){return(IS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=IS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=IS(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==IS(e)?e:e+""))(r.key),r)}}function DS(e,t,n){t=FS(t);var r=e,t=BS()?Reflect.construct(t,n||[],FS(e).constructor):t.apply(e,n);if(!t||"object"!=IS(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function BS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(BS=function(){return!!e})()}function FS(e){return(FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function US(e,t){return(US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var zS=(e=>{function t(){if(this instanceof t)return DS(this,t,[{type:LS.CAD_LAYER}]);throw new TypeError("Cannot call a class as a function")}var n,r,i=t;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");return i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&US(i,e),i=t,n&&NS(i.prototype,n),r&&NS(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i})(fengmap.FMMarkerLayer);function GS(e){return(GS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=GS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=GS(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==GS(e)?e:e+""))(r.key),r)}}function VS(e,t,n){return t&&HS(e.prototype,t),n&&HS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var e=VS(function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._isActive=!0,this._listeners={}}),YS=(Object.assign(e.prototype,{_addEventListener:function(e,t){this._hasEventListener(e,t)||(void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t))},_hasEventListener:function(e,t){return t?void 0!==this._listeners[e]&&-1!==this._listeners[e].indexOf(t):void 0!==this._listeners[e]&&0<this._listeners[e].length},_removeEventListener:function(e,t){void 0!==this._listeners[e]&&-1!==(t=this._listeners[e].indexOf(t))&&this._listeners[e].splice(t,1)},_dispatchEvent:function(e){if(this._isActive&&void 0!==this._listeners[e.type])for(var t=this._listeners[e.type].slice(0),n=0,r=t.length;n<r;n++)t[n].call(this,e)}}),e);function WS(e){return(WS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qS(e,t){return(e=>{if(Array.isArray(e))return e})(e)||((e,t)=>{var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}})(e,t)||XS(e,t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function XS(e,t){var n;if(e)return"string"==typeof e?ZS(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZS(e,t):void 0}function ZS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function JS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=WS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=WS(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==WS(e)?e:e+""))(r.key),r)}}r=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._url=e.url,this._scale=e.scale,void 0===this._scale&&(this._scale=1),this._x=e.x,this._y=e.y,this._heading=e.heading,void 0===this._heading&&(this._heading=0),this._height=e.height,void 0===this._height&&(this._height=1),this._fonts=e.fonts,void 0===this._fonts&&(this._fonts=[]),this._opacity=e.opacity,void 0===this._opacity&&(this._opacity=1),this._dxfViewer=null,this._floor=null,this._map=null,this._parent=null,this._eventDispatcher=new YS}return e=t,(n=[{key:"parent",get:function(){return this._parent}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"buildingID",get:function(){return this._map.getMapOptions().mapID!==this._floor.parent.buildingID?this._floor.parent.buildingID:null}},{key:"level",get:function(){return this._floor.level}},{key:"heading",get:function(){return this._heading}},{key:"scale",get:function(){return this._scale},set:function(e){this._scale=e,this._dxfViewer.scene.scale.set(this._scale,this._scale,this._scale),this._map.enableUpdateRender()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this._dxfViewer.scene.position.y=this._height,this._map.enableUpdateRender()}},{key:"opacity",get:function(){return this._opacity},set:function(e){this._opacity=e;var t,n=((e,t)=>{var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(r=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){i=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(i)throw n}}};if(Array.isArray(e)||(a=XS(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})(this._dxfViewer.layers);try{for(n.s();!(t=n.n()).done;)for(var r=qS(t.value,2),i=(r[0],r[1].objects),o=0;o<i.length;o++)i[o].material.uniforms.opacity.value=this._opacity,i[o].material.uniformsNeedUpdate=!0,0===this._opacity?i[o].material.visible=!1:i[o].material.visible=!0}catch(e){n.e(e)}finally{n.f()}this._map.enableUpdateRender()}},{key:"addTo",value:function(e){this._floor=e,this._map=e.parent.parent,void 0===this._x&&(this._x=this._floor.x),void 0===this._y&&(this._y=this._floor.y),fengmap.FMMarkerFun.LAYER_CLASS.get(LS.CAD_LAYER)||fengmap.FMMarkerFun.LAYER_CLASS.set(LS.CAD_LAYER,zS),this._init()}},{key:"rotateTo",value:function(e){this._heading=e.heading,this._dxfViewer.scene.rotation.z=this._heading*Math.PI/180,this._map.enableUpdateRender(),e.finish&&e.finish()}},{key:"moveTo",value:function(e){this._x=e.x,this._y=e.y,this._dxfViewer.scene.position.x=this._x-this._map.x,this._dxfViewer.scene.position.z=-this._y+this._map.y,this._map.enableUpdateRender(),e.finish&&e.finish()}},{key:"remove",value:function(){this._dxfViewer.Destroy(),this._parent.scene.remove(this._parent.scene.children[0]),this._map.enableUpdateRender()}},{key:"on",value:function(e,t){this._eventDispatcher._addEventListener(e,t)}},{key:"off",value:function(e,t){this._eventDispatcher&&this._eventDispatcher._removeEventListener(e,t)}}])&&JS(e.prototype,n),r&&JS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r})(),Object.assign(r.prototype,{_init:function(){var e=this;this._parent=this._floor.getOrCreateLayer(LS.CAD_LAYER),this._dxfViewer=new SS({clearColor:new v("#fff"),opacity:this._opacity,colorCorrection:!0,fmmap:this._map,sceneOptions:{wireframeMesh:!0}}),(this._dxfViewer.scene.mapNode=this)._dxfViewer.scene.rotation.x=-Math.PI/2,this._dxfViewer.scene.rotation.z=this._heading*Math.PI/180,this._dxfViewer.scene.scale.set(this._scale,this._scale,this._scale),this._dxfViewer.scene.position.set(this._x-this._map.x,this._height,-this._y+this._map.y),this._dxfViewer.Load({url:this._url,fonts:this._fonts,progressCbk:function(){e._eventDispatcher._dispatchEvent({type:"loading"})}},function(){e._eventDispatcher._dispatchEvent({type:"loaded"})}),0<this._parent.scene.children.length&&(this._parent.scene.children[0].mapNode._dxfViewer.Destroy(),this._parent.scene.remove(this._parent.scene.children[0])),this._parent.scene.add(this._dxfViewer.scene),this._map.enableUpdateRender()}}),e=r,r=window.fengmap||{};r.FMTileLayer=Os,r.FM3DTilesLayer=W7,r.FMTileProvider=s,r.FMGroundLayer=t,r.FMTileFilter=G0,r.FMCADLayer=e,M.default=r}],o={},i.m=r,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=11).default;function i(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},r[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}var r,o});