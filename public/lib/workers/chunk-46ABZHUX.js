import{clamp}from"./chunk-AGIEQDNA.js";var FMType={NONE:0,EXTRUDE_MARKER:2,FM3DTILE_LAYER:4,IMAGE_MARKER:8,LOCATION_MARKER:16,POLYGON_MARKER:32,TEXT_MARKER:64,LINE_MARKER:128,LINE3D_MARKER:256,HEAT_MAP_MARKER:512,EXTENT:1024,EXTERNAL_MODEL:2048,MODEL:4096,FACILITY:8192,LABEL:16384,DYNAMIC_MODEL_MARKER:32768,DOM_MARKER:65536,SPHERE_MARKER:1<<17,CAD_LAYER:1<<18,EXTENT_LAYER:1<<20,EXTERNAL_MODEL_LAYER:1<<21,MODEL_LAYER:1<<22,FACILITY_LAYER:1<<23,LABEL_LAYER:1<<24,MARKER_GROUP:1<<25,FLOW_LINE_LAYER:1<<27,FLOW_LINE_MARKER:1<<27,FIRE_MARKER:1<<28,WALL_MARKER:1<<29,TUBE_MARKER:1<<30},FMType_default=(FMType.LAYER_NODE_TYPE=new Map,FMType.LAYER_NODE_TYPE.set(FMType.EXTENT_LAYER,FMType.EXTENT),FMType.LAYER_NODE_TYPE.set(FMType.EXTERNAL_MODEL_LAYER,FMType.EXTERNAL_MODEL),FMType.LAYER_NODE_TYPE.set(FMType.MODEL_LAYER,FMType.MODEL),FMType.LAYER_NODE_TYPE.set(FMType.FACILITY_LAYER,FMType.FACILITY),FMType.LAYER_NODE_TYPE.set(FMType.LABEL_LAYER,FMType.LABEL),FMType.LAYER_NODE_TYPE.set(FMType.DOM_MARKER,FMType.DOM_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.DYNAMIC_MODEL_MARKER,FMType.DYNAMIC_MODEL_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.EXTRUDE_MARKER,FMType.EXTRUDE_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.HEAT_MAP_MARKER,FMType.HEAT_MAP_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.LINE_MARKER,FMType.LINE_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.LOCATION_MARKER,FMType.LOCATION_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.POLYGON_MARKER,FMType.POLYGON_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.TEXT_MARKER,FMType.TEXT_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.IMAGE_MARKER,FMType.IMAGE_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.FLOW_LINE_LAYER,FMType.FLOW_LINE_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.FIRE_MARKER,FMType.FIRE_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.WALL_MARKER,FMType.WALL_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.TUBE_MARKER,FMType.TUBE_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.LINE3D_MARKER,FMType.LINE3D_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.SPHERE_MARKER,FMType.SPHERE_MARKER),FMType.LAYER_NODE_TYPE.set(FMType.CAD_LAYER,FMType.CAD_LAYER),FMType),Vector2=class a{constructor(t=0,e=0){a.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){var e=this.x,s=this.y,t=t.elements;return this.x=t[0]*e+t[3]*s+t[6],this.y=t[1]*e+t[4]*s+t[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){var s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(e,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());return 0===e?Math.PI/2:(t=this.dot(t)/e,Math.acos(clamp(t,-1,1)))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){var e=this.x-t.x,t=this.y-t.y;return e*e+t*t}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,s){return this.x=t.x+(e.x-t.x)*s,this.y=t.y+(e.y-t.y)*s,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){var s=Math.cos(e),e=Math.sin(e),r=this.x-t.x,i=this.y-t.y;return this.x=r*s-i*e+t.x,this.y=r*e+i*s+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},Matrix3=class ra{constructor(t,e,s,r,i,h,E,a,M){ra.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,s,r,i,h,E,a,M)}set(t,e,s,r,i,h,E,a,M){var y=this.elements;return y[0]=t,y[1]=r,y[2]=E,y[3]=e,y[4]=i,y[5]=a,y[6]=s,y[7]=h,y[8]=M,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){var e=this.elements,t=t.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this}extractBasis(t,e,s){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(t){t=t.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){var t=t.elements,e=e.elements,s=this.elements,r=t[0],i=t[3],h=t[6],E=t[1],a=t[4],M=t[7],y=t[2],n=t[5],t=t[8],R=e[0],T=e[3],A=e[6],_=e[1],u=e[4],x=e[7],l=e[2],p=e[5],e=e[8];return s[0]=r*R+i*_+h*l,s[3]=r*T+i*u+h*p,s[6]=r*A+i*x+h*e,s[1]=E*R+a*_+M*l,s[4]=E*T+a*u+M*p,s[7]=E*A+a*x+M*e,s[2]=y*R+n*_+t*l,s[5]=y*T+n*u+t*p,s[8]=y*A+n*x+t*e,this}multiplyScalar(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){var t=this.elements,e=t[0],s=t[1],r=t[2],i=t[3],h=t[4],E=t[5],a=t[6],M=t[7],t=t[8];return e*h*t-e*E*M-s*i*t+s*E*a+r*i*M-r*h*a}invert(){var t=this.elements,e=t[0],s=t[1],r=t[2],i=t[3],h=t[4],E=t[5],a=t[6],M=t[7],y=t[8],n=y*h-E*M,R=E*a-y*i,T=M*i-h*a,A=e*n+s*R+r*T;return 0==A?this.set(0,0,0,0,0,0,0,0,0):(t[0]=n*(n=1/A),t[1]=(r*M-y*s)*n,t[2]=(E*s-r*h)*n,t[3]=R*n,t[4]=(y*e-r*a)*n,t[5]=(r*i-E*e)*n,t[6]=T*n,t[7]=(s*a-M*e)*n,t[8]=(h*e-s*i)*n,this)}transpose(){var t=this.elements,e=t[1];return t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,s,r,i,h,E){var a=Math.cos(i),i=Math.sin(i);return this.set(s*a,s*i,-s*(a*h+i*E)+h+t,-r*i,r*a,-r*(-i*h+a*E)+E+e,0,0,1),this}scale(t,e){return this.premultiply(_m3.makeScale(t,e)),this}rotate(t){return this.premultiply(_m3.makeRotation(-t)),this}translate(t,e){return this.premultiply(_m3.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){var e=Math.cos(t),t=Math.sin(t);return this.set(e,-t,0,t,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){var e=this.elements,s=t.elements;for(let t=0;t<9;t++)if(e[t]!==s[t])return!1;return!0}fromArray(e,s=0){for(let t=0;t<9;t++)this.elements[t]=e[t+s];return this}toArray(t=[],e=0){var s=this.elements;return t[e]=s[0],t[e+1]=s[1],t[e+2]=s[2],t[e+3]=s[3],t[e+4]=s[4],t[e+5]=s[5],t[e+6]=s[6],t[e+7]=s[7],t[e+8]=s[8],t}clone(){return(new this.constructor).fromArray(this.elements)}},_m3=new Matrix3;export{Vector2,Matrix3,FMType_default};