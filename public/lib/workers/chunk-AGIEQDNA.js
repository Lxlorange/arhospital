var _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){var t=4294967295*Math.random()|0,s=4294967295*Math.random()|0,i=4294967295*Math.random()|0,h=4294967295*Math.random()|0;return(_lut[255&t]+_lut[t>>8&255]+_lut[t>>16&255]+_lut[t>>24&255]+"-"+_lut[255&s]+_lut[s>>8&255]+"-"+_lut[s>>16&15|64]+_lut[s>>24&255]+"-"+_lut[63&i|128]+_lut[i>>8&255]+"-"+_lut[i>>16&255]+_lut[i>>24&255]+_lut[255&h]+_lut[h>>8&255]+_lut[h>>16&255]+_lut[h>>24&255]).toLowerCase()}function clamp(t,s,i){return Math.max(s,Math.min(i,t))}function euclideanModulo(t,s){return(t%s+s)%s}function lerp(t,s,i){return(1-i)*t+i*s}function denormalize(t,s){switch(s.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function normalize(t,s){switch(s.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}var Quaternion=class{constructor(t=0,s=0,i=0,h=1){this.isQuaternion=!0,this._x=t,this._y=s,this._z=i,this._w=h}static slerpFlat(t,s,i,h,r,e,a){let n=i[h+0],o=i[h+1],u=i[h+2],_=i[h+3];var i=r[e+0],h=r[e+1],l=r[e+2],r=r[e+3];if(0===a)t[s+0]=n,t[s+1]=o,t[s+2]=u,t[s+3]=_;else if(1===a)t[s+0]=i,t[s+1]=h,t[s+2]=l,t[s+3]=r;else{if(_!==r||n!==i||o!==h||u!==l){let t=1-a;var e=n*i+o*h+u*l+_*r,y=0<=e?1:-1,c=1-e*e,e=(c>Number.EPSILON&&(c=Math.sqrt(c),e=Math.atan2(c,e*y),t=Math.sin(t*e)/c,a=Math.sin(a*e)/c),a*y);n=n*t+i*e,o=o*t+h*e,u=u*t+l*e,_=_*t+r*e,t===1-a&&(c=1/Math.sqrt(n*n+o*o+u*u+_*_),n*=c,o*=c,u*=c,_*=c)}t[s]=n,t[s+1]=o,t[s+2]=u,t[s+3]=_}}static multiplyQuaternionsFlat(t,s,i,h,r,e){var a=i[h],n=i[h+1],o=i[h+2],i=i[h+3],h=r[e],u=r[e+1],_=r[e+2],r=r[e+3];return t[s]=a*r+i*h+n*_-o*u,t[s+1]=n*r+i*u+o*h-a*_,t[s+2]=o*r+i*_+a*u-n*h,t[s+3]=i*r-a*h-n*u-o*_,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,s,i,h){return this._x=t,this._y=s,this._z=i,this._w=h,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,s=!0){var i=t._x,h=t._y,r=t._z,e=t._order,t=Math.cos,a=Math.sin,n=t(i/2),o=t(h/2),u=t(r/2),_=a(i/2),l=a(h/2),y=a(r/2);switch(e){case"XYZ":this._x=_*o*u+n*l*y,this._y=n*l*u-_*o*y,this._z=n*o*y+_*l*u,this._w=n*o*u-_*l*y;break;case"YXZ":this._x=_*o*u+n*l*y,this._y=n*l*u-_*o*y,this._z=n*o*y-_*l*u,this._w=n*o*u+_*l*y;break;case"ZXY":this._x=_*o*u-n*l*y,this._y=n*l*u+_*o*y,this._z=n*o*y+_*l*u,this._w=n*o*u-_*l*y;break;case"ZYX":this._x=_*o*u-n*l*y,this._y=n*l*u+_*o*y,this._z=n*o*y-_*l*u,this._w=n*o*u+_*l*y;break;case"YZX":this._x=_*o*u+n*l*y,this._y=n*l*u+_*o*y,this._z=n*o*y-_*l*u,this._w=n*o*u-_*l*y;break;case"XZY":this._x=_*o*u-n*l*y,this._y=n*l*u-_*o*y,this._z=n*o*y+_*l*u,this._w=n*o*u+_*l*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+e)}return!0===s&&this._onChangeCallback(),this}setFromAxisAngle(t,s){var s=s/2,i=Math.sin(s);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(t){var t=t.elements,s=t[0],i=t[4],h=t[8],r=t[1],e=t[5],a=t[9],n=t[2],o=t[6],t=t[10],u=s+e+t;return 0<u?(u=.5/Math.sqrt(u+1),this._w=.25/u,this._x=(o-a)*u,this._y=(h-n)*u,this._z=(r-i)*u):e<s&&t<s?(u=2*Math.sqrt(1+s-e-t),this._w=(o-a)/u,this._x=.25*u,this._y=(i+r)/u,this._z=(h+n)/u):t<e?(u=2*Math.sqrt(1+e-s-t),this._w=(h-n)/u,this._x=(i+r)/u,this._y=.25*u,this._z=(a+o)/u):(u=2*Math.sqrt(1+t-s-e),this._w=(r-i)/u,this._x=(h+n)/u,this._y=(a+o)/u,this._z=.25*u),this._onChangeCallback(),this}setFromUnitVectors(t,s){let i=t.dot(s)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0):(this._x=0,this._y=-t.z,this._z=t.y)):(this._x=t.y*s.z-t.z*s.y,this._y=t.z*s.x-t.x*s.z,this._z=t.x*s.y-t.y*s.x),this._w=i,this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(clamp(this.dot(t),-1,1)))}rotateTowards(t,s){var i=this.angleTo(t);return 0!==i&&(s=Math.min(1,s/i),this.slerp(t,s)),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(t=1/t),this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,s){var i=t._x,h=t._y,r=t._z,t=t._w,e=s._x,a=s._y,n=s._z,s=s._w;return this._x=i*s+t*e+h*n-r*a,this._y=h*s+t*a+r*e-i*n,this._z=r*s+t*n+i*a-h*e,this._w=t*s-i*e-h*a-r*n,this._onChangeCallback(),this}slerp(s,i){if(0!==i){if(1===i)return this.copy(s);var h,r,e=this._x,a=this._y,n=this._z,o=this._w;let t=o*s._w+e*s._x+a*s._y+n*s._z;t<0?(this._w=-s._w,this._x=-s._x,this._y=-s._y,this._z=-s._z,t=-t):this.copy(s),1<=t?(this._w=o,this._x=e,this._y=a,this._z=n):(s=1-t*t)<=Number.EPSILON?(this._w=(h=1-i)*o+i*this._w,this._x=h*e+i*this._x,this._y=h*a+i*this._y,this._z=h*n+i*this._z,this.normalize()):(h=Math.sqrt(s),s=Math.atan2(h,t),r=Math.sin((1-i)*s)/h,i=Math.sin(i*s)/h,this._w=o*r+this._w*i,this._x=e*r+this._x*i,this._y=a*r+this._y*i,this._z=n*r+this._z*i,this._onChangeCallback())}return this}slerpQuaternions(t,s,i){return this.copy(t).slerp(s,i)}random(){var t=2*Math.PI*Math.random(),s=2*Math.PI*Math.random(),i=Math.random(),h=Math.sqrt(1-i),i=Math.sqrt(i);return this.set(h*Math.sin(t),h*Math.cos(t),i*Math.sin(s),i*Math.cos(s))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,s=0){return this._x=t[s],this._y=t[s+1],this._z=t[s+2],this._w=t[s+3],this._onChangeCallback(),this}toArray(t=[],s=0){return t[s]=this._x,t[s+1]=this._y,t[s+2]=this._z,t[s+3]=this._w,t}fromBufferAttribute(t,s){return this._x=t.getX(s),this._y=t.getY(s),this._z=t.getZ(s),this._w=t.getW(s),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},Vector3=class S0{constructor(t=0,s=0,i=0){S0.prototype.isVector3=!0,this.x=t,this.y=s,this.z=i}set(t,s,i){return void 0===i&&(i=this.z),this.x=t,this.y=s,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,s){switch(t){case 0:this.x=s;break;case 1:this.y=s;break;case 2:this.z=s;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,s){return this.x=t.x+s.x,this.y=t.y+s.y,this.z=t.z+s.z,this}addScaledVector(t,s){return this.x+=t.x*s,this.y+=t.y*s,this.z+=t.z*s,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,s){return this.x=t.x-s.x,this.y=t.y-s.y,this.z=t.z-s.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,s){return this.x=t.x*s.x,this.y=t.y*s.y,this.z=t.z*s.z,this}applyEuler(t){return this.applyQuaternion(_quaternion.setFromEuler(t))}applyAxisAngle(t,s){return this.applyQuaternion(_quaternion.setFromAxisAngle(t,s))}applyMatrix3(t){var s=this.x,i=this.y,h=this.z,t=t.elements;return this.x=t[0]*s+t[3]*i+t[6]*h,this.y=t[1]*s+t[4]*i+t[7]*h,this.z=t[2]*s+t[5]*i+t[8]*h,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){var s=this.x,i=this.y,h=this.z,t=t.elements,r=1/(t[3]*s+t[7]*i+t[11]*h+t[15]);return this.x=(t[0]*s+t[4]*i+t[8]*h+t[12])*r,this.y=(t[1]*s+t[5]*i+t[9]*h+t[13])*r,this.z=(t[2]*s+t[6]*i+t[10]*h+t[14])*r,this}applyQuaternion(t){var s=this.x,i=this.y,h=this.z,r=t.x,e=t.y,a=t.z,t=t.w,n=2*(e*h-a*i),o=2*(a*s-r*h),u=2*(r*i-e*s);return this.x=s+t*n+e*u-a*o,this.y=i+t*o+a*n-r*u,this.z=h+t*u+r*o-e*n,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){var s=this.x,i=this.y,h=this.z,t=t.elements;return this.x=t[0]*s+t[4]*i+t[8]*h,this.y=t[1]*s+t[5]*i+t[9]*h,this.z=t[2]*s+t[6]*i+t[10]*h,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,s){return this.x=Math.max(t.x,Math.min(s.x,this.x)),this.y=Math.max(t.y,Math.min(s.y,this.y)),this.z=Math.max(t.z,Math.min(s.z,this.z)),this}clampScalar(t,s){return this.x=Math.max(t,Math.min(s,this.x)),this.y=Math.max(t,Math.min(s,this.y)),this.z=Math.max(t,Math.min(s,this.z)),this}clampLength(t,s){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(s,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,s){return this.x+=(t.x-this.x)*s,this.y+=(t.y-this.y)*s,this.z+=(t.z-this.z)*s,this}lerpVectors(t,s,i){return this.x=t.x+(s.x-t.x)*i,this.y=t.y+(s.y-t.y)*i,this.z=t.z+(s.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,s){var i=t.x,h=t.y,t=t.z,r=s.x,e=s.y,s=s.z;return this.x=h*s-t*e,this.y=t*r-i*s,this.z=i*e-h*r,this}projectOnVector(t){var s=t.lengthSq();return 0===s?this.set(0,0,0):(s=t.dot(this)/s,this.copy(t).multiplyScalar(s))}projectOnPlane(t){return _vector.copy(this).projectOnVector(t),this.sub(_vector)}reflect(t){return this.sub(_vector.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){var s=Math.sqrt(this.lengthSq()*t.lengthSq());return 0===s?Math.PI/2:(t=this.dot(t)/s,Math.acos(clamp(t,-1,1)))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){var s=this.x-t.x,i=this.y-t.y,t=this.z-t.z;return s*s+i*i+t*t}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,s,i){var h=Math.sin(s)*t;return this.x=h*Math.sin(i),this.y=Math.cos(s)*t,this.z=h*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,s,i){return this.x=t*Math.sin(s),this.y=i,this.z=t*Math.cos(s),this}setFromMatrixPosition(t){t=t.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(t){var s=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),t=this.setFromMatrixColumn(t,2).length();return this.x=s,this.y=i,this.z=t,this}setFromMatrixColumn(t,s){return this.fromArray(t.elements,4*s)}setFromMatrix3Column(t,s){return this.fromArray(t.elements,3*s)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,s=0){return this.x=t[s],this.y=t[s+1],this.z=t[s+2],this}toArray(t=[],s=0){return t[s]=this.x,t[s+1]=this.y,t[s+2]=this.z,t}fromBufferAttribute(t,s){return this.x=t.getX(s),this.y=t.getY(s),this.z=t.getZ(s),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){var t=Math.random()*Math.PI*2,s=2*Math.random()-1,i=Math.sqrt(1-s*s);return this.x=i*Math.cos(t),this.y=s,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},_vector=new Vector3,_quaternion=new Quaternion;export{generateUUID,clamp,euclideanModulo,lerp,denormalize,normalize,Quaternion,Vector3};